---
complexity_score: 13.0
converted_at: '2025-08-13T06:58:56.589466Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 4
images_saved: 3
original_path: 213_22104-LZA7016017_1Uen.N33B.html
pictures_extracted: 4
processing_method: docling_multimodal
quality_score: 9.0
source_file: 213_22104-LZA7016017_1Uen.N33B.html
source_zip: en_lzn7931071_r38f.zip
tables_extracted: 10
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 2796
---

# 

Uplink Angle of Arrival for Macro Positioning

Contents

![Image](../images/213_22104-LZA7016017_1Uen.N33B/additional_3_CP.png)

![Image](../images/213_22104-LZA7016017_1Uen.N33B/additional_3_CP.png)

- Overview
- Dependencies
- Feature Operation
- Network Impact
    - Privacy Implications of Uplink Angle of Arrival for Macro Positioning
- Parameters
- Performance
- Activate Feature
- Deactivate Feature
- Engineering Guidelines
- Feature Change History
    - 25.Q2.0: Low-Band AAS Support for Uplink Angle of Arrival for Macro Positioning

# 1 Uplink Angle of Arrival for Macro Positioning Overview

This feature allows for uplink AoA measurements in the NRPPa E-CID positioning

method.

| Feature Name           | Uplink Angle of Arrival for Macro Positioning                      |
|------------------------|--------------------------------------------------------------------|
| Feature Identity       | FAJ 121 5769                                                       |
| Value Package Name     | 5G Advanced Macro Positioning                                      |
| Value Package Identity | FAJ 801 4028                                                       |
| Node Type              | Baseband Radio Node                                                |
| Access Type            | NR                                                                 |
| Licensing              | License-controlled feature. One license is required for each node. |

Summary

This feature improves UE positioning by providing uplink AoA information when uplink AoA

measurements are requested in the E-CID positioning method through the NRPPa

protocol. The reported uplink AoA represents the propagation direction of the

signals sent from the UE to the gNodeB.

This feature provides improved accuracy for estimating the UE location within the

cell.

This feature is supported for Low- and Mid-Band cells in an NR standalone deployment.

Additional Information

For more information about this feature and related topics, see the following documents:

- 3GPP TS 38.133 NR; Requirements for support of radio resource management
- 3GPP TS 38.215 NR; Physical layer measurements
- 3GPP TS 38.413 NG-RAN; NG Application Protocol (NGAP)
- 3GPP TS 38.455 NG-RAN; NR Positioning Protocol A (NRPPa)
- 3GPP TS 38.901 Study on channel model for frequencies from 0.5 GHz to 100 GHz

# 2 Dependencies of Uplink Angle of Arrival for Macro Positioning

This feature has relations to other features that enable NRPPa-based UE measurement

procedures.

Feature Dependencies

Table 1   Feature Dependencies

![Image](../images/213_22104-LZA7016017_1Uen.N33B/additional_3_CP.png)

![Image](../images/213_22104-LZA7016017_1Uen.N33B/additional_3_CP.png)

| Feature Name                                                                                 | Feature Identity   | Access Type   | Relationship   | Relationship Scope      | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|----------------------------------------------------------------------------------------------|--------------------|---------------|----------------|-------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| NR Advanced UE Location Support                                                              | FAJ 121 5628       | NR            | Prerequisite   | Cell-level prerequisite | The Uplink Angle of Arrival for Macro Positioning feature can only be             operational if the following conditions are met:  The NR Advanced UE Location Support feature is activated.     The value of the NRCellCU.advUePosMode attribute is set to                             ALL.     The LMF requests both uplink AoA and NR Timing Advance measurements.                                                                                                                                                            |
| High-Resolution Timing                                         Advance for Macro Positioning | FAJ 121 5768       | NR            | Related        |                         | The gNodeB only reports uplink AoA together with the NR Timing Advance             measurements with high resolution in the NRPPa E-CID MEASUREMENT INITIATION                 RESPONSE message if both the High-Resolution Timing Advance for Macro             Positioning and the Uplink Angle of Arrival for Macro Positioning features are activated             in the same cell.                                                                                                                                           |
| Location Support                                                                             | FAJ 121 5311       | NR            | Related        |                         | If SS-RSRP measurements are requested together with the NR Timing             Advance and uplink AoA measurements in the NRPPa E-CID MEASUREMENT INITIATION                 REQUEST message, the gNodeB sends the NRPPa E-CID MEASUREMENT                 INITIATION RESPONSE message to the LMF with SS-RSRP information. This also             applies if other measurements cannot be collected.                                                                                                                               |
| Macro Positioning Information                                         in Traces              | FAJ 121 5770       | NR            | Related        |                         | The Macro Positioning Information in Traces feature can only collect             current information on uplink AoA measurements if the following conditions are met:  The Uplink Angle of Arrival for Macro Positioning and the Macro Positioning                         Information in Traces features are activated in the same cell and are                         operable.     The gNodeB receives the NRPPa E-CID MEASUREMENT INITIATION                             REQUEST message with uplink AoA measurement request. |
| NR Massive MIMO Sleep                                         Mode                           | FAJ 121 5094       | NR            | Related        |                         | The accuracy of UE location estimation with uplink AoA measurements             might decrease if the Uplink Angle of Arrival for Macro Positioning and the NR Massive             MIMO Sleep Mode features are activated in the same cell.                                                                                                                                                                                                                                                                                       |
| Periodic Measurements for                                         Macro Positioning          | FAJ 121 5767       | NR            | Related        |                         | Periodic uplink AoA measurements can only be performed if the following conditions are                 met:  The Uplink Angle of Arrival for Macro Positioning and the Periodic                         Measurements for Macro Positioning features are activated in the same                         cell.     The LMF requests periodic NR Timing Advance and uplink AoA measurements.                                                                                                                                          |
| Positioning of UEs without PDU                                     Session                   | FAJ 121 5821       | NR            | Related        |                         | Uplink AoA measurements for UEs without PDU Session             configuration can only be performed if the following conditions are met:  The Positioning of UEs without PDU Session and the Uplink Angle of Arrival                         for Macro Positioning features are activated in the same cell.     The LMF requests NR Timing Advance and uplink AoA measurements.                                                                                                                                                   |
| NR Massive MIMO Eco                                         Mode                             | FAJ 121 5724       | NR            | Related        |                         | The accuracy of UE location estimation with uplink AoA             measurements might decrease if the Uplink Angle of Arrival for Macro Positioning and the             NR Massive MIMO Eco Mode features are activated in the same cell.                                                                                                                                                                                                                                                                                         |

Hardware

This feature is applicable to Low- and Mid-Band eCPRI-based Massive MIMO radio units

in radio group 8.

For more information on radio groups, see Radio Capabilities.

This feature is applicable to RAN Compute units in RAN Compute group 5 and 6.

For more information on RAN Compute groups, see DU and Baseband Configurations and Capacity.

Limitations

This feature only performs measurements for UEs that are in

RRC\_CONNECTED state and have a PDU session configured.

The maximum number of simultaneously positioned UEs for each Capacity Module is

100.

Network Requirements

It is recommended to use ENM version 24.3 or later to support the

MOM changes introduced by this feature. If the Release Independence Manager

application is used, the MOM changes are supported on earlier ENM versions also.

The 5GC must support the NRPPa protocol version 17.2.0.

# 3 Feature Operation of Uplink Angle of Arrival for Macro Positioning

This feature allows the LMF to initiate on-demand uplink AoA measurements in the

NRPPa-based E-CID positioning method.

The LMF can initiate uplink AoA measurement requests if the value of the

NRCellCU.advUePosMode attribute is set to ALL.

Uplink AoA measurements can only be done if the measurement requests are sent together

with the NR Timing Advance measurement requests in the NRPPa E-CID MEASUREMENT

INITIATION REQUEST message.

Operational Process of On-Demand E-CID Measurement

Figure 1   On-Demand E-CID Measurement

1. The LMF sends the NRPPa E-CID MEASUREMENT INITIATION REQUEST message to the gNodeB. This message contains the following information: Request for on-demand measurement reporting Request for uplink AoA measurement Request for NR Timing Advance measurement
2. The gNodeB receives the measurement request.
    1. If the gNodeB accepts the measurement request, the measurement calculation is performed based on the information received from the UE, and the process proceeds to step 3.
    2. If the gNodeB rejects the measurement request, the node sends back the NRPPa E-CID MEASUREMENT INITIATION FAILURE message to the LMF. The measurement request can be rejected because of the following reasons: The prerequisite feature is not activated. The NRCellCU.advUePosMode attribute is set to NONE.Note: If the value of the attribute is set to TA\_ONLY, the node only sends back NR Timing Advance measurements in the NRPPa E-CID MEASUREMENT INITIATION RESPONSE message. The UE is in RRC\_INACTIVE state and it does not reply to the RAN paging procedure. No PDU session is established for the UE. A UE release or handover procedure is started for the UE.
3. The gNodeB sends back the NRPPa E-CID MEASUREMENT INITIATION RESPONSE message to the LMF with the requested measurement information.
4. The LMF estimates the UE location based on the measurement information.

Related Information

High-Resolution Timing Advance for Macro Positioning

# 4 Network Impact of Uplink Angle of Arrival for Macro Positioning

This feature can affect the number of supported RRC-connected UEs and uplink cell

throughput.

Capacity and Performance

The measurement reporting can be delayed in case of high network load and many

measurement requests.

The number of supported RRC-connected UEs and uplink cell throughput might decrease

with many frequent measurement requests.

Interfaces

NRPPa protocol 3GPP TS 38.455 version 17.2.0 or later is required for

this feature to be operable. For more information, see Compliance and Compatibility.

This feature requires the support of uplink AoA in the following information elements

and messages:

- The Measurement Quantity information element received in the NRPPa E-CID MEASUREMENT INITIATION REQUEST message
- The E-CID Measurement Result information element sent in the NRPPa E-CID MEASUREMENT INITIATION RESPONSE message

Other Network Elements

No impact.

## 4.1 Privacy Implications of Uplink Angle of Arrival for Macro Positioning

This feature allows the LMF to initiate UE measurements for positioning purposes. The

measurement results are reported to the LMF, where the UE positioning is calculated.

The gNodeB provides measurement data to the LMF with messages that can be used to

estimate the location of the target UE. The UE position is defined based on uplink AoA

and NR Timing Advance information.

# 5 Parameters for Uplink Angle of Arrival for Macro Positioning

This feature introduces attributes and has an affecting attribute that controls

feature use depending on its value.

Table 2   Parameters

| Parameter                           | Type       | Description                                                                                                    |
|-------------------------------------|------------|----------------------------------------------------------------------------------------------------------------|
| NRSectorCarrier.lcsToGcsTranslation | Introduced | See MOM description.                                                                                           |
| NRSectorCarrier.nrppaCellPortionId  | Introduced | See MOM description.                                                                                           |
| NRCellCU.advUePosMode               | Affecting  | The feature can only be used if the value of this attribute is                                     set to ALL. |

# 6 Performance of Uplink Angle of Arrival for Macro Positioning

This feature uses PM events and EBS counters to monitor on-demand NRPPa-based UE

measurements.

Key Performance Indicators

This feature has no associated KPIs.

Counters

This feature uses the following EBS counters in the NRCellCU MO

class:

- pmEbsEcidMeasInitReqOnDemand
- pmEbsEcidMeasInitRespOnDemand

For more information about the EBS counters associated with the feature, see Lists and Delta Lists.

Events

This feature uses the following PM events:

- CuCpEcidMeasurementInitiationRequest
- CuCpEcidMeasurementInitiationResponse

For more information about the events associated with the feature, see Lists and Delta Lists.

# 7 Activate Uplink Angle of Arrival for Macro Positioning

To use the feature, it must be activated following the usual feature activation

procedure.

Prerequisites

- The license key is installed in the node.
- CCTR is active for at least one week before this procedure to collect enough troubleshooting data.
- The prerequisite feature is activated.

Steps

1. Lock the cell.
2. Set the value of the NRSectorCarrier.lcsToGcsTranslation attribute to match the antenna orientation.
3. Unlock the cell.
4. Set the FeatureState.featureState attribute to ACTIVATED in the FeatureState=CXC4012770 MO instance.
5. Set the value of the NRCellCU.advUePosMode attribute to ALL.

After This Task

Keep CCTR active for at least one week after this procedure for continued collection of troubleshooting data.

# 8 Deactivate Uplink Angle of Arrival for Macro Positioning

If the feature is no longer needed, it can be deactivated following the usual

feature deactivation procedure. It must also be deactivated before the activation of any

conflicting feature.

Prerequisites

- CCTR is active for at least one week before this procedure to collect enough troubleshooting data.

Steps

1. Perform one of the following actions: Option Action To disable the feature on a given cell Set the value of the NRCellCU.advUePosMode attribute to other than ALL. To deactivate the feature on the node Set the FeatureState.featureState attribute to DEACTIVATED in the FeatureState=CXC4012770 MO instance.

After This Task

Keep CCTR active for at least one week after this procedure for continued collection of troubleshooting data.

# 9 Engineering Guidelines for Uplink Angle of Arrival for Macro Positioning

This feature supports uplink AoA measurements, including the azimuth AoA and the

zenith AoA based on NR signals.

Uplink AoA measurements use the arrival azimuth and zenith of uplink signals transmitted

from the UE to the antennas. This information can be used to estimate the location of

the UE by determining the horizontal and vertical angles of the uplink signals sent by

the gNodeB to the antennas.

In NRPPa-based UE measurement procedures, the gNodeB reports uplink AoA information in

the local coordinate system. The LMF can calculate the location of the UE based on UE

location information by translating the information from the local coordinate system to

the global coordinate system. For more information on the translation, see 3GPP TS

38.901.

The following values must be set through the

NRSectorCarrier.lcsToGcsTranslation attribute to match the

antenna orientation:

| alpha   |    | The measured counterclockwise direction of the antenna relative to north.                             If the existing antenna direction value is based on a clockwise                             measurement, the alpha antenna direction value can be                             obtained by subtracting the clockwise measurement from 360 degrees.   |
|---------|----|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         |    |                                                                                                                                                                                                                                                                                                                                                           |
| beta    |    | The mechanical tilt angle of the antenna, which is measured relative to                             the zenith, where zenith is 0 degrees. The value beta                             is the sum of the mechanical tilt measurement and 90 degrees.                                                                                                       |
|         |    |                                                                                                                                                                                                                                                                                                                                                           |
| gamma   |    | The measured counterclockwise rotation of the antenna relative to the                             plane of the antenna panel. This value is usually 0.                                                                                                                                                                                                    |

# 10 Feature Change History

This section lists changes that affected this feature and the impact it had on the

network.

## 10.1 25.Q2.0: Low-Band AAS Support for Uplink Angle of Arrival for Macro Positioning

The feature enhancement introduces Low-Band support for the Uplink Angle of Arrival

for Macro Positioning feature.

| Feature Name           | Uplink Angle of Arrival for Macro Positioning   |
|------------------------|-------------------------------------------------|
| Feature Identity       | FAJ 121 5769                                    |
| Value Package Name     | 5G Advanced Macro Positioning                   |
| Value Package Identity | FAJ 801 4028                                    |
| Node Type              | Baseband Radio Node                             |
| Access Type            | NR                                              |
| Impact at Upgrade      | Optional                                        |

Summary and Benefits

The feature enhancement introduces Low-Band AAS support for the Uplink Angle of

Arrival for Macro Positioning feature. This allows the feature to be used in more

deployments.

Capacity and Performance

No impact.

Operation

No impact.

Interfaces

No impact.

Hardware

The feature enhancement is applicable for radio units in radio group 8.

The feature enhancement is applicable for RAN Compute units in RAN Compute groups 5

and 6.

Other Network Elements

No impact.

Related Information

Uplink Angle of Arrival for Macro Positioning