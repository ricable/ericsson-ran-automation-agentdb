---
complexity_score: 11.0
converted_at: '2025-08-13T06:58:01.606136Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 4
images_saved: 3
original_path: 245_22104-LZA7016017_1Uen.D.html
pictures_extracted: 4
processing_method: docling_multimodal
quality_score: 9.0
source_file: 245_22104-LZA7016017_1Uen.D.html
source_zip: en_lzn7931071_r38f.zip
tables_extracted: 6
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 2796
---

# 

Latency-Prioritized Scheduling

Contents

![Image](../images/245_22104-LZA7016017_1Uen.D/additional_3_CP.png)

![Image](../images/245_22104-LZA7016017_1Uen.D/additional_3_CP.png)

- Overview
- Dependencies
- Feature Operation
- Network Impact
- Parameters
- Performance
- Activate
- Deactivate

# 1 Latency-Prioritized Scheduling Overview

The feature introduces a scheduling algorithm based on packet age, mainly for

delay-sensitive services. The feature also allows for dynamic shifting between demoted and

elevated priorities for QoS flows based on packet delay.

| Feature Name           | Latency-Prioritized Scheduling                                     |
|------------------------|--------------------------------------------------------------------|
| Feature Identity       | FAJ 121 5786                                                       |
| Value Package Name     | 5G Advanced Differentiated Connectivity                            |
| Value Package Identity | FAJ 801 4030                                                       |
| Node Type              | Baseband Radio Node                                                |
| Access Type            | NR                                                                 |
| Licensing              | License-controlled feature. One license is required for each node. |

Summary

The feature introduces a scheduling algorithm that increases the scheduling weight with the

age of the oldest Radio Link Control (RLC) packet. The age of the RLC packet

determines the increase in scheduling weight. In downlink, the gNodeB calculates the

age of the RLC packet. In uplink, the gNodeB estimates the age of the RLC

packet.

The feature can be used for QoS flows with a configured RAN PDB that is greater than

or equal to 30 ms.

When the RLC packet is older than the age threshold defined as the difference between RAN PDB

and a priority shift margin through the

DlLatencyBasedPriority.dlPriorityShiftMargin or the

UlLatencyBasedPriority.ulPriorityShiftMargin attributes, the

feature is allowed to elevate the priority domain. The smallest priority shift

threshold that can be configured is the duration of the RAN PDB.

The elevated priority domain is determined based on the priority level configured through the

DU5qi.priorityLevel or the

DUModified5qiUeCfg.priorityLevel and the

QosPriorityMapping.priorityDomainMapping attributes.

The feature has the following benefits:

- Allows more packets to meet the delay requirement for data flows with different delay requirements
- Allows resource control to prevent excessive resource consumption by UEs with elevated scheduling weights in case of resource contention

The feature can be configured per QoS flow and it supports network slicing and UE grouping

framework.

# 2 Dependencies of Latency-Prioritized Scheduling

The feature has related dependencies with carrier aggregation and scheduling

features.

Feature Dependencies

Table 1   Feature Dependencies

![Image](../images/245_22104-LZA7016017_1Uen.D/additional_3_CP.png)

![Image](../images/245_22104-LZA7016017_1Uen.D/additional_3_CP.png)

| Feature Name                                                                                               | Feature Identity   | Access Type   | Relationship   | Relationship Scope      | Description                                                                                                                                                                                                                                           |
|------------------------------------------------------------------------------------------------------------|--------------------|---------------|----------------|-------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Priority-Controlled                                         Scheduling                                     | FAJ 121 5192       | NR            | Prerequisite   | Node-level prerequisite | The Priority-Controlled Scheduling feature must be activated for the Latency-Prioritized             Scheduling feature to be operational.                                                                                                            |
| LTE-NR Downlink Aggregation                                                                                | FAJ 121 4912       | NR            | Related        |                         | If PDCP aggregation is enabled, the full benefits of the Latency-Prioritized Scheduling             feature might not be observed because the feature is only supported on Low-Band and             Mid-Band configurations.                          |
| LTE-NR Dual Connectivity                                                                                   | FAJ 121 4908       | NR            | Related        |                         | For the delay-sensitive traffic to use the             Latency-Prioritized Scheduling feature, it is recommended to set the associated DRBs as             Secondary Node terminated split DRBs.                                                      |
| LTE-NR Uplink Aggregation                                                                                  | FAJ 121 5091       | NR            | Related        |                         | If PDCP aggregation is enabled, the full benefits of the Latency-Prioritized Scheduling             feature might not be observed because the feature is only supported on Low-Band and             Mid-Band configurations.                          |
| NR Carrier Aggregation Scheduling                                         Optimization for External SCells | FAJ 121 5722       | NR            | Related        |                         | The NR Carrier Aggregation Scheduling Optimization for External SCells feature must be             enabled to transmit DRBs configured to use the Latency-Prioritized Scheduling feature on             external SCells.                              |
| NR-NR Dual Connectivity                                                                                    | FAJ 121 5380       | NR            | Related        |                         | For the delay-sensitive traffic to use the             Latency-Prioritized Scheduling feature, it is recommended to set the associated DRBs as             Master Node terminated MCG DRBs.                                                           |
| NR Standalone                                                                                              | FAJ 121 5060       | NR            | Related        |                         | The Latency-Prioritized Scheduling feature is related to the TCP optimization function of             the NR Standalone feature.                                                                                                                      |
| NR Uplink Carrier Aggregation                                                                              | FAJ 121 5583       | NR            | Related        |                         | The Latency-Prioritized Scheduling feature is only supported             in sPCells. Resource control is performed only on sPCells.                                                                                                                   |
| UE Grouping Framework                                                                                      | FAJ 121 5314       | NR            | Related        |                         | The Latency-Prioritized Scheduling feature is adapted to the             UE Grouping Framework.                                                                                                                                                       |
| NR Carrier Aggregation Data                                     Steering                                   | FAJ 121 5683       | NR            | Conflicting    | Partially impairing     | DRBs that are configured to use the Latency-Prioritized Scheduling feature are not             affected by PCell downlink data offload. The setting of the                 NRCellDU.pCellDlDataOffload attribute in the PCell is             ignored. |

Hardware

No specific hardware requirements.

Limitations

The feature only supports Low-Band and Mid-Band configurations.

Network Requirements

No specific network requirements.

# 3 Feature Operation of Latency-Prioritized Scheduling

The feature reduces latency for delay-sensitive traffic by applying a latency-based

scheduling algorithm.

The feature supports QoS flows with RAN PDB that is greater than or equal to 30 ms. The

scheduling weight is determined based on the oldest RLC packet age. Dynamic priority

shift is allowed at or after RAN PDB.

The feature allows the configuration of the following:

- The elevated priority domain
- The priority shift threshold Note: Determined as the difference between the RAN PDB and a configured margin.
- The weight slope factor, before and after priority shift

Figure 1   The Operation of the Feature

Operational Process

The scheduling weight for the bearer configured with the feature is calculated based

on the queue delay, the weight slope factor, and the weight offset.

The queue delay is calculated by determining the oldest RLC age, measured differently

for downlink and uplink, in the following ways:

- For downlink, the oldest RLC age is calculated by using the time since the data enters the RLC buffer, including the waiting time before being scheduled.
- For uplink, the oldest RLC age is estimated by the gNodeB.

The scaling factor used to calculate the weight slope factor must not be greater than

two. The scaling factor for the weight slope factor can be configured through the

following attributes:

- DlLatencyBasedPriority.dlPriorityScaler
- UlLatencyBasedPriority.ulPriorityScaler

The weight offset can only be configured to ZERO through the

DlLatencyBasedPriority.dlWeightOffset and

UlLatencyBasedPriority.ulWeightOffset

attributes.

RAN PDB is configured through the DU5qi.packetDelayBudget or the

DUModified5qiUeCfg.packetDelayBudget attributes and must be

at least 30 ms.

The bearer configured with this feature can have priority shift between the demoted

priority domain and the elevated priority domain. The priority shift margin must not

be greater than 0 ms and can be configured through the following attributes:

- DlLatencyBasedPriority.dlPriorityShiftMargin
- UlLatencyBasedPriority.ulPriorityShiftMargin

The priority shift threshold is calculated by subtracting the priority shift margin

from RAN PDB. When the queue delay is above the threshold, the priority domain is

set to the elevated priority domain. Otherwise it is set to demoted priority

domain.

The elevated priority domain is determined based on the configured priority level by

the DU5qi.priorityLevel or the

DUModified5qiUeCfg.priorityLevel and the

QosPriorityMapping.priorityDomainMapping attributes.

As for the demoted priority domain, the

DlLatencyBasedPriority.dlDemotedPriority and the

UlLatencyBasedPriority.ulDemotedPriority attributes can only

be set to LOW and the mapped priority domain is 48.

Resource Control

The feature introduces resource control to reduce priority when too many resources

are consumed.

Resource control can be triggered because of poor channel condition, when too many

resources are consumed by a bearer configured to use the feature. When resource

control is triggered, the demoted priority domain is selected and the scheduling

weight is reduced.

The maximum amount of resources is controlled by the

DlLatencyBasedPriority.dlResourceControlLevel or the

UlLatencyBasedPriority.ulResourceControlLevel attribute,

which can be configured with the following characteristics:

- Six levels are supported.
- Level 0 means no resource control.
- The attributes define the maximum amount of resources at the beginning of the RRC connection or after no bearers configured with the feature were scheduled for a time because of no data or low priority.
- From level 1 to level 5, the amount of resources decrease.

Although the resource control level is configured for each DRB, resource control is

performed at UE level when multiple DRBs of the UE are configured to use this

feature. In this case, the smallest resource control level among those DRBs, not

including level 0, is selected for the UE.

# 4 Network Impact of Latency-Prioritized Scheduling

The feature improves QoS flows scheduled with the feature.

Capacity and Performance

During resource contention, the feature allows more packets from QoS flows with

configured RAN PDB not smaller than 30 ms to meet delay requirements.

QoS flows configured to use resource fair scheduling algorithm might show larger

latency when there are other QoS flows configured with latency prioritized

scheduling algorithm, depending on the cell load and resource contention.

Interfaces

No impact.

Other Network Elements

No impact.

# 5 Parameters for Latency-Prioritized Scheduling

The feature introduces MO classes and attributes related to scheduling.

Table 2   Parameters

| Parameter                                       | Type       | Description                                                                                                                  |
|-------------------------------------------------|------------|------------------------------------------------------------------------------------------------------------------------------|
| DlLatencyBasedPriority.dlDemotedPriority        | Introduced | See MOM description.                                                                                                         |
| DlLatencyBasedPriority.dlLatencyBasedPriorityId | Introduced | See MOM description.                                                                                                         |
| DlLatencyBasedPriority.dlPriorityScaler         | Introduced | See MOM description.                                                                                                         |
| DlLatencyBasedPriority.dlPriorityShiftMargin    | Introduced | See MOM description.                                                                                                         |
| DlLatencyBasedPriority.dlResourceControlLevel   | Introduced | See MOM description.                                                                                                         |
| DlLatencyBasedPriority.dlWeightOffset           | Introduced | See MOM description.                                                                                                         |
| UlLatencyBasedPriority.ulDemotedPriority        | Introduced | See MOM description.                                                                                                         |
| UlLatencyBasedPriority.ulLatencyBasedPriorityId | Introduced | See MOM description.                                                                                                         |
| UlLatencyBasedPriority.ulPriorityScaler         | Introduced | See MOM description.                                                                                                         |
| UlLatencyBasedPriority.ulPriorityShiftMargin    | Introduced | See MOM description.                                                                                                         |
| UlLatencyBasedPriority.ulResourceControlLevel   | Introduced | See MOM description.                                                                                                         |
| UlLatencyBasedPriority.ulWeightOffset           | Introduced | See MOM description.                                                                                                         |
| SchedulingProfile.schedulingAlgorithm           | Affected   | The attribute is extended with values that correspond to                                     Latency-Prioritized Scheduling. |
| SchedulingProfile.ulSchedulingAlgorithm         | Affected   | The attribute is extended with values that correspond to                                     Latency-Prioritized Scheduling. |
| DU5qi.packetDelayBudget                         | Affecting  | The attribute affects the feature operation depending on its                                     value.                      |
| DU5qi.priorityLevel                             | Affecting  | The attribute affects the feature operation depending on its                                     value.                      |
| DUModified5qiUeCfg.packetDelayBudget            | Affecting  | The attribute affects the feature operation depending on its                                     value.                      |
| DUModified5qiUeCfg.priorityLevel                | Affecting  | The attribute affects the feature operation depending on its                                     value.                      |
| QosPriorityMapping.priorityDomainMapping        | Affecting  | The attribute affects the feature operation depending on its                                     value.                      |

# 6 Performance of Latency-Prioritized Scheduling

The feature affects EBS counters that monitor the delay performance and a PM

event.

Key Performance Indicators

Table 3   Key Performance Indicators

| Key Performance Indicator                                   | Description                                                                                                        |
|-------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------|
| Average DL MAC DRB Latency per QoS covering DRX In-sync     | This KPI might increase, except when cell load and resource                                     contention is low. |
| Average DL MAC DRB Latency per QoS covering non-DRX In-sync | This KPI might increase, except when cell load and resource                                     contention is low. |
| Average Overall DL Latency per QoS                          | This KPI might increase, except when cell load and resource                                     contention is low. |

Counters

The feature affects the following EBS counters:

- pmEbsRlcDelayDlGoodRfResCtrlOffDistr
- pmEbsRlcDelayDlGoodRfResCtrlOnDistr
- pmEbsRlcDelayDlNotGoodRfResCtrlOffDistr
- pmEbsRlcDelayDlNotGoodRfResCtrlOnDistr
- pmEbsRlcDelayUlGoodRfResCtrlOffDistr
- pmEbsRlcDelayUlGoodRfResCtrlOnDistr
- pmEbsRlcDelayUlNotGoodRfResCtrlOffDistr
- pmEbsRlcDelayUlNotGoodRfResCtrlOnDistr

For more information on the EBS counters associated with the feature, see Lists and Delta Lists.

The distribution tends to have more delay samples from users in relatively poor radio

conditions.

The following EBS counters increase when the feature is not available, the bearer is

not configured to use the feature, or when scheduling priority is not demoted

because of resource control:

- pmEbsRlcDelayDlGoodRfResCtrlOffDistr
- pmEbsRlcDelayDlNotGoodRfResCtrlOffDistr
- pmEbsRlcDelayUlGoodRfResCtrlOffDistr
- pmEbsRlcDelayUlNotGoodRfResCtrlOffDistr

The following EBS counters increase when the feature is activated and the bearer is

configured to use the feature:

- pmEbsRlcDelayDlGoodRfResCtrlOnDistr
- pmEbsRlcDelayDlNotGoodRfResCtrlOnDistr
- pmEbsRlcDelayUlGoodRfResCtrlOnDistr
- pmEbsRlcDelayUlNotGoodRfResCtrlOnDistr

Events

The feature updates the DuPerCellQosTrafficRep PM event.

For more information on PM events associated with this feature, see Lists and Delta Lists.

# 7 Activate Latency-Prioritized Scheduling

To use the feature, it must be activated following the usual feature activation

procedure.

Prerequisites

- The license key is installed in the node.
- The license of the prerequisite feature is activated.
- CCTR is active for at least one week before this procedure to collect enough troubleshooting data.

Steps

1. Set the FeatureState.featureState attribute to ACTIVATED in the FeatureState=CXC4012787 MO instance.

After This Task

Keep CCTR active for at least one week after this procedure for continued collection of troubleshooting data.

# 8 Deactivate Latency-Prioritized Scheduling

If the feature is no longer needed, it can be deactivated following the usual

feature deactivation procedure. It must also be deactivated before the activation of any

conflicting feature.

Prerequisites

- CCTR is active for at least one week before this procedure to collect enough troubleshooting data.

Steps

1. Set the FeatureState.featureState attribute to DEACTIVATED in the FeatureState=CXC4012787 MO instance.

After This Task

Keep CCTR active for at least one week after this procedure for continued collection of troubleshooting data.