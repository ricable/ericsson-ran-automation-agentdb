---
complexity_score: 11.0
converted_at: '2025-08-13T06:57:56.046554Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 4
images_saved: 3
original_path: 221_22104-LZA7016017_1Uen.J.html
pictures_extracted: 4
processing_method: docling_multimodal
quality_score: 9.0
source_file: 221_22104-LZA7016017_1Uen.J.html
source_zip: en_lzn7931071_r38f.zip
tables_extracted: 6
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 2796
---

# 

NR Predictive Grant with SR Adaptation

Contents

![Image](../images/221_22104-LZA7016017_1Uen.J/additional_3_CP.png)

![Image](../images/221_22104-LZA7016017_1Uen.J/additional_3_CP.png)

- NR Predictive Grant with SR Adaptation Overview
- Dependencies
- Feature Operation
- Network Impact
- Parameters
- Performance
- Activate the Feature
- Deactivate the Feature
- Engineering Guidelines
    - Deprecation Handling for Uplink Service Characteristics Attributes

# 1 NR Predictive Grant with SR Adaptation Overview

The feature enables packet prediction for UEs that run services with predictable and

periodic traffic in Low-Band and Mid-Band for NR standalone deployments.

| Feature Name           | NR Predictive Grant with SR Adaptation                   |
|------------------------|----------------------------------------------------------|
| Feature Identity       | FAJ 121 5697                                             |
| Value Package Name     | Voice over NR                                            |
| Value Package Identity | FAJ 801 4017                                             |
| Node Type              | Baseband Radio Node                                      |
| Access Type            | NR                                                       |
| Licensing              | Licensed feature. One license is required for each node. |

Summary

The feature enhances the scheduling of communication services by enabling packet prediction

for UEs with predictable and periodic traffic. The gNodeB estimates the uplink

buffer size for the service based on the following known service characteristics:

- Configured service packet size
- Configured service packet interval

With the buffer estimation, the gNodeB provides more accurate resource allocation for uplink

scheduling and reduces the amount of uplink grants needed to empty the UE

buffer.

When uplink scheduling is based on packet estimation, the PUCCH Scheduling Request (SR)

triggered uplink transmission is less important. In order to reduce the triggered

SRs for the service, SR Delay Timer is used. This improves the uplink system

resources utilization and might lead to improved UE battery performance.

Additional Information

If the feature is used for voice service, see 5G Voice SA RAN Solution Guideline for recommended

features and settings.

# 2 Dependencies of NR Predictive Grant with SR Adaptation

The feature can be used with the UE Grouping Framework feature and has

limitations.

Feature Dependencies

Table 1   Feature Dependencies

![Image](../images/221_22104-LZA7016017_1Uen.J/additional_3_CP.png)

![Image](../images/221_22104-LZA7016017_1Uen.J/additional_3_CP.png)

| Feature Name                                              | Feature Identity   | Access Type   | Relationship   | Relationship Scope   | Description                                                                                                                                                                                                                                                                                                           |
|-----------------------------------------------------------|--------------------|---------------|----------------|----------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| UE Grouping                                     Framework | FAJ 121 5314       | NR            | Related        |                      | UE Grouping Framework feature can be used in case differentiated                                     configuration is needed for each UE group. If UE Grouping                                     Framework feature is not used, the same base configuration                                     applies to all UEs. |

Hardware

The feature is supported on RAN Compute units in RAN Compute groups 4 and higher.

Limitations

The feature is supported on Low-Band and Mid-Band only.

The feature is supported in NR standalone deployments only.

Packet prediction is supported for only one active DRB at a time for each UE.

Network Requirements

To delay PUCCH scheduling requests, the UE must support the

logicalChannelSR-DelayTimer capability.

It is recommended to use ENM version 24.3 or later to support the

MOM changes introduced by this feature. If the Release Independence Manager

application is used, the MOM changes are supported on earlier ENM versions also.

# 3 Feature Operation of NR Predictive Grant with SR Adaptation

The feature enables packet prediction for UEs that run services with predictable and

periodic traffic.

Operational Process

The feature enhances the scheduling of communication services by enabling packet

prediction for UEs with periodic traffic. The

UlService.ulPacketPredictionMode attribute is used to enable

packet prediction for the service and the UlService.ulService5qi

attribute is used to configure packet prediction for a DRB mapped to a 5QI for a

particular UE group.

Figure 1   Uplink Grant Scheduling Based on Packet Prediction

With the feature, the gNodeB periodically estimates the uplink buffer size for the

DRB by using the packet size value configured through the

UlService.ulServicePacketSize attribute. Based on this

estimate, the gNodeB updates the DRB uplink buffer size that is used as input for

scheduling the UE. The periodicity of the uplink buffer size estimates can be

configured through the UlService.ulServicePacketInterval

attribute.

With the feature, it is possible to delay PUCCH SR handling in the UE for the

configured logical channel as shown in Figure 2.

Figure 2   PUCCH Uplink Scheduling Request Delay

The following attributes support the configuration of the PUCCH SR delay timer:

- The LogicalChannelUeCfg.srDelayTimerApplied attribute on the logical channel level, configurable for each UE group.
- The BsrUeCfg.srDelayTimer attribute on the UE level, configurable for each UE group.

Service Phase Detection

A communication service can switch between the following phases:

- An active phase, when data is transmitted frequently within a specific time interval.
- A passive phase, when a small amount of data is transmitted less frequently.

The feature dynamically detects active and passive service phases as shown in Figure 3. In the active phase, the uplink

buffer is regularly updated based on the size of the predicted packets. In the

passive phase, packet prediction is not used.

Figure 3   Service Phase Detection

# 4 Network Impact of NR Predictive Grant with SR Adaptation

The feature might impact the number of uplink Scheduling Requests (SR).

Capacity and Performance

For the UEs with this feature activated, the number of uplink SRs might be

reduced.

Interfaces

The RRCReconfiguration message is updated with the

logicalChannelSR-DelayTimer parameter for capable UEs.

Other Network Elements

No impact.

# 5 Parameters for NR Predictive Grant with SR Adaptation

The feature introduces attributes to enable and configure the uplink scheduling

request delay for each logical channel, the packet prediction mode, the uplink service

characteristics, and the mapping of the uplink service to DRB.

Table 2   Parameters

| Parameter                               | Type       | Description          |
|-----------------------------------------|------------|----------------------|
| LogicalChannelUeCfg.srDelayTimerApplied | Introduced | See MOM description. |
| BsrUeCfg.srDelayTimer                   | Introduced | See MOM description. |
| UlService.ulPacketPredictionMode        | Introduced | See MOM description. |
| UlService.ulServicePacketSize           | Introduced | See MOM description. |
| UlService.ulServicePacketInterval       | Introduced | See MOM description. |
| UlService.ulService5qi                  | Introduced | See MOM description. |
| GNBDUFunction.ulServiceDepHEnabled      | Introduced | See MOM description. |

# 6 Performance of NR Predictive Grant with SR Adaptation

The feature has associated counters and events to observe feature

efficiency.

Counters

The feature introduces the

NRCellDU.pmEbsDrbEstabSuccSrDelayNotCapable5qi EBS counter to

observe the number of established DRBs without configured PUCCH SR delay due to UEs

that cannot support PUCCH SR delay handling. This counter is pegged based on

srDelayTimerApplied attribute and UE capability. The counter

is applicable for each 5QI.

For more information on EBS counters, see Lists and Delta Lists.

Events

For UEs with this feature activated, the number of uplink schedulings triggered by

PUCCH Scheduling Requests might be reduced. This can be monitored through the

DuPerUeTrafficRep event, which is filtered for each UE and UE group.

For UEs with this feature activated, the following information is collected in the PM

events and event parameters shown in Table 3 that are used to observe the

feature efficiency:

- Samples of occasions when data is added to an empty buffer for a logical channel configured with packet prediction.
- Samples of occasions when data is added to a non-empty buffer for a logical channel configured with packet prediction.
- Samples of received buffer status reports for a logical channel configured with packet prediction.
- Data volume received in buffer status reports for a logical channel configured with packet prediction.

Table 3   Event and Event Parameters to Observe Feature Efficiency

| Event                   | Event Parameters                                                                                                                                                         |
|-------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| DuPerUeTrafficRep       | per_ue_mac_predictive_grant_update_ul_empty  per_ue_mac_predictive_grant_update_ul_non_empty  per_ue_mac_ul_bsr_predictive_grant  per_ue_mac_vol_ul_bsr_predictive_grant |
| DuPerUeTrafficRepAggr10 | per_ue_mac_predictive_grant_update_ul_empty  per_ue_mac_predictive_grant_update_ul_non_empty  per_ue_mac_ul_bsr_predictive_grant  per_ue_mac_vol_ul_bsr_predictive_grant |
| DuPerUeTrafficRepAggr60 | per_ue_mac_predictive_grant_update_ul_empty  per_ue_mac_predictive_grant_update_ul_non_empty  per_ue_mac_ul_bsr_predictive_grant  per_ue_mac_vol_ul_bsr_predictive_grant |

# 7 Activate NR Predictive Grant with SR Adaptation

To use the feature, it must be activated following the usual feature activation

procedure.

Prerequisites

- The license key is installed in the node.
- CCTR is active for at least one week before this procedure to collect enough troubleshooting data.

Steps

1. Set the FeatureState.featureState attribute to ACTIVATED in the FeatureState=CXC4012723 MO instance.

After This Task

Keep CCTR active for at least one week after this procedure for continued collection of troubleshooting data.

# 8 Deactivate NR Predictive Grant with SR Adaptation

If the feature is no longer needed, it can be deactivated following the usual

feature deactivation procedure. It must also be deactivated before the activation of any

conflicting feature.

Prerequisites

- CCTR is active for at least one week before this procedure to collect enough troubleshooting data.

Steps

1. Set the FeatureState.featureState attribute to DEACTIVATED in the FeatureState=CXC4012723 MO instance.

After This Task

Keep CCTR active for at least one week after this procedure for continued collection of troubleshooting data.

# 9 Engineering Guidelines for NR Predictive Grant with SR Adaptation

## 9.1 Deprecation Handling for Uplink Service Characteristics Attributes

The feature introduces the MO class and attributes required to configure the uplink

service characteristics for packet prediction.

Backwards Compatible Changes

For backwards compatibility, the

GNBDUFunction.ulServiceDepHEnabled attribute is used, and it

is set to true by default.

The following apply when deprecation handling is enabled:

- The creation or deletion of the LinkAdaptationUeCfg MO instance automatically creates or deletes the mirroring instance of the UlServiceDefinitionUeCfg MO.
- When the reference attribute LinkAdaptationUeCfgRef under the UeBbProfileUeCfg MO is set to the LinkAdaptationUeCfg MO instance, the ulServiceDefinitionUeCfgRef reference attribute under the same UeBbProfileUeCfg MO instance is set to the mirroring UlServiceDefinitionUeCfg MO instance.
- The deprecated attribute values are copied from the UlLinkAdaptation MO instance to the introduced attributes in the UlService MO instance.

The GNBDUFunction.ulServiceDepHEnabled attribute must be set to

false when nodes are managed through the MOM interface where

the introduced MO classes and attributes are available. This is to ensure that

deprecated attributes do not overwrite the configured MO classes and attributes

during the deprecation window.