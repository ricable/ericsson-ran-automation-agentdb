---
complexity_score: 31.0
converted_at: '2025-08-13T06:56:36.149193Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 8
images_saved: 3
original_path: 77_22104-LZA7016017_1Uen.JG33E.html
pictures_extracted: 8
processing_method: docling_multimodal
quality_score: 9.0
source_file: 77_22104-LZA7016017_1Uen.JG33E.html
source_zip: en_lzn7931071_r38f.zip
tables_extracted: 42
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 2796
---

# 

NR DL Carrier Aggregation

Contents

![Image](../images/77_22104-LZA7016017_1Uen.JG33E/additional_3_CP.png)

![Image](../images/77_22104-LZA7016017_1Uen.JG33E/additional_3_CP.png)

- Overview
    - Operating Bands for Carrier Aggregation
- Dependencies
    - Downlink Carrier Aggregation Features in Low-Band and Mid-Band
- Feature Operation
    - SCell Selection
    - SCell Configuration and Deconfiguration
    - SCell Activation and Deactivation
        - CQI-Based UE Overheating Detection
    - Link Scheduling
    - Supported Trigger Quantities for NR DL Carrier Aggregation
    - UE Group Support for Intra-Frequency SCell Mobility
    - UE Group Support for NR DL Carrier Aggregation
- Network Impact
- Parameters
- Performance
- Activate the Feature
- Deactivate the feature
- Engineering Guidelines
    - Measurement Configuration
    - Nominal Channel Spacing Calculation
    - Throughput Optimization for UEs with Carrier Aggregation
    - SCell-Only Configuration for Low-Band and Mid-Band
- Appendix: Feature Change History
    - Appendix: 21.Q2: FDD Inter-Baseband Support for NR DL Carrier Aggregation
    - Appendix: 21.Q3: Enhanced PUCCH Allocation for NR DL Carrier Aggregation
    - Appendix: 21.Q4: TDD-TDD Inter-Baseband Carrier Aggregation Support for NR DL Carrier Aggregation
    - Appendix: 22.Q2: Moving 3CC Support from NR DL Carrier Aggregation
    - Appendix: 22.Q3: Enhanced SCell Measurement Handling
    - Appendix: 22.Q4: UE Group Adaptation for Intra-Frequency SCell Mobility
    - Appendix: 24.Q4.0: Downlink Quality Metric Enhancements for NR DL Carrier Aggregation
    - Appendix: 24.Q4.0: Compliance and Compatibility NR 3GPP Band Combination for 24.Q4
    - Appendix: 25.Q2.0: Compliance and Compatibility NR 3GPP Band Combination for 25.Q2

# 1 NR DL Carrier Aggregation Overview

The feature allows downlink carrier aggregation with two component carriers that have

the same duplex mode.

| Feature Name           | NR DL Carrier Aggregation                                                  |
|------------------------|----------------------------------------------------------------------------|
| Feature Identity       | FAJ 121 5201                                                               |
| Value Package Name     | Peak Rate Evolution                                                        |
| Value Package Identity | FAJ 801 4005                                                               |
| Node Type              | Baseband Radio Node                                                        |
| Access Type            | NR                                                                         |
| Licensing              | License-controlled feature. One license is required for each 								node. |

Summary

The feature allows higher downlink data throughput for a UE and a more efficient use

of scattered spectrum by aggregating two Low-Band or two Mid-Band component

carriers. The component carriers must have the same duplex mode and the same

Subcarrier Spacing (SCS) configuration.

The feature supports SpCell mobility and SCell mobility for UEs

configured with carrier aggregation.

Both intra-band and inter-band carrier aggregation are supported.

Possible band combinations are defined by 3GPP TS 38.101-1.

The feature offers the following configuration options:

- Enabling or disabling carrier aggregation
- Setting the maximum number of component carriers
- Controlling which frequencies are allowed to be SCell frequencies

Carrier aggregation can also be enabled and disabled on the DRB

level. This improves service performance and helps fulfill regulatory

requirements.

Additional Information

For more information and related topics, see the following documentation:

- RAN Parameter Recommendations Lists
- 3GPP TS 38.101-1, NR; User Equipment (UE) Radio Transmission and Reception; Part 1: Range 1 Standalone
- 3GPP TS 38.213, NR; Physical Layer Procedures for Control
- 3GPP TS 38.321, NR; Medium Access Control (MAC) Protocol Specification
- 3GPP TS 38.331, NR; Radio Resource Control (RRC); Protocol Specification

## 1.1 Operating Bands for Carrier Aggregation

Contiguous and non-contiguous bands in Low-Band and Mid-Band are

supported.

The component carriers (CCs) in a band are allocated with a defined nominal channel

spacing, which is between their middle frequencies. The nominal channel spacing between

two adjacent NR CCs is defined in 3GPP TS 38.101-1.

If the channel spacing is equal to or less than the nominal value, the gNodeB considers

the carriers for contiguous carrier aggregation (CA), as shown in Figure 1.

Figure 1   Example of Intra-Band Contiguous 2CC CA

If the channel spacing is larger than the nominal value, the gNodeB considers the

carriers for non-contiguous CA, as shown in Figure 2 and Figure 3.

Figure 2   Example of Intra-Band Non-Contiguous 2CC CA

Figure 3   Example of Inter-Band 2CC CA

Related concepts

Nominal Channel Spacing Calculation

# 2 Dependencies of NR DL Carrier Aggregation

The feature has related features and limitations concerning component carriers and

cell characteristics.

Table 1   Feature Dependencies

![Image](../images/77_22104-LZA7016017_1Uen.JG33E/additional_3_CP.png)

![Image](../images/77_22104-LZA7016017_1Uen.JG33E/additional_3_CP.png)

| Feature Name                                                                                                 | Feature Identity   | Access Type   | Relationship   | Relationship Scope      | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|--------------------------------------------------------------------------------------------------------------|--------------------|---------------|----------------|-------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Advanced RAN Coordination                                                                                    | FAJ 121 5271       | NR            | Prerequisite   | Cell-level prerequisite | The Advanced RAN Coordination feature provides E5 link             connectivity             between             gNodeB-DUs or capacity modules.  The Advanced RAN Coordination feature is part of the NR Base Package and does not require             license activation.                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Advanced RDS Location Support for Dedicated                                     RAN                          | FAJ 121 5504       | NR            | Conflicting    | Cell-level conflict     | The NR DL Carrier Aggregation feature cannot be activated in a cell                                 where the Advanced RDS Location Support for Dedicated RAN feature is                                 already activated.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| NR Dynamic Power Optimizer                                                                                   | FAJ 121 5443       | NR            | Conflicting    | Partially impaired      | If the NR Dynamic Power Optimizer feature is activated and             the NRCellDU.improvedUlInSparseBwp attribute is set to                 true, an additional throughput loss can be expected for each             external TDD SCell with TDD PCell.                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| Advanced Downlink Single-User MIMO                                     Mid-Band                              | FAJ 121 5262       | NR            | Related        |                         | Advanced beamforming is only supported in a TDD SpCell.  If the txSwitchImpactToRx or                 txSwitchWithAnotherBand UE capability IE is reported for a band             combination, advanced beamforming in the SpCell can negatively affect the performance in             SCells. This impact can be mitigated on UE group level.                                                                                                                                                                                                                                                                                                                                                                    |
| Advanced Downlink Multi-User MIMO                                     Mid-Band                               | FAJ 121 5398       | NR            | Related        |                         | Advanced beamforming is only supported in a TDD SpCell.  If the txSwitchImpactToRx or                 txSwitchWithAnotherBand UE capability IE is reported for a band             combination, advanced beamforming in the SpCell can negatively affect the performance in             SCells. This impact can be mitigated on UE group level.                                                                                                                                                                                                                                                                                                                                                                    |
| Connected Mode DRX                                                                                           | FAJ 121 4963       | NR            | Related        |                         | In the gNodeB, the same DRX profile is used for the entire cell group                                 configuration.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Coverage- and Capacity-Optimized PDCCH                                     Beamforming                       | FAJ 121 5397       | NR            | Related        |                         | If both features are activated, the estimated SINR values in             the cells that participate in carrier aggregation are updated with the gain difference             between common channel beamforming and codebook-based beamforming. SCells are not             required to use codebook-based beamforming for the PDCCH.                                                                                                                                                                                                                                                                                                                                                                               |
| Data-Aware Carrier Management                                                                                | FAJ 121 5410       | NR            | Related        |                         | The Data-Aware Carrier Management feature checks the current RLC                                 buffer status and several other criteria to dynamically activate or                                 deactivate the configured SCells. This helps to reduce UE power                                 consumption.  The Data-Aware Carrier Management feature must be activated with the                                 NR DL Carrier Aggregation feature to mitigate the decrease in the                                 Average DL MAC DRB Throughput and the DL MAC DRB Throughput per QoS KPIs in case of small data volumes.                                                                                 |
| Energy-Optimized Power                                     Allocation                                        | FAJ 121 5805       | NR            | Related        |                         | The Energy-Optimized Power Allocation feature does not apply power backoff to external SCells.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| High Speed UE Low/Mid-Band                                                                                   | FAJ 121 5268       | NR            | Related        |                         | The NR DL Carrier Aggregation feature and the High Speed UE                                 Low/Mid-Band feature can use the same configuration for the SpCell                                 and SCell setup procedure when operating with 2CC carrier                                 aggregation in NR SA and EN-DC.                                                                                                                                                                                                                                                                                                                                                                                          |
| Link Adaptation with Low Spectral Efficiency                                     MCS Table for Public RAN    | FAJ 121 5642       | NR            | Related        |                         | MCS table 3 is only applied in the SpCell.  The User- and Service-Specific Carrier Aggregation feature can be                                 used to disable carrier aggregation for the UE group in which MCS                                 table 3 is enabled. As a result, only MCS table 3 is applied for the                                 data transmitted to the UE, and performance is expected to                                 increase.                                                                                                                                                                                                                                                         |
| Link Adaptation with Low Spectral Efficiency                                     MCS Table for Dedicated RAN | FAJ 121 5643       | NR            | Related        |                         | MCS table 3 is only applied in the SpCell.  The User- and Service-Specific Carrier Aggregation feature can be                                 used to disable carrier aggregation for the UE group in which MCS                                 table 3 is enabled. As a result, only MCS table 3 is applied for the                                 data transmitted to the UE, and performance is expected to                                 increase.                                                                                                                                                                                                                                                         |
| Link Adaptation for Low Target BLER for                                     Dedicated RAN                    | FAJ 121 5667       | NR            | Related        |                         | The low target BLER can be only applied in the SpCell. The User- and                                 Service-Specific Carrier Aggregation feature allows carrier                                 aggregation to be disabled for a UE group for which the low target                                 BLER is configured.                                                                                                                                                                                                                                                                                                                                                                                           |
| Link Adaptation for Low Target BLER for Public                                     RAN                       | FAJ 121 5666       | NR            | Related        |                         | The low target BLER can be only applied in the SpCell. The User- and                                 Service-Specific Carrier Aggregation feature allows carrier                                 aggregation to be disabled for a UE group for which the low target                                 BLER is configured.                                                                                                                                                                                                                                                                                                                                                                                           |
| LTE-Aligned Balanced TDD Pattern Mid-Band for                                     Dedicated RAN              | FAJ 121 5650       | NR            | Related        |                         | The LTE-aligned balanced TDD pattern for Mid-Band is             supported with intra-capacity module carrier aggregation with a Mid-Band cell as             SpCell.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| LTE-Aligned Balanced TDD Pattern Mid-Band for                                     Public RAN                 | FAJ 121 5649       | NR            | Related        |                         | The LTE-aligned balanced TDD pattern for Mid-Band is             supported with intra-capacity module carrier aggregation with a Mid-Band cell as             SpCell.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Mixed TDD Pattern Support for DL Carrier                                     Aggregation                     | FAJ 121 5808       | NR            | Related        |                         | At least one NR downlink carrier aggregation feature must be activated             for the Mixed TDD Pattern Support for DL Carrier Aggregation feature to operate.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| NR Aperiodic CSI Trigger Handling                                                                            | FAJ 121 5758       | NR            | Related        |                         | When both features are enabled, the aperiodic CSI reports for each cell can be             split into multiple reports based on the number of activated cell carriers and SINR             thresholds.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| NR Carrier Aggregation Data Steering                                                                         | FAJ 121 5683       | NR            | Related        |                         | The NR Carrier Aggregation Data Steering feature makes it possible to offload low-volume             data from an FDD PCell to the SCell that can send the most data.  If the NR Carrier Aggregation Data Steering feature is enabled, the buffer splitting             threshold can be configured.                                                                                                                                                                                                                                                                                                                                                                                                              |
| NR Carrier Aggregation Scheduling Optimization for                                 External SCells           | FAJ 121 5722       | NR            | Related        |                         | At least one NR downlink carrier aggregation feature must be activated             for the NR Carrier Aggregation Scheduling Optimization for External SCells feature to             operate.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| NR Data-Aware Mobility                                                                                       | FAJ 121 5696       | NR            | Related        |                         | If the configuration of the NR DL Carrier Aggregation feature             changes because of a UE group change, and B2 measurements triggered by the NR Data-Aware             Mobility feature are             ongoing,             the B2 measurements are removed from the UE.                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| NR Downlink-Only Cell Support for                                     Carrier Aggregation                    | FAJ 121 5783       | NR            | Related        |                         | The downlink-only cells can carry traffic if at least one of the NR downlink                         carrier aggregation features are enabled.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| NR Extended N77 Band Support                                                                                 | FAJ 121 5480       | NR            | Related        |                         | Cells operating at extended n77 band frequency ranges are configured as SCell only if the             UE capability message indicates the appropriate RF parameter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| NR Flexible Channel                                     Bandwidth                                            | FAJ 121 5264       | NR            | Related        |                         | When carrier aggregation features calculate                                 the cell weight for SCell selection, the calculation considers the                                 bandwidth reduction caused by blanked CRBs.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| NR Intelligent SCell Management                                                                              | FAJ 121 5460       | NR            | Related        |                         | The NR Intelligent SCell Management feature deconfigures NR             SCells that have poor coverage instead of deactivating them. If the NR Intelligent SCell             Management feature is not enabled, the NR SCells that have poor coverage are only             deactivated. The feature only applies to EN-DC carrier aggregation.                                                                                                                                                                                                                                                                                                                                                                    |
| NR Mobility                                                                                                  | FAJ 121 5041       | NR            | Related        |                         | The Mobility Control at Poor Coverage function of the NR             Mobility feature             might             be affected by changes in the downlink carrier aggregation configuration that are caused             by a UE group change.                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| NR-NR Dual Connectivity                                                                                      | FAJ 121 5380       | NR            | Related        |                         | Carrier                 aggregation is supported on the Master Node for the UE configured with NR-DC.  When SCells are activated in the MCG before NR-DC is configured, the                 offloading can decrease the probability to receive a high buffer report and                 therefore decrease the probability to set up NR-DC.                                                                                                                                                                                                                                                                                                                                                                       |
| NR Dynamic Slot Aggregation for VoNR                                                                         | FAJ 121 5471       | NR            | Related        |                         | SCell scheduling is stopped for UEs that are scheduled with PUSCH repetition. After a                 certain period without scheduling with PUSCH repetition, SCell scheduling is                 resumed.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| NR RRC Connection Re-establishment                                                                           | FAJ 121 5346       | NR            | Related        |                         | The CA capable UE is configured with SCell during the first             RRC Reconfiguration procedure after the RRC Connection Re-establishment procedure. If             the UE Capability Enquiry procedure is done after the RRC Reconfiguration procedure, the             UE is configured with SCell, based on the new UE capabilities during the second RRC             Reconfiguration procedure.                                                                                                                                                                                                                                                                                                         |
| NR Service-Adaptive Link Adaptation                                                                          | FAJ 121 5513       | NR            | Related        |                         | In Low- and Mid-Band the NR Service-Adaptive Link Adaptation feature             only affects the PCell. The local SCell and external SCell uses configurations with             default values. In High-Band the link adaptation mode and parameters apply to all PCells             and SCells, but the MCS table configuration is only applied to the sPCell.  Using robust link adaptation and 256QAM together can result in             incorrect configurations being applied to the SCells. When 256QAM is enabled, it is             recommended to turn of carrier aggregation for UE groups that use robust link adaption             using the User- and Service-Specific Carrier Aggregation feature. |
| NR Support for CBRS                                                                                          | FAJ 121 5438       | NR            | Related        |                         | Each CBRS cell must be configured for carrier aggregation according to the cell profile             it belongs to.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| NR UE-Assisted Overheating Mitigation                                                                        | FAJ 121 5449       | NR            | Related        |                         | During overheating, all active SCells are deactivated. SCell             reactivation is not allowed until the overheating condition is mitigated. If the UAI             overheating is mitigated, only in-coverage SCells can be reactivated based on the             preconditions. The CQI-Based UE Overheating Detection subfunction of the NR DL Carrier             Aggregation feature might interact with the NR UE-Assisted Overheating Mitigation             feature. In this case, the NR UE-Assisted Overheating Mitigation feature has priority             and triggers the SCell deactivation procedure directly.                                                                                |
| Measurement Gap-Aware NR Scheduling                                                                          | FAJ 121 5295       | NR            | Related        |                         | SCell selection and reselection can impact what the UE reports in the             measurement gap requirement information to the gNodeB. The fewer component carriers the             UE is configured with, the higher the possibility that the UE can use a gapless             measurement when performing any NR intra-system inter-frequency measurements.                                                                                                                                                                                                                                                                                                                                                   |
| RRC Inactive State                                                                                           | FAJ 121 5328       | NR            | Related        |                         | SCell configuration is based on stored UE capabilities and it             is included in the RRCResume message. If the UE Capability Inquiry             procedure is performed after the UE resumes RRC_CONNECTED state, the             SCell configuration that is based on new UE capabilities is included in the                 RRCReconfiguration message.                                                                                                                                                                                                                                                                                                                                                 |
| LTE-NR Dual Connectivity                                                                                     | FAJ 121 4908       | NR            | Related        |                         | The NR DL Carrier Aggregation feature enables downlink       carrier aggregation with two component carriers for the SCG on the Secondary Node.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| NR Standalone                                                                                                | FAJ 121 5060       | NR            | Related        |                         | The NR DL Carrier Aggregation feature enables downlink       carrier aggregation with two component carriers for the gNodeB in NR standalone       deployments.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| NR Advanced Multi-Layer Coordination                                                                         | FAJ 121 5584       | NR            | Related        |                         | If the NR Advanced Multi-Layer Coordination feature is activated, the                                 initial SCell selection procedure that is executed during the                                 operation of the NR DL Carrier Aggregation feature becomes load                                 aware.                                                                                                                                                                                                                                                                                                                                                                                                        |
| NR QoS-Aware Downlink Carrier                                     Aggregation                                | FAJ 121 5571       | NR            | Related        |                         | The NR downlink carrier aggregation over an E5 link will be             QoS aware and adjustable once NR QoS-Aware Downlink Carrier Aggregation feature is             enabled, otherwise default QoS treatment will be used by external SCell for all incoming             carrier aggregation traffic.                                                                                                                                                                                                                                                                                                                                                                                                          |
| User- and Service-Specific Carrier                                     Aggregation                           | FAJ 121 5555       | NR            | Related        |                         | The User- and Service-Specific Carrier Aggregation feature             enables the differentiated configuration of NR downlink carrier aggregation on the UE group level.  If the User- and Service Specific Carrier Aggregation feature is deactivated, the gNodeB             uses the Base instance of the CaCellProfileUeCfg MO             class.                                                                                                                                                                                                                                                                                                                                                            |
| User- and Service-Specific Mobility                                                                          | FAJ 121 5399       | NR            | Related        |                         | The User- and Service-Specific Mobility feature enables                 differentiated configuration of the attributes of SCell mobility for different UE                 groups.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| NR Traffic Steering                                                                                          | FAJ 121 5458       | NR            | Related        |                         | At             least one of the features that support downlink carrier aggregation in             NR is             recommended to be configured for the Multi-Layer Coordination function             to allow at least one SCell in a candidate cell set.                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| NR Uplink Carrier Aggregation                                                                                | FAJ 121 5583       | NR            | Related        |                         | The NR Uplink Carrier Aggregation feature requires the SCell             to be configured for both uplink and downlink. To configure an SCell for both uplink and             downlink, at least one NR downlink carrier aggregation feature must be activated.                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| NR Reduced UE Bandwidth Support                                                                              | FAJ 121 5442       | NR            | Related        |                         | When a carrier aggregation feature is enabled together with             the NR Reduced UE Bandwidth Support feature, both the PCell and the SCell can be             configured with one of the following BWPs:  An F-BWP that uses the entire cell bandwidth     A P-BWP for UEs not supporting the entire cell bandwidth                                                                                                                                                                                                                                                                                                                                                                                        |
| Flexible PDCCH                                 Monitoring                                                    | FAJ 121 5782       | NR            | Related        |                         | The SCell activation threshold must be configured to a higher value than the             threshold for switching to SSSG0.  The SCell deactivation threshold must be configured to a higher value than the             threshold for switching to SSSG1.                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| NR Combined Cell                                                                                             | FAJ 121 5554       | NR            | Conflicting    | Cell-level conflict     | The NR Combined Cell feature does not support carrier             aggregation.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| NR Booster Carrier Sleep                                                                                     | FAJ 121 5625       | NR            | Conflicting    | Partially impaired      | Carrier aggregation is unavailable             for             cells in sleep             mode.             If every SCell is             in             sleep             mode,             carrier aggregation is unavailable altogether.                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| NR SRS Capacity Boost Mid-Band                                                                               | FAJ 121 5803       | NR            | Related        |                         | Advanced beamforming is only supported in a TDD SpCell.  If the txSwitchImpactToRx or                 txSwitchWithAnotherBand UE capability IE is reported for a band             combination, advanced beamforming in the SpCell can negatively affect the performance in             SCells. This impact can be mitigated on UE group level.                                                                                                                                                                                                                                                                                                                                                                    |

Hardware

No specific hardware requirements.

Limitations

- Carrier aggregation can be done in cells with the same duplex mode.
- The component carriers must have the same SCS configuration.
- TDD component carriers can only be configured for a UE if the following conditions apply: The component carriers have the same value for the NRCellDU.tddUlDlPattern attribute. The component carriers have the same value for the NRCellDU.tddSpecialSlotPattern attribute.
- 5QI cannot be transferred from the SpCell to the ESCell in case of inter-Baseband NR carrier aggregation in the downlink.
- The feature is not supported where the SpCell has 1TX/1RX number of antennas configured and the SCells have more than 1TX/1RX number of antennas configured.
- In external SCells, the UE throughput might decrease in sectors with high downlink data demand from multiple UEs that actively use the component carriers because of reaching the reservation limits on the PDCCH and PUCCH.

Network Requirements

The UE must support downlink carrier aggregation as specified in 3GPP TS

38.101.

## 2.1 Downlink Carrier Aggregation Features in Low-Band and Mid-Band

The NR downlink carrier aggregation features in Low-Band and Mid-Band use the same

SCell selection algorithm.

If a carrier aggregation feature with a higher number of component carriers is enabled,

the carrier aggregation features with a lower number of component carriers are also

enabled.

Table 2   Downlink Carrier Aggregation Features in Low-Band and Mid-Band

| Feature Name                                                                                  |   Number of Component Carriers | Applicable Deployment      | Additional Requirements                    |
|-----------------------------------------------------------------------------------------------|--------------------------------|----------------------------|--------------------------------------------|
| NR DL Carrier                                 Aggregation                                     |                              2 | NR SA, EN-DC, and NR-DC    | Same duplex mode cells                     |
| NR DL Carrier Aggregation for Coverage                                     Extension          |                              2 | NR SA, EN-DC, and NR-DC    | FDD SpCell and TDD SCell                   |
| TDD PCell Support for DL Carrier Aggregation                                     Low/Mid-Band |                              2 | NR SA and EN-DC, and NR-DC | TDD SpCell and FDD SCell                   |
| NR 3CC DL Carrier Aggregation                                                                 |                              3 | NR SA and NR-DC            |                                            |
| NR 4CC DL Carrier Aggregation                                                                 |                              4 | NR SA and NR-DC            | Up to three gNodeB-DUs or capacity modules |
| NR 5CC DL Carrier Aggregation                                                                 |                              5 | NR SA and NR-DC            | Up to three gNodeB-DUs or capacity modules |
| NR 6CC DL Carrier Aggregation                                                                 |                              6 | NR SA and NR-DC            | Up to three gNodeB-DUs or capacity modules |

# 3 Feature Operation of NR DL Carrier Aggregation

The feature enables higher throughput for carrier aggregation-capable UEs by

aggregating two NR carriers across up to two gNodeB-DUs or capacity modules.

For each NRCellCU MO, the operator manually configures the cells that

can be used

as SCell candidates. The NRCellRelation.sCellCandidate attribute must

be set to ALLOWED or ONLY\_ALLOWED\_FOR\_DL.

A cell used as an SpCell can have more than one SCell candidate. With blind

selection, one SCell candidate is chosen for each NRFrequency MO

instance. If the SpCell or SCell candidates are on different frequencies, the

frequencies cannot overlap.

The feature supports carrier aggregation (CA) of the full component carrier (CC)

bandwidth. For more information, see DU and Baseband Configurations and Capacity in

the Radio Node Configurations library.

SpCell mobility, that is, PSCell change in EN-DC and NR-DC, and PCell

handover in NR standalone triggers a configuration-based initial blind SCell selection

in the new target SpCell. This has the following results:

- The old SCell is deconfigured in the source SpCell.
- A new SCell is selected in the target SpCell.

Operational Process

- SCell selection: the gNodeB selects the SCell from the allowed band combinations that provides the best peak throughput for the UE.
- SCell configuration: the UE is configured with a downlink SCell and the A1, A2, and A6 measurements on the SCell frequency.
- SCell activation: The SCell is activated for downlink transmission according to the RLC buffer status or the UE L3 measurements.
- Link scheduling: The buffer splitting algorithm determines how much data needs to be transmitted on the component carriers.

## 3.1 SCell Selection

The gNodeB runs the SCell selection algorithm and checks the following information:

- The SCell candidate configurations
- The carrier aggregation configuration
- The UE capabilities
- The lists of allowed band combinations

The serving cell selection can be configured through the

CaCellProfileUeCfg.servingCellSelectionPolicy attribute. The

selected value attempts to prioritize maximized peak downlink or uplink throughput,

depending on the selection in the following way:

- If downlink throughput is prioritized, a cell set is selected to maximize downlink throughput first, along with adding downlink MIMO layers, if possible. Then, on the selected cell set, the SCell that provides the best uplink throughput is selected for uplink.
- If uplink throughput is prioritized, a cell set is selected to maximize uplink throughput. Then, downlink SCells that provide the best downlink throughput are added to the selected cell set. After this, additional downlink and uplink MIMO layers are added.

During SCell selection, the feature checks the number of allowed

component carriers and the allowed SCell frequencies.

The following conditions are checked when the SCell selection procedure

starts:

- If carrier aggregation is not allowed because the value of the CaCellProfileUeCfg.maxDlCcAllowed attribute is set to 1, the SCell selection outputs an empty set.
- If a cell serves on a frequency that is blocked, that cell is not allowed to be an SCell candidate. The blocked frequencies are listed in the CaCellProfileUeCfg.blockedSCellFreqList attribute.

Figure 4   SCell Selection Action Flow

The maximum number of component carriers that the carrier aggregation

configuration can contain is controlled by the

CaCellProfileUeCfg.maxDlCcAllowed attribute. The number of

component carriers is also limited by other factors, for example by UE capability.

Downlink carrier aggregation can be controlled on

the

DRB level. Each DRB can be configured to be scheduled across multiple component carriers

or only in the SpCell. This functionality is controlled by the

SchedulingProfile.dlCaSchedulingMode attribute.

The initial SCell selection is a blind selection. The UE is configured with the blindly

configured SCell and the following measurements:

- A1 measurement
- A2 measurement
- A6 measurement

The initial SCell selection algorithm can be made load-aware if the NR Advanced

Multi-Layer Coordination feature is activated. For more information, see NR Advanced Multi-Layer Coordination.

The bandwidth- and layer-aware SCell selection algorithm uses an estimate of the maximum

downlink throughput that a UE can achieve. The achievable throughput depends primarily

on the following characteristics:

- Effective carrier bandwidth
- Maximum number of MIMO layers
- Maximum modulation scheme

For more information, see  NR Traffic Steering.

For an SCell to be selected for the UE, the

NRCellRelation.coverageIndicator attribute must be set to any of

the following

values:

- OVERLAP
- CONTAINED\_IN
- COVERS

For SCell candidates on an Advanced RAN Coordination partner, RTT delay is checked at

candidate selection time. If the RTT delay from an Advanced RAN Coordination partner is

larger than the maximum supported value, SCells on that partner are not considered for

carrier aggregation. If the RTT delay goes over the maximum supported value, this does

not trigger a reconfiguration or deconfiguration of already configured SCells in an

ongoing connection.

In an EN-DC deployment, SCells are selected during the following procedures:

- Secondary Node Addition, that is, the initial setup of the SCG radio resources.
- Secondary Node Modification, that is, the addition of SCG radio resources and intra-gNodeB PSCell change.
- Secondary Node Change, that is, inter-gNodeB PSCell change.
- Intra-Frequency SCell Change, which is triggered by A6 measurement reports on SCell frequency.

In an NR standalone deployment, SCells are selected during the following procedures:

- Initial Context Setup when it includes the setup of the first PDU Session Resource Setup.
- PDU Session Resource Setup.
- Incoming Intra-gNodeB or Inter-gNodeB Handover.
- UE capability refresh, that is, when the gNodeB compares UE capability information received from source gNodeB during handover, RRC Resume or RRC Re-establishment. The gNodeB decides if this information is sufficient, or if reinquiry is required.
- Intra-Frequency SCell Change, which is triggered by A6 measurement reports on SCell frequency.

In an NR-DC deployment, the SCell in the MCG is selected during the following

procedures:

- Secondary Node Addition
- Master Node initiated Secondary Node Release
- Secondary Node initiated Secondary Node Release
- Secondary Node initiated Secondary Node Change

## 3.2 SCell Configuration and Deconfiguration

After the initial blind SCell selection, the UE is configured with the selected SCell and

the following measurements:

- A1 measurement
- A2 measurement
- A6 measurement

The A1 measurement report indicates that the UE has good coverage of the configured

SCell.

The A2 measurement report indicates that the UE has bad coverage of the SCell. An A2

measurement report from the UE does not trigger a deconfiguration action or initiate a

new configuration-based initial blind SCell selection, but the SCell is

deactivated.

In EN-DC deployment, the NR Intelligent SCell Management  feature enables the

deconfiguration of an NR SCell that has bad coverage instead of deactivating it.

The A6 measurement report indicates that there is a better SCell candidate on the same

SCell frequency.

More than one SCell candidate can be reported in the A6 measurement report by the UE

through configuring the CaCellMeasProfileUeCfg.maxReportCells

attribute, however, the gNodeB only examines the first reported

cell.

When an A6 measurement report is received from the UE, the reported RSRP, RSRQ, or SINR

value is checked against the RSRP, RSRQ, or SINR threshold used in the A1 measurement to

decide if the reported SCell is in good coverage. If the reported RSRP, RSRQ, or SINR

value in the A6 measurement report is below the threshold used in the A1 measurement,

the received measurement report is discarded. If the reported cell is a valid SCell

candidate, the current SCell is deconfigured, and the SCell reported by the A6

measurement report is configured.

The RRC Reconfiguration procedure is used to configure the UE with an SCell. In an EN-DC

deployment, the RRC container is sent to the UE through the primary eNodeB.

## 3.3 SCell Activation and Deactivation

Downlink transmission on an SCell is only possible when the SCell is

activated.

If an SCell is configured but

deactivated,

transmission is not possible on that carrier. The UE does not monitor deactivated

component carriers. This results in UE

battery

power

savings.

If the Data-Aware Carrier Management feature is enabled, SCell

activation and deactivation is based on the current RLC buffer status and UE L3

measurements. Otherwise, SCell activation and deactivation is based on only UE L3

measurements.

A

MAC Control Element message in the Medium Access Control (MAC)

subheader for DL-SCH that contains a Logical Channel ID (LCID) field is transmitted to

activate an

SCell.

The MAC

Control

Element message is sent with user data or it is sent

standalone in a MAC PDU

in

the SpCell. When a request is received to activate an SCell and the

activation delay time passes, the UE

reports its CSI and

receives data on the SCell.

If an SCell is reactivated after a deactivation that is not caused by poor coverage, the

old CSI can be used in the PDCCH and the PDSCH scheduling

before

the new CSI report is received.

The

age of the old CSI report must not exceed the predefined CSI validity time.

An SCell is deactivated by transmitting a deactivation MAC

Control

Element message. The MAC

Control

Element deactivation message is sent with user data or it

is sent standalone in a MAC PDU

in

the SpCell.

In EN-DC deployments, if the Secondary Node receives a UAI overheating report from the

Master Node, the Secondary Node controls the deactivation and reactivation of SCells in

the NR SCG.

When the UAI overheating is mitigated, only in-coverage SCells can be reactivated based

on the preconditions set by this feature.

For

more information, see NR UE-Assisted Overheating

Mitigation.

SCell Supervision at Initial Selection

A supervision timer tracks the reception of the A1 and the A2 measurement reports for

different SCell frequencies at initial SCell selection.

In NR standalone deployment, when the supervision timer expires,

any SCell frequency for which no measurement

reports

are received for uplink or downlink is considered to have unknown

coverage in that direction. The corresponding SCell is deactivated but it remains

configured.

The supervision timer is calculated as 1500 +

MAX(timeToTrigger1, timeToTrigger2). The timer is in

milliseconds.

Where

| timeToTrigger1   |    | One                                 of the following                                 values,                                 depending on the                                 trigger                                 quantity used in the                                     CaCellMeasProfileUeCfg.sCellCoverageTriggerQuantity                                     attribute:  MAX(timeToTrigger,                                                 timeToTriggerA1) of the                                             corresponding struct members of the                                                 CaCellMeasProfileUeCfg.rsrpSCellCoverage                                             attribute       MAX(timeToTrigger,                                                 timeToTriggerA1) of the                                             corresponding struct members of the                                                 CaCellMeasProfileUeCfg.rsrqSCellCoverage                                             attribute     MAX(timeToTrigger,                                                 timeToTriggerA1) of the                                             corresponding struct members of the                                                 CaCellMeasProfileUeCfg.sinrSCellCoverage                                             attribute   |
|------------------|----|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                  |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| timeToTrigger2   |    | The value of the timeToTrigger struct member of                                 the TrStSaCellProfileUeCfg.rsrpPCellCandidate                                 attribute.                                 The value applies only if the NR Uplink Carrier Aggregation feature                                 and the Multi-Layer Coordination function of the NR Traffic Steering                                 feature are applicable to the UE.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

In an EN-DC deployment, when the supervision timer expires, any

SCell frequency that is not reported is considered to be out of coverage. The

corresponding SCell is deactivated

but

it remains configured.

The supervision timer is calculated as 680 +

timeToTrigger. The timer is in milliseconds.

Where

### 3.3.1 CQI-Based UE Overheating Detection

Link scheduling supports UE overheating detection during carrier

aggregation.

UE overheating detection is based on link adaptation data received in the CSI report for

the SCells from the UE. The UE is in normal or overheated state depending on the

reported CQI and RI values. If the UE is in overheated state, the downlink scheduling is

restricted to SpCell only. This allows the UE to cool down and recover from

overheating.

In the overheated state, the SCells are not used, but they are kept activated. This is

required to receive the updated SCell CQI values needed to leave the overheated

state.

The UE overheating detection in the gNodeB works in the following way:

- When the UE reports CQI=0 and RI=1 for any SCell, indicating two layers, the UE is considered overheated. Scheduling is stopped on all SCells.
- When the UE in overheated state sends two consecutive CSI reports with CQI&gt;0 for an SCell, the gNodeB resumes scheduling on the specified SCell.

Example 1

1. The UE reports CQI=0 and RI=1 for the SCell. Scheduling stops in the SCell.
2. The UE reports CQI&gt;0 for the SCell in two consecutive CSI reports. Scheduling resumes for the SCell.

The UAI overheating mitigation takes precedence over the CQI-based

overheating mitigation by directly triggering the SCell deactivation procedure. For

further details, see the NR UE-Assisted Overheating Mitigation document.

## 3.4 Link Scheduling

The SpCell is always active. If the Data-Aware Carrier Management feature is enabled, the SCell

activation and deactivation is based on the current RLC buffer status and the UE L3

measurements. Otherwise, the SCell activation and deactivation is based on only the UE

L3 measurements. Downlink scheduling is performed on active SpCells and

SCells. The downlink data buffer splitting algorithm determines the volume of new

downlink data to be transmitted on each eligible component carrier on downlink slots.

Downlink data transmission on multiple carriers occurs for a UE if the following

requirements are met:

- The downlink data volume in the buffer for the UE is large enough.
- The downlink channel quality on an SCell is good enough.

If the amount of downlink data to be sent does not exceed the system-defined threshold,

downlink transmission only occurs on the carrier that can send more data. The

constraints of carrier bandwidth and downlink channel quality on the carrier are

considered. If the NR Carrier Aggregation Data Steering feature

is enabled, the buffer splitting threshold can be configured with the

NRCellDU.caBufferSplitThresh attribute.

## 3.5 Supported Trigger Quantities for NR DL Carrier Aggregation

RSRP, RSRQ, or SINR can be configured as the trigger quantity for A1, A2, and A6

measurements used by the feature.

A1, A2, and A6 measurements used by the feature can be based on one of the following

trigger quantities:

- RSRP
- RSRQ
- SINR

The CaCellMeasProfileUeCfg.sCellCoverageTriggerQuantity attribute

defines the trigger quantities for A1 and A2 measurements.

The CaCellMeasProfileUeCfg.betterSCellTriggerQuantity attribute

defines the trigger quantities for A6 measurements.

Table 3   Possible Trigger Quantities for A1, A2, and A6 Measurements

| Value              | Description                                                                                                                                                                                                                                                                                  |
|--------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| RSRP               | RSRP is used as the trigger quantity.                                                                                                                                                                                                                                                        |
| RSRQ               | RSRQ is used as the trigger quantity.                                                                                                                                                                                                                                                        |
| SINR_FALLBACK_RSRP | If the UE supports SINR measurements on NR frequencies, SINR is used                                 as the trigger quantity.  If the UE does not support SINR measurements for NR frequencies, the                                 function falls back to use RSRP as the trigger quantity. |
| SINR_FALLBACK_RSRQ | If the UE supports SINR measurements on NR frequencies, SINR is used                                 as the trigger quantity.  If the UE does not support SINR measurements for NR frequencies, the                                 function falls back to use RSRQ as the trigger quantity. |

A1 and A2 measurements can be configured through one of the following attributes

depending on the trigger quantity used by the feature:

- CaCellMeasProfileUeCfg.rsrpSCellCoverage
- CaCellMeasProfileUeCfg.rsrqSCellCoverage
- CaCellMeasProfileUeCfg.sinrSCellCoverage

A6 measurements can be configured through one of the following attributes depending on

the trigger quantity used by the feature:

- CaCellMeasProfileUeCfg.rsrpBetterSCell
- CaCellMeasProfileUeCfg.rsrqBetterSCell
- CaCellMeasProfileUeCfg.sinrBetterSCell

The threshold of A1 and A2 measurements can be adjusted through one of the following

attributes depending on the trigger quantity used by the feature:

- CaFreqRelMeasProfileUeCfg.rsrpSCellCoverageThrOffset
- CaFreqRelMeasProfileUeCfg.rsrqSCellCoverageThrOffset
- CaFreqRelMeasProfileUeCfg.sinrSCellCoverageThrOffset

Measurements on serving SCells are defined by the

CaCellMeasProfileUeCfg and the

CaFreqRelMeasProfileUeCfg MO instances that relate to an

NRCellCU instance. This NRCellCU MO instance

corresponds to the NR cell that the UE uses as an SpCell.

For more information on conditions for entering and leaving the relevant event

measurements, see 3GPP TS 38.331.

Related concepts

Measurement Configuration

## 3.6 UE Group Support for Intra-Frequency SCell Mobility

This feature is adapted to the UE Grouping

Framework

feature.

Configuration data from the CaCellMeasProfileUeCfg and the

CaFreqRelMeasProfileUeCfg MO classes is selected based on which

UE groups the UE belongs to.

The configuration of the

following

measurements can be differentiated based on which UE groups the UE belongs to:

- A1 measurement
- A2 measurement
- A6 measurement

The UE group support for this function is controlled through the User- and

Service-Specific Mobility licensed feature. If the license is not activated, the base

instance of the CaCellMeasProfileUeCfg and the

CaFreqRelMeasProfileUeCfg MO classes are used.

## 3.7 UE Group Support for NR DL Carrier Aggregation

The feature is adapted to the UE Grouping Framework.

The feature is configured through the following attributes, which belong to the

CaCellProfileUeCfg MO class that is adapted to the UE Grouping

Framework:

- CaCellProfileUeCfg.blockedSCellFreqList
- CaCellProfileUeCfg.maxDlCcAllowed
- CaCellProfileUeCfg.maxUlCcAllowed
- CaCellProfileUeCfg.servingCellSelectionPolicy

The attributes are read from the

MO

instance that is selected based on the

UE

groups that the UE belongs to.

When the

UE

groups that the UE belongs to

change,

the change can result in the selection of a new instance of the

CaCellProfileUeCfg MO class. If any of the listed attributes

change because of the selection of a new MO class instance, the current carrier

aggregation configuration and related measurements, if existing, are replaced with a new

configuration based on the new CaCellProfileUeCfg instance.

Figure 5 shows an example of different

configurations for carrier aggregation for three different groups of UEs. The cell

profile settings can be different depending on which SpCell the UE belongs to.

Table 4   Example Cell Profile Settings for TDD SpCell

| Attribute                               | Base Group   | UE Group 1   | UE Group 2     |
|-----------------------------------------|--------------|--------------|----------------|
| CaCellProfileUeCfg.maxDlCcAllowed       | 32           | 1            | 5              |
| CaCellProfileUeCfg.blockedSCellFreqList | Empty        | Empty        | arfcn1, arfcn2 |

Table 5   Example Cell Profile Settings for FDD SpCell

| Attribute                               | Base Group   | UE Group 1   | UE Group 2             |
|-----------------------------------------|--------------|--------------|------------------------|
| CaCellProfileUeCfg.maxDlCcAllowed       | 32           | 2            | 5                      |
| CaCellProfileUeCfg.blockedSCellFreqList | arfcn1       | Empty        | arfcn1, arfcn2, arfcn3 |

Figure 5   Carrier Aggregation Configuration Example

The UE group support for this function is controlled by the User- and Service-Specific

Carrier Aggregation feature. If the license of the feature is not activated,

configuration data is always taken from the Base instances of the

CaCellProfileUeCfg MO class.

For more information on the feature license activation, see User- and Service-Specific Carrier Aggregation.

# 4 Network Impact of NR DL Carrier Aggregation

The feature affects CA-capable UEs by increasing maximum downlink

throughput.

Capacity and Performance

The cell capacity is expected to increase because the downlink data transmission is

faster and more efficient. The downlink throughput is increased by aggregating

multiple carriers.

For peak throughput and other capacity values, see Supported Capacity and Configurations for NR RAN.

For inter-gNodeB Carrier Aggregation or intra-gNodeB-DU inter-capacity module Carrier

Aggregation, because of the different delay paths of each of the component carriers

that are aggregated, the probability of DL RLC PDUs to arrive at the UE out-of-order

is increased. This can result in a higher DL RLC NACK rate.

Interfaces

The feature updates the Uu interface in the following way:

- The RRCReconfiguration message contains which SCell is added or removed and the configuration of A1, A2, and A6 measurements for that SCell.

Other Network Elements

No impact.

# 5 Parameters for NR DL Carrier Aggregation

The feature introduces parameters for configuring UE measurements to detect good

coverage in SCells.

Table 6   Parameters

| Parameter                                            | Type      | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|------------------------------------------------------|-----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| CaCellMeasProfileUeCfg.maxReportCells                | Affecting | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| CaCellMeasProfileUeCfg.prefUeGroupList               | Affecting | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| CaCellMeasProfileUeCfg.rsrpBetterSCell               | Affecting | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| CaCellMeasProfileUeCfg.rsrpSCellCoverage             | Affecting | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| CaCellMeasProfileUeCfg.rsrqSCellCoverage             | Affecting | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| CaCellMeasProfileUeCfg.sCellCoverageTriggerQuantity  | Affecting | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| CaCellMeasProfileUeCfg.ueConfGroupList               | Affecting | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| CaCellMeasProfileUeCfg.ueGroupList                   | Affecting | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| CaCellProfileUeCfg.servingCellSelectionPolicy        | Affecting | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| CaFreqRelMeasProfileUeCfg.waitForBetterSCellRep      | Affecting | If this attribute is set to a value other than                                         -1, NR SCells that have poor coverage can                                     be deconfigured. SCell deconfiguration is performed through the                                     NR Intelligent SCell Management feature. This feature only                                     applies to EN-DC carrier aggregation.  A higher value means that the gNodeB waits longer when poor NR SCell coverage is reported before the SCell is deconfigured.                                              |
| GNBCUCPFunction.caDepHEnabled                        | Affecting | The GNBCUCPFunction.caDepHEnabled attribute                                     must be set to false to enable managing the                                     nodes with the MOM structure introduced by the NR 5CC DL Carrier                                     Aggregation feature, which contains the new classes and                                     attributes available. Otherwise, there is a risk of the                                     deprecated attributes overwriting the values configured for the                                     introduced attributes. |
| CaCellMeasProfileUeCfg.betterSCellTriggerQuantity    | Affecting | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| CaCellMeasProfileUeCfg.rsrqBetterSCell               | Affecting | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| CaCellMeasProfileUeCfg.sinrBetterSCell               | Affecting | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| CaCellMeasProfileUeCfg.sinrSCellCoverage             | Affecting | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| CaFreqRelMeasProfileUeCfg.sinrSCellCoverageThrOffset | Affecting | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| CaCellProfile.reservedBy                             | Affecting | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| CaCellProfile.ueConfGroupType                        | Affecting | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| CaCellProfileUeCfg.blockedSCellFreqList              | Affecting | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| CaCellProfileUeCfg.maxDlCcAllowed                    | Affecting | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| CaCellProfileUeCfg.maxUlCcAllowed                    | Affecting | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| CaCellProfileUeCfg.prefUeGroupList                   | Affecting | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| CaCellProfileUeCfg.ueConfGroupList                   | Affecting | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| CaCellProfileUeCfg.ueGroupList                       | Affecting | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| ExternalGNBCUCPFunction.sameUeGroupSelection         | Affecting | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| NRCellCU.caCellProfileRef                            | Affecting | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| SchedulingProfile.dlCaSchedulingMode                 | Affecting | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| NRCellCU.caCellMeasProfileRef                        | Affecting | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| NRCellDU.additionalPucchForCaEnabled                 | Affecting | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| NRCellDU.caBufferSplitThresh                         | Affecting | This attribute can be used to configure the buffer splitting                                     threshold if the NR Carrier Aggregation Data Steering feature is                                     enabled.                                                                                                                                                                                                                                                                                                                                                                          |
| NRCellDU.caPerCcFairnessWeightEnabled                | Affecting | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| NRCellRelation.coordinationType                      | Affected  | An SCell candidate for the NR DL Carrier Aggregation feature can                                     have the attribute value set to one of the following options:  INTRA_CM     INTER_CM     EXT_CM                                                                                                                                                                                                                                                                                                                                                                                    |
| NRCellRelation.sCellCandidate                        | Affected  | The NRCellRelation.sCellCandidate attribute                                     must not be set to ALLOWED or                                         ONLY_ALLOWED_FOR_DL if the related cells                                     are on same frequency, because SCells need to be on a different                                     frequency than the SpCell.                                                                                                                                                                                                                       |

# 6 Performance of NR DL Carrier Aggregation

The performance of the feature can be observed through downlink DRB throughput KPIs,

and DRB volume and DRB time counters.

KPIs

Table 7   Key Performance Indicators

| KPI                                                                                                      | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|----------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Average DL MAC DRB Throughput [kbps]                                                                     | Shows DRB downlink throughput for data bursts that are restricted                                     by the air interface. Contribution from the following                                     unrestricted data volumes is not considered unless the last slot                                     overlaps with another burst:  Last slot     Single burst     Single slot short burst      Downlink DRB throughput is expected to increase because of                                     the higher data rates from carrier aggregation-capable UEs. The Data-Aware Carrier Management feature must be activated with                                     the NR DL Carrier Aggregation feature to mitigate the decrease                                     in this KPI in case of small data volumes. |
| DL MAC DRB Throughput per QoS [kbps]                                                                     | Shows DRB downlink throughput for each QoS class for data bursts                                     that are restricted by the air interface. Contribution from the                                     following unrestricted data volumes is not considered unless the                                     last slot overlaps with another burst:  Last slot     Single burst     Single slot short burst      Downlink DRB throughput is expected to increase because of                                     the higher data rates from CA UEs. The Data-Aware Carrier Management feature must be activated with                                     the NR DL Carrier Aggregation feature to mitigate the decrease                                     in this KPI in case of small data volumes.       |
| Normalized Average DL MAC Cell Throughput Considering Traffic                                     [kbps] | Normalized DL MAC throughput against traffic. Slots where no                                     traffic is taking place are excluded. KPI is expected to                                     increase because of the higher data rates from carrier                                     aggregation UEs.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |

RIs

Table 8   Resource Indicator

| RI                          | Description                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|-----------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| UL CA Partition Utilization | When carrier aggregation partition is configured, the feature impacts the                 uplink carrier aggregation SCell partition utilization, which is monitored by this                 RI. The partition utilization is based on the number of PUSCH resource block symbols                 of carrier aggregation SCell partition and the total number of resource block                 symbols available for uplink transmission in one second. |

PIs

Table 9   Performance Indicators

| PI                                         | Formula                                                                            | Description                                                                                                                                                                                                                                                        |
|--------------------------------------------|------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| NR CA Share of NR RRC Connections          | NR CA                                         Share of NR RRC Connections          | This PI shows the ratio of UEs configured with carrier aggregation to all                 of the active UEs.                                                                                                                                                       |
| Average Number of UEs Configured for NR CA | Average                                         Number of UEs Configured for NR CA | This PI shows the average number of UEs configured with carrier                 aggregation over an observation period.                                                                                                                                            |
| Total DRB Time on DL CA                    | Total                                         DRB Time on DL CA                    | This PI measures the scheduling activity of UEs configured with carrier                 aggregation on the DRB level.                                                                                                                                              |
| SCell Schedule Ready Success Rate          | SCell                                         Schedule Ready Success Rate          | This PI measures the success rate of active SCells going from active to                 schedule ready.                                                                                                                                                            |
| SCell Deactivation Success Rate            | SCell                                         Deactivation Success Rate            | This PI measures the success rate of SCell deactivation.                                                                                                                                                                                                           |
| CA DRB Throughput DL                       | CA DRB                                         Throughput DL                       | This PI measures the average downlink DRB throughput for data                 transmissions categorized as carrier aggregation bursts.                                                                                                                             |
| CA UE Throughput UL                        | CA UE                                         Throughput UL                        | This PI measures uplink throughput of carrier aggregation UEs for data                 transmissions classified as carrier aggregation bursts.                                                                                                                     |
| Average SCell Addition Delay               | Average                                         SCell Addition Delay               | This PI measures the time taken for an RRC reconfiguration                 message to be sent from the PCell to the UE to configure an SCell, and for the UE to                 respond with an RRC reconfiguration complete message to the                 PCell. |

```
Where:pmCaConfigDlSumSaDistr
```

Equation 1   NR CA Share of NR RRC Connections

```
Where:pmCaConfigDlSumSaDistrpmCaConfigDlSamp
```

Equation 2   Average Number of UEs Configured for NR CA

```
Where:pmMacTimeDlCaDrbActivitypmMacTimeDlCaConfigDrbActivity
```

Equation 3   Total DRB Time on DL CA

```
Where:pmEbsnMacScellScheduleReadyUeDlpmEbsnMacScellActivationUeDl
```

Equation 4   SCell Schedule Ready Success Rate

```
Where:pmEbsnMacScellDeactivationUepmEbsnMacScellDeactivationAttUe
```

Equation 5   SCell Deactivation Success Rate

```
Where:pmMacVolDlCaDrbpmMacVolDlDrbOverlapLastSlotpmMacTimeDlCaDrbpmMacOverlapTimeDlDrbExtSCell
```

Equation 6   CA DRB Throughput DL

```
Where:pmMacVolUlResCaUepmMacTimeUlResCaUe
```

Equation 7   CA UE Throughput UL

```
Where:pmCaConfigDelaySumpmCaConfigDelaySamp
```

Equation 8   Average SCell Addition Delay

Counters

The following counters are introduced:

- NRCellDU.pmMacOffloadVolDlSCell
- NRCellDU.pmMacVolDlSCell
- NRCellCU.pmCaConfigDlSumEndcDistr
- NRCellCU.pmCaConfigDlSumSaDistr
- NRCellCU.pmCaConfigDlSamp
- NRCellCU.pmEndcCaConfigAtt
- NRCellCU.pmEndcCaConfigSucc
- NRCellCU.pmCaConfigAtt
- NRCellCU.pmCaConfigSucc
- NRCellCU.pmEndcCaDeconfigAtt
- NRCellCU.pmEndcCaDeconfigSucc
- NRCellCU.pmCaDeconfigAtt
- NRCellCU.pmCaDeconfigSucc
- NRCellDU.pmMacVolDlPCellCa
- NRCellCU.pmCaConfigMaxSa

The following counters are affected:

- NRCellCU.pmCaConfigDelaySum
- NRCellCU.pmCaConfigDelaySamp
- NRCellDU.pmMacVolDl
- NRCellDU.pmPdschAvailTime
- NRCellDU.pmPdschSchedActivity
- NRCellDU.pmMacOffloadVolDlSCellExt
- NRCellDU.pmMacVolDlDrb
- NRCellDU.pmMacVolDlDrbLastSlot
- NRCellDU.pmMacVolDlDrbLastSlotQos
- NRCellDU.pmMacVolDlDrbQos
- NRCellDU.pmMacVolDlDrbSingleBurst
- NRCellDU.pmMacVolDlDrbSingleBurstSamp
- NRCellDU.pmMacVolDlSCellExt
- NRCellDU.pmMacContentionDelayDlDistr
- NRCellDU.pmMacVolDlCaDrb
- NRCellDU.pmMacTimeDlCaDrb
- NRCellDU.pmMacVolUlResCaUe
- NRCellDU.pmMacTimeUlResCaUe
- NRCellDU.pmMacTimeDlCaDrbActivity
- NRCellDU.pmMacTimeDlCaConfigDrbActivity

The following EBS-N and EBS counters are associated with the

NRCellDU MO class:

- NRCellDU.pmEbsnMacScellScheduleReadyUeDl
- NRCellDU.pmEbsnMacScellDeactivationAttUe
- NRCellDU.pmEbsMacRBSymUtilUlCaSCellPartitionDistr

The following counters can be used on DRB level:

- NRCellDU.pmMacVolDlDrbSingleSlotShortBurst
- NRCellDU.pmMacTimeDlDrbSingleSlotShortBurst
- NRCellDU.pmMacThpDlDrbMax

The following counters can be used for unrestricted data volume and time with QoS:

- NRCellDU.pmMacVolDlDrbSingleSlotShortBurstQoS
- NRCellDU.pmMacTimeDlDrbSingleSlotShortBurstQoS

The following EBS counters can be used for unrestricted data volume and time:

- pmEbsnMacVolDlDrbSingleSlotShortBurst
- pmEbsnMacTimeDlDrbSingleSlotShortBurst
- pmEbsnMacVolDlDrbSingleSlotShortBurstQoS
- pmEbsnMacTimeDlDrbSingleSlotShortBurstQoS

The following PM counters can be used to measure the downlink MAC PDU volume

separately for the serving cells for each UE:

- The NRCellDU.pmMacPduVolDlUePCell PM counter is used for the SpCell.
- The NRCellDU.pmMacPduVolDlUeSCell PM counter is used in any of the configured and activated SCells.

The following EBS counters can be used to measure the downlink MAC PDU volume

separately for the serving cells for each UE:

- The pmEbsnMacPduVolDlUePCell EBS counter is used in the SpCell.
- The pmEbsnMacPduVolDlUeSCell EBS counter is used in any of the configured and activated SCells.

The EBS counters can be filtered on any combination of available filters, for

example, to show the downlink MAC PDU volume for each Serving PLMN in the cell. The

EBS counters are associated with the NRCellDU MO. For more

information on the EBS counters, see Lists and Delta Lists - Referral Document.

Events

The following events are updated with parameters for SCell identities:

Table 10   Events

| Event                                 | Event Parameter                 | Description                           |
|---------------------------------------|---------------------------------|---------------------------------------|
| CuCpProcEndcSetup                     | scells_after_setup_list         | List of NR cell identities of SCells. |
| CuCpProcEndcRelease                   | scells_before_release_list      | List of NR cell identities of SCells. |
| CuCpProcX2SnInitiatedSgnbModification | scells_before_modification_list | List of NR cell identities of SCells. |
| CuCpProcX2SnInitiatedSgnbModification | scells_after_modification_list  | List of NR cell identities of SCells. |
| CuCpProcX2SgnbChange                  | scells_before_sn_change_list    | List of NR cell identities of SCells. |
| CuCpProcInitialCtxtEstab              | scells_after_ctxt_estab_list    | List of NR cell identities of SCells. |
| CuCpProcNrScellUpdate                 | scells_after_setup_list         | List of NR cell identities of SCells. |
| CuCpProcUeCtxtMod                     | scells_before_ctxt_mod_list     | List of NR cell identities of SCells. |
| CuCpProcUeCtxtRel                     | scells_before_ctxt_rel_list     | List of NR cell identities of SCells. |
| CuCpProcPduSessionResourceSetup       | scells_after_session_setup_list | List of NR cell identities of SCells. |
| CuCpProcPduSessionResourceModify      | scells_before_session_mod_list  | List of NR cell identities of SCells. |
| CuCpProcPduSessionResourceRelease     | scells_before_session_rel_list  | List of NR cell identities of SCells. |
| CuCpProcNrHoExeOut                    | scells_before_ho_list           | List of NR cell identities of SCells. |

# 7 Activate NR DL Carrier Aggregation

To use the feature, it must be activated, and the appropriate attributes must be

configured.

Prerequisites

- The license key is installed in the node.
- CCTR is active for at least one week before this procedure to collect enough troubleshooting data.
- Prerequisite features are activated.
- The NRCellRelation MO that represents the SpCell has a reference to another instance of NRCellCU or ExternalNRCellCU MOs in the same GNBCUCPFunction MO instance.

Steps

1. Set the FeatureState.featureState attribute to ACTIVATED in the FeatureState=CXC4012477 MO instance.
2. Set the NRSectorCarrier.administrativeState attribute to LOCKED.
3. Configure the NRSectorCarrier.txDirection attribute to set the transmission direction of a sector carrier.
4. Set the NRCellDU.additionalPucchForCaEnabled attribute to true.
5. Ensure that the NRCellRelation MO is set up according to the following steps:
    1. Set the NRCellRelation.sCellCandidate attribute value to ALLOWED or ONLY\_ALLOWED\_FOR\_DL to define a cell to be referenced as an SCell. This configuration allows cells to be SCell candidates.
    2. Set the NRCellRelation.coverageIndicator attribute to a value other than NONE to define cell relations in a given coverage area.
6. Set the NRSectorCarrier.administrativeState attribute to UNLOCKED.

Results

The cell relation for SCells and the transmission direction for a sector carrier is

configured.

After This Task

Keep CCTR active for at least one week after this procedure for continued collection of troubleshooting data.

# 8 Deactivate NR DL Carrier Aggregation

If the feature is no longer needed, it can be deactivated following the usual feature

deactivation procedure. It must be deactivated before the activation of any conflicting

feature. If the cell is not intended to be used as SpCell for carrier aggregation, the

additional PUCCH allocation must be stopped to avoid PUCCH overhead.

Prerequisites

- CCTR is active for at least one week before this procedure to collect enough troubleshooting data.

Steps

1. Set the NRCellDU.administrativeState attribute to LOCKED.
2. Set the NRCellDU.additionalPucchForCaEnabled attribute to false in all NRCellDU instances. Note: If the attribute is set to true while the feature is deactivated, the cell will be disabled after the node is restarted or the cell is unlocked.
3. Set the NRCellDU.administrativeState attribute to UNLOCKED.
4. Set the FeatureState.featureState attribute to DEACTIVATED in the FeatureState=CXC4012477 MO instance.

To disable the feature in a single cell:

5. Set the NRCellDU.administrativeState attribute to LOCKED.
6. Set the NRCellDU.additionalPucchForCaEnabled attribute to false.
7. Set the NRCellDU.administrativeState attribute to UNLOCKED.

After This Task

Keep CCTR active for at least one week after this procedure for continued collection of troubleshooting data.

# 9 Engineering Guidelines for NR DL Carrier Aggregation

## 9.1 Measurement Configuration

SpCell mobility is not affected by this feature. For more information on SpCell mobility,

see NR Mobility and the 5G Mobility and Traffic Management Guideline.

For more information on the different measurements configured in the PCell and SCell, see

NR Traffic Steering and the NR Traffic Steering Solution Guideline.

The attributes for measurements used by this feature need to be manually configured in MO

classes referenced by the NRCellCU and the

NRFreqRelation MO instances.

It is recommended that the A5 measurement threshold used by the Multi-Layer Coordination

or the Dynamic Cell Set Change during Mobility functions of the NR Traffic Steering

feature for the downlink SCell candidates is greater than the threshold of the A1 and A2

measurements. This is recommended to avoid SCell deactivation after performing an

inter-frequency SCell reselection.

The following attributes are automatically configured with references to MO instances

created by the system:

- The NRCellCU.caCellMeasProfileRef attribute refers to an instance of the CaCellMeasProfile MO class.
- The NRFreqRelation.caFreqRelMeasProfileRef attribute refers to an instance of the CaFreqRelMeasProfile MO class.

If different measurement configurations need to be applied in different NR cells,

separate instance of these MO classes must be created for each measurement

configuration. These reference attributes must be set to refer to the desired MO

instance in each cell.

The trigger quantity for measurements used by the Multi-Layer Coordination function are

recommended to be set to the same value as the trigger quantity used by the NR DL

Carrier Aggregation feature. This can be achieved through setting the following

attributes to the same value:

- CaCellMeasProfileUeCfg.betterSCellTriggerQuantity
- CaCellMeasProfileUeCfg.sCellCoverageTriggerQuantity
- TrStSaCellProfileUeCfg.mlcTriggerQuantity

Related concepts

Supported Trigger Quantities for NR DL Carrier Aggregation

## 9.2 Nominal Channel Spacing Calculation

The nominal channel spacing is calculated according to 3GPP TS 38.101-1; 5.4A.1

Channel spacing for CA.

Different formulas apply for bands with or without a 100-kHz channel raster. Whether a

certain band supports 100-kHz channel raster can be seen in 3GPP TS 38.101-1;

Table 5.4.2.3-1: Applicable NR-ARFCN per operating band.

The numerology, μ0, is based on the largest

subcarrier spacing supported by both carrier bandwidths in the band according to

3GPP TS 38.101-1, Table 5.3.5-1: Channel bandwidths for each NR band.

The relation between μ0 values and

specific subcarrier spacings is defined in 3GPP TS 38.211; Table 4.2-1: Supported

transmission numerologies.

Table 11 shows the substitutions of the

pronumerals in the equations for nominal channel spacing calculations.

Table 11   Pronumerals for Nominal Channel Spacing Calculations

| Pronumeral   | Value Calculation                                |
|--------------|--------------------------------------------------|
| BWChannel(1) | Bandwidth of the first carrier in MHz            |
| BWChannel(2) | Bandwidth of the second carrier in MHz           |
| GBChannel(1) | Minimum guard band for the first carrier in MHz  |
| GBChannel(2) | Minimum guard band for the second carrier in MHz |

The minimum guard bands can be found in 3GPP TS 38.101-1; Table 5.3.3-1: Minimum

guardband for each UE channel bandwidth and SCS (kHz).

The following examples can help better understand the formulas specified in 3GPP TS

38.101-1; 5.4A.1 Channel spacing for CA.

Example 2   Two Adjacent Carriers in the n7 Band with 5-MHz and

10-MHz Bandwidths

According to 3GPP TS 38.101-1; Table 5.4.2.3-1:

Applicable NR-ARFCN per operating band,

ΔFRaster for the n7 band is

100 kHz. In this case, the NR operating bands with a 100 kHz channel

raster formula is applicable.

According to

3GPP TS 38.101-1, Table 5.3.5-1: Channel bandwidths for each NR

band, the n7 band supports the following subcarrier spacings:

- For a 5-MHz carrier, 15 kHz.
- For a 10-MHz carrier: 15 kHz 30 kHz 60 kHz

The largest subcarrier spacing that is part of both sets is 15 kHz, so

the numerology is μ0 = 0.

In

3GPP TS 38.101-1; Table 5.3.3-1: Minimum guardband for each UE channel

bandwidth and SCS (kHz), the row for 15 kHz subcarrier spacing is used to

determine the following values:

- BWChannel(1) = 0.2425 MHz

- BWChannel(2) = 0.3125 MHz

After substituting the values of the pronumerals into the equation based

on Table 11, it is as follows:

Performing the calculation results in a nominal channel spacing of 7.2

MHz.

Example 3   Two Adjacent Carriers in the n41 Band with 40-MHz

and 60-MHz Bandwidths

According to 3GPP TS 38.101-1; Table

5.4.2.3-1: Applicable NR-ARFCN per operating band,

ΔFRaster for the n41 band can

be 15 kHz or 30 kHz. In this case, the NR operating bands without a 100 kHz

channel raster formula is applicable.

According to

3GPP TS 38.101-1, Table 5.3.5-1: Channel bandwidths for each NR

band, the n41 band supports the following subcarrier spacings:

- For a 40-MHz carrier: 15 kHz 30 kHz 60 kHz
- For a 60-MHz carrier: 30 kHz 60 kHz

The largest subcarrier spacing that is part of both sets is 60 kHz, so

the numerology is n = μ0 = 2.

In

3GPP TS 38.101-1; Table 5.3.3-1: Minimum guardband for each UE channel

bandwidth and SCS (kHz), the row for 60 kHz subcarrier spacing is used to

determine the following values:

- BWChannel(1) = 1.61 MHz

- BWChannel(2) = 1.53 MHz

After substituting the values of the pronumerals into the equation based

on Table 11, it is as follows:

Performing the calculation results in a nominal channel spacing of 49.92

MHz.

## 9.3 Throughput Optimization for UEs with Carrier Aggregation

When the SCell bandwidth is smaller than the SpCell bandwidth, UEs with carrier

aggregation can appear to get not much more throughput than UEs without carrier

aggregation. To optimize the throughput for UEs with carrier aggregation, contact the

next level of support.

## 9.4 SCell-Only Configuration for Low-Band and Mid-Band

To get the SCell-only functionality for a given cell, the following MOM

configurations are needed.

Table 12   Mandatory MOM Configurations for SCell

| Attribute           | Default    | SCell-Only                                 Cells   | Comment                           |
|---------------------|------------|----------------------------------------------------|-----------------------------------|
| NRCellDU.cellBarred | NOT_BARRED | BARRED                                             | Prevents UEs to camp on the cell. |

Table 13   Recommended MOM Configurations for SCell

| Attribute                                     | Default   | SCell-Only                                 Cells   | Comment                                                                                                                                                                                                                                                                                       |
|-----------------------------------------------|-----------|----------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| UeMCCellProfile.connModeUeAllowedToBarredCell | true      | false                                              | Setting the value to false blocks the following                                     events:  Incoming handover     Secondary node addition     PSCell change target cell blocking      EN-DC secondary node addition is prohibited regardless of the                                 setting. |

Table 14   Mandatory MOM Configuration for Neighboring Cells

| Attribute                     | Default     | Neighbor to                                 SCell-Only                                 Cells   | Comment                                                                                                                                                                                                                   |
|-------------------------------|-------------|------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| NRCellRelation.sCellCandidate | NOT_ALLOWED | ALLOWED                                                                                        | Setting the value to NOT_ALLOWED prohibits the cell                                 to be used as SCell. This is mandatory if the cell is to be used as                                 an SCell by the neighboring cell. |

Table 15   Recommended MOM Configuration for Neighboring Cells

| Attribute                                       | Default   | Neighbor to                                 SCell-Only                                 Cells   | Comment                                                                                                                                                                                                                                                                                                                                                      |
|-------------------------------------------------|-----------|------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| UeMCNrFreqRelProfileUeCfg.connModeAllowedPCell  | false     | false                                                                                          | Excludes frequency when selecting inter-frequency mobility candidates                                 in NR standalone. If all cells on a frequency are supplemental                                 downlink-only or downlink-only, this attribute can be used to                                 prevent inter-frequency handover attempts to these cells. |
| UeMCNrFreqRelProfileUeCfg.connModeAllowedPSCell | false     | false                                                                                          | Excludes a frequency when selecting inter-frequency mobility                                 candidates in EN-DC. If all cells on a frequency are supplemental                                 downlink-only/downlink-only, this attribute can be used to prevent                                 PSCell Change attempts to these cells.                     |
| NRFreqRelation.cellReselectionPriority          | 7         | -1                                                                                             | If the value is set to -1, related frequency is not                                 broadcasted in SIB2 and SIB4.                                                                                                                                                                                                                                            |

Table 16   Recommended Attribute for Neighboring eNodeB

| MOM                                 Parameter   | Default   | Neighbor to                                 SCell-Only                                 Cells   | Comment                                                                                                             |
|-------------------------------------------------|-----------|------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------|
| GUtranSyncSignalFrequency                       |           | Not present                                                                                    | It is not recommended to be present for frequencies used only for                                 SCell only cells. |

Table 17   Recommended MOM Configuration to Optimize Performance for

SCell-Only

Cells

| Attribute             | Default   | SCell-Only                                 Cells   | Comment                                                                                                                                                   |
|-----------------------|-----------|----------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------|
| NRCellCU.transmitSib2 | false     | false                                              | Only needed if the value of the                                     NrCellDU.secondaryCellOnly attribute is set                                 to false. |
| NRCellCU.transmitSib4 | false     | false                                              | Only needed if the NrCellDU.secondaryCellOnly                                 attribute is set to false.                                                  |
| NRCellCU.transmitSib5 | false     | false                                              | Only needed if the NrCellDU.secondaryCellOnly                                 attribute is set to false.                                                  |
| NRCellCU.transmitSib9 | false     | false                                              | Only needed if the NrCellDU.secondaryCellOnly                                 attribute is set to false.                                                  |

# Appendix A: Feature Change History

This section lists changes that affected this feature and the impact it had on the

network.

## Appendix A.a: 21.Q2: FDD Inter-Baseband Support for NR DL Carrier Aggregation

This feature enhancement enables inter-baseband downlink carrier aggregation with FDD

duplex mode in two different Baseband units. It improves SCell candidate set selection with

SCells from multiple gNodeB Distributed Units (DUs).

| Feature Name:           | NR DL Carrier Aggregation   |
|-------------------------|-----------------------------|
| Feature Identity:       | FAJ 121 5201                |
| Value Package Name:     | Peak Rate Evolution         |
| Value Package Identity: | FAJ 801 4005                |
| Node Type:              | Baseband Radio Node         |
| Access Type:            | NR                          |

Benefits

The feature enhancement enables more flexible carrier aggregation by allowing the use

of two different Baseband units in FDD duplex mode.

The feature also improves SCell selection for all configured SCells with A6-based

SCell change. When an A6 report is received from the UE, the reported RSRP is

checked against the A1 RSRP threshold to decide if the reported SCell is in good

coverage. If the reported RSRP is below the threshold, the received measurement

report is discarded.

Capacity and Performance

The cell capacity is expected to increase because downlink data transmission is more

efficient.

Operation

No impact.

Interfaces

For inter-baseband carrier aggregation, the partner gNodeBs are connected by an E5

link through the Advanced RAN Coordination feature.

Hardware

No special hardware requirements.

Other Network Elements

No impact.

## Appendix A.b: 21.Q3: Enhanced PUCCH Allocation for NR DL Carrier Aggregation

This feature enhancement introduces an attribute to specify if additional PUCCH

resource is allocated in the cell for carrier aggregation.

| Feature Name:           | NR DL Carrier Aggregation   |
|-------------------------|-----------------------------|
| Feature Identity:       | FAJ 121 5201                |
| Value Package Name:     | Peak Rate Evolution         |
| Value Package Identity: | FAJ 801 4005                |
| Node Type:              | Baseband Radio Node         |
| Access Type:            | NR                          |

Summary and Benefits

This feature enhancement introduces the

NRCellDU.additionalPucchForCaEnabled attribute that specifies

if additional PUCCH resource is allocated in the cell for low and mid-band carrier

aggregation. The attribute allows the following configurations:

- Setting the attribute to true prevents downlink throughput degradation that can arise if PUCCH resource is limited. This is the recommended configuration if the NR cell is intended to be used as SpCell.
- Setting the attribute to false helps to avoid PUCCH overhead that reduces PUSCH capacity. This is the recommended configuration if the NR cell is not intended to be used as SpCell.

Capacity and Performance

The following changes can be observed in the affected cells:

- Peak uplink throughput is decreased proportionally to the number of uplink resource blocks allocated for additional PUCCH resource.
- Uplink Resource Block Symbol (RBSym) Utilization is decreased proportionally to the number of uplink resource blocks allocated for additional PUCCH resource.

Operation

This feature enhancement introduces the

NRCellDU.additionalPucchForCaEnabled attribute.

Allocating additional PUCCH resource increases the value of the

NRCellDU.pmMacRBSymAvailPucch counter.

Hardware

No special hardware requirements.

Interfaces

No impact.

Other Network Elements

ENM version 21.3 or later is required for this feature enhancement.

## Appendix A.c: 21.Q4: TDD-TDD Inter-Baseband Carrier Aggregation Support for NR DL Carrier Aggregation

The feature enhancement enables inter-baseband downlink carrier aggregation with

TDD-TDD duplex mode.

| Feature Name:           | NR DL Carrier Aggregation   |
|-------------------------|-----------------------------|
| Feature Identity:       | FAJ 121 5201                |
| Value Package Name:     | Peak Rate Evolution         |
| Value Package Identity: | FAJ 801 4005                |
| Node Type:              | Baseband Radio Node         |
| Access Type:            | NR                          |

Summary and Benefits

The feature enhancement allows more flexible carrier aggregation by enabling

inter-baseband carrier aggregation in TDD-TDD duplex mode with two component

carriers.

Capacity and Performance

The cell capacity is expected to increase because the downlink data transmission is

more efficient.

The downlink throughput is increased by aggregating multiple carriers.

Operation

No impact.

Hardware

No special hardware requirements.

Interfaces

For inter-baseband carrier aggregation, the partner gNodeBs are connected by an E5

link through the Advanced RAN Coordination feature.

Other Network Elements

No impact.

Related Information

NR DL Carrier Aggregation

## Appendix A.d: 22.Q2: Moving 3CC Support from NR DL Carrier Aggregation

The carrier aggregation of three downlink FDD component carriers in NR standalone

deployment is no longer supported for the NR DL Carrier Aggregation feature. For 3CC carrier

aggregation, the NR 3CC DL Carrier Aggregation feature must be activated.

| Feature Name           | NR DL Carrier Aggregation   |
|------------------------|-----------------------------|
| Feature Identity       | FAJ 121 5201                |
| Value Package Name     | Peak Rate Evolution         |
| Value Package Identity | FAJ 801 4005                |
| Node Type              | Baseband Radio Node         |
| Access Type            | NR                          |

Capacity and Performance

The peak downlink UE throughput is lower when aggregating two carriers instead of

three.

Operation

No impact.

Interfaces

The following interfaces carry fewer messages when aggregating two carriers instead

of three:

- Uu interface
- F1 interface

Hardware

No specific hardware requirements.

Other Network Elements

No impact.

Related Information

NR DL Carrier Aggregation

NR 3CC DL Carrier Aggregation

## Appendix A.e: 22.Q3: Enhanced SCell Measurement Handling

This feature enhancement improves the way UE measurements are used in the SCell

selection process.

| Feature Name           | NR DL Carrier Aggregation   |
|------------------------|-----------------------------|
| Feature Identity       | FAJ 121 5201                |
| Value Package Name     | Peak Rate Evolution         |
| Value Package Identity | FAJ 801 4005                |
| Node Type              | Baseband Radio Node         |
| Access Type            | NR                          |
| Impact at Upgrade      | Mandatory                   |

Summary and Benefits

This feature enhancement introduces a supervision timer function for EN-DC. The

purpose of the timer is to track event A1 and A2 measurement reports from the UE

after initial blind SCell selection. If no measurement reports are received for an

SCell before the timer expires, the SCell is considered out of coverage, and it is

deactivated. The deactivated SCell is deconfigured if the NR Intelligent SCell

Management feature is enabled.

Capacity and Performance

No impact.

Operation

No impact.

Interfaces

No impact.

Hardware

No specific hardware requirements.

Other Network Elements

No impact.

Related Information

NR DL Carrier Aggregation

## Appendix A.f: 22.Q4: UE Group Adaptation for Intra-Frequency SCell Mobility

This feature enhancement introduces support for UE group differentiated configuration

for the Intra-Frequency SCell

Mobility.

| Feature Name           | NR DL Carrier Aggregation   |
|------------------------|-----------------------------|
| Feature Identity       | FAJ 121 5201                |
| Value Package Name     | Peak Rate Evolution         |
| Value Package Identity | FAJ 801 4005                |
| Node Type              | Baseband Radio Node         |
| Access Type            | NR                          |
| Impact at Upgrade      | Mandatory                   |

Summary and Benefits

The UE

group adaptation is introduced through the new

IntraFreqMCCellProfileUeCfg MO class. The attributes in the

existing MO class are deprecated and replaced by the corresponding attributes in the

new MO class.

The UE group differentiated configuration of the Intra-Frequency SCell Mobility

function is

license-controlled

through the

User- and Service-Specific Mobility

feature.

Capacity and Performance

By using the flexible counter framework for EBS counters, operators can define

differentiated counters for different UE groups. Events can be

defined

by using UE group identifiers as separate flexible counter filtering attributes. For

more information, see UE Grouping Framework.

Operation

This feature enhancement introduces the following attributes:

- IntraFreqMCCellProfileUeCfg.rsrpBetterSCell
- IntraFreqMCCellProfileUeCfg.rsrpSCellCoverage
- IntraFreqMCCellProfileUeCfg.rsrqSCellCoverage
- IntraFreqMCCellProfileUeCfg.sCellCoverageTriggerQuantity

The feature enhancement deprecates the following attributes:

- IntraFreqMCCellProfile.rsrpBetterSCell
- IntraFreqMCCellProfile.rsrpSCellCoverage
- IntraFreqMCCellProfile.rsrqSCellCoverage
- IntraFreqMCCellProfile.sCellCoverageTriggerQuantity

Interfaces

No impact.

Hardware

No specific hardware requirements.

Other Network Elements

It is required to use ENM version 22.4 or later to support the

MOM changes introduced by this feature enhancement.

Related Information

NR DL Carrier Aggregation

## Appendix A.g: 24.Q4.0: Downlink Quality Metric Enhancements for NR DL Carrier Aggregation

This feature enhancement adds support for the use of RSRQ and SINR as trigger

quantities for A6 measurements and for the use of SINR for A1 and A2

measurements.

| Feature Name           | NR DL Carrier Aggregation   |
|------------------------|-----------------------------|
| Feature Identity       | FAJ 121 5201                |
| Value Package Name     | Peak Rate Evolution         |
| Value Package Identity | FAJ 801 4005                |
| Node Type              | Baseband Radio Node         |
| Access Type            | NR                          |
| Impact at Upgrade      | Optional                    |

Summary and Benefits

This

feature enhancement introduces support for the use of RSRQ or SINR as trigger

quantities for A6 measurements of the NR DL Carrier Aggregation feature.

This feature

enhancement also

supports

the use of SINR as an alternative trigger quantity for A1 and A2 measurements of the

feature.

This

feature enhancement can improve decisions for the following

procedures because of different evaluation methods for cell coverage:

- SCell activation
- SCell change
- SCell deactivation

Capacity and Performance

This

feature enhancement can be observed through the following

KPIs:

- Average DL MAC PRB Throughput
- DL MAC PRB Throughput per QoS
- Normalized Average DL MAC Cell Throughput Considering Traffic

Operation

This feature enhancement introduces the following attributes:

- CaCellMeasProfileUeCfg.betterSCellTriggerQuantity
- CaCellMeasProfileUeCfg.rsrqBetterSCell
- CaCellMeasProfileUeCfg.sinrBetterSCell
- CaCellMeasProfileUeCfg.sinrSCellCoverage
- CaFreqRelMeasProfileUeCfg.sinrSCellCoverageThrOffset

This feature enhancement modifies the

CaCellMeasProfileUeCfg.sCellCoverageTriggerQuantity attribute

by changing

the

enumeration type.

This feature enhancement

modifies

the descriptions of the following

attributes:

- CaCellMeasProfileUeCfg.rsrpBetterSCell
- CaCellMeasProfileUeCfg.rsrpSCellCoverage
- CaCellMeasProfileUeCfg.rsrqSCellCoverage
- CaFreqRelMeasProfileUeCfg.rsrpSCellCoverageThrOffset
- CaFreqRelMeasProfileUeCfg.rsrqSCellCoverageThrOffset

Interfaces

No impact.

Hardware

No specific hardware requirements.

Other Network Elements

It is recommended to use ENM version

24.4 or later to support the MOM changes introduced by this

feature enhancement. If the Release Independence Manager application is used, the

MOM changes are supported on earlier ENM versions also.

UE support for performing SINR measurements is required to fully benefit from this

feature enhancement.

Related Information

NR DL Carrier Aggregation

## Appendix A.h: 24.Q4.0: Compliance and Compatibility NR 3GPP Band Combination for 24.Q4

The feature enhancement introduces carrier aggregation band combinations for 24.Q4

release.

| Feature Name           | NR DL Carrier Aggregation   | NR DL Carrier Aggregation for Coverage Extension   | TDD PCell Support for DL Carrier Aggregation Low/Mid-Band   | NR 3CC DL Carrier Aggregation   | NR 4CC DL Carrier Aggregation   | NR 5CC DL Carrier Aggregation   | NR 6CC DL Carrier Aggregation   | NR-NR Dual Connectivity   | NR 4CC DL Carrier Aggregation High-Band   | NR 8CC DL Carrier Aggregation High-Band   | NR Uplink Carrier Aggregation   | NR Uplink Carrier Aggregation High-Band   |
|------------------------|-----------------------------|----------------------------------------------------|-------------------------------------------------------------|---------------------------------|---------------------------------|---------------------------------|---------------------------------|---------------------------|-------------------------------------------|-------------------------------------------|---------------------------------|-------------------------------------------|
| Feature Identity       | FAJ 121 5201                | FAJ 121 5202                                       | FAJ 121 5363                                                | FAJ 121 5426                    | FAJ 121 5518                    | FAJ 121 5639                    | FAJ 121 5753                    | FAJ 121 5380              | FAJ 121 4902                              | FAJ 121 4964                              | FAJ 121 5583                    | FAJ 121 5092                              |
| Value Package Name     | Peak Rate Evolution         | Advanced Coverage Extension                        | Peak Rate Evolution                                         | Peak Rate Evolution             | Peak Rate Evolution             | Peak Rate Evolution             | Peak Rate Evolution             | Peak Rate Evolution       | NR Base Package                           | Peak Rate Evolution                       | Peak Rate Evolution             | Peak Rate Evolution                       |
| Value Package Identity | FAJ 801 4005                | FAJ 801 4006                                       | FAJ 801 4005                                                | FAJ 801 4005                    | FAJ 801 4005                    | FAJ 801 4005                    | FAJ 801 4005                    | FAJ 801 4005              | FAJ 801 4002                              | FAJ 801 4005                              | FAJ 801 4005                    | FAJ 801 4005                              |
| Node Type              | Baseband Radio Node         | Baseband Radio Node                                | Baseband Radio Node                                         | Baseband Radio Node             | Baseband Radio Node             | Baseband Radio Node             | Baseband Radio Node             | Baseband Radio Node       | Baseband Radio Node                       | Baseband Radio Node                       | Baseband Radio Node             | Baseband Radio Node                       |
| Access Type            | NR                          | NR                                                 | NR                                                          | NR                              | NR                              | NR                              | NR                              | NR                        | NR                                        | NR                                        | NR                              | NR                                        |
| Impact at Upgrade      | Mandatory                   | Mandatory                                          | Mandatory                                                   | Mandatory                       | Mandatory                       | Mandatory                       | Mandatory                       | Mandatory                 | Mandatory                                 | Mandatory                                 | Mandatory                       | Mandatory                                 |

Summary and Benefits

The supported 3GPP TS 38.101-1, 38.101-2, and 38.101-3 compliance for 24.Q4 is

18.7.0.

Capacity and Performance

The feature enhancement enables additional band combinations for carrier aggregation.

This can lead to improved UE throughput.

Operation

No impact.

Interfaces

No impact.

Hardware

No specific hardware requirements.

Other Network Elements

No impact.

Related Information

NR DL Carrier Aggregation

NR DL Carrier Aggregation for Coverage Extension

TDD PCell Support for DL Carrier Aggregation Low/Mid-Band

NR 3CC DL Carrier Aggregation

NR 4CC DL Carrier Aggregation

NR 5CC DL Carrier Aggregation

NR 6CC DL Carrier Aggregation

NR-NR Dual Connectivity

NR 4CC DL Carrier Aggregation High-Band

NR 8CC DL Carrier Aggregation High-Band

NR Uplink Carrier Aggregation

NR Uplink Carrier Aggregation High-Band

## Appendix A.i: 25.Q2.0: Compliance and Compatibility NR 3GPP Band Combination for 25.Q2

The feature enhancement introduces carrier aggregation band combinations for 25.Q2

release.

| Feature Name           | NR DL Carrier Aggregation   | NR DL Carrier Aggregation for Coverage Extension   | TDD PCell Support for DL Carrier Aggregation Low/Mid-Band   | NR 3CC DL Carrier Aggregation   | NR 4CC DL Carrier Aggregation   | NR 5CC DL Carrier Aggregation   | NR 6CC DL Carrier Aggregation   | NR-NR Dual Connectivity   | NR 4CC DL Carrier Aggregation High-Band   | NR 8CC DL Carrier Aggregation High-Band   | NR Uplink Carrier Aggregation   | NR Uplink Carrier Aggregation High-Band   |
|------------------------|-----------------------------|----------------------------------------------------|-------------------------------------------------------------|---------------------------------|---------------------------------|---------------------------------|---------------------------------|---------------------------|-------------------------------------------|-------------------------------------------|---------------------------------|-------------------------------------------|
| Feature Identity       | FAJ 121 5201                | FAJ 121 5202                                       | FAJ 121 5363                                                | FAJ 121 5426                    | FAJ 121 5518                    | FAJ 121 5639                    | FAJ 121 5753                    | FAJ 121 5380              | FAJ 121 4902                              | FAJ 121 4964                              | FAJ 121 5583                    | FAJ 121 5092                              |
| Value Package Name     | Peak Rate Evolution         | Advanced Coverage Extension                        | Peak Rate Evolution                                         | Peak Rate Evolution             | Peak Rate Evolution             | Peak Rate Evolution             | Peak Rate Evolution             | Peak Rate Evolution       | NR Base Package                           | Peak Rate Evolution                       | Peak Rate Evolution             | Peak Rate Evolution                       |
| Value Package Identity | FAJ 801 4005                | FAJ 801 4006                                       | FAJ 801 4005                                                | FAJ 801 4005                    | FAJ 801 4005                    | FAJ 801 4005                    | FAJ 801 4005                    | FAJ 801 4005              | FAJ 801 4002                              | FAJ 801 4005                              | FAJ 801 4005                    | FAJ 801 4005                              |
| Node Type              | Baseband Radio Node         | Baseband Radio Node                                | Baseband Radio Node                                         | Baseband Radio Node             | Baseband Radio Node             | Baseband Radio Node             | Baseband Radio Node             | Baseband Radio Node       | Baseband Radio Node                       | Baseband Radio Node                       | Baseband Radio Node             | Baseband Radio Node                       |
| Access Type            | NR                          | NR                                                 | NR                                                          | NR                              | NR                              | NR                              | NR                              | NR                        | NR                                        | NR                                        | NR                              | NR                                        |
| Impact at Upgrade      | Mandatory                   | Mandatory                                          | Mandatory                                                   | Mandatory                       | Mandatory                       | Mandatory                       | Mandatory                       | Mandatory                 | Mandatory                                 | Mandatory                                 | Mandatory                       | Mandatory                                 |

Summary and Benefits

The supported 3GPP TS 38.101-1 and 38.101-3 compliance for 25.Q2 is 19.1.0 . The

supported 3GPP 38.101-2 compliance for 25.Q2 is 19.0.0.

Capacity and Performance

The feature enhancement enables additional band combinations for carrier aggregation.

This can lead to improved UE throughput.

Operation

No impact.

Interfaces

No impact.

Hardware

No specific hardware requirements.

Other Network Elements

No impact.

Related Information

NR DL Carrier Aggregation

NR DL Carrier Aggregation for Coverage Extension

TDD PCell Support for DL Carrier Aggregation Low/Mid-Band

NR 3CC DL Carrier Aggregation

NR 4CC DL Carrier Aggregation

NR 5CC DL Carrier Aggregation

NR 6CC DL Carrier Aggregation

NR-NR Dual Connectivity

NR 4CC DL Carrier Aggregation High-Band

NR 8CC DL Carrier Aggregation High-Band

NR Uplink Carrier Aggregation

NR Uplink Carrier Aggregation High-Band