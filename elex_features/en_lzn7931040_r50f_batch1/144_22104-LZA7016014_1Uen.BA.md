---
complexity_score: 22.0
converted_at: '2025-08-13T06:59:16.790583Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 2
images_saved: 3
original_path: 144_22104-LZA7016014_1Uen.BA.html
pictures_extracted: 2
processing_method: docling_multimodal
quality_score: 9.0
source_file: 144_22104-LZA7016014_1Uen.BA.html
source_zip: en_lzn7931040_r50f.zip
tables_extracted: 30
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 1893
---

# 

Multi-Layer Service-Triggered Mobility

Contents

![Image](../images/144_22104-LZA7016014_1Uen.BA/additional_3_CP.png)

![Image](../images/144_22104-LZA7016014_1Uen.BA/additional_3_CP.png)

- Overview
- Dependencies
- Feature Operation
    - A3 Offsets Per Target Frequency Relation and for Different QCI
    - A5 and B2 Thresholds Per Target Frequency Relation
    - A1A2Search, A5 and B2 Thresholds for Different QCI
    - Mobility Threshold Offset for A1Search and A2Search
    - Mobility Threshold Offset for A5 and B2 Measurement
    - Mobility Offset Adjustment for A3 Measurements
    - Mobility Threshold Offset for A5UlTrig
    - Mobility Threshold Offset for B2UlTrig
    - Mobility Threshold Offset for Different UE Power Classes
    - Absolute Offset or Threshold Calculation
- Network Impact
- Parameters
- Performance
- Activating the feature
- Deactivating the Feature
- Engineering Guidelines
    - Set Default Value for A1Search and A2Search
    - Set Default Value for A5 and B2
    - Set Default Value for A3
    - Set Default Value for A5UlTrig
    - Set Default Value for B2UlTrig
- Feature Change History
    - 18.Q4: Advanced Configuration for the A3 Offset and New Offset Selection Mechanism

# 1 Multi-Layer Service-Triggered Mobility Overview

The Multi-Layer Service-Triggered Mobility feature provides the possibility to configure

different threshold offset and offset adjustment values for cells, QCIs and UE power classes

to optimize the mobility for both different services and frequencies.

| Access Type:            | LTE                                          |
|-------------------------|----------------------------------------------|
| Feature Identity:       | FAJ 121 4124                                 |
| Value Package Name:     | Service-Based Mobility                       |
| Value Package Identity: | FAJ 801 0433                                 |
| Node Type:              | Baseband Radio Node                          |
| Licensing:              | Licensed feature. One license for each node. |

Summary

The configured feature parameter values are applied when a UE enters a searching zone or

returns into a good coverage zone. The Multi-Layer Service-Triggered Mobility

feature also supports different threshold offset and offset adjustment values for

different frequency relations and QCIs, and different offset values for good enough

other frequencies or RATs.

The main benefit of this feature is the possibility to tune different services and frequency

relations with different threshold

offset and

offset adjustment values for the following scenarios:

- Good coverage
- Bad coverage
- Good enough other frequency or RAT

By using different

thresholds and

offsets, which are optimized for specific services and

frequencies, it is possible to improve the capacity or mobility for the preferred

frequencies.

Additional Information

More information about the Multi-Layer Service-Triggered Mobility feature and related

topics can be found in the following documentation:

- 3GPP TS36.331 Radio Resource Control (RRC); Protocol Specification

# 2 Dependencies of Multi-Layer Service-Triggered Mobility

Table 1   Feature Dependencies

| Feature                                                                                                                                   | Relationship   | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Mobility Control at Poor Coverage                                 (FAJ 121 3013)                                                          | Prerequisite   | The Mobility Control at Poor Coverage feature must be activated, and                             the mobCtrlAtPoorCovActive attribute must be set to                                 true for each cell where the feature is                             active.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Automated Mobility Optimization                                 (FAJ 121 3035)                                                            | Related        | Counters related to the Automated Mobility Optimization feature can                                 be affected if A5-T2 is changed by the offsets introduced in the                                 Multi-Layer Service-Triggered Mobility feature.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Basic Intelligent                                     Connectivity (FAJ 121 4843)                                                         | Related        | One of the following features must be activated to calculate             the A2 measurement threshold value for the EN-DC-capable UE based on the threshold offset             adjustment values for different cells and QCIs:  Service Triggered Mobility     Multi-Layer Service-Triggered Mobility     If either of these features is activated together with Basic Intelligent             Connectivity, that feature supports the optimization of the mobility of EN-DC-capable             UEs.                                                                                                                                                                                                                                                                                                                                                                            |
| High Power UE (FAJ 121 4762)                                                                                                              | Related        | The support of UE power class differentiated measurement threshold                                 offset for mobility control requires that the Multi-Layer                                 Service-Triggered Mobility and the High Power UE features are                                 activated and configured.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Service Triggered Mobility (FAJ 121                                 1747)                                                                 | Related        | When these features are activated together, the Multi-Layer                                 Service-Triggered Mobility feature stays activated instead of the                                 Service Triggered Mobility feature.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| Service or Priority-Triggered Inter-Frequency                                     Handover                                 (FAJ 121 3087) | Related        | If the                                 EUtranCellFDD.spifhoDedicatedReportConfig or the                                 EUtranCellTDD.spifhoDedicatedReportConfig                         attribute is set to false, the threshold offset and the                         offset adjustment values that are configured in the Service or                         Priority-Triggered Inter-Frequency Handover feature affect the A5 measurement                         thresholds.                                                                                                                                                                                                                                                                                                                                                                                               |
| Uplink-Triggered Inter-Frequency                                     Mobility                                 (FAJ 121 1797)              | Related        | When these features are used together, the effect of an existing base                                 parameter used for configuring the A1 UL Search, A2 UL Search,                                 A5-T2, or B2-T2 measurement threshold in the UE is changed by the                                 corresponding offset parameter introduced in Multi-Layer                                 Service-Triggered Mobility.  Values for A5-T1 and B2-T1 thresholds are not applied because the                                 downlink quality of the serving cell is not relevant for                                 Uplink-Triggered Inter-Frequency Mobility.                                                                                                                                                                                                               |
| Mission-Critical Push-to-Talk (FAJ 121                                 4929)                                                              | Related        | When the Mission-Critical Push-to-Talk feature is active, this feature treats             mission-critical bearers like it treats VoLTE bearers.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Uplink-Traffic-Triggered                                     Mobility (FAJ 121 5044)                                                      | Related        | If the Mobility Control at Poor Coverage and the Uplink-Traffic-Triggered Mobility                 feature is enabled at the same time, and the handover-triggering thresholds are not                 set properly, the UE performs handovers between two cells indefinitely. To avoid                 this, the ReportConfigA5UlTraffic.a5Threshold2Rsrp attribute in                 the source cell must be set to a higher value than the                     ReportConfigSearch.a1a2SearchThresholdRsrp attribute in the                 target cell.  When the Service Triggered Mobility or Multi-Layer Service-Triggered Mobility                 features are also active, QCI-dependent thresholds can be applied in the target                 cell. In this case, the attribute must be set to a value higher than the maximum of                 these thresholds. |

Hardware

No specific hardware requirements.

Limitations

No known limitations.

Network Requirements

No specific network requirements.

# 3 Feature Operation of Multi-Layer Service-Triggered Mobility

The Multi-Layer Service-Triggered Mobility feature crosscuts the flow of some other

features and it overrides the Service Triggered Mobility feature when both features are

activated. When only the Service Triggered Mobility feature is activated with QCI-specific

offsets for each eNodeB level, it is still supported for compatibility.

The Multi-Layer Service-Triggered Mobility feature provides the possibility to configure

different threshold offset and offset adjustment values for different cells, QCIs, and UE

power classes, to optimize the mobility for different services and frequencies. The configured

values are applied when a UE enters a searching zone or returns to a good coverage zone. The

feature also supports different threshold offset and offset adjustment values for different

frequency relations and QCIs, and different offset values for other frequencies or RATs that

are good enough.

## 3.1 A3 Offsets Per Target Frequency Relation and for Different QCI

The Multi-Layer Service-Triggered Mobility feature enables different A3 offset adjustment

for each target frequency by introducing new offset adjustment

parameters.

The feature also makes it possible for different QCIs to have different A3 offset

adjustment for each target frequency relation. UE measurement offset value is based on

QCI variety.

## 3.2 A5 and B2 Thresholds Per Target Frequency Relation

The Multi-Layer Service-Triggered Mobility feature can enable the serving cell to have

different A5-T1 and B2-T1 threshold and different A5-T2 and B2-T2 threshold per target

frequency relation as shown in Figure 1. The

feature introduces new threshold offset parameters for the A5 measurement and B2 measurement per target

frequency relation.

Figure 1   A5 and B2 Threshold per Target Frequency Relation

By configuring thresholds for each target frequency relation as shown in Figure 1, this feature can differentiate bad coverage

behavior on target frequency.

## 3.3 A1A2Search, A5 and B2 Thresholds for Different QCI

The Multi-Layer Service-Triggered Mobility feature makes it possible for different QCIs in

the serving cell to have different good or poor coverage thresholds for A1 and A2. The QCI can

also have different A5-T1 and B2-T1 thresholds and different A5-T2 and B2-T2 thresholds for

each target frequency relation. The measurement threshold value of the UE is based on the QCI

constellation.

Figure 2   A1A2Search, A5 and B2 Thresholds for QCI-A

There is a possibility to get higher retainability for voice or increase capacity by

tuning different services with different A1A2Search threshold and A5 or B2 thresholds.

## 3.4 Mobility Threshold Offset for A1Search and A2Search

The Multi-Layer Service-Triggered Mobility feature can set event A1Search and A2Search

threshold with different threshold offset on cell level based on QCI profiles.

Figure 3   Mobility Threshold Offset for A1A2Search

UE A1A2Search threshold is calculated according to the following equations:

| A1A2SearchThresholdXQCI =   |    | ReportConfigSearch.a1a2SearchThresholdX +               ReportConfigSearch.qciA1A2ThrOffsets<qci>.a1a2ThrXQciOffset   |
|-----------------------------|----|-----------------------------------------------------------------------------------------------------------------------|
|                             |    |                                                                                                                       |
| A1A2SearchThresholdXUE =    |    | ReportConfigSearch.a1a2SearchThresholdX +             ReportConfigSearch.qciA1A2ThrOffsets<Y>.a1a2ThrXQciOffset       |

The terms used in the calculation are defined in the following way:

| X                      |    | RSRP or RSRQ                                                                                                                                                                                                                                                           |
|------------------------|----|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                        |    |                                                                                                                                                                                                                                                                        |
| Y                      |    | The QCI with the highest               UeMeasControl.prioOffsetPerQci.offsetPerQciPrio, which is used by             the UE. If more than one QCI has the same highest priority, the one with the maximum               a1a2ThrXQciOffset is used.                     |
|                        |    |                                                                                                                                                                                                                                                                        |
| a1a2ThrXQciOffset      |    | A QCI-specific threshold offset. For information on the selection process, see               Absolute Offset or Threshold Calculation.                                                                                                                                 |
|                        |    |                                                                                                                                                                                                                                                                        |
| A1A2SearchThresholdXUE |    | The threshold that is sent to the UE in the report configuration IE after being             computed in the eNodeB as the sum of the base threshold               a1a2SearchThresholdX and the value of selected QCI-specific             threshold a1a2ThrXQciOffset. |

Related concepts

Absolute Offset or Threshold Calculation

Related tasks

Set Default Value for A1Search and A2Search

## 3.5 Mobility Threshold Offset for A5 and B2 Measurement

The Multi-Layer Service-Triggered Mobility feature can set the threshold for the A5

measurement and the B2 measurement with different threshold offset for each frequency relation

and for each QCI.

Figure 4   MOM Relation for A5 Measurement and B2 Measurement for UTRA Measurement

For example, the A5 measurement threshold1 of a UE is calculated according to the following

equations:

| A5Threshold1XQCI =   |    | ReportConfigA5.a5Threshold1X + EUtranFreqRelation.a5Thr1XFreqOffset + EUtranFreqRelation.eutranFreqToQciProfileRelation<qci>.a5Thr1XFreqQciOffset                         |
|----------------------|----|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                      |    |                                                                                                                                                                           |
| A5Threshold1XUE =    |    | ReportConfigA5.a5Threshold1X + EUtranFreqRelation.a5Thr1XFreqOffset             +               EUtranFreqRelation.eutranFreqToQciProfileRelation<Y>.a5Thr1XFreqQciOffset |

The terms used in the calculation are defined in the following way:

| X                    |    | RSRP or RSRQ                                                                                                                                                                                                                                                                                                                                                                            |
|----------------------|----|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                      |    |                                                                                                                                                                                                                                                                                                                                                                                         |
| Y                    |    | The QCI with the highest               UeMeasControl.prioOffsetPerQci.offsetPerQciPrio, which is used by             the UE. If more than one QCI has the same highest priority, the one with the maximum               a5Thr1XFreqQciOffset is used.                                                                                                                                   |
|                      |    |                                                                                                                                                                                                                                                                                                                                                                                         |
| a5Thr1XFreqQciOffset |    | A QCI-specific threshold offset in target frequency relation. For information on the             selection process, see Absolute Offset or Threshold Calculation.                                                                                                                                                                                                                       |
|                      |    |                                                                                                                                                                                                                                                                                                                                                                                         |
| A5Threshold1XUE      |    | The threshold that is sent to the UE in the report configuration IE after being             computed in the eNodeB as the sum of the base threshold               a5Threshold1X and frequency-relation specific threshold offset               a5Thr1XFreqOffset for the target frequency and the value of the             selected QCI-specific threshold offset a5Thr1XFreqQciOffset. |

A5 threshold2 can be computed with a similar calculation method as that of A5 threshold1.

For B2 measurement for UTRA, UTRA TDD, CDMA2000, CDMA2000 1XRTT, and GERAN measurement, B2

threshold1 and B2 threshold2 follow a similar calculation method as that of A5.

Related concepts

Absolute Offset or Threshold Calculation

Related tasks

Set Default Value for A5 and B2

## 3.6 Mobility Offset Adjustment for A3 Measurements

This feature can set A3 measurement offset with different offset adjustment and

time-to-trigger for each frequency relation and for each QCI as shown in Figure 5, an example of MOM relations for A3

measurement.

Figure 5   Mobility Offset Adjustment for A3

For example, the UE A3 measurement offset is calculated according to the following

equations:

| A3OffsetXQCI =   |    | ReportConfigEUtraBestCell/ReportConfigEUtraIFBestCell.a3offset                         + EUtranFreqRelation.a3XFreqOffsetAdjustment +                             EUtranFreqRelation.eutranFreqToQciProfileRelation<qci>.a3XFreqQciOffsetAdjustment   |
|------------------|----|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                  |    |                                                                                                                                                                                                                                                       |
| AOffsetXUE =     |    | ReportConfigEUtraBestCell/ReportConfigEUtraIFBestCell.a3offset                         + EUtranFreqRelation.a3XFreqOffsetAdjustment +                             EUtranFreqRelation.eutranFreqToQciProfileRelation<Y>.a3XFreqQciOffsetAdjustment     |

Additional offset is applied for A3 inter-frequency RSRQ calculations:

| A3OffsetRsrqQCI =   |    | ReportConfigEUtraIFBestCell.a3offset +                             ReportConfigEUtraIFBestCell.a3RsrqOffset +                             EUtranFreqRelation.a3RsrqFreqOffsetAdjustment +                             EUtranFreqRelation.eutranFreqToQciProfileRelation<qci>.a3RsrqFreqQciOffsetAdjustment   |
|---------------------|----|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                     |    |                                                                                                                                                                                                                                                                                                              |
| A3OffsetRsrqUE =    |    | ReportConfigEUtraIFBestCell.a3offset +                             ReportConfigEUtraIFBestCell.a3RsrqOffset +                             EUtranFreqRelation.a3RsrqFreqOffsetAdjustment                             +EUtranFreqRelation.eutranFreqToQciProfileRelation<Y>.a3RsrqFreqQciOffsetAdjustment      |

The terms used in the calculations are defined in the following way:

| X                          |    | RSRP or RSRQ                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|----------------------------|----|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                            |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| Y                          |    | The QCI with the highest                                 UeMeasControl.prioOffsetPerQci.offsetPerQciPrio,                             which is used by the UE. If more than one QCI has the equal highest                             priority, the one with the maximum                                 a3XFreqQciOffsetAdjustment is used.                                                                                                                                            |
|                            |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| a3XFreqQciOffsetAdjustment |    | A QCI-specific offset adjustment in target frequency relation. For                             information on the selection process, see Absolute Offset or                                 Threshold Calculation.                                                                                                                                                                                                                                                                      |
|                            |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| A3OffsetXUE                |    | The offset that is sent to the UE in the report configuration IE, after                             being computed in the eNodeB as the sum of the base offset                                 a3offset and frequency-relation specific offset                             adjustment a3XFreqOffsetAdjustment for the target                             frequency and the value of selected QCI-specific offset adjustment                                 a3XFreqQciOffsetAdjustment. |
|                            |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| a3XFreqOffsetAdjustment    |    | The                                                          value of the frequency-relation specific offset adjustment.                                                                                                                                                                                                                                                                                                                                                                |

Related concepts

Absolute Offset or Threshold Calculation

Related tasks

Set Default Value for A3

## 3.7 Mobility Threshold Offset for A5UlTrig

This feature can set event A5UlTrig threshold for Uplink-Triggered Inter-Frequency

Mobility with different threshold offset for each frequency relation and for each QCI as

shown in Figure 6, an example of MOM

relation for event A5UlTrig measurement.

Figure 6   Mobility Threshold Offset for A5UlTrig

For example, the event A5UlTrig threshold2 is calculated according to the following

equations:

| A5Threshold2QCI =   |    | ReportConfigA5UlTrig.a5Threshold2 +                             EUtranFreqRelation.a5Thr2FreqOffset +                             EUtranFreqRelation.eutranFreqToQciProfile Relation<qci>.a5Thr2FreqQciOffset   |
|---------------------|----|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                     |    |                                                                                                                                                                                                                 |
| A5Threshold2UE =    |    | ReportConfigA5.a5Threshold2 +                             EUtranFreqRelation.a5Thr2FreqOffset +                             EUtranFreqRelation.eutranFreqToQciProfileRelation<Y>.a5Thr2FreqQciOffset            |

The terms used in the calculation are defined in the following way:

| Y                   |    | The QCI with the highest                             UeMeasControl.prioOffsetPerQci.offsetPerQciPrio,                         which is used by the UE. If more than one QCI has the equal highest                         priority, the one with the maximum a5Thr2FreqQciOffset                         is used.                                                                                                                                            |
|---------------------|----|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                     |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| a5Thr2FreqQciOffset |    | A QCI-specific threshold offset in target frequency relation. For information                         on the selection process, see Absolute Offset or Threshold                             Calculation.                                                                                                                                                                                                                                                    |
|                     |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| A5Threshold2UE      |    | The threshold that is sent to the UE in the report configuration IE after                         being computed in the eNodeB as the sum of the base threshold                             a5Threshold2 and frequency-relation specific                         threshold offset a5Thr2FreqOffset for the target                         frequency and the value of selected QCI-specific threshold offset                             a5Thr2FreqQciOffset. |

Related concepts

Absolute Offset or Threshold Calculation

Related tasks

Set Default Value for A5UlTrig

## 3.8 Mobility Threshold Offset for B2UlTrig

The Multi-Layer Service-Triggered Mobility feature can set event B2UlTrig threshold for

Uplink-Triggered Inter-Frequency Mobility with different threshold offset for each

frequency relation and for each QCI.

Figure 7   Mobility Threshold Offset for B2UlTrig

For example, event B2UlTrig threshold2 for the UE is calculated according to the

following equations:

| B2Threshold2GeranQCI   |    | ReportConfigB2GeranUlTrig.b2Threshold2Geran +                             GeranFreqGroupRelation.b2Thr2GeranFreqOffset +                             GeranFreqGroupRelation.qciB2ThrOffsets<qci>.b2Thr2GeranFreqQciOffset                                                                                                                                                                                                                                                                                                                                                                 |
|------------------------|----|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                        |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| B2Threshold2GeranUE    |    | ReportConfigB2Geran.b2Threshold2Geran +                             GeranFreqGroupRelation.b2Thr2GeranFreqOffset +                             GeranFreqGroupRelation.qciB2ThrOffsets<Y>.b2Thr2GeranFreqQciOffset                                                                                                                                                                                                                                                                                                                                                                         |
|                        |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| B2Threshold2UtraQCI    |    | For EcNo setting:                             ReportConfigB2UtraUlTrig.b2Threshold2EcNoUtra +                             UtranFreqRelation.b2Thr2EcNoUtraFreqOffset +                             UtranFreqRelation.utranFreqToQciProfileRelation<qci>.b2Thr2EcNoUtraFreqQciOffset  For RSCP setting:                             ReportConfigB2UtraUlTrig.b2Threshold2RscpUtra +                             UtranFreqRelation.b2Thr2RscpUtraFreqOffset +                             UtranFreqRelation.utranFreqToQciProfileRelation<qci>.b2Thr2RscpUtraFreqQciOffset                  |
|                        |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| B2Threshold2UtraUE     |    | For EcNo setting: ReportConfigB2Utra.b2Threshold2EcNoUtra                         + UtranFreqRelation.b2Thr2EcNoUtraFreqOffset +                             UtranFreqRelation.b2Thr2EcNoUtraFreqOffset                         +                             UtranFreqRelation.utranFreqToQciProfileRelation<Y>.b2Thr2EcNoUtraFreqQciOffset  For RSCP setting: ReportConfigB2Utra.b2Threshold2RscpUtra                         + UtranFreqRelation.b2Thr2RscpUtraFreqOffset +                             UtranFreqRelation.utranFreqToQciProfileRelation<Y>.b2Thr2RscpUtraFreqQciOffset |

The terms used in the calculation are defined in the following way:

| Y                                                                                                          |    | UeMeasControl.prioOffsetPerQci.offsetPerQciPrio, which is                         used by the UE. If more than one QCI has the equal highest priority, the one                         with the maximum b2Thr2GeranFreqQciOffset,                             b2Thr2EcNoUtraFreqQciOffset, or                             b2Thr2RscpUtraFreqQciOffset is used.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|------------------------------------------------------------------------------------------------------------|----|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                                                                                                            |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| b2Thr2GeranFreqQciOffset, b2Thr2EcNoUtraFreqQciOffset, and                     b2Thr2RscpUtraFreqQciOffset |    | A QCI-specific threshold offset in target frequency relation.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|                                                                                                            |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| B2Threshold2GeranUE and B2Threshold2UtraUE                                                                 |    | The threshold that is sent to the UE in the report configuration IE after                         having been computed in the eNodeB as the sum of the following:   The base threshold: b2Threshold2Geran,                                         b2Threshold2EcNoUtra, or                                         b2Threshold2RscpUtra     The frequency-relation specific threshold offset for the target                                     frequency: b2Thr2GeranFreqOffset,                                         b2Thr2EcNoUtraFreqOffset, or                                         b2Thr2RscpUtraFreqOffset     The value selected according to the algorithm based on these                                     threshold offsets: b2Thr2GeranFreqOffset,                                         b2Thr2EcNoUtraFreqOffset, or                                         b2Thr2RscpUtraFreqOffset |

Related tasks

Set Default Value for B2UlTrig

## 3.9 Mobility Threshold Offset for Different UE Power Classes

When the High Power UE feature is active, the Multi-Layer Service-Triggered Mobility

feature can set different offsets for the A2 critical, A5 T1 and T2, and B2 T1

measurement thresholds depending on UE power class.

Figure 8   Mobility Threshold Offset for Different UE Power Classes

For example, when the high-power UE has several QCIs and it triggers an A5 measurement, the

offset is applied to the A5 T1 threshold in the following way:

| A5Threshold1XHPUE   |    | ReportConfigA5.a5Threshold1X +                             EUtranFreqRelation.a5Thr1XFreqOffset +                             EUtranFreqRelation.eutranFreqToQciProfileRelation<Y>.a5Thr1XFreqQciOffset                         +                             a5OffsetPerPC<powerclass>.a5Thr1XPowerClassOffset         |
|---------------------|----|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                     |    |                                                                                                                                                                                                                                                                                                                         |
| Y                   |    | The QCI with the highest                             UeMeasControl.prioOffsetPerQci.offsetPerQciPrio,                         which is used by the UE. If more than one QCI has the same highest priority,                         the one with the maximum a5Thr1XFreqQciOffset value is                         used. |

The other thresholds that are differentiated by UE power class are calculated in a

similar way.

## 3.10 Absolute Offset or Threshold Calculation

The offsetPerQciPrio parameter, member of the

MeasReportConfigParams struct holds the QCI-dependent offset

priority.

The QCI-dependent offset priority is not configurable for each event.

Depending on the QCI-dependent offset priority, the following values can be configured:

- The priority is set to a value different from -1, so offset with maximum QCI-dependent priority corresponding to the QCI profiles of the UE bearers is taken into calculation for absolute offset or threshold.
- The priority is set to -1, so offset is excluded from the calculation. If all priorities are set to -1, offset value is 0, meaning "base" threshold or offset value is used as absolute offset or threshold sent to the UE.
- The priority is set to 0 for all QCI profiles or there are multiple offsets with maximum QCI-dependent priority. So, offset with the highest value corresponding to the QCI profiles of the UE bearers is selected for calculation for absolute offset or threshold.

# 4 Network Impact of Multi-Layer Service-Triggered Mobility

The feature affects the UE mobility patterns.

Capacity and Performance

This feature affects the mobility patterns of UEs because the introduced threshold

offset tuning changes the settings of measurement thresholds.

Interfaces

No impact.

Other Network Elements

No impact.

# 5 Parameters of Multi-Layer Service-Triggered Mobility

The Multi-Layer Service-Triggered feature introduces threshold parameters and affects

parameters used for configuring measurement threshold in the UE.

Table 2   Parameters

Related concepts

Mobility Threshold Offset for A1Search and A2Search

Mobility Threshold Offset for A5 and B2 Measurement

Mobility Offset Adjustment for A3 Measurements

Mobility Threshold Offset for A5UlTrig

Mobility Threshold Offset for B2UlTrig

Mobility Threshold Offset for Different UE Power Classes

# 6 Performance of Multi-Layer Service-Triggered Mobility

The operation of the feature can be observed with PM counters and events.

KPIs

Table 3   Key Performance Indicators

| KPI                             | Description                                                                                                                                        |
|---------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------|
| Mobility Success Rate KPI       | This KPI value might indicate whether the different offset values                                     for handover or measurement are good enough. |
| E-RAB Retainability per QCI KPI | This KPI value can indicate whether service retainability is                                     increased.                                        |

Counters

This feature has no directly associated counters.

However, the handover-related counters are affected by the Multi-Layer

Service-Triggered Mobility feature. This is because the UE can execute mobility

actions, release with redirect, or handover more frequently or more rarely than when

offset values are not used to change the behavior of base threshold values.

The following counters are examples that indicate whether the mobility to preferred

frequency is triggered more frequently:

- EUtranCellRelation.pmHoPrepAttLteInterF
- UtranCellRelation.pmHoPrepAttSrvcc
- GeranCellRelation.pmHoPrepAtt
- UtranCellRelation.pmHoPrepAtt

The following EBS counters generated by ENIQ are examples that indicate whether the

number of QCI handovers to preferred frequency in LTE is increased:

- EUtranCellFDD.pmHoPrepAttLteInterFQci
- EUtranCellTDD.pmHoPrepAttLteInterFQci
- EUtranCellFDD.pmHoPrepSuccLteInterFQci
- EUtranCellTDD.pmHoPrepSuccLteInterFQci

The following node counters are examples that indicate whether the number of QCI

handovers to preferred frequency in LTE is increased:

- EUtranCellFDD.pmHoExeOutAttQci
- EUtranCellTDD.pmHoExeOutAttQci
- EUtranCellFDD.pmHoExeOutSuccQci
- EUtranCellTDD.pmHoExeOutSuccQci

Events

Table 4   Events

| Event                         | Event Parameter             | Description                                                                                                                                                                                                                                       |
|-------------------------------|-----------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| INTERNAL_EVENT_ERAB_DATA_INFO | EVENT_ARRAY_RECONF_MEAS_QCI | Indicates the QCIs of set up, released, or modified bearers that                                     lead to a measurement reconfiguration within the corresponding                                     procedure.                                |
| INTERNAL_EVENT_ERAB_DATA_INFO | EVENT_PARAM_ERAB_PROCEDURE  | Indicates the E-RAB-related procedure (setup, release, or modify)                                     that is executed when the event containing transparent E-RAB or                                     E-RAB procedure-related data is issued. |

# 7 Activate Multi-Layer Service-Triggered Mobility

Prerequisites

- The license key is installed in the node.
- CCTR is active for at least one week before this procedure to collect enough troubleshooting data.

Steps

1. Set the FeatureState.featureState attribute to ACTIVATED in the FeatureState=CXC4011815 MO instance.

After This Task

Keep CCTR active for at least one week after this procedure for continued collection of troubleshooting data.

# 8 Deactivate Multi-Layer Service-Triggered Mobility

Prerequisites

CCTR is active for at least one week before this procedure to collect enough troubleshooting data.

Steps

1. Set the FeatureState.featureState attribute to DEACTIVATED in the FeatureState=CXC4011815 MO instance.

After This Task

Keep CCTR active for at least one week after this procedure for continued collection of troubleshooting data.

# 9 Engineering Guidelines for Multi-Layer Service-Triggered Mobility

## 9.1 Set Default Value for A1Search and A2Search

Steps

When setting a different service with different QCI-specific threshold offset is

not needed, the threshold offset parameter can be set to a default value.

- Set the applicable member of the ReportConfigSearch.qciA1A2ThrOffsets attribute to 0.
    - a1a2ThrRsrpQciOffset
    - a1a2ThrRsrqQciOffset

- Check the offset values whenever there is a measurement configuration in the UE in the following procedures: Initial context setup E-RAB setup E-RAB release E-RAB modification Incoming handover

Related concepts

Mobility Threshold Offset for A1Search and A2Search

## 9.2 Set Default Value for A5 and B2

Steps

When setting different frequency relation with different A5 or B2

frequency-relation specific threshold offset is not needed, the default value

can be set.

- Set the applicable threshold offset parameter to 0.
    - EUtranFreqRelation.a5Thr1RsrpFreqOffset
    - EUtranFreqRelation.a5Thr1RsrqFreqOffset

When setting different frequency relation and different service with different A5

or B2 threshold offsets is not needed, the default value can be set.

- Set the applicable threshold offset parameter to 0.
    - EUtranFreqRelation.a5Thr2RsrpFreqOffset
    - EUtranFreqRelation.a5Thr2RsrqFreqOffset
- Set the applicable members of the EUtranFreqRelation.eutranFreqToQciProfileRelation attribute to 0.
    - a5Thr1RsrpFreqQciOffset
    - a5Thr1RsrqFreqQciOffset
    - a5Thr2RsrpFreqQciOffset
    - a5Thr2RsrqFreqQciOffset

- Check the offset values whenever there is a measurement configuration in the UE in the following procedures: Initial context setup E-RAB setup E-RAB release E-RAB modification Incoming handover

Related concepts

Mobility Threshold Offset for A5 and B2 Measurement

## 9.3 Set Default Value for A3

Steps

When setting different frequency relations with different A3 frequency-relation

specific offset adjustment is not needed, the default value can be set.

- Set the applicable offset adjustment parameter to 0.
    - EUtranFreqRelation.a3RsrpFreqOffsetAdjustment
    - EUtranFreqRelation.a3RsrqFreqOffsetAdjustment

When setting different frequency relations and different service with different

A3 offset adjustment is not needed, the default value can be set.

- Set the applicable members of the EUtranFreqRelation.eutranFreqToQciProfileRelation attribute to 0.
    - a3RsrpFreqQciOffsetAdjustment
    - a3RsrqFreqQciOffsetAdjustment

- Check the offset values whenever there is a measurement configuration in the UE in the following procedures: Initial context setup E-RAB setup E-RAB release E-RAB modification Incoming handover

Related concepts

Mobility Offset Adjustment for A3 Measurements

## 9.4 Set Default Value for A5UlTrig

Steps

When setting different frequency relations with different A5 frequency-relation

specific threshold offset is not needed, the default value can be set.

- Set the applicable offset adjustment parameter to 0.
    - EUtranFreqRelation.a5Thr1RsrpFreqOffset
    - EUtranFreqRelation.a5Thr1RsrqFreqOffset
    - EUtranFreqRelation.a5Thr2RsrpFreqOffset
    - EUtranFreqRelation.a5Thr2RsrqFreqOffset

When setting different frequency relation and different service with different A5

threshold offsets is not necessary, the default value can be set.

- Set the applicable members of the EUtranFreqRelation.eutranFreqToQciProfileRelation attribute to 0.
    - a5Thr1RsrpFreqQciOffset
    - a5Thr1RsrqFreqQciOffset
    - a5Thr2RsrpFreqQciOffset
    - a5Thr2RsrqFreqQciOffset

- Check the offset values when there is a measurement configuration in the UE in the following procedures: Initial context setup E-RAB setup E-RAB release E-RAB modification Incoming handover

Related concepts

Mobility Threshold Offset for A5UlTrig

## 9.5 Set Default Value for B2UlTrig

Steps

When setting different frequency relations with different B2 frequency-relation

specific threshold offsets is not needed, the default value can be set.

- Set the applicable offset adjustment parameter to 0.
    - GeranFreqGroupRelation.b2Thr2GeranFreqOffset
    - UtranFreqRelation.b2Thr2EcNoUtraFreqOffset
    - UtranFreqRelation.b2Thr2RscpUtraFreqOffset

When setting different frequency relation and different service with different B2

threshold offsets is not needed, the default value can be set.

- Set the applicable offset adjustment parameter to 0.
    - GeranFreqGroupRelation.b2Thr2GeranFreqOffset
    - UtranFreqRelation.b2Thr2EcNoUtraFreqOffset
    - UtranFreqRelation.b2Thr2RscpUtraFreqOffset
    - b2Thr2GeranFreqQciOffset member of the GeranFreqGroupRelation.qciB2ThrOffsets attribute
    - b2Thr2EcNoUtraFreqQciOffset member of the UtranFreqRelation.utranFreqToQciProfileRelation attribute
    - b2Thr2RscpUtraFreqQciOffset member of the UtranFreqRelation.utranFreqToQciProfileRelation attribute

- Check the offset values when there is a measurement configuration in the UE in the following procedures: Initial context setup E-RAB setup E-RAB release E-RAB modification Incoming handover

Related concepts

Mobility Threshold Offset for B2UlTrig

# 10 Feature Change History

This section lists changes that affected this feature and the impact it had on the

network.

## 10.1 18.Q4: Advanced Configuration for the A3 Offset and New Offset Selection Mechanism

Allows

the threshold offset of negative values.

| Feature Name: Further Enhanced Mobility Control in Poor Coverage   | Service Triggered Mobility  Multi-Layer Service-Triggered Mobility   |
|--------------------------------------------------------------------|----------------------------------------------------------------------|
| Feature Identity:                                                  | FAJ 121 1747  FAJ 121 4124                                           |
| Value Package Name:                                                | Service-Based Mobility                                               |
| Value Package Identity:                                            | FAJ 801 0433                                                         |
| Node Type:                                                         | Baseband Radio Node, DU Radio Node                                   |
| Access Type:                                                       | LTE                                                                  |

The enhancement provides the following benefits for the operator:

- Enables advanced A3 offset configuration
- New offset selection mechanism for events A1, A2, A3, A5, and B2 New priority parameters for prioritizing threshold per QCI on cell or node level
- Allows negative values for threshold offset

Capacity and Performance

No impact.

Operation

QCI dependent offset adjustment for event A3, used for Service Triggered Mobility, is

configured in the following struct members:

- a3IntraOffsetAdjustmentRsrp
- a3IntraOffsetAdjustmentRsrq
- a3InterOffsetAdjustmentRsrp
- a3InterOffsetAdjustmentRsrq

These can be found in QciProfilePredefined.measReportConfigParams and QciProfileOperatorDefined.measReportConfigParams.

QCI dependent time to trigger for event A3, used for Service Triggered Mobility, is

configured in the following struct members:

- timeToTriggerInterA3
- timeToTriggerInterA3Rsrq
- timeToTriggerIntraA3

These can be found in QciProfilePredefined.measReportConfigParams and QciProfileOperatorDefined.measReportConfigParams.

QCI dependent offset priority for Event A1, Event A2, Event A3, Event A5, and Event

B2 is configured in offsetPerQciPrio. It can be found in

QciProfilePredefined.measReportConfigParams and

QciProfileOperatorDefined.measReportConfigParams.

The frequency-relation specific offset adjustment for event A3, used for Multi-Layer

Service-Triggered Mobility, is configured in the following attributes:

- EUtranFreqRelation.a3RsrpFreqOffsetAdjustment
- EUtranFreqRelation.a3RsrqFreqOffsetAdjustment

The frequency-relation dependent and QCI specific offset adjustment for event A3,

used for Multi-Layer Service-Triggered Mobility, is configured in the following

struct members:

- a3RsrpFreqQciOffsetAdjustment
- a3RsrqFreqQciOffsetAdjustment

These can be found in EUtranFreqRelation.eutranFreqToQciProfileRelation.

The frequency-relation dependent and QCI specific time-to-trigger value for event A3,

used for Multi-Layer Service-Triggered Mobility, is configured in the following

struct members:

- timeToTriggerA3
- timeToTriggerA3Rsrq

They can be found in

EUtranFreqRelation.eutranFreqToQciProfileRelation.

QCI dependent offset priority for Event A1, Event A2, Event A3, Event A5, and Event

B2 is configured in offsetPerQciPrio. It can be found in

EUtranFreqRelation.eutranFreqToQciProfileRelation.

The feature enhancement improves Mobility Success Rate and E-RAB Retainability per

QCI.

Interfaces

No impact.

Hardware

No special hardware requirements.

Other Network Elements

No impact.