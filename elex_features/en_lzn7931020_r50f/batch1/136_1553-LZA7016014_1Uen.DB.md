---
complexity_score: 35.0
converted_at: '2025-08-13T06:58:17.161899Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 27
images_saved: 3
original_path: 136_1553-LZA7016014_1Uen.DB.html
pictures_extracted: 27
processing_method: docling_multimodal
quality_score: 9.0
source_file: 136_1553-LZA7016014_1Uen.DB.html
source_zip: en_lzn7931020_r50f.zip
tables_extracted: 31
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 1244
---

# 

Migrate Baseband Unit Using NETCONF-Based Procedure

Contents

![Image](../images/136_1553-LZA7016014_1Uen.DB/additional_3_CP.png)

![Image](../images/136_1553-LZA7016014_1Uen.DB/additional_3_CP.png)

- Migration Overview
    - Migration Requirements
    - Baseband Radio Node Migration Phases
- Early Preparation
    - Plan Migration
    - Prepare Node Software
    - Define Node Health Check Profile for Automatic Migration
- Preparation
    - Prepare Node Hardware
    - Request and Import License Key File to ENM
    - Prepare User Account
    - Prepare Migration Script
    - Store RAN Compute Unit Information
    - Run Health Check on Old RAN Compute Unit
    - Deactivate Features
    - Create Migration Profile
    - Create Configuration Files for the New RAN Compute Unit
    - Add Node IP to DHCP Server
- Order Migration
    - Lock Cells
    - Order Automatic Migration
- Migrate Node
    - Download and Transfer Site Installation File for LMT Migration
    - Remove Old RAN Compute Unit
    - Install New RAN Compute Unit
    - Bind Hardware in ENM for Zero Touch Migration
    - Integrate and Monitor Using Zero Touch
    - Integrate and Monitor Using LMT
- Finalize Migration
    - Confirm Completed Migration
    - Unlock Cells
    - Configure Licenses Using Instantaneous Licensing in Non-Connected Mode
    - Complementary Health Checks for Migration
- Migration Troubleshooting
    - Standalone ECT Validation of Configuration Files Failed
    - Auto Provisioning Integration Fails at the Validate Configurations Task
    - AIWS Notification Not Received
    - Import Configuration Files Failed
    - Auto Provisioning Migration Fails at Health Check
- Rollback
    - Rollback for Automatic Migration
    - Rollback for Manual Migration
- Detailed Procedures
    - Serial Number Used in Subject Alternative Name of Certificates for IPsec
    - Migrating the Cabinet or Support System Related Configuration to a Controller 6610
    - Move EC Bus to a Baseband R503
    - Move SAU to Controller 6610 Standalone
    - Configuration Data Handling at Migration
    - Migration of Baseband Unit Using IPsec and Pre-Shared Keys
    - Revoke Certificates

# 1 Migration Overview

There are several user guides available for the expansion, migration, and replacement of

Baseband Radio Nodes. To find the correct user guide for these use cases, see Baseband Expansion, Migration, and Replacement User Guides

Overview.

The NETCONF-Based migration method is used when migrating from an old Baseband unit to a

new RAN Compute unit, with different architectures. This document covers installation

and integration tasks, including the immediate preparation required before starting

activities on site.

Migration is supported for the following radio technologies:

- LTE
- NR
- WCDMA
- GSM
- Mixed mode combinations are supported for LTE, NR, WCDMA, and GSM, if they are supported by both the source and the target RAN Compute unit.

The supported unit migration combinations for migrating to RAN Compute Group 4 or 5 units

are shown in the following table:

Table 1   Supported Unit Migration Combinations for RAN Compute Group 4 and 5

Units

| From a RAN Compute Group 1 or 3 Unit:   | To a RAN Compute Group 4 or 5 Unit:   | To a RAN Compute Group 4 or 5 Unit:   | To a RAN Compute Group 4 or 5 Unit:   | To a RAN Compute Group 4 or 5 Unit:   | To a RAN Compute Group 4 or 5 Unit:   | To a RAN Compute Group 4 or 5 Unit:   | To a RAN Compute Group 4 or 5 Unit:   | To a RAN Compute Group 4 or 5 Unit:   | To a RAN Compute Group 4 or 5 Unit:   | To a RAN Compute Group 4 or 5 Unit:   |
|-----------------------------------------|---------------------------------------|---------------------------------------|---------------------------------------|---------------------------------------|---------------------------------------|---------------------------------------|---------------------------------------|---------------------------------------|---------------------------------------|---------------------------------------|
| From a RAN Compute Group 1 or 3 Unit:   | Radio Processor 6337                  | Radio Processor 6347                  | Radio Processor 6353                  | Baseband 6621                         | Baseband 6631                         | Baseband 6641                         | Baseband 6648                         | Streetmacro 6705                      | RAN Processor 6647                    | RAN Processor 6651                    |
| Baseband 5212                           | -                                     | -                                     | -                                     | x                                     | x                                     | x                                     | x                                     | -                                     | x                                     | x                                     |
| Baseband 5216                           | -                                     | -                                     | -                                     | x                                     | x                                     | x                                     | x                                     | -                                     | x                                     | x                                     |
| Baseband 6303                           | x                                     | x                                     | x                                     | -                                     | -                                     | -                                     | -                                     | -                                     | -                                     | -                                     |
| Baseband 6318                           | x                                     | x                                     | x                                     | -                                     | -                                     | -                                     | -                                     | -                                     | -                                     | -                                     |
| Baseband 6502                           | x                                     | x                                     | x                                     | -                                     | -                                     | -                                     | -                                     | -                                     | -                                     | -                                     |
| Baseband 6620                           | -                                     | -                                     | -                                     | x                                     | x                                     | x                                     | x                                     | -                                     | x                                     | x                                     |
| Baseband 6630                           | -                                     | -                                     | -                                     | x                                     | x                                     | x                                     | x                                     | -                                     | x                                     | x                                     |
| Streetmacro 6701(1)                     | -                                     | -                                     | -                                     | -                                     | -                                     | -                                     | -                                     | x                                     | -                                     | -                                     |

(1)

For migrating Streetmacro 6701 to Streetmacro 6705,

verify the mapping of the TN ports. For more

information, see related hardware CPI.

The supported unit migration combinations for migrating to RAN Compute Group 6 units are

shown in the following table:

Table 2   Supported Unit Migration Combinations for RAN Compute Group 6 Units

| From a RAN Compute Group 1, 3-5 Unit:   | To a RAN Compute Group 6 Unit:   | To a RAN Compute Group 6 Unit:   | To a RAN Compute Group 6 Unit:   | To a RAN Compute Group 6 Unit:   |
|-----------------------------------------|----------------------------------|----------------------------------|----------------------------------|----------------------------------|
| From a RAN Compute Group 1, 3-5 Unit:   | RAN Processor 6655               | RAN Processor 6672               | Radio Processor 6355             | Radio Processor 6372             |
| Baseband 5212                           | x                                | x                                | -                                | -                                |
| Baseband 5216                           | x                                | x                                | -                                | -                                |
| Baseband 6303                           | -                                | -                                | x                                | x                                |
| Baseband 6318                           | -                                | -                                | x                                | x                                |
| Radio Processor 6337                    | -                                | -                                | x                                | x                                |
| Radio Processor 6339                    | -                                | -                                | x                                | x                                |
| Radio Processor 6347                    | -                                | -                                | x                                | x                                |
| Radio Processor 6353                    | -                                | -                                | x                                | x                                |
| Baseband 6502                           | -                                | -                                | x                                | x                                |
| Radio Processor 6507                    | -                                | -                                | x                                | x                                |
| Baseband 6620                           | x                                | x                                | -                                | -                                |
| Baseband 6621                           | x                                | x                                | -                                | -                                |
| Baseband 6630                           | x                                | x                                | -                                | -                                |
| Baseband 6631                           | x                                | x                                | -                                | -                                |
| Baseband 6641                           | x                                | x                                | -                                | -                                |
| RAN Processor 6647                      | x                                | x                                | -                                | -                                |
| Baseband 6648                           | x                                | x                                | -                                | -                                |
| RAN Processor 6651                      | x                                | x                                | -                                | -                                |

Consider the following before migrating to a different RAN Compute unit:

- Support of access technologies on the target RAN Compute unit.Note: If the target unit does not support WCDMA or GSM, these RATs must be removed from the source RAN Compute unit before the migration process starts. For more information about RAT removal on a RAN Compute unit, see Migration to a RAN Compute Unit Not Supporting WCDMA or GSM.
- The number of RI-ports to be migrated and how many can be supported by the target RAN Compute unit.
- The type of SFP connectors used in the RAN Compute units and to which ports they can be migrated to.
- The TN port names can be different for certain RAN Compute Group units. For a general overview of applicable TN port names, see the MOM Description. For unit specific TN port names and RI groups, see the related hardware description document of the unit.

## 1.1 Migration Requirements

An overview of the hardware and software requirements for migration.

### 1.1.1 Migration Prerequisites

Ensure that the following conditions are met:

- ENM Auto Provisioning is used.
- ENM is used as a PKI system for OAM, and generates the security configuration file for the RAN Compute unit.
- The old Baseband unit is upgraded to the same quarterly software level as is planned for the new RAN Compute unit.
- The new RAN Compute unit supports the required radio functionality of the old Baseband unit. For more information, see the following documents related to the different radio technologies: Supported Capacity and Configurations for LTE RAN and Massive IoT RAN Supported Capacity and Configurations for NR RAN DU and Baseband Configurations and Capacity
- Radios used must be compatible with the new RAN Compute unit. If the new RAN Compute unit needs to be upgraded with additional radios or functionality, this must be planned as a separate step after the migration.

### 1.1.2 Migration Limitations

The following must be considered before starting the migration:

- LTE-specific configuration data not visible in the Baseband Radio Node MOM is not migrated.
- Alarm severity level information is not copied for alarms specific to WCDMA or GSM at migration.
- Some MOs must be handled in a special manner. For more information, see Configuration Data Handling at Migration.
- Migration only supports migration from one old Baseband unit to one new RAN Compute unit. No support for migrating multiple old Baseband units.
- No support for 3PP Radio Units. This must be handled after the migration by configuring associated MOs or attribute settings.
- Configurations related to Support System are not migrated. For more information, see Plan Migration.
- System constants are changed to default values and must be applied again after the migration.
- For RAN Compute units using IPsec with certificates where subjectAltName (SAN) MO contains the node serial number, a manual update must be done. For more information about the manual steps for handling SAN, see Serial Number Used in Subject Alternative Name of Certificates for IPsec.
- When migrating from RAN Compute group 1 or 3 to Ran Compute group 4, 5 and 6, only features that are supported in Ran Compute group 1 or 3 are activated at migration. Features that are only supported in Ran Compute group 4, 5, 6 must be activated manually as a post-migration activity.
- If the target unit does not support WCDMA or GSM, these RATs must be removed from the source RAN Compute unit before the migration process starts.

Migration to a RAN Compute Unit Not Supporting WCDMA or GSM

If the migration is started from a RAN Compute unit where WCDMA or GSM is configured

and the target RAN Compute unit does not support WCDMA or GSM, then the

configuration related to these RATs must be deleted before the migration process

starts.

To delete the WCDMA or GSM-related configuration, do the following:

- Delete all configuration under the following MOs: BtsFunction (GSM) NodeBFunction (WCDMA)
- Deactivate the associated features for WCDMA or GSM under the FeatureState MO by setting the FeatureState.featureState attribute to DEACTIVATED.

Alternatively, the associated feature and RAT configurations can be deleted from the

files that are generated by the migration script, before the migration process of

the new RAN Compute unit starts.

### 1.1.3 Migration Software Requirements

Migration requires the software to be up-to-date and the browser and Operating System

requirements to be met.

Software Levels

The recommended software level of migration tools must be used before the migration

can start, see Table 3.

Table 3   Recommended Minimum Software Level for Migration

| Component                                                                                        | Minimum Software Version                                                                                               |
|--------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------|
| ENM when using Instantaneous Licensing in connected mode                                         | Manual Migration: 22.2  Automatic Migration: 22.2                                                                      |
| ENM when using Instantaneous Licensing in non-connected                                     mode | 22.1                                                                                                                   |
| ECT standalone                                                                                   | An ECT version supporting the MOM version of the Baseband                                         unit to be migrated. |
| Advanced MO Scripting (AMOS)                                                                     | Version 19.0c                                                                                                          |

Browser and Operating System Requirements for Migration Tools

Supported browsers and Operating Systems are listed in Table 4.

Table 4   Supported Browsers and Operating Systems

| Software Tool                       | Supported Operating Systems         | Recommended Browsers                                                                 | Other Software Requirements   |
|-------------------------------------|-------------------------------------|--------------------------------------------------------------------------------------|-------------------------------|
| ENM                                 | Microsoft Windows  Apple iOS  Linux | Mozilla Firefox: latest ESR release candidate  Chrome: latest stable channel  Safari | -                             |
| ECT standalone                      | Microsoft Windows  Linux            | Mozilla Firefox: latest ESR release candidate  Chrome: latest stable channel         | JDK Java version 17           |
| Autointegration web GUI             | Microsoft Windows  Linux            | Google Chrome: version 76 or later                                                   | -                             |
| Ericsson Site Assistant Application | Android 9 and 10                    | -                                                                                    | -                             |

### 1.1.4 Hardware Installation Tools

Hardware installation requires an inventory of tools to be prepared before the

migration.

The list of tools can be found in the installation instruction relevant to the RAN

Compute unit, for example RAN Compute → Installation.

Review and prepare the necessary tools before starting the migration.

### 1.1.5 Migration User Roles

The following user roles apply to migration:

| Network Design Engineer   |    | Network Design Engineer creates scripts and configuration templates based on                         the high-level design for rollout and updating existing services and                         resources.                                                                                                                                                                                                             |
|---------------------------|----|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                           |    |                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Integration Technician    |    | Integration Technician loads the necessary software and configuration                         scripts, executes the integration activities, monitor the new resource or                         service being integrated in the network and performs post integration tests                         and verification to secure readiness for acceptance.                                                                 |
|                           |    |                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Field Technician          |    | Field Technician performs field work indoor and outdoor, in accordance with                         work orders, that includes cabling, hardware installation, and call test. If                         climbing is required, it is mandatory to follow the regulations applicable                         to work from heights including valid certificates and a second technician to                         assist. |

## 1.2 Baseband Radio Node Migration Phases

Figure 1   Prepare Migration

Figure 2   Integrate Node for Migration

# 2 Early Preparation

## 2.1 Plan Migration

Mandatory task.

Plan the migration:

- Secure that the required hardware is ordered.
- Identify the site to be migrated, if new or changed hardware and software configurations are needed.
- Identifying a commercial agreement is in place for the needed licenses.
- Decide which integration method to use Zero Touch or LMT. For limitation on the LMT integration method, see Limitations of LMT Integration Method.

Plan Site Configuration

SAU and EC ports are not supported in the new RAN Compute unit. If any of these ports

are used, the connected equipment and cables must be removed.

If the EC port is used and the old Baseband unit is the node that controls and

supervises the climate, power, and external alarm hardware in the cabinet, then the

cables can be removed. This is indicated with value TRUE on

EquipmentSupportFunction.SupportSystemControl. Identify the

site to be migrated, if new or changed hardware and software configurations are

needed. If the value of

EquipmentSupportFunction.SupportSystemControl is

TRUE, one of the following must be done:

- If a Baseband R503 is present, the EC-bus can move to the Baseband R503. For more information, see Move EC Bus to a Baseband R503.
- If Baseband R503 is not present, add a Controller 6610 to the cabinet to take care of the EC-bus interface. For more information see, Migrating the Cabinet or Support System Related Configuration to a Controller 6610.

If the EC port is used and the old

Baseband

unit is not the node that controls and supervises the climate, power, and external

alarm hardware in the cabinet, then the cables can be removed. This is indicated

with value FALSE on

EquipmentSupportFunction.SupportSystemControl. Only one node

in the cabinet can control and supervise climate and power.

If a SAU port is used on the old Baseband unit, action must be taken. See Move SAU to Controller 6610 Standalone for more information.

The RiPorts (xCPRI) are connected and used in the same way as in the old Baseband

unit. Ensure that the same number of RiPorts are used and supported at the old and

the new RAN Compute unit. Additional ports in the old Baseband unit must be

de-configured before the migration.

In the new RAN Compute unit, the ports are combined for TN and IDL. TN or IDL ports

in the old Baseband unit are mapped to a combined TN and IDL port in the new RAN

Compute unit using the CIQ file, see Create Migration Profile. The alarm

and sync ports are connected in the same way as in the old Baseband unit.

License Handling

The new RAN Compute unit requires a new separate License Key File (LKF). The LKF for

migration is requested and installed in one of the following ways:

- Manual Licensing: A request is sent to the Ericsson Customer Unit (CU). The generated file is manually imported to ENM and used in the migration. The request must be sent in advance, as the LKF must be available in ENM before the migration starts. For more information, see Request and Import License Key File to ENM.
- Instantaneous Licensing in connected mode: If Instantaneous Licensing in connected mode is used, request, delivery, import, and installation of LKFs are done automatically. Use the IL Manager tool or contact the CU to make sure that the License Configuration Set (LCS) is updated for the new RAN Compute unit.
- Instantaneous Licensing in non-connected mode: If Instantaneous Licensing in non-connected mode is used, old LKF generated for previously used hardware can be used for seven days through License System Triggered Unlock after completed migration. An alarm automatically indicates the activation of License System Triggered Unlock and the need to run the Radio Node License Request Flow in ENM Flow Automation, in order to generate required LRF. The LRF must then be submitted to the SSP-LKF Portal to generate an LKF for the target node. The LKF must be imported and installed manually.

For more information about licensing methods, see Manage Licenses and Hardware Activation Codes.

For detailed descriptions of the import functionality and the installation wizard,

see Install License Key Files tutorial in ENM online

help

Limitations of LMT Integration Method

For LMT, the on-site configuration method is not recommended. This method requires

manual changes to the configuration files and integration steps that are not

described in this document.

The migration script is not capable to generate a SIF file supporting all options

available for the LMT integration method. If LMT is used the SIF file must be

manually modified if the transport configuration related to the OAM transport

contains the following type of configurations:

- Dynamic IP addresses.
- Loopback interfaces.
- Bridges.
- IPsec.
- Transport configuration lacking a clear default route.
- Enrollment data for External PKI system. For more information, see BB Site Installation File, XSD.

## 2.2 Prepare Node Software

The upgrade package must be imported before the migration.

Prerequisites

- The Upgrade Package (UP) for the new RAN Compute unit is downloaded from the Ericsson Software Gateway and stored in ENM. The ENM Node Health Check Application and the ENM Auto Provisioning Configuration Generator both rely on the UP available in the ENM Software and Hardware Manager. If node health checks are defined for migration, or if the node profile created in ENM Auto Provisioning, the relevant UP must be imported before the migration. For more information on Upgrade Packages, see Manage Software.
- Ensure that the same quarterly software level is used for the old and the new RAN Compute unit. For information about the minimum software level, see RAN Release Note. Table 5 Supported UP/Software Product Combinations CXP Old Baseband Unit CXP New RAN Compute Unit CXP 902 4418/16 (CPRI software) CXP 201 0174/2 (CPRI/eCPRI software) CXP 902 4418/22 (eCPRI software)

Steps

1. Launch ENM and go to Software and Hardware Manager &gt; Software Administration .
2. Use Import Software Package to import the downloaded UP file to ENM.

## 2.3 Define Node Health Check Profile for Automatic Migration

A reference to a post-health check profile can be included in the node profile and

executed automatically as a part of the automated migration flow.

This task is optional and only applicable for the automatic migration method.

A health check profile is defined before the configurations are created, this will start

the automatic post-health check on the new RAN Compute unit after the migration. The

name of the profile is referenced in the configurations and the migration health check

option is set to true according to instructions in Update Options for Automatic Migration.

The health check profile is created in ENM NHC application. For instructions on how to

create it, see ENM online help → Node Health Check.

The following health check rules are recommended to include in the profile for migration

and can be selected from the ALL category:

Table 6   Health Check Rules for Migration

| Provider        | Health Check Rule ID         |
|-----------------|------------------------------|
| ENodeBFunction  | CheckS1LinkStatus            |
| GNBCUCPFunction | CheckNgLinkStatus            |
| GNBCUCPFunction | CheckXnLinkStatus            |
| BtsFunction     | CheckAbisLinkStatus          |
| NodeBFunction   | CheckNbapCommonLinkStatus    |
| NodeBFunction   | CheckNbapDedicatedLinkStatus |

For more details on the health check rules, see the chapter Health Check Rules and

Categories in Manage Node Health Check.

# 3 Preparation

## 3.1 Prepare Node Hardware

### 3.1.1 Confirm Network Loader Software Version

It is recommended to check the Network Loader software version before starting the

migration of a new RAN Compute unit.

This task is optional.

Steps

1. Check the revision of the hardware unit against the table in Upgrade Network Loader to determine the Network Loader version.
2. Upgrade the Network Loader by following the instructions in Upgrade Network Loader, if the revision is lower than required.

### 3.1.2 Confirm and Reset Hardware Integration State

The new RAN Compute unit must be in initial state, also called integration state,

when powered up for migration.

If the new RAN Compute unit has been used before, make sure to confirm that the unit

is in integration state. This is done off site as a preparation before the

integration of the new RAN Compute unit on site.

Steps

1. Connect and power up the new RAN Compute unit.
2. Connect a client to the LMT port on the node. For instructions on how to connect a laptop or a mobile device to the new RAN Compute unit, see Connect Client.
3. Launch a web browser and connect to the Emergency Access GUI. For instructions, see Connect Client.
4. Make sure that the Node Status is Node is working in the Emergency Access GUI.
5. Click on the Board Restore button in the Emergency AccessGUI. If the Emergency Access GUI does not have a Board Restore button, that means the unit is equipped with a physical Board Restore button. Press the Board Restore button with a thin pin or needle for more than 8 seconds. Wait until the unit is restarted and the Operational optical indicator is flashing at 0.5 Hz, before releasing the button.

## 3.2 Request and Import License Key File to ENM

If manual licensing is used, the License Key File (LKF) required for the migration is

requested and obtained as a part of the preparation activities.

This procedure applies to the manual licensing method. If Instantaneous Licensing in

connected mode is used, the node automatically requests an update of the LKF, and

there is no need to request an LKF in SHM. If Instantaneous Licensing in

non-connected mode is used, old LKF generated for previously used hardware can be

used for seven days through License System Triggered Unlock after

completed migration. An alarm automatically indicates the activation of

License System Triggered Unlock and the need to run

Generate Radio Node License Request File in ENM Flow

Automation, to generate required LRF. The LRF must then be submitted to the SSP-LKF

Portal to generate an LKF for the target node. The LKF must be imported and

installed manually.

For more information on the licensing methods, see Manage Licenses and Hardware Activation Codes.

For detailed descriptions of the import functionality and the installation wizard,

see the Install Licenses Key Files tutorial in ENM Online

Help.

Limitations

- The LKF for the old Baseband unit cannot be applied to the new RAN Compute unit.
- The LKF for the new RAN Compute unit cannot be applied to the old Baseband unit.

Prerequisites

- The new LKF must contain HWACs and features supported by the new RAN Compute unit.
- Fingerprint in the new LKF must match the fingerprint of the old Baseband unit. It is assumed that the Baseband unit name and fingerprint values are kept at migration.

Steps

1. Contact Ericsson CU to request and receive the License Key Files.
2. Log on to ENM.
3. Open Software and Hardware Manager &gt; License Administration .
4. Import the License Key File using Import Key Files.

## 3.3 Prepare User Account

ENM and node accounts must be prepared to perform the

migration.

Consider the security risks when handling the migration user account, as the migration

user requires access to the full node configuration and possibly to several radio nodes.

It is recommended to use Target Based Access Control (TBAC) as an addition to Role-Based

Access Control (RBAC), and remove the user when migration is completed.

For more information, see the ENM Identity and Access Management System

Administrator Guide in the Ericsson Network Manager CPI

library.

### 3.3.1 Prepare ENM Account

Steps

1. Create an ENM account with the following administrative rights: Cmedit\_Administrator FM\_Administrator Shm\_Administrator NodeSecurity\_Administrator NHC\_Administrator AMOS\_operator Cell\_Management\_Administrator AutoProvisioning\_Administrator or AutoProvisioning\_Operator
2. Optional: If the LMT integration method is used, create the FIELD\_TECHNICIAN role in ENM.

### 3.3.2 Prepare Node Account

Prepare a migration node account with roles and rules that provide access to the full

node MOM.

Steps

1. Create a node account with the following COM roles for the new RAN Compute unit: SystemReadOnly SystemSecurityAdministrator Users\_Application\_Security\_Administrator GNodeB\_Application\_Administrator used for NR migration. ENodeB\_Application\_Administrator used for LTE migration. NodeB\_Application\_Administrator used for WCDMA migration. Bts\_Application\_Administrator used for GSM migration.
2. Create the AMOS\_operator role in ENM.

## 3.4 Prepare Migration Script

### 3.4.1 Fetch Migration Script

Prerequisites

- The software level of the migration script must correspond to the software level used in the Baseband units. The version of the migration script to use is indicated in the excel file containing the migration script. For more information, see Migrate Baseband Script and for the software level of the migration script, see RAN Release note.

Steps

1. Fetch the migration script ZIP file from the Migrate Baseband Script excel file.
2. Place the migration script ZIP file in a directory which AMOS can access.
3. Unzip the migration script.

### 3.4.2 Update Options for Automatic Migration

This procedure applies to automatic migration.

Steps

1. Open the BB\_Migration\_Options.xml file. Example Content of BB\_Migration\_Options file &lt;MigrationOptions&gt; &lt;!-- The migration options below must only be used with a ENM version 21.4 or later. Value 'true' means that migration option is used --&gt; &lt;IsEnmAutomationUsed&gt;false&lt;/IsEnmAutomationUsed&gt; &lt;IsPostHealthCheckUsed&gt;false&lt;/IsPostHealthCheckUsed&gt; &lt;/MigrationOptions&gt;
![Image](../images/136_1553-LZA7016014_1Uen.DB/additional_3_CP.png)
3. Change the IsEnmAutomationUsed from false to true.
4. Optional: If a post health check is to be used, change the IsPostHealthCheckUsed from false to true. Check the following:
    1. Node health check is defined, see Define Node Health Check Profile for Automatic Migration.
    2. Configuration files are updated, see Create Configuration Files for the New RAN Compute Unit.
5. Save the file.

## 3.5 Store RAN Compute Unit Information

Steps

1. Write down the locked administrative status signaling links, check the following: TermPointToAmf TermPointToENodeB TermPointToGNodeB TermPointToMme TermPointToENB TermPointToGNB This information is used later when the links are to be manually unlocked, since all links are automatically set to administrativeState=LOCKED in the new RAN Compute unit during migration.
2. Update the current maintenance user with a strong security password and save the user and password. This information is needed when updating the CIQ. For more information, see Create Configuration Files for the New RAN Compute Unit. Note: Closing all sessions except for the maintenance user sessions, with the closeSessions() action can be needed before updating the password.
3. Write down the following information from the old Baseband unit: Information Migration Method Manual Automatic OSS prefix used in ENM. X - OSS model identity used in ENM. X - Target groups (TBAC) if used in ENM. X - SNMP security handling.(1) X - Serial number of the OAM and IPsec certificates (if ENM CA for IPsec). X X Information about any user-defined PM subscriptions activated for the RAN Compute unit.(2) X X (1) Store the username and password for SNMP authentication and privacy, where different users and passwords are used for each function. (2) If such exist, they must be activated again after the migration. See example where a user-defined PM subscription displayed in ENM CLI, starting with the string USERDEF. For more information, see ENM Online Help → PM Initiation and Collection.Note: Criteria-based and system-defined PM subscriptions, which the node is part of, are kept after migration.

## 3.6 Run Health Check on Old RAN Compute Unit

It is recommended to run a health check in the ENM NHC application to ensure that the

old RAN Compute unit is healthy.

This task is optional.

Run a health check in the ENM NHC application to ensure that the old RAN Compute unit is

healthy. For instructions on how to set up and run a health check, see Ericsson

Network Manager CPI → ENM Operators Guide.

The recommended category setting is SITE\_ACCEPTANCE. Errors detected during the health

check must be corrected before the migration continues. For more information on health

check categories and rules, see Manage Node Health Check.

## 3.7 Deactivate Features

Deactivate the features that are not supported on the new RAN Compute unit before

running the migration script and during low traffic conditions.

Steps

1. Set the FeatureState to DEACTIVATED for each feature not supported in the new RAN Compute unit. The attribute FeatureState is located in the MOs under managed element=1, SystemFunctions = 1, LM =1. For more information, see Feature Descriptions.
2. Write down the deactivated features. If the migration fails, the features must be reactivated after the rollback.

## 3.8 Create Migration Profile

The configuration of the old Baseband unit is copied and transformed into an ECT ZIP

file.

In this procedure, the downloaded migration script is run towards the old Baseband

unit.

All configurable MOs and parameters are copied except the following:

- Read-only MOs and parameters.
- MOs and parameters created or set by the system.
- MOs related to the node system functions (for example PM/CM related). These are recreated automatically by ENM or the node at migration and integration to the new RAN Compute unit. The exception is user-defined PM measurements that must be recreated manually after migration, see Finalize Migration.
- MOs indicated by the table Special Handling of MOs at Migration in Configuration Data Handling at Migration are not migrated or handled in a special manner.

Contact your local support organization, for how to handle any special configuration

data.

Steps

1. Execute the following command in AMOS towards the old Baseband unit: /path/to is the directory where the migration script files are stored: run /path/to/BB\_migration.mos /path/to/BB\_Migration.xsl Result: The output files from the migration script are stored in a directory in: /ericsson/log/amos/moshell\_logfiles/&lt;username&gt;/logs\_moshell/BB\_Migration/&lt;the name of the node&gt; The directory contains the following subdirectories: /Template Files /Validation Files
2. Optional: Modify the SIF manually if there are special configurations for LMT, see Limitations of LMT Integration Method.
3. Create a ZIP file including both the Template Files and the Validation Files. Example !cd /path/to/BB\_Migration/&lt;the name of the node&gt; !zip -r file.zip Template\ Files/ Validation\ Files/ Note: It is important that the directories are placed at the top level of the migration project ZIP file.
![Image](../images/136_1553-LZA7016014_1Uen.DB/additional_3_CP.png)

## 3.9 Create Configuration Files for the New RAN Compute Unit

An ENM Auto Provisioning project file is created for the new RAN Compute unit using

standalone Equipment Configuration Tool.

Steps

1. Go to Ericsson Software Gateway and install the latest ECT version. Product Line: Equipment Tool Product Number: CXP9026395/1
2. Start the ECT. For more information about launching the ECT, see the Launch ECT chapter in Manage Equipment Configuration Tool.
3. Click the Configuration Files Handler from the ECT main page.
4. Select the appropriate Upgrade Package and UP revision for the new RAN Compute unit.
5. Click Browse next to Configuration and choose the ZIP file created in Create Migration Profile.
6. Click Validate and verify that the configuration is OK. Note: Any warnings about deprecated attributes can be ignored. This can occur if the old Baseband unit is using not recommended configuration settings. If validation errors are encountered in ECT, see Standalone ECT Validation of Configuration Files Failed.
7. Click Generate CIQ and open the CIQ file.
8. Fill in all the missing parameters to be used on the new RAN Compute unit. Note: Depending on the configuration, only a subset of the parameters in the table CIQ Parameters is displayed in the excel file. Table 7 CIQ Parameters Parameter Valid for Migration Method Description MyExampleNode Manual Automatic tnPortId:&lt;SourcePortId&gt; X X There is one parameter for each TnPort MO configured in the old Baseband unit. The parameters are named according to the port used in the node tnPortId:TN\_A if TN\_A is configured. Enter the port identity on the new RAN Compute unit port that is used. TN\_IDL\_A\_1 password\_maint\_user:&lt;user identity&gt; X X One parameter for each maintenance user identity in the old Baseband unit. Set to the password for that user. Choose a strong password and change it after the integration is completed to increase security. Mypassword username\_maint\_user\_ENM X X Only exist if there are several maintenance user identities in the old Baseband unit. It then defines which of these user identities and passwords to use in the NodeInfo file. Myusername password\_maint\_user\_ENM X X Mypassword node\_logical\_name X X The logical name of the node, as identified by the management system. The value will be used as the name of the project in ENM Fingerprint\_TrustedCertificate:&lt;Certificate\_Id&gt; X X The fingerprint of the trusted certificate. Only needed in case external CA is used. One variable per used trusted certificate. nodeCredentialId:&lt;Id in from state &gt; X X The identity of the NodeCredential MO used for OAM. The identity in the from-state is included in the name of the parameter. This parameter is only included if the NodeCredential used for OAM does not follow the naming convention set by ENM Auto Provisioning. If ENM Auto Provisioning is used to integrate the new RAN Compute unit, this parameter must be set to oamNodeCredential. This is also the recommended setting for this parameter. trustCategoryId:&lt;Id in from state &gt; X X The identity of the TrustCategory MO used for OAM. The identity in the from-state is included in the name of the parameter. This parameter is only included if the TrustCategory MO used for OAM does not follow the naming convention set by ENM Auto Provisioning. If ENM Auto Provisioning is used to integrate the new RAN Compute unit, this parameter must be set to oamTrustCategory. This is also the recommended setting for this parameter. SMRS\_PortNumber X X The port number used on the ENM SMRS server. If no specific configuration has been performed on the ENM side, the value is 22. OSS\_model\_identity X - The OSS model identity (OMI) to select must correspond to the upgrade package selected for the new RAN Compute unit, seeUpgradePackageName. Select the OMI of the chosen software release to the new RAN Compute unit. To find the available OMIs in ENM, execute cmedit describe --netype RadioNode -t in ENM CLI. Examples: 20.Q4-R19A30 5952-511-268 UpgradePackageName X X The name of the Upgrade Package as defined in ENM SHM. For the new RAN Compute unit, this must be the Upgrade Package indicated by the release note for the quarterly release for which the migration is to be done. The revision of the Upgrade Package to select depends on which version of the quarterly release that is to be used. If it is an IP (intermediate package), or EC (emergency correction) release on top of the quarterly release. Both the old and the new RAN Compute units must have the same software support including MOM support. oss\_prefix X - This is the OSS prefix of the node. Use what was saved for the old Baseband unit. Subnetwork=Utopia,MeContext=MyExampleNode PresharedKey\_AuthenticationServer\_keyvalue X X The string used as preshared key when 802.1X authentication is used. PresharedKey\_AuthenticationServer\_ipaddress X X Remote authentication server IP address or domain name used at 802.1X authentication. health\_check\_profile - X When automatic migration is used together with a post health check, this parameter specifies the health check profile to be used. RiPort.riPortId:&lt;riPortId&gt; X X There is one parameter for each RiPort MO configured in the legacy RAN Compute. Enter the RiPort.riPortId attribute in the new RAN Compute. riPortId:A
9. Click Browse next to CIQ and choose the filled in CIQ file.

Results

The CIQ parameters are substituted into the configuration files, the full node

configuration is validated against selected MOM version and an ENM Auto Provisioning

integration project is created.

## 3.10 Add Node IP to DHCP Server

Add a node IP to DHCP server is optional.

If the DHCP configuration needs to be extended, follow the procedures and practices

applicable to your network setup. Because of the number of possible configurations,

detailed instructions are outside the scope of this instruction.

# 4 Order Migration

## 4.1 Lock Cells

Steps

1. Launch ENM Cell Management Application.
2. Select the cells of all radio technologies on the old Baseband unit in the Cells table. The status is displayed in the dialog. For cells on multiple nodes, an additional check box must be selected before you can proceed.
3. Right-click the selected cells, and click Lock.
4. View the Lock Result dialog to verify the lock status for each cell.

Results

The required cells are set to LOCKED and the Cells

table displays the updated statuses.

## 4.2 Order Automatic Migration

Prerequisites

- No configurations are changed on the old Baseband unit after the configuration data was retrieved, or these changes will be lost during migration.

Steps

1. Order the ENM Auto Provisioning (AP) migration project for the new RAN Compute unit with the previously created integration project ZIP file using one of the following methods:
    1. Import in ENM AP GUI.
    2. ap order in ENM AP CLI: ap order file:%projectName%
    ![Image](../images/136_1553-LZA7016014_1Uen.DB/additional_3_CP.png)
![Image](../images/136_1553-LZA7016014_1Uen.DB/additional_3_CP.png)
3. Verify that the order of the site definition is showing Pre-Migration Completed using one of the following: Troubleshooting: If the migration order failed, see Migration Troubleshooting.
    1. Monitor in ENM AP GUI.
    2. ap status in ENM AP CLI: ap status -p &lt;project name&gt;
    ![Image](../images/136_1553-LZA7016014_1Uen.DB/additional_3_CP.png)
![Image](../images/136_1553-LZA7016014_1Uen.DB/additional_3_CP.png)
![Image](../images/136_1553-LZA7016014_1Uen.DB/additional_3_CP.png)
6. Inform the Site Technician that work can start on site.

# 5 Migrate Node

## 5.1 Download and Transfer Site Installation File for LMT Migration

The Site Installation File (SIF) is needed to perform bind between the Baseband unit

and the site defined in ENM.

Prerequisites

One of the following ENM administrative roles is required:

- AutoProvisioning\_Administrator
- AutoProvisioning\_Operator

Steps

1. Launch the ENM Auto Provisioning application.
2. Select the project, and click Node in the topology pane.
3. Click LMT Download to download the generated SIF file.
4. Optional: Update the SIF file with the SMRS username and password. Note: The node logical name must be included in the SIF file, this enables additional node status entries in ENM for LMT integration.
5. Take the SIF file to the site.

## 5.2 Remove Old RAN Compute Unit

Prerequisites

Make sure that the following documents are read and understood:

- Personal Health and SafetyInformation
- System SafetyInformation

Steps

1. Inform the Integration Technician that work is starting on site.
2. Put on the ESD wrist strap and connect the cable to the ESD grounding point on the cabinet.
3. Power off the RAN Compute unit. Use the On and Off button on the Power Distribution Unit (PDU) corresponding to the RAN Compute unit. All optical indicators are off when the power is disconnected from the RAN Compute unit.
4. Disconnect all the cables from the old RAN Compute unit.
5. Remove the old RAN Compute unit from the cabinet.

## 5.3 Install New RAN Compute Unit

Prerequisites

Make sure that the following documents are read and understood:

- Personal Health and Safety Information
- System Safety Information
- A work order with instructions on how to connect the ports in the new RAN Compute unit.

Steps

1. Install the new RAN Compute unit by following the applicable hardware installation instruction. The instructions are located in the Installation folder of the applicable CPI collection. Example RAN Compute&gt; Installation .

## 5.4 Bind Hardware in ENM for Zero Touch Migration

If Zero Touch migration method is used, binding is performed by using serial number

or using the node logical name.

Bind RAN Compute unit is performed using one of the following methods:

- Serial number of the new installed RAN Compute unit, using one of the following ways: ZT Bind in ENM Auto Provisioning GUI. ap bind command in ENM CLI.
- Node logical name: If a client is used to supervise the migration on site, the binding can be done using the node logical name in the Autointegration Web GUI. For more information, see the chapter Integrate and Monitor Using Client during Zero Touch Integration in Integrate Baseband Radio Node.

## 5.5 Integrate and Monitor Using Zero Touch

Integration on site can be done using one of the following Zero Touch method:

- Power up the RAN Compute unit and monitor the integration by checking the optical indicators. For detailed instructions, see Power up and Monitor Zero Touch Integration in Integrate Baseband Radio Node
- Power up the RAN Compute unit and monitor the integration by using a client. For detailed instructions, see Integrate and Monitor Using Client during Zero Touch Integration in Integrate Baseband Radio Node

## 5.6 Integrate and Monitor Using LMT

Power up the RAN Compute unit and monitor the integration.

For detailed instructions, see Integrate and Monitor Using Client during LMT

Integration in Integrate Baseband Radio Node.

# 6 Finalize Migration

## 6.1 Confirm Completed Migration

Use ENM Auto Provisioning or ENM CLI to check if the migration is successfully

completed.

### 6.1.1 Confirm Completed Migration Using ENM Auto Provisioning GUI

Steps

1. Log on to ENM and launch the Auto Provisioning application.
2. Expand the project in the Topology pane and select the node.
3. Wait until the state row has changed to one of the following: Automatic: Migration Completed Manual: Integration Completed If the integration progress stops, see Migration Troubleshooting. Example Figure 3 Node Migration Status
Node\_Integration\_Status\_Screenshot\_19feb2020

![Image](../images/136_1553-LZA7016014_1Uen.DB/additional_3_CP.png)
5. Open the Topology browser application in ENM and verify that the node is configured correctly.
6. Open the Alarm monitor application in ENM and verify that the node has no major alarms reported.
7. Open the Node Health Check application in ENM iIf additional information on the results of the defined health checks is required.
8. Reconfigure user-defined PM measurement.

### 6.1.2 Confirm Completed Migration Using ENM CLI

Perform the following actions to validate the integration of the new RAN Compute

unit.

Steps

1. Log on to ENM.
2. Verify the state of the node integration with the following ENM CLI command: ap status -n &lt;node name&gt;
3. Wait until the state row has changed to one of the following: Manual: Integration Completed Automatic: Migration Completed If the integration progress stops, see Migration Troubleshooting.
node\_integrated.png

![Image](../images/136_1553-LZA7016014_1Uen.DB/additional_3_CP.png)
5. Open the Topology browser application in ENM and verify that the node is configured correctly.
6. Open the Alarm monitor application in ENM and verify that the node has no major alarms reported.
7. Open the Node Health Check application in ENM if additional information on the results of the defined health checks is required.
8. Reconfigure user-defined PM measurement.

## 6.2 Unlock Cells

For each termination point, cells of all radio technologies to be used, and NR sector

carrier, follow the steps.

Steps

1. Set the administrative state of the termination points that were unlocked before the migration, to UNLOCKED: TermPointToAmf TermPointToENodeB TermPointToGNodeB TermPointToMme TermPointToENB TermPointToGNB
2. Set the administrative state of the cells that were unlocked before the migration, to UNLOCKED: NRCellDU EUtranCellFDD EUtranCellTDD NbIotCell NodeBLocalCell Trx Note: Unlock cells in a remote radio unit take longer than normal.
3. Set the state of the NRSectorCarrier MO to UNLOCKED.

For more information about administrative states before the migration, see Store RAN Compute Unit Information.

Results

The node is taken into traffic.

After This Task

The new RAN Compute unit can be tested from a traffic

handling point of view. KPIs are collected for node monitoring.

## 6.3 Configure Licenses Using Instantaneous Licensing in Non-Connected Mode

If Instantaneous Licensing in non-connected mode is used, the LKF for the target node

must be handled manually using ENM and SSP-LKM after completed migration.

Prerequisites

- Migration is completed and Integration Unlock or System Trigger Unlock is triggered on the target node.

Steps

1. Log on to ENM.
2. Run the Radio Node License Request Flow to generate an LRF.
3. Submit the LRF to SSP-LKM to request a new LKF for the target node.
4. Download the generated LKF ZIP and upload it to ENM.
5. Open Software and Hardware Manager &gt; License Administration in ENM.
6. Import the LKF to the target node using Import Key Files.
7. Install the updated LKF on the target node.

## 6.4 Complementary Health Checks for Migration

This task is optional.

Complementary health checks are used to verify the health status of a node after a

completed migration. Health checks can be performed in the following ways:

Node Health Check (NHC)

The NHC application enables the user to run node health status checks and generate

reports of such checks using ENM.

For more information, see ENM Online Help in ELEX.

Automated Health Check (AHC)

AHC provides health checks and diagnostics after a finished migration project using

ENM Flow Automation. In addition, AHC can be used to verify the health status of up

to 20 nodes before a migration project.

For more information, see Manage Automated Health Check.

Node Health Validator (NHV)

NHV in EMGUI provides node health status and health validation for troubleshooting,

or after hardware installation and replacement, using LMT port or ENM.

For more information, see EMGUI Node Health Validator.

# 7 Migration Troubleshooting

Migration troubleshooting includes some errors that can occur during a migration. For

help with more cases than the ones listed here, see ENM online help and

Ericsson Network Manager CPI → ENM Configuration Troubleshooting

Guide.

## 7.1 Standalone ECT Validation of Configuration Files Failed

Cause: ECT Validation of Configuration Files Failed

At migration, the warnings about deprecated attributes can be ignored. This can

occur if the old Baseband unit is using not recommended configuration

settings.

Resolve Validation Error

1. Contact the local support organization for how to handle the errors.

## 7.2 Auto Provisioning Integration Fails at the Validate Configurations Task

If an error occurs when importing an Auto Provisioning project at the validate

configurations task, the task is marked as failed and presented in the Auto Provisioning

status. For more information, see Ericsson Network Manager → ENM Configuration

Troubleshooting Guide.

## 7.3 AIWS Notification Not Received

If the ENM Auto Provisioning order is completed but the AIWS notification is not

received, the integration logs must be downloaded and analyzed to act on the

problems.

Cause: Autointegration Errors

Resolve Autointegration Errors

1. Run the following command: ap status -n &lt;nodeName&gt;
2. Check if the Node Up Notification is Waiting and the AIWS notification is not received in the output. Example:
node up status

![Image](../images/136_1553-LZA7016014_1Uen.DB/additional_3_CP.png)
4. Click Download Network Loader Logs in the Autointegration Web GUI and examine the logs for information, related to VLAN scanning and SIF download.
5. Verify that the DHCP configuration is as described in Integration Planning and Infrastructure Guidelines.
6. Verify that the hardware serial number that was used for the binding of the project in ENM, matches the hardware serial number of the node. For further troubleshooting if using ENM DHCP, see ENM online help -&gt; ENM CLI -&gt; Command Sets -&gt;DHCP . If the problem cannot be resolved or a decision is made to restore the old Baseband unit, see Rollback.

## 7.4 Import Configuration Files Failed

The node has been uploaded with the site basics but is failing on importing the

configuration files. The ENM Auto Provisioning workflow is suspended at the stage that the

last successful import file was applied to the node.

Cause: Import Configurations Fails to the Node

Resolve

1. Identify the reason for import failure in the NETCONF output.
2. Update the faulty configuration file offline.
3. Upload the updated file using one of the following methods: Using the Upload button Auto Provisioning UI . Upload command from the ENM CLI AP command set.
4. Resume the integration using one of the following methods: Using the Resume button in Auto Provisioning UI . Resume command from the ENM CLI AP command set. Note: Cancel at this stage initiates a rollback if the automatic migration method is used. If the problem cannot be resolved or a decision is made to restore the old Baseband unit, see Rollback.

## 7.5 Auto Provisioning Migration Fails at Health Check

If the automatic post-health check fails, the Auto Provision migration workflow is

suspended and a health check report is presented in the additional information of the

failing task.

Auto Provisioning Migration Fails at Health Check

Resolve - Fix Health Check Failure

1. Select the link or open the URL to identify the reason for the health check failure.
2. Make the updates described in the health check recommendations, based on the output of the health check failure.
3. Resume the migration using one of the following methods: Using the Resume button in Auto Provisioning GUI. Resume command from the ENM CLI AP command set. Note: Cancel at this stage initiates a rollback if the automatic migration method is used. If the problem cannot be resolved or a decision is made to restore the old Baseband unit, see Rollback.

Resolve - Skip Health Check

1. Delete the Auto Provisioning node entry using one of the following methods: Using the Delete button in Auto Provisioning UI. Delete command from the ENM CLI AP command set.
2. Create a backup of the node and upload it to ENM using SHM.
3. Set MO AutoProvisioning attribute RbsConfigLevel to Ready For Service using ENM CLI, AMOS, or MoShell.

# 8 Rollback

If the migration fails and the faults cannot be resolved, use the rollback procedure to

restore the old Baseband unit.

It can be necessary to revoke the certificates for the new RAN Compute unit in case a

permanent rollback to the old Baseband unit is desired. For more information, see Revoke Certificates.

The LKF stored on the old Baseband unit is still valid and will be used after successful

rollback. The LKF for the new RAN Compute unit in ENM must not be applied to the old

Baseband unit. In case a permanent rollback is required, a new node LKF must be ordered

and loaded into ENM.

Prerequisites

- Information of the old Baseband unit, noted down from the preparation phase. See, Store RAN Compute Unit Information
- The same old Baseband unit must be used at rollback as was used before the new RAN Compute unit migration.

## 8.1 Rollback for Automatic Migration

This rollback procedure can only be performed if the automatic migration has been

used.

If rollback is initiated after the change to SNMPv3, the restored Baseband unit will

keep these settings.

Steps

1. Collect the node logs from the unsuccessfully integrated RAN Compute unit, using one of the following methods: From ENM, if the node integration was partly successful. From Auto Integration Web GUI, if there is no access to the node from ENM.
2. Inform the Site Technician that a rollback to the old Baseband unit needs to be performed on site.
3. Send the logs to local support organization, according to the normal support procedure.
4. Remove the new RAN Compute unit.
5. Insert the old Baseband unit and reconnect all equipment in the same way as it was before the migration. Note: Do not perform a factory reset on the old Baseband unit.
6. Click Cancel in the ENM Auto Provisioning migration flow and wait for the Migration Cancelled state.
7. Reissue certificate using following command: secadm certificate reissue -ct OAM --nodelist %NODENAME% Result: The following message will be displayed: Successfully started a job to reissue certificates for nodes.
![Image](../images/136_1553-LZA7016014_1Uen.DB/additional_3_CP.png)
9. Check the management state with the following command: cmedit get NetworkElement=%NODENAME% Note: The Network Element managementState attribute has to be set to NORMAL. Result: The node data for the selected node is presented with the managementState attribute.
![Image](../images/136_1553-LZA7016014_1Uen.DB/additional_3_CP.png)
11. Check the security credentials with the following command: secadm credentials get --nodelist %NODENAME% Note: If the security credentials have changed from the original Baseband unit security credentials the credentials have to be reset to their original values. If the credentials are different than what were used on the old Baseband unit, new credentials must be created to restore the old units maintenance user names and passwords in ENM. To create the new credentials, use the following command: secadm credentials create --secureusername &lt;myuser&gt; --secureuserpassword &lt;mypassword&gt; --nodelist %NODENAME% Result: The maintenance users for the node are presented.
![Image](../images/136_1553-LZA7016014_1Uen.DB/additional_3_CP.png)
![Image](../images/136_1553-LZA7016014_1Uen.DB/additional_3_CP.png)
14. Reactivate the features that were deactivated before the migration: Set the featureState to ACTIVATED for each feature that was deactivated before to the migration. This is located in the FeatureState MOs under managed element=1, SystemFunctions = 1, LM =1. For more information, see Store RAN Compute Unit Information.
15. Reconfigure user-defined PM measurement after the rollback. The user-defined PM subscriptions exported to a file before the migration must be imported again for the Baseband unit. For more information see, Store RAN Compute Unit Information and ENM online help → PM initiation and collection, Import a Subscription.
16. Unlock cells. For more information, see Unlock Cells.
17. Verify the old Baseband unit operation. Check the following: No alarms present. Traffic is handled as expected.

## 8.2 Rollback for Manual Migration

This rollback procedure describes a manual rollback procedure to the old Baseband

unit.

Steps

1. Collect the node logs from the unsuccessfully integrated RAN Compute unit using one of the following methods: From ENM, if the node integration was partly successful. From Auto Integration Web GUI, if there is no access to the node from ENM.
2. Inform the Site Technician that a rollback to the old Baseband unit needs to be performed on site.
3. Send the logs to node support, according to the normal support procedure.
4. Remove the unsuccessful ENM Auto Provisioning project: ap delete -p %projectName%
![Image](../images/136_1553-LZA7016014_1Uen.DB/additional_3_CP.png)
6. Remove the new RAN Compute unit.
7. Insert the old Baseband unit and reconnect all equipment in the same way as it was before the migration. Note: Do not perform a factory reset on the old Baseband unit.
8. Recreate the old Baseband unit using information from the configuration phase: cmedit create NetworkElement=%NodeName% networkElementId=%NodeName%, neType=RadioNode, ossModelIdentity=%OssModelId%, ossPrefix=%OssPrefix%, timeZone=%TimeZone% -ns=%OSSnameSpace% -v=%OssVersion%
![Image](../images/136_1553-LZA7016014_1Uen.DB/additional_3_CP.png)
10. Add the old Baseband unit to the target group again in ENM GUI if it was included before. For more information, see ENM online help.
11. Create connectivity information for the old Baseband unit: cmedit create NetworkElement=%NodeName% ComConnectivityInformation=1 ComConnectivityInformationId=1, transportProtocol=TLS, ipAddress=%ipaddress%, port=6513 -ns=COM\_MED -v=1.1.0 Depending on the SNMP security configuration noted down before the migration, one of the following options is chosen: By default the Radio Nodes are managed using SNMPv2C community enm-public. If it is needed to configure SNMP communities the snmpReadCommunity and snmpWriteCommunity parameters must be added. For all RadioNode nodes, the snmpReadCommunity value must be identical to the snmpWriteCommunity. To use SNMPv3 with Baseband Radio Node nodes the following parameters must be added to the cmedit command: snmpVersion=SNMP\_V3 snmpSecurityName=%sampleuser% snmpSecurityLevel. The snmpSecurityLevel can have the following values: NO\_AUTH\_NO\_PRIV AUTH\_NO\_PRIV AUTH\_PRIV In the latter two cases, proper keys must be defined by the secadm snmp command.
![Image](../images/136_1553-LZA7016014_1Uen.DB/additional_3_CP.png)
13. Set up the maintenance user for the old Baseband unit. Use the information that was noted down. secadm credentials create -sn %username% -sp %password% -n %nodename%
![Image](../images/136_1553-LZA7016014_1Uen.DB/additional_3_CP.png)
15. If SNMPv3 is used, create a security setup for the old Baseband unit with the information that was noted down. secadm snmp authpriv --auth\_algo %AuthAlgo% --auth\_password %someauthpassword% --priv\_algo %PrivAlgo% --priv\_password %someprivpassword% --nodelist NetworkElement=%NODENAME%
![Image](../images/136_1553-LZA7016014_1Uen.DB/additional_3_CP.png)
17. Enable node heartbeat supervision for CM: cmedit set NetworkElement=%nodename%,CmNodeHeartbeatSupervision=1 active=true
![Image](../images/136_1553-LZA7016014_1Uen.DB/additional_3_CP.png)
19. Enable alarms: cmedit set NetworkElement=%nodename%,FmAlarmSupervision=1 active=true
![Image](../images/136_1553-LZA7016014_1Uen.DB/additional_3_CP.png)
21. Enable Inventory supervision: cmedit set NetworkElement=%nodename%,InventorySupervision=1 active=true
![Image](../images/136_1553-LZA7016014_1Uen.DB/additional_3_CP.png)
23. Enable PM function: cmedit set NetworkElement=%nodename%,PmFunction=1 pmEnabled=true
![Image](../images/136_1553-LZA7016014_1Uen.DB/additional_3_CP.png)
25. Start resynchronization of node toward ENM: cmedit action NetworkElement=%nodename%, CmFunction=1 sync
![Image](../images/136_1553-LZA7016014_1Uen.DB/additional_3_CP.png)
27. Reissue certificate using following command: secadm certificate reissue -ct OAM --nodelist %NODENAME%
![Image](../images/136_1553-LZA7016014_1Uen.DB/additional_3_CP.png)
29. Reactivate the features that were deactivated before the migration: Set the featureState to ACTIVATED for each feature that was deactivated before to the migration. This is located in the FeatureState MOs under managed element=1, SystemFunctions = 1, LM =1. For more information, see Store RAN Compute Unit Information.
30. Reconfigure user-defined PM measurement after the rollback if it has been defined before the migration. The user-defined PM subscriptions exported to a file before the migration must be imported again for the Baseband unit. For more information see, Store RAN Compute Unit Information and ENM online help → PM initiation and collection, Import a Subscription.
31. Unlock the cells. For more information, see Unlock Cells.
32. Verify the old Baseband unit operation. Check the following: No alarms present. Traffic is handled as expected.

# 9 Detailed Procedures

## 9.1 Serial Number Used in Subject Alternative Name of Certificates for IPsec

This procedure is only applicable for on-site integration.

This procedure is only applicable when serial number is used in the

subjectAltName (SAN) of the certificates used for IPsec.

Assuming online enrollment is used, the new RAN Compute unit automatically enrolls a

new certificate using the old SAN. The certificate is used temporarily by the new

RAN Compute unit until the certificate replacement procedure is performed.

When serial number is used in the certificate for IPsec of the node, these steps must

be performed.

Steps

1. Update the CA (ENM or external) with a new certificate for IPsec, containing the serial number of the new RAN Compute unit.
2. If a whitelist is used, based on serial number: update the Security Gateway (SEGW) with the serial number of the new RAN Compute unit.
3. Update the IPsec NodeCredential of the node, by configuring the subjectAltName with a new value matching the new serial number of the RAN Compute unit.
4. Start the online enrollment of the IPsec NodeCredential by using the startOnlineEnrollment action.
5. Remove the old serial number from the whitelist.

## 9.2 Migrating the Cabinet or Support System Related Configuration to a Controller 6610

For information on how to install a Controller 6610, see Upgrading RBS and Non-RF Connections. How to install the Controller 6610 is described for each

cabinet. ECT can be used to generate new configuration files for Controller 6610.

For information about the MOs not being migrated to the new Baseband unit, see Configuration Data Handling at Migration.

## 9.3 Move EC Bus to a Baseband R503

If a Baseband R503 is present for the migrated Baseband unit, the EC Bus can be

connected to the Baseband R503. A USB-RJ45 cable connector is needed in order to

connect the EC bus to a Baseband R503, see Non-RF Connections for each Cabinet.

After the migration, the support system is controlled via the Baseband R503.

Configuration for the EC Bus by a Baseband R503 must be added after the

migration.

Steps

1. Write down the MOs and attributes related to the EC-bus according to Table 8 before the migration. This is necessary even when the EC-bus is connected to R503 before the migration, since all EC-bus-related MOs are removed at migration.
2. Load the configuration for adding EC Bus by a Baseband R503. For example scripts, see Initial Configuration &gt; Configuration Files . Result: The EquipmentSupportFunction attribute AutocreateUnitsis default is set to TRUE, and existing hardware connected to SHU is auto created.
3. Connect the EC bus to the Baseband R503.
4. Check that all MOs related to the cabinet functions have been created.
5. Modify attributes if needed.

## 9.4 Move SAU to Controller 6610 Standalone

If a SAU is direct connected to a Baseband 6620 or 6630 in 19' rack, the SAU must be

moved to another support system. Either an existing support system exists or a

Controller 6610 Stand Alone can be installed and configured with the external alarms.

For more information, see Install Controller 6610 Installation in 19-Inch

Rack.

## 9.5 Configuration Data Handling at Migration

MOs indicated by the table Table 8 are not

copied or handled in a special manner.

Table 8   Special Handling of MOs at Migration

| Top-Level MO    | MO                       | Comment                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|-----------------|--------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| -               | EquipmentSupportFunction | All the MOs related to Cabinet Control or Support System are not                                     migrated. These are not supported by the new RAN Compute unit.                                     Instead a Controller 6610 or R503 must be used in case external                                     equipment control is required. For more information, see Migrating the Cabinet or Support System Related Configuration to a Controller 6610 and Move EC Bus to a Baseband R503. |
| Equipment       | BatteryUnit              | All the MOs related to Cabinet Control or Support System are not                                     migrated. These are not supported by the new RAN Compute unit.                                     Instead a Controller 6610 or R503 must be used in case external                                     equipment control is required. For more information, see Migrating the Cabinet or Support System Related Configuration to a Controller 6610 and Move EC Bus to a Baseband R503. |
| Equipment       | Cabinet                  | All the MOs related to Cabinet Control or Support System are not                                     migrated. These are not supported by the new RAN Compute unit.                                     Instead a Controller 6610 or R503 must be used in case external                                     equipment control is required. For more information, see Migrating the Cabinet or Support System Related Configuration to a Controller 6610 and Move EC Bus to a Baseband R503. |
| Equipment       | EcBus                    | All the MOs related to Cabinet Control or Support System are not                                     migrated. These are not supported by the new RAN Compute unit.                                     Instead a Controller 6610 or R503 must be used in case external                                     equipment control is required. For more information, see Migrating the Cabinet or Support System Related Configuration to a Controller 6610 and Move EC Bus to a Baseband R503. |
| Equipment       | SupportUnit              | All the MOs related to Cabinet Control or Support System are not                                     migrated. These are not supported by the new RAN Compute unit.                                     Instead a Controller 6610 or R503 must be used in case external                                     equipment control is required. For more information, see Migrating the Cabinet or Support System Related Configuration to a Controller 6610 and Move EC Bus to a Baseband R503. |
| Equipment       | ExternalNode             | All the MOs related to Cabinet Control or Support System are not                                     migrated. These are not supported by the new RAN Compute unit.                                     Instead a Controller 6610 or R503 must be used in case external                                     equipment control is required. For more information, see Migrating the Cabinet or Support System Related Configuration to a Controller 6610 and Move EC Bus to a Baseband R503. |
| Equipment       | EcPort                   | All the MOs related to Cabinet Control or Support System are not                                     migrated. These are not supported by the new RAN Compute unit.                                     Instead a Controller 6610 or R503 must be used in case external                                     equipment control is required. For more information, see Migrating the Cabinet or Support System Related Configuration to a Controller 6610 and Move EC Bus to a Baseband R503. |
| Equipment       | Efuse                    | All the MOs related to Cabinet Control or Support System are not                                     migrated. These are not supported by the new RAN Compute unit.                                     Instead a Controller 6610 or R503 must be used in case external                                     equipment control is required. For more information, see Migrating the Cabinet or Support System Related Configuration to a Controller 6610 and Move EC Bus to a Baseband R503. |
| Equipment       | Enclosure                | All the MOs related to Cabinet Control or Support System are not                                     migrated. These are not supported by the new RAN Compute unit.                                     Instead a Controller 6610 or R503 must be used in case external                                     equipment control is required. For more information, see Migrating the Cabinet or Support System Related Configuration to a Controller 6610 and Move EC Bus to a Baseband R503. |
| Equipment       | FwSlot                   | All the MOs related to Cabinet Control or Support System are not                                     migrated. These are not supported by the new RAN Compute unit.                                     Instead a Controller 6610 or R503 must be used in case external                                     equipment control is required. For more information, see Migrating the Cabinet or Support System Related Configuration to a Controller 6610 and Move EC Bus to a Baseband R503. |
| NodeSupport     | ExternalUp               | All the MOs related to Cabinet Control or Support System are not                                     migrated. These are not supported by the new RAN Compute unit.                                     Instead a Controller 6610 or R503 must be used in case external                                     equipment control is required. For more information, see Migrating the Cabinet or Support System Related Configuration to a Controller 6610 and Move EC Bus to a Baseband R503. |
| NodeSupport     | ExternalUpManager        | All the MOs related to Cabinet Control or Support System are not                                     migrated. These are not supported by the new RAN Compute unit.                                     Instead a Controller 6610 or R503 must be used in case external                                     equipment control is required. For more information, see Migrating the Cabinet or Support System Related Configuration to a Controller 6610 and Move EC Bus to a Baseband R503. |
| BtsFunction     | Trx                      | The Trx is set to                                         adminstrativeState=LOCKED at                                     migration.  The Trx must be unlocked with an external BSC                                     node.                                                                                                                                                                                                                                                              |
| ENodeBFunction  | MbmsService              | This MO is not migrated. The MO is configured automatically if                                     autoconfiguration of LTE broadcast subframes is used.                                                                                                                                                                                                                                                                                                                                    |
| ENodeBFunction  | EUtranCellFDD            | The cell is set to administrativeState =                                         LOCKED at migration.                                                                                                                                                                                                                                                                                                                                                                                       |
| ENodeBFunction  | EUtranCellTDD            | The cell is set to administrativeState =                                         LOCKED at migration.                                                                                                                                                                                                                                                                                                                                                                                       |
| ENodeBFunction  | NbIotCell                | The cell is set to administrativeState = LOCKED at migration.                                                                                                                                                                                                                                                                                                                                                                                                                               |
| ENodeBFunction  | TermPointToMme           | The administrativeState = LOCKED                                     during integration of new RAN Compute unit.  The links must be unlocked manually after integration of the new                                     RAN Compute unit, see section Unlock Cells.                                                                                                                                                                                                                          |
| ENodeBFunction  | TermPointToENB           | The administrativeState = LOCKED                                     during integration of the new RAN Compute unit.  The links must be unlocked manually after integration of the new                                     RAN Compute unit, see section Unlock Cells.                                                                                                                                                                                                                      |
| ENodeBFunction  | TermPointToGNB           | The administrativeState = LOCKED                                     during integration of new the Baseband unit.  The links must be unlocked manually after integration of the new                                     RAN Compute unit, see section Unlock Cells.                                                                                                                                                                                                                         |
| Equipment       | DiLink                   | MOs related to multi-DU are not migrated.                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Equipment       | DiPort                   | MOs related to multi-DU are not migrated.                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Equipment       | ORadio                   | MOs related to ORAN radios are not migrated.                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| Equipment       | ORiPort                  | MOs related to ORAN radios are not migrated.                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| Equipment       | FreqBandData             | Content of MO cannot be migrated since the MO is system created                                     asynchronously sometime after the node is integrated.  Any attributes must be configured manually after node                                     integration.                                                                                                                                                                                                                           |
| Equipment       | BbProcessingResource     | Content of MO cannot be migrated since the MO is system created                                     asynchronously sometime after the node is integrated.  Any attributes must be configured manually after node                                     integration.                                                                                                                                                                                                                           |
| Equipment       | MpProcessingResource     | Content of MO cannot be migrated since the MO is system created                                     asynchronously sometime after the node is integrated.  Any attributes must be configured manually after node                                     integration.                                                                                                                                                                                                                           |
| GNBCUCPFunction | TermPointToAmf           | The administrativeState = LOCKED                                     during integration of the new RAN Compute unit.  The links must be unlocked manually after integration of the new                                     RAN Compute unit, see section Unlock Cells.                                                                                                                                                                                                                      |
| GNBCUCPFunction | TermPointToENodeB        | The administrativeState = LOCKED                                     during integration of new RAN Compute unit.  The links must be unlocked manually after integration of the new                                     RAN Compute unit, see section Unlock Cells.                                                                                                                                                                                                                          |
| GNBCUCPFunction | TermPointToGNodeB        | The administrativeState = LOCKED                                     during integration of new the RAN Compute unit.  The links must be unlocked manually after integration of the new                                     RAN Compute unit, see section Unlock Cells.                                                                                                                                                                                                                      |
| GNBDUFunction   | NRSectorCarrier          | The Sector carrier is set to administrativeState=                                         LOCKED at migration.                                                                                                                                                                                                                                                                                                                                                                              |
| GNBDUFunction   | NRCellDU                 | The cell is set to administrativeState=                                         LOCKED at migration.                                                                                                                                                                                                                                                                                                                                                                                        |
| NodeBFunction   | NodeBLocalCell           | The manual core allocation for WCDMA,                                         featureCtrlSteerHsAllocation, is set to                                         OFF at migration.  If manual core allocation is desired the NodeBLocalCell: steeredHsCoreId must be configured after                                     migration.                                                                                                                                                           |
| NodeBFunction   | NodeBLocalCell           | The cell is set to                                         administrativeState=LOCKED at                                     migration.  The cell must be unlocked with an external RNC node.                                                                                                                                                                                                                                                                                               |

## 9.6 Migration of Baseband Unit Using IPsec and Pre-Shared Keys

If the old Baseband unit is using pre-shared keys for IPsec for control and user plane

communication, the new RAN Compute unit can be migrated in the same way as described in

this document. After the migration, the pre-shared key for IPsec communication must be

configured using the installPreSharedKey action on the

Ikev2Session MO. For more information, see Manage IPsec.

If the old Baseband unit is using IPsec for OAM communication, the migration procedure

described in this document cannot be used. In this case, all configuration files

including the OSS node protocol file, must be available at a locally connected client

that is used for the migration. After this, the pre-shared keys must be configured

according to the instructions. For limitations of the Baseband unit integration, see

Upgrade Network Loader.

## 9.7 Revoke Certificates

At successful migration, the certificates of the old Baseband unit must be

revoked.

If a permanent rollback to the old Baseband unit is needed, the certificates for the

new RAN Compute unit must be revoked.

For more information, see ENM online help → PKI Entity Management → Revoke PKI

Certificates Assigned to a PKI Entity.

Prerequisites

All commands must be run as an ENM security administrator.

Steps

1. Show certificate for an end entity related to OAM for the node with the following command: pkiadm ctm EECert -l -en %NODENAME%-oam -s active
![Image](../images/136_1553-LZA7016014_1Uen.DB/additional_3_CP.png)
3. Write down the serial number of the not used OAM certificate.
4. Revoke the not used certificate for OAM by specifying the serial number with the following command: pkiadm revmgmt EE --revoke --issuername %OAM\_CA\_NAME% --serialno %certserialnumber% --reasontext %reason% -invaliditydate %certinvaliditydate%
![Image](../images/136_1553-LZA7016014_1Uen.DB/additional_3_CP.png)
6. Repeat steps 1 and 2 for the not used IPsec certificate using the pkiadm command with %NODENAME%-ipsec and the revoke command with issuername %IPSEC\_CA\_NAME%.