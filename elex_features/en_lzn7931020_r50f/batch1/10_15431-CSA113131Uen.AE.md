---
complexity_score: 32.0
converted_at: '2025-08-13T06:58:42.738895Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 34
images_saved: 3
original_path: 10_15431-CSA113131Uen.AE.html
pictures_extracted: 34
processing_method: docling_multimodal
quality_score: 9.0
source_file: 10_15431-CSA113131Uen.AE.html
source_zip: en_lzn7931020_r50f.zip
tables_extracted: 18
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 1244
---

# 

Heartbeat Failure

Contents

![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)

![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)

- Heartbeat Failure
- Reference List

# 1 Heartbeat Failure

This Operating Instruction (OPI) describes the procedure to follow when the Heartbeat

Failure alarm is displayed in the Alarm Monitor.

The Heartbeat mechanism is activated when the FM Supervision is enabled on a node.

If Node Supervision is disabled, the Heartbeat check is disabled; therefore the Heartbeat Failure

Alarm, if present, is automatically cleared by ENM.

If the FM Operator acknowledges and manually clears the Heartbeat Failure alarm, the alarm is no

more reported in the Alarm Monitor and the Heartbeat Failure status remains only

visible in the Alarm Supervision Status Application.

| Alarm Attributes     | Alarm Attributes              |
|----------------------|-------------------------------|
| Record Type          | HEARTBEAT_ALARM               |
| Event Type           | Communications Alarm          |
| Probable cause       | LAN Error/Communication Error |
| Specific Problem     | Heartbeat Failure             |
| Severity             | CRITICAL                      |
| Managed Object Class | MeContext or ManagedElement   |
| Problem Text         | -                             |
| Technical Area       | Fault Management              |
| Stateful /Stateless  | Stateful                      |

Cause

The Heartbeat Failure alarm is displayed in the Alarm Monitor when a connectivity

issue is detected between the node and ENM and this can prevent the alarm

supervision of the node. The connectivity can be affected by several problems

including transmission , power outage, configuration, but also many other

reasons.

Precondition

- FM Alarm Supervision enabled and Heartbeat failure alarm active.
- Administrator allowed the Operator to work with ENM CLI and FM.
- Identify the possible causes for any error scenario referring to FM application log files. For information on collecting logs, refer to the Log Viewer web-based application.

Troubleshooting Procedures

Check the node connectivity for different network element types as follows:

Network Element with  ComConnectivityInformation and SSH Transport Protocol

1. Check node communication connectivity information through Topology Browser (ComConnectivityInformation) as follows: or through ENM CLI using the following command: cmedit get NetworkElement=LTE07dg2ERBS00143,ComConnectivityInformation=1
TB.PNG

![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)
![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)
4. Open a Shell Terminal (SSH) from ENM Application Launcher and ping the NE using the IP address obtained previously. If the NE is responding, continue with this troubleshooting, otherwise, end the procedure.
5. Check if the configured IP address of the node is correct. If not: If the NE is responding, continue with this troubleshooting, otherwise, end the procedure. Here is a ENM CLI example for changing the IP address in a Baseband RadioNode named LTE01dg2ERBS00001: cmedit set NetworkElement=LTE01dg2ERBS00001,ComConnectivityInformation=1 ipAddress="10.138.112.2" Note: To change the ComConnectivityInformation MO, disable CM and FM supervision before the change and re-enable after that. If the automatic synchronization attribute of the FmAlarmSupervision MO is set to true, an automatic synchronization request is triggered, otherwise perform a manual synchronization.
    1. Stop the supervision.
    2. Change the IP address.
    3. Restart the supervision and retry to ping the node.
![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)
7. Wait until the heartbeatinterval is passed. If the Heartbeat Failure alarm is not ceased, continue with this troubleshooting, otherwise, end the procedure.
8. Check if the port attribute configured in ENM matches with the port configured in the Network Element. Ports match Continue with this procedure. Ports do not match Modify the port attribute value on the ComConnectivityInformation MO and continue the troubleshooting flow.
9. Check if the snmpAgentPort attribute configured in ENM matches the snmpAgentPort configured in the Network Element. Ports match Continue with this procedure. Ports do not match Modify the snmpAgentPort attribute on the ComConnectivityInformation MO.
10. Wait until the heartbeatinterval is passed. If the Heartbeat Failure alarm is not ceased, continue with this troubleshooting, otherwise, end the procedure.
11. Check that configured SNMP version and its attributes are properly set. SNMP version can be SNMP\_V2C or SNMP\_V3 (NO AUTH NO PRIV, AUTH NO PRIV, or AUTH PRIV). Depending on SNMP version, the security function attributes are configured. If one or more attributes are not properly configured, modify them.
12. Wait until the heartbeatinterval is passed. If the Heartbeat Failure alarm is not ceased, contact Ericsson Support.

Network  Element  with  ComConnectivityInformation and TLS Transport Protocol

1. Retrieve the node connectivity information through ENM CLI or Topology Browser application.
2. Open AMOS shell from ENM Application Launcher and connect to the node using TLS transport protocol using the IP address previously obtained. Here is an example how to connect to the node User=labuser - Psw=Letmein01: ssh labuser@&lt;Ip address&gt; -p 2023 If it is possible to connect to the node, continue with this procedure, otherwise, check the node IP address, with the same User and Password.
![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)
4. Open the ENM CLI and execute the CLI command to verify the status of the certificate. Here is an example of command to be used on a Baseband RadioNode named G2RBS\_21: secadm certificate get --certtype OAM --nodelist G2RBS\_21 with the positive response: If the certificate present in the node database has the right status, continue with this procedure, otherwise, contact Ericsson Support for Security Procedure.
![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)
CLIresponse.png

![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)
7. Open the Security section from the ENM main Application Launcher and check the "PKI Entity Management". In the view "Certificates list", check the installed certificates for the specific node and verify the Certificate Summary. If Subject field is filled with the proper node name, Issuer field is properly filled, Expiry Date is ahead of the current date, and Status is ACTIVE, repeat the steps for transport protocol SSH go to the next step, otherwise contact Ericsson Support for Security Procedure. Here is an example for a Baseband RadioNode named G2RBS\_21:
CertificateSummary.png

![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)
9. Refer to Network Element with ComConnectivityInformation and SSH Transport Protocol from Step step 5 to Step step 9 to end the troubleshooting.

Network Element with CppConnectivityInformation

1. Retrieve the node connectivity information through Command-Line Interface (ENM CLI) application using the following command: cmedit get &lt;node name&gt; CppConnectivityInformation.*
![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)
3. Open a Shell Terminal (SSH) from ENM Application Launcher and ping the Network Element using the IP address previously obtained.
4. If the NE is responding, continue with this procedure, otherwise check that in the IP address previously obtained the "port" value configured for eNodeB node is 80, if not, change it and retry this step. When IPsec is not used for OAM on client side for eNodeB Network Element:
    1. Connect via SSH to the node IP. Note: When the node is with recovery software. Node accepts any password and password needs to be set using passwd command. Till password is created, any password is accepted. If a different password is set in node recovery after first login, user need to make sure to update the same password in secure credentials in ENM NE definition model; if not, ENM loses connectivity towards the node.
    2. Execute listenv coli command and check OSE\_LM\_IDENTITY.
    3. If CXC 173 1602/1 is observed, then the node is with recovery software and refer to Node CPI document Remote Node Recovery numbered 236/1543-LZA 701 6014, else go to next step.
5. If the alarm HEARTBEAT FAILURE ceased within the next five minutes, the procedure is completed, otherwise contact Ericsson Support. There might be a severe problem with the eNodeB node and further actions are outside the scope of this Operational Instruction.

BSC or  vBSC Network Element

1. Check node communication connectivity information via CLI using the following command: BSC nodeType : cmedit get NetworkElement=MSC01BSC01,BscConnectivityInformation=1 vBSC nodeType : cmedit get NetworkElement=M21B41,VBscConnectivityInformation=1
![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)
![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)
4. Execute the following substeps to determine if the NE is not connected. If the NE is not connected, continue with this troubleshooting, otherwise, end the procedure:
    1. Directly from the Application Launcher, start WinFIOL located under the Provisioning section.
    2. Use the Topology tab in the Network section on the left side to choose the Network Element.
    3. Use Connect button.
5. Check if the configured ipAddress, apnodeAIpAddress, apnodeAIpAddress of the node are correct. If not: If the NE is responding, continue with this troubleshooting, otherwise, end the procedure. Here is a Web-CLI example for changing the IpAddress for a BSC named MSC01BSC01: cmedit set NetworkElement=MSC01BSC01,BscConnectivityInformation=1 ipAddress="10.138.112.11",apnodeAIpAddress="10.155.72.103",apnodeBIpAddress="10.155.72.104 Here is a Web-CLI example for changing the IpAddress for a vBSC named M21B41: cmedit set NetworkElement=M21B41,VBscConnectivityInformation=1 ipAddress="10.138.112.13",apnodeAIpAddress="10.155.72.123",apnodeBIpAddress="10.155.72.124 Note: To change the BscConnectivityInformation/VBscConnectivityInformation MO, disable CM and FM supervision before the change and re-enable after that. If the automatic synchronization attribute on FmAlarmSupervision MO is set to true, an automatic synchronization request is triggered, otherwise perform a manual synchronization.
    1. Stop the supervision.
    2. Change the IP address.
    3. Restart the supervision and retry to connect to the node, see steps 2a-2c.
![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)
![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)
8. Check for nwieAIpAddress and nwieBIpAddress for NWI-E switches under BscConnectivityInformation like Step-3 for BSC nodeType and skip this step for vBSC nodeType.
9. Check mandatory secure credentials via ENM CLI using the following command: secadm credentials get --plaintext show --nodelist &lt;node\_name&gt; In the CLI output, make sure the fields secureUserName and secureUserPassword are populated with appropriate values. If not, then they can be set using the following command: secadm credentials update --secureusername &lt;username&gt; --secureuserpassword &lt;password&gt; --nodelist &lt;nodename&gt; For more detail on secure credentials, refer to Node Credential and Key Administrative Tasks section in ENM Network Security Configuration System Administrator Guide [1].
![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)
![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)
12. Wait until the the heartbeatinterval is passed. To check heartbeatinterval value use the command in ENM CLI: cmedit get NetworkElement=&lt;nodename&gt;, FmAlarmSupervision=1 --attribute heartbeatinterval . If the Heartbeat Failure alarm is not ceased, continue with this troubleshooting, otherwise, end the procedure.
13. Check if the port attribute configured in ENM matches with the port configured in the Network Element. Ports match Continue with this procedure. Ports do not match Modify the port attribute value on the BscConnectivityInformation/VBscConnectivityInformation MO and continue the troubleshooting flow.
14. Check if the snmpAgentPort attribute configured in ENM matches the snmpAgentPort configured in the Network Element. This is applicable for NWI-E switches with node type BSC only. Ports match Continue with this procedure. Ports do not match Modify the snmpAgentPort attribute on the ComConnectivityInformation MO and go to Step Step 6. Check that configured SNMP version and its attributes are properly set. If all attributes are properly configured, end the procedure, otherwise modify the security function attributes as MO, and go to Step 6.

Ericsson Cloud Manager (ECM) Virtual Network Function Manager with HTTP

Transport Protocol

1. Check node communication connectivity information through ENM CLI using the following command: cmedit get VirtualNetworkFunctionManager=ECM\_01,HttpConnectivityInformation=1
![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)
3. Open a Shell Terminal (SSH) from ENM Application Launcher and ping the Virtual Network Function Manager using the IP address obtained previously. If the VNFM is responding, continue with this troubleshooting, otherwise, end the procedure.
4. Check if the configured IP address of the node is correct. If not: If the VNFM is responding, continue with this troubleshooting, otherwise, end the procedure. Here is a ENM CLI example for changing the IP address in an Ericsson Cloud Manager named ECM\_01: cmedit set VirtualNetworkFunctionManager=ECM\_01,HttpConnectivityInformation=1 ipAddress="142.138.213.30" To change the HttpConnectivityInformation MO, disable FM supervision before the change and re-enable after that. If the automatic synchronization attribute on FmAlarmSupervision MO is set to true, an automatic synchronization request is triggered, otherwise perform a manual synchronization.
    1. Stop the supervision.
    2. Change the IP address.
    3. Restart the supervision and retry to ping the node.
![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)
6. Wait until the heartbeatinterval is passed. If the Heartbeat Failure alarm is ceased, end the procedure, otherwise, continue with this troubleshooting.
7. Check if the port attribute configured in ENM matches with the port configured in the Ericsson Cloud Manager. Ports match Continue with this procedure. Ports do not match Modify the port attribute value on the HttpConnectivityInformation MO and go toStep Step 4.
8. Wait until the heartbeatinterval is passed. If the Heartbeat Failure alarm is ceased, end the procedure, otherwise, contact Ericsson Support. Note: Modify the port attribute value on theThere can be problems within the Ericsson Cloud Manager and their troubleshooting actions are outside the scope of this Operational Instruction.

Network Element with CbpOiConnectivityInformation and TLS Transport

Protocol

1. Check node communication connectivity information through ENM CLI using the following command: cmedit get NetworkElement=&lt;name of network function&gt;, CbpOiConnectivityInformation=1 Example: cmedit get NetworkElement=5G131vCUCP001, CbpOiConnectivityInformation=1
![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)
![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)
4. Open a Shell Terminal (SSH) from ENM Application Launcher and ping the NE using the IP address obtained previously. If the NE is responding, continue with this troubleshooting, otherwise, end the procedure.
5. Check if the configured IP address of the node is correct. If not: If the NE is responding, continue with this troubleshooting, otherwise, end the procedure. Here is a ENM CLI example for changing the IP address in a node named 5G131vCUCP002: cmedit set NetworkElement=5G131vCUCP002,CbpOiConnectivityInformation=1 ipAddress="192.168.102.9" Note: To change the CbpOiConnectivityInformation MO, disable CM and FM supervision before the change and re-enable after that. If the automatic synchronization attribute of FmAlarmSupervision MO is set to true, an automatic synchronization request is triggered, otherwise perform a manual synchronization.
    1. Stop the supervision.
    2. Change the IP address.
    3. Restart the supervision and retry to ping the node.
![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)
7. Wait until the heartbeatinterval is passed. To retrieve the heartbeat interval execute the following command in ENM CLI: 'cmedit get NetworkElement=&lt;node name&gt;,FmAlarmSupervision=1 --attribute heartbeatinterval' If the Heartbeat Failure alarm is not ceased, continue with this troubleshooting, otherwise, end the procedure.
![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)
9. Check if the snmpAgentPort attribute configured in ENM matches the snmpAgentPort configured in the Node. Ports match Continue to Step Step 6. Ports do not match Modify the snmpAgentPort attribute on the CbpOiConnectivityInformation MO and wait until the heartbeat interval is passed. If the Heartbeat Failure alarm is ceased, end the procedure, otherwise continue with this troubleshooting.
10. Check that configured SNMP version and its attributes are properly set and match those configured on the Node. SNMP version can be SNMP\_V2C or SNMP\_V3 (NO AUTH NO PRIV or AUTH PRIV). If all attributes are properly configured, end the procedure, otherwise modify the security function attributes as MO.
11. Wait until the heartbeatinterval is passed. To retrieve the heartbeat interval execute the following command in ENM CLI: 'cmedit get NetworkElement=&lt;node name&gt;,FmAlarmSupervision=1 --attribute heartbeatinterval' If the Heartbeat Failure alarm is not ceased, continue with this troubleshooting, otherwise, end the procedure.
![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)
13. If the problem still persists, please consult the next level of maintenance support.

Network Element with O1ConnectivityInformation

Before executing the following steps ensure:

- The required ports are opened on the O1Node in accordance to the ENM Network Integration Guidelines Connection Matrix document.

1. Retrieve the node connectivity information using the Command-Line Interface (ENM CLI) application with the following command: cmedit get NetworkElement=&lt;node name&gt;, O1ConnectivityInformation=1
![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)
3. Verify that the configured IP address of the node is set correctly in ENM from the previous commands output. Check if the node is responsive by opening the Shell Terminal (SSH) from the ENM Application Launcher and ping the node using it's IP address. If the node is responding continue with the steps. If the IP address is set correctly in ENM, skip to Step 3. If not perform the following steps to modify it:
    1. Disable supervision: alarm disable &lt;node name&gt;
    ![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)
    3. Change the IP address: cmedit set NetworkElement=&lt;node name&gt;, O1ConnectivityInformation=1 ipAddress="&lt;ip address&gt;"
    ![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)
    5. Enable supervision: alarm enable &lt;node name&gt;
    ![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)
![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)
![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)
![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)
7. Confirm that FM alarm supervision is enabled: alarm status &lt;node name&gt; If the Supervision Status field is "off" use the command in Step 2, substep c, to enable supervision. Verify this again to ensure Supervision Status displays "on".
![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)
9. Wait until the heartbeat interval time is passed. To check the heartbeat interval time: cmedit get NetworkElement=&lt;node name&gt;, FmAlarmSupervision=1 --attribute heartbeatinterval If the heartbeat failure alarm is not ceased automatically once the heartbeat interval has passed proceed to Step 7. Otherwise continue with the troubleshooting steps.
![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)
11. Check that the NTFSubscriptionControl and HeartbeatControl managed objects are created on the node after FM supervision has been enabled.. If CM supervision has been enabled for the node in ENM, this can be verified via the ENM Topology Browser application. The managed objects are children of the ManagedElement MO: If CM is not enabled, this is to be verified on the node environment.
image tris for Heartbeat Failure 26\_03\_24

![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)
13. If the heartbeat failure has not been ceased after following these steps, please consult the next level of maintenance support. Otherwise proceed to Step 7.
14. If troubleshooting has been successful and the heartbeat failure has been ceased, perform the following step to recover missing alarms due to the heartbeat failure. Check the automatic synchronization attribute: cmedit get NetworkElement=5G141O1001, FmAlarmSupervision=1 --attribute automaticSynchronization If this is set to true, an automatic alarm synchronization request is triggered. Otherwise perform a manual synchronization: alarm sync &lt;node name&gt;
![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)
![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)

Heart Beat Failure due to Cache Misalignment

If heartbeat failure alarms are seen for short duration, do the following

steps to confirm whether it is because of cache misalignment or not:

1. Launch Log Viewer from ENM Launcher page.
2. Provide the date of heartbeat Failure alarm observed, Enter the term/phrase Caught exception when handling command CacheTopologyControlCommand in Message box.
3. Add the criteria attribute 'host' and value as 'mssnmpfm' and click search option.
4. If the following log is found in Results Messages, heart beat alarms are raised because of cache misalignment during that time: WARN [org.infinispan.remoting.inboundhandler.GlobalInboundInvocationHandler] (remote-thread--p10-t1) ISPN000071: Caught exception when handling command CacheTopologyControlCommand{cache=SnmpAddressingTrapCache, type=CH\_UPDATE, sender=svc-4-msosssnmpfm-54121, joinInfo=null, topologyId=21, rebalanceId=10, currentCH=ReplicatedConsistentHash{ns = 256, owners = (6)[svc-4-msosssnmpfm-54121: 43, svc-4-mssnmpfm-23987: 41,
![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)
6. This misalignment will be auto recovered in few minutes and with that heartbeat alarms get auto cleared.
7. To verify whether recovery is triggered or not , Search the term "RECOVERY NetworkElement = " in Log Viewer as above.
8. If the following log is found in Results Messages, heart beat alarms are auto cleared: com.ericsson.oss.mediation.fm.service.registry.recovery.RecoveryManager] (EJB default - 1)RECOVERY NetworkElement = &lt;&lt;xxxx&gt;&gt;: CLEAN SUPERVISION &lt;&lt;xx.xx.xx.xx&gt;&gt;: wrong configuration: is active on svc-1-mssnmpfm expected svc-4-mssnmpfm
![Image](../images/10_15431-CSA113131Uen.AE/additional_3_CP.png)

Related reference

Reference List

# 1 Reference List