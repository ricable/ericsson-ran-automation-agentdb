---
complexity_score: 36.0
converted_at: '2025-08-13T06:59:40.812054Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 36
images_saved: 3
original_path: 137_1553-LZA7016014_1Uen.BB.html
pictures_extracted: 36
processing_method: docling_multimodal
quality_score: 9.0
source_file: 137_1553-LZA7016014_1Uen.BB.html
source_zip: en_lzn7931020_r50f.zip
tables_extracted: 24
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 1244
---

# 

Expand Baseband Radio Node

Contents

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)

- Expansion Overview
- Early Preparation
    - Plan Expansion
    - Create Health Check Profile
    - Create or Modify Profile
- Preparation
    - Request and Import License Key File
    - Create Configurations for Expansion
    - Order Expansion
- Expand Node
    - Expand Using Maintenance Button
    - Expand Using AP Resume
    - Finalize Expansion
- Expansion Troubleshooting
    - Validate Configuration File Failed

# 1 Expansion Overview

This document covers the end-to-end flow of expanding existing baseband radio nodes

with additional sectors and cells.

There are several user guides available for the expansion, migration, and replacement of

Baseband Radio Nodes. To find the correct user guide for these use cases, see Baseband Expansion, Migration, and Replacement User

Guides Overview.

The image below is interactive. Click on the relevant step, to view the instruction.

The expansion is divided into the following phases:

- Early Preparation. The expansion is planned, and necessary hardware and configuration types are identified.
- Preparation. The configurations for the expansion are created and ordered in one of the following ways: Using ENM Auto Provisioning (ENM AP) to create new configurations or reuse an existing project and node profile. ENM AP can utilize snapshot functionality that minimizes manual input when creating configuration files. The expansion is ordered using ENM AP. Using Equipment Configuration Tool (ECT) to create new configurations or reuse an existing project and node profile. ECT can utilize snapshot functionality that minimizes manual input when creating configuration files. The expansion is ordered using ENM AP or ENM CLI. Using manual configuration to create configuration files from scratch and collect them in a project ZIP-file. The manual configuration method does not provide snapshot functionality. The expansion is ordered using ENM AP or ENM CLI.
- Expansion. New hardware is installed (optional), and existing nodes are expanded with additional sectors or cells in one of the following ways: Using the Baseband Maintenance button on-site. Using AP Resume off-site.

For information about expansion with a Radio Gateway or Line Card, see Expand Baseband Radio Node with Radio Gateway or

LC-05 9xCPRI Line Card in Conversion Mode.

Software Levels for Baseband Expansion

Table 1   Recommended Minimum Software Levels for Baseband Expansion

| Component                                                                                            | Version   |
|------------------------------------------------------------------------------------------------------|-----------|
| ENM when using Instantaneous Licensing in connected mode                                             | 22.2      |
| ENM when using Instantaneous Licensing in non-connected                                         mode | 22.1      |
| ECT                                                                                                  | R10E      |

# 2 Early Preparation

The image below is interactive. Click on the relevant step, to view the instruction.

Summary

The early preparation phase is performed off-site.

Prerequisites

- All data needed for the expansion must be available.

## 2.1 Plan Expansion

The phase consists of the following mandatory activities:

1. Ensuring that the commercial agreement is in place for the needed licenses.
2. Deciding expansion method and planning personnel requirements.
3. Identifying the site to be expanded, if new or changed hardware and software configurations are needed.
4. Securing the required hardware order.

## 2.2 Create Health Check Profile

A reference to a node health check profile can be included in the node profile and

executed as a part of the expansion flow.

Optional task.

It is possible to trigger an automatic health check as part of the expansion flow.

The health check is then executed before and after the expansion.

Steps

1. Create a health check profile in ENM Node Health Check application. For instructions on how to create it, see the Node Health Check application in ENM online help.
2. Add the health check profile to the Nodeinfo file in the ENM AP project. Note: If ECT is used, add the health check profile in the Node Integration GUI. This results in ECT automatically adding the health check profile to Nodeinfo file for all nodes.
3. Use the predefined or create a new health check profile for Expansion. For more information, see Manage Node Health Check.

## 2.3 Create or Modify Profile

Optional task.

If expansion configuration details are available early, a node profile can be created

during early preparation, to save time in the later phases.

A node profile for expansion can be created with one of the following tools:

- Equipment Configuration Tool (ECT)
- ENM Auto Provisioning (AP)

ECT can be run as an offline tool on a laptop or as part of ENM AP. In the latter case,

ENM AP user access is required. Both tools offer several modes of operation called

Profile Usage. The modes which use node configuration

snapshot as data source require less manual data input and are therefore less prone to

errors.

Configuration files can also be created manually, but this method requires skills in

NETCONF and 3GPP Bulk CM formats, as well as knowledge of the Manage Object Model

(MOM).

For instructions on how to create a node profile, see the following:

- Create Configurations for Expansion using ENM Auto Provisioning
- Create Configurations for Expansion using Equipment Configuration Tool
- Create Configurations for Expansion Manually

# 3 Preparation

The aim of this phase is to ensure that all files for the expansion project are

ready.

The image below is interactive. Click on the relevant step, to view the instruction.

Summary

The preparation phase is performed off-site. This phase contains all the tasks done

before the site visit.

Prerequisites

- Preparatory activities in chapter Early Preparation are completed

## 3.1 Request and Import License Key File

License Key Files (LKF) required for the expansion is requested and obtained as a

part of the preparation activities.

Optional task.

This procedure applies to the manual licensing method. If Instantaneous Licensing in

connected mode is used, the node automatically requests an update of the LKF, and

there is no need to request an LKF in SHM. If Instantaneous Licensing in

non-connected mode is used, license resources are automatically granted for seven

days through License System Triggered Unlock after completed expansion. An alarm

automatically indicates the activation of License System Triggered Unlock and the

need to run the Radio Node License Request Flow in ENM Flow

Automation, in order to generate required LRF. The LRF must then be submitted to the

SSP-LKF Portal to generate an LKF for the target node. The LKF must be imported and

installed manually.

For more information on licensing methods, see Manage Licenses and Hardware Activation Codes.

Detailed descriptions of the import functionality and the installation wizard are

available in the Install Licenses Key Files tutorial in ENM Online help.

If manual license handling is used, the following cases require a new LKF file:

- License keys are added to the node.
- HWAC keys are added to the node.
- Keys are changed in any way.

Steps

1. Contact Ericsson Customer Unit to request and receive the LKF.
2. Log on to ENM.
3. Open Software and Hardware Manager &gt; License Administration .
4. Import the LKF using Import Key Files.
5. Set Install License to TRUE in the Expansion CIQ, if ECT is used. Result: installLicense is set to TRUE in the generated Nodeinfo file.

## 3.2 Create Configurations for Expansion

Configuration files can be prepared in ENM AP, ECT Standalone, or

manually.

Mandatory task.

Create an Expansion Project ZIP file that contains the configurations for expansion. The

file is used in ENM to trigger the expansion.

Read the Limitations before creating the expansion project.

### 3.2.1 Limitations

Limitations of expansion using standalone ECT, or ECT as a part of ENM AP, are shown in

the following sections.

CU Configuration

Configuration files for scenario with CU functions deployed in the Cloud must be used

with GA edition of Cloud RAN CU solution.

It is recommended to type CU IP address manually in the CIQ file instead of enabling

Configure Service Finder option.

NR NSA

It is recommended not to include LTE anchor cells in the CIQ if they are already used

as anchor cells for the same frequency or for a gNodeB configured for a different

PLMN. The EUtranCellFDD (TDD) then need to be manually configured

with following data:

- endcAllowedPlmnList
- GUtranFreqRelation

The reason for the recommendation is that when NR NSA is used and anchor cells to be

configured, ECT assumes that no previous anchor configuration has been done. ECT

creates the GUtranSyncSignalFrequency and if that exist, the

script fails when executed on the node.

If expansion with node snapshot is used, then ECT analyzes the provided snapshot and

is able to discover if user attempts to use LTE cell that does not follow these

recommendations. In such case, do not set the LTE cell as colocated anchor in the

CIQ file. The procedure of converting cell to colocated anchor must be performed

manually after the expansion.

Dynamic Spectrum Sharing (DSS)

If an existing LTE cell is used to create a new DSS cell, special attention must be

paid to the GUtranFreqRelation and

GUtranCellRelation. ECT creates these objects by default and

if they already exist, the script fails when executed on the node. In such cases,

the generated files must be modified manually.

If expansion with node snapshot is used, then ECT analyzes the provided snapshot and

is able to discover if user attempts to use LTE cell that does not follow these

recommendations. In such case, do not set the LTE cell as DSS in the CIQ file. The

procedure of converting cell to DSS must be performed manually after the

expansion.

NR-DC

Master Node in NR-DC mode can be reconfigured using ECT but only in Integration Node

Centric and Cell Centric modes, not in Expansion mode.

NB-IoT

For NB-IoT expansion, the following limitations and assumptions apply:

- Adding NB-IoT cells can only be done together with new LTE host cell.
- Expansion by adding only NB-IoT cells to existing LTE cell is not allowed.
- Modification of existing NB-IoT cells is not allowed.
- NB-IoT cells on expanded LTE node are already configured.

Equipment Configuration

It is not possible to cascade sectors to existing sectors or to add a sector to an

existing radio.

The following options are possible:

- Creating sector cascade chains if they are connected directly to the Baseband unit.
- Creating multi sector radio configurations from a sector that has radio equipment defined and is intended to be shared with other sectors.

Transport Configuration

Expanding a

router

is only possible in expansion with node snapshot mode.

One of the

following configurations

can

be provided in the expansion

configuration:

- New addresses on physical interfaces
- New loopback interfaces on the router

The following limitations exist when NR uses IPsec:

- The outer router is configured on the node.
- The necessary PKI-related MO classes (NodeCredential, TrustCategory) are configured in the node and they have the same MO ID that is specified directly in the expansion profile in Transport &gt; Router &gt; Interface(IPsec\_interface) &gt; PKI System . This also applies to the profile MOs used by IPsec.
- If 802.1X supplicant or authenticator is used in the node, it is used on ports that are configured in the node.

Cell-Centric Mode

There are syntax rules and cases of custom parameter substitution when editing a CIQ

file for Cell-Centric Mode. For more information, see chapter CIQ Files - Integration: Cell Centric and Expansion

Modes in Manage Equipment Configuration Tool.

Profile Option: MO IDs

- Configuration Generator: The MO IDs profile option can be used for all Profile usages except ExpConfig: AddCells.
- Configuration Files Handler: The MO IDs in CIQ files generated directly from Configuration Files Handler for Node Centric configurations use default values from the Netconf template file, instead of BMI for customized MO. As such, values can differ compared to those generated using Configuration Generator.

### 3.2.2 Create Configurations for Expansion using ENM Auto Provisioning

Use ENM Auto Provisioning to create configurations from scratch, or to reuse an

existing expansion project and node profile.

The image below is interactive. Click on the relevant step, to view the instruction.

#### 3.2.2.1 Create Project

Create a new Auto Provisioning project to store information about one or multiple

nodes.

Steps

1. Log on to ENM.
2. Select Provisioning &gt; Auto Provisioning and click on the link to open the ENM AP application.
3. Select Expand Node &gt; Create Project .
4. Enter the project name and description.
5. Save the project.

#### 3.2.2.2 Open Project

Open an existing Auto Provisioning project.

Steps

1. Launch the ENM Auto Provisioning application.
2. Select the existing expansion project and click Expand Node.

#### 3.2.2.3 Create Node Profile

Node profiles are collections of all the configuration template files and

site-specific files needed for node expansion.

Steps

1. Open the expansion project in the ENM Auto Provisioning application.
2. Select Create a Profile.
3. Enter the following information: Profile Name Node Type For example: RadioNode for Baseband Radio Nodes. Upgrade Package For example: CXP9024418/15.
4. Click Create.
5. Optional: If you want to reuse data from an existing profile, select Import and select the profile in the browser window.
6. Define Settings as follows: Table 2 Configuration Generator Settings for Expansion of Baseband Radio Node Parameter Selection Profile Usage When using the ExpConfig mode, many CIQ fields are automatically filled in, as the values are obtained directly from the node in the form of a configuration snapshot. This mode can only be used to expand one node. Select one of the following: ExpConfig: Add cells: this mode covers the following expansion cases: add LTE cells to an LTE node, add NR cells to an NR node, add LTE and NR cells to LTE + NR node. ExpConfig: Add NR RAT &amp; cells: this mode covers the following expansion cases: add NR cells to an LTE node, add LTE and NR cells to an LTE node. Expansion: Add cells: this mode covers the following expansion cases: add LTE cells to an LTE node, add NR cells to an NR node, add LTE and NR cells to an LTE + NR node. Expansion: Add NR RAT &amp; cells: this mode covers the following expansion cases: add NR cells to an LTE node, add LTE and NR cells to an LTE node. Profile Options If Dynamic Spectrum Sharing (DSS) or Narrowband Internet of Things (NB-IoT) is used, select the appropriate option. Radio technologies If the expansion profile is created from scratch, select the Radio technologies applicable to the expanded node. If a node snapshot is used for expansion, only select the Radio technologies applicable to the expanded node. CIQ orientation Select according to preference.
7. Complete the profile by providing required information in Common Definitions, Basic Configuration Type, and Advanced Configuration Type. Observe the following: There are limitations on creating a node profile. For more information, see Limitations. Advanced Configuration Type must be used with caution as ECT does not perform a thorough analysis of the values provided in CIQ variables created for customization. As a result, using custom MO naming or attributes in expansion can unintentionally overwrite existing MOs. If a node health check is to be included in the profile, the reference is defined in Basic Configuration Type &gt; Node Integration &gt; Add Health check profile . Baseline files in .mos format can be added as main scripts in the folder of a node integration or expansion project under Basic Configuration Type &gt; Node Integration. Note: A maximum of 25 baseline files can be added.
8. Select Export &gt; All Configurations to store the created profile.
9. Save the profile by selecting Save &gt; All Configurations .

#### 3.2.2.4 Modify Node Profile

A saved profile can be modified if needed.

Steps

1. Navigate to the profile in the ENM Auto Provisioning application:
    1. In the Topology pane, select the project that the profile was added to.
    2. Click Expand Node.
2. Select the pencil icon on the Expand Node page.
3. Click Edit to continue.
4. Add the necessary changes.
5. Click Save .

#### 3.2.2.5 Create Site-Specific CIQ

A completed and saved profile is used to create a site-specific CIQ.

Depending on the Profile Usage selected when creating the profile,

the following procedures apply:

- For ExpConfig: Add cells and ExpConfig: Add NR RAT &amp; cells, follow the instructions in Create Site-Specific CIQ Using Node Configuration Snapshot
- For Expansion: Add cells and Expansion: Add NR RAT &amp; cells, follow the instructions in Create Site-Specific CIQ Without Node Configuration Snapshot

##### 3.2.2.5.1 Create Site-Specific CIQ Using Node Configuration Snapshot

A completed and saved profile is used to create a site-specific CIQ.

Steps

1. Open the applicable project in the ENM Auto Provisioning application.
2. Select a project with a validated and saved node profile.
3. Select Expand Node.
4. Select Add Topology Data and select the node to fetch the configuration data from.
5. Select Export CIQ to download the CIQ template file.
6. Open the CIQ file in an editor that supports the selected CIQ format. This procedure describes Microsoft Excel as the editor for the XLSX format.
7. Add data for the expanded node as follows: Note: Additional information about the parameters is available in the tooltips, when hovering over cells with red tabs in the CIQ. The remaining tabs are for reference only and require no input.
    1. Add the required node data in the Node tab.
    CIQ for Expansion with Snapshot - Node tab

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
    3. Add a column or a row, depending on the CIQ orientation, for each sector in the Sector tab and fill in the sector data.
    CIQ for Expansion with Node Snapshot - Sector Tab

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
    5. Add a column or a row, depending on the CIQ orientation, for each cell to be added in the NR cell and LTE cell tabs and fill in the cell data.
    CIQ for Expansion with Snapshot - NR cell tab

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
CIQ for Expansion with Snapshot - Node tab

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
CIQ for Expansion with Node Snapshot - Sector Tab

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
CIQ for Expansion with Snapshot - NR cell tab

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
11. Save the file. The CIQ file is later imported in ENM AP. For more information, see Order Expansion Using CIQ in ENM Auto Provisioning.

##### 3.2.2.5.2 Create Site-Specific CIQ Without Node Configuration Snapshot

A completed and saved profile is used to create a site-specific CIQ.

Steps

1. Open the applicable project in the ENM Auto Provisioning application.
2. Select a project with a validated and saved node profile.
3. Select Expand Node.
4. Select Export CIQ to download the CIQ template file.
5. Open the CIQ file in an editor that supports the selected CIQ format. This procedure describes Microsoft Excel as the editor for the XLSX format.
6. Add data for the expanded node as follows: Note: Additional information about the parameters is available in the tooltips, when hovering over cells with red tabs in the CIQ. The remaining tabs are for reference only and require no input.
    1. Add the required node data in the Node tab. Figure 1 Fill in the Node Data When doing cell expansion, ECT must know if the frequencies are defined or not on the target node. If the frequency is new, add the frequency definition in the Node Sheet and ECT creates the NR and LTE frequency. Figure 2 NR Frequency
    add\_site\_data

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
    NR and/or LTE frequencies

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
    4. Add a column or a row, depending on the CIQ orientation, for each sector in the Sector tab and fill in the sector data. Figure 3 Add Sector Data
    add\_sector\_data

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
    6. Add a column or a row, depending on the CIQ orientation, for each cell to be added in the NR cell and LTE cell tabs and fill in the cell data. Figure 4 Add NR Data If the frequency is already defined on the node, add the NR frequency RDN in the NR Cell sheet. The cell can now be created with the correct frequency references. Figure 5 NR Frequency RDN
    add\_nr\_cell

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
    NR frequency RDN

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
add\_site\_data

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
NR and/or LTE frequencies

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
add\_sector\_data

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
add\_nr\_cell

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
NR frequency RDN

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
12. Save the file. The CIQ file is later imported in ENM AP, for more information see Order Expansion Using CIQ in ENM Auto Provisioning.

### 3.2.3 Create Configurations for Expansion using Equipment Configuration Tool

Use the Equipment Configuration Tool (ECT) to create a configuration or import an

existing one.

The image below is interactive. Click on the relevant step, to view the instruction.

#### 3.2.3.1 Download ECT

The ECT can be downloaded from the Ericsson Software Gateway.

Steps

1. Go to https://swgw.ericsson.net.
2. Download the latest version of the ECT standalone application, using the following data as reference: Product Line: Equipment Tool Product Number: CXP 902 6395/1

#### 3.2.3.2 Create Node Profile

Use ECT Configuration Generator to prepare a node profile, which is later used to

create site-specific configuration files.

Steps

1. Open the Configuration Generator in ECT.
2. Optional: If you want to reuse data from an existing profile, select Import and select the profile in the browser window.
3. Define Settings as follows: Table 3 Configuration Generator Settings for Expansion of Baseband Radio Node Parameter Selection Node Type RadioNode Upgrade Package Select according to expansion plan. UP revision Profile Usage When using the ExpConfig mode, many CIQ fields are automatically filled in, as the values are obtained directly from the node in the form of a configuration snapshot. This mode can only be used to expand one node. Select one of the following: ExpConfig: Add cells: this mode covers the following expansion cases: add LTE cells to an LTE node, add NR cells to an NR node, add LTE and NR cells to LTE + NR node. ExpConfig: Add NR RAT &amp; cells: this mode covers the following expansion cases: add NR cells to an LTE node, add LTE and NR cells to an LTE node. Expansion: Add cells: this mode covers the following expansion cases: add LTE cells to an LTE node, add NR cells to an NR node, add LTE and NR cells to an LTE + NR node. Expansion: Add NR RAT &amp; cells: this mode covers the following expansion cases: add NR cells to an LTE node, add LTE and NR cells to an LTE node. Profile Options If Dynamic Spectrum Sharing (DSS) or Narrowband Internet of Things (NB-IoT) is used, select the appropriate option. If MO IDs is selected, it is possible to create custom MO IDs when creating the BMI file using ECT. Radio technologies If the expansion profile is created from scratch, select all Radio technologies applicable to the expanded node. If a node snapshot is used for expansion, only select the Radio technologies applicable to the expanded node. Hardware type (BB-1) Select applicable hardware type. CIQ orientation Select according to preference.
4. Complete the profile by providing required information in Common Definitions, Basic Configuration Type, and Advanced Configuration Type. Observe the following There are limitations on creating a node profile. For more information, see Limitations. Advanced Configuration Type must be used with caution as ECT does not perform a thorough analysis of the values provided in CIQ variables created for customization. As a result, using custom MO naming or attributes in expansion can unintentionally overwrite existing MOs. If a node health check is to be included in the profile, the reference is defined in Basic Configuration Type &gt; Node Integration &gt; Add Health check profile . Baseline files in .mos format can be added as main scripts in the folder of a node integration or expansion project under Basic Configuration Type &gt; Node Integration. Note: A maximum of 25 baseline files can be added.
5. Select Export &gt; All Configurations to store the created profile.

#### 3.2.3.3 Create Site-Specific CIQ

A completed profile is used to create a site-specific CIQ.

Depending on the Profile Usage selected when creating the profile,

the following procedures apply:

- For ExpConfig: Add cells and ExpConfig: Add NR RAT &amp; cells, follow the instructions in Create Site-Specific CIQ Using Node Config Snapshot
- For Expansion: Add cells and Expansion: Add NR RAT &amp; cells, follow the instructions in Create Site-Specific CIQ Without Node Configuration Snapshot

##### 3.2.3.3.1 Create Site-Specific CIQ Using Node Config Snapshot

A completed profile is used to create a site-specific CIQ.

Steps

1. Open the Configuration Files Handler in the Equipment Configuration tool (ECT).
2. Extract the get-node-config-snapshot.xml script file from the NodeProfile.zip and run it on the node using AMOS.
3. Generate the node configuration as follows:
    1. Create the target file for the snapshot using command: l+ /&lt;path&gt;/&lt;snapshot\_name&gt;.xml
    2. Execute the script that saves node config snapshot to the previously created file, using the following command: netconfgx &lt;path\_to\_script&gt;/get-node-config-snapshot.xml
    3. Close the saved node configuration snapshot file using the following command: l-
4. Select the generated snapshot as the pre-configuration file.
5. Select the RadioNode\_NodeProfile.zip as configuration.
6. Select CIQ format from the drop-down list.
7. Click Generate CIQ.
8. Open the CIQ file in an editor that supports the selected CIQ format. This procedure describes Microsoft Excel as the editor for the XLSX format.
9. Add data for the expanded node as follows: Note: Additional information about the parameters is available in the tooltips, when hovering over cells with red tabs in the CIQ. The remaining tabs are for reference only and require no input.
    1. Add the required node data in the Node tab.
    CIQ for Expansion with Snapshot - Node tab

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
    3. Add a column or a row, depending on the CIQ orientation, for each sector in the Sector tab and fill in the sector data.
    CIQ for Expansion with Node Snapshot - Sector Tab

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
    5. Add a column or a row, depending on the CIQ orientation, for each cell to be added in the NR cell and LTE cell tabs and fill in the cell data.
    CIQ for Expansion with Snapshot - NR cell tab

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
CIQ for Expansion with Snapshot - Node tab

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
CIQ for Expansion with Node Snapshot - Sector Tab

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
CIQ for Expansion with Snapshot - NR cell tab

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
13. Save the file.

##### 3.2.3.3.2 Create Site-Specific CIQ Without Node Configuration Snapshot

A completed profile is used to create a site-specific CIQ.

Steps

1. Open the Configuration Files Handler in the Equipment Configuration tool (ECT).
2. Select the RadioNode\_NodeProfile.zip.
3. Select the following from their respective drop-down lists: Upgrade package MOM version CIQ format
4. Click Generate CIQ.
5. Open the CIQ file in an editor that supports the selected CIQ format. This procedure describes Microsoft Excel as the editor for the XLSX format.
6. Add data for the expanded node as follows: Note: Additional information about the parameters is available in the tooltips, when hovering over cells with red tabs in the CIQ. The remaining tabs are for reference only and require no input.
    1. Add the required node data in the Node tab. Figure 6 Add Node Data When doing cell expansion, ECT must know if the frequencies are defined or not on the target node. If the frequency is new, add the frequency definition in the Node Sheet and ECT creates the NR and LTE frequency. Figure 7 NR Frequency
    add\_site\_data

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
    NR and/or LTE frequencies

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
    4. Add a column or a row, depending on the CIQ orientation, for each sector in the Sector tab and fill in the sector data. Figure 8 Add Sector Data
    add\_sector\_data

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
    6. Add a column or a row, depending on the CIQ orientation, for each cell to be added in the NR cell and LTE cell tabs and fill in the cell data. Figure 9 Add NR Data If the frequency is already defined on the node, add the NR frequency RDN in the NR Cell sheet. The cell can now be created with the correct frequency references. Figure 10 NR Frequency RDN
    add\_nr\_cell

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
    NR frequency RDN

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
add\_site\_data

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
NR and/or LTE frequencies

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
add\_sector\_data

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
add\_nr\_cell

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
NR frequency RDN

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
12. Save the file. The CIQ file is later imported in ENM AP, for more information see Order Expansion Using CIQ in ENM Auto Provisioning.

#### 3.2.3.4 Create ConfigurationFiles.zip

All the configurations prepared in previous steps are collected in an expansion

project ZIP file.

Depending on the Profile Usage selected when creating the profile,

the following procedures apply:

- For ExpConfig: Add cells and ExpConfig: Add NR RAT &amp; cells, follow the instructions in Create ConfigurationFiles.zip Using Node Configuration Snapshot
- For Expansion: Add cells and Expansion: Add NR RAT &amp; cells, follow the instructions in Create ConfigurationFiles.zip Without Node Configuration Snapshot

##### 3.2.3.4.1 Create ConfigurationFiles.zip Using Node Configuration Snapshot

All the configurations prepared in previous steps are collected in an expansion

project ZIP file.

Steps

1. Launch ECT and select the Configuration Files Handler.
2. Enter the RadioNode\_NodeProfile.zip file, under Files -&gt; Configuration .
3. Browse and select the CIQ file created in the previous step.
4. Select the most recently generated node configuration snapshot as a pre-configuration file.
5. Optional: Add project data:
    1. Go to Project data and switch off the Use default setting.
    2. Enter the project name, description, and creator.
6. Press Substitute. An expansion project ZIP file ConfigurationFiles.zip, is created by ECT.

##### 3.2.3.4.2 Create ConfigurationFiles.zip Without Node Configuration Snapshot

All the configurations prepared in previous steps are collected in an expansion

project ZIP file.

Steps

1. Launch ECT and select the Configuration Files Handler.
2. Select the appropriate MOM and UP.
3. Enter the RadioNode\_NodeProfile.zip file, under Files -&gt; Configuration .
4. Browse and select the CIQ file created in the previous step.
5. Optional: Add project data:
    1. Go to Project data and switch off the Use default setting.
    2. Enter the project name, description, and creator.
6. Press Substitute. An expansion project ZIP file ConfigurationFiles.zip, is created by ECT.

### 3.2.4 Create Configurations for Expansion Manually

Summary

Create the configuration files manually and collect them in an expansion project ZIP

file. Refer to Manage Configuration Files for information

about configuration file types and templates.

Required Competences

- NETCONF and 3GPP Bulk CM formats. Most of the files use one of the two formats.
- Managed Object Model. The model is used as the source of object instances, attributes, and actions that can be included in the configuration files.

Further Information

The following documents provide additional information:

- Managed Object Model (MOM) User Guide
- Ericsson NETCONF Interface
- Auto Provisioning User Guide in ENM online help

The following documents provide additional information on the MO classes related to

different areas:

- Manage Transport Network
- Manage Hardware Equipment
- Manage Ipsec
- Manage Radio Network

#### 3.2.4.1 Create Configuration Files Manually

Create the configuration files manually and collect them in an expansion project ZIP

file.

Steps

1. Create an empty project folder.
2. Create the Project Information File ProjectInfo.xml and place it on the top level of the project folder. For more information on the file and its content, see relevant documents in ENM online help.
3. Create a node folder for each node to be included in the project. The folder name must match the name of the node.
4. Create a Node Information File nodeInfo.xml for each node, and place it in the corresponding node folder.
5. Create the node-specific configuration files and place them in the corresponding node folder. The list of configuration files is included in Table 4. At least one of these files must be included. Table 4 Configuration Files File Name File Type Supported Formats nodeConfiguration XML NETCONF, Bulk 3GPP optionalFeature XML NETCONF, Bulk 3GPP baseline MOS Moshell remoteNodeConfiguration XML NETCONF, Bulk 3GPP unlockCell XML NETCONF, Bulk 3GPP Note: A maximum of 25 baseline files can be added. Example [expansion-project.zip] &gt; projectInfo.xml &gt; Node01 / nodeInfo.xml &gt; Node01 / nodeConfiguration.xml &gt; Node01 / optionalFeature.xml &gt; Node02 / nodeInfo.xml &gt; Node02 / nodeConfiguration.xml &gt; Node02 / optionalFeature.xml
![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)

#### 3.2.4.2 Configuration Files

nodeConfiguration File

The nodeConfiguration file contains the configuration required for

the node to be expanded.

optionalFeature File

The optionalFeature file contains the activation and deactivation

of features needed for the expansion.

baseline File

A baseline file is a node configuration file that can be included

in the node folder of a node integration or expansion project. AMOS (.MOS) is the

supported file format. Multiple baseline files can be included in a node folder. A

baseline file is taken as a main script.

A baseline file can be placed in

Home

&gt; Shared

&gt;  Autoprovisioning

folder on the shared file system of the scripting server. The main

script can call additional scripts, these additional scripts must be in the shared

folder.

remoteNodeConfiguration File

A remoteNodeConfiguration file can be used to provide the delta

configuration required for an eNodeB when a new gNodeB in the NSA mode is added. If

the remote node is also a Radio Node, NETCONF can be used.

unlockCell File

The UnlockCell file is an optional file that sets the

administrative state of the cell MOs to unlocked. When included, the file is

executed directly after the other configuration files to open the cell for

traffic.

## 3.3 Order Expansion

Expansion is ordered through ENM Auto Provisioning (AP) application, or using ENM

CLI. The ordering method depends on the tool used to create configurations.

If the configuration files are prepared using the Configuration Generator in ENM AP,

expansion is ordered in ENM AP, using the CIQ file containing node-specific data as

input.

If Equipment Configuration Tool (ECT) is used to generate the configuration files, or

files are prepared manually, expansion is ordered either in ENM AP, or using ENM CLI. In

both cases, the expansion profile ZIP file generated in ECT is used as input.

### 3.3.1 Order Expansion Using CIQ in ENM Auto Provisioning

If the configuration files are created in the Configuration Generator in ENM Auto

Provisioning, integration is ordered by importing the CIQ to an earlier prepared project and

node profile.

Steps

1. Open ENM Auto Provisioning.
2. Select the previously created project where a profile has been created.
3. Click the Expand Node button on the Action bar.
ENM AP Expand Node Button

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
5. Click Import CIQ and select the CIQ file populated with site-specific parameters.
6. Click Order.
7. Click Monitor Expansion in the dialogue window, to open the Status tab.
8. Check the status of the expansion.
9. If the State is Expansion Suspended and Progress Waiting, resume the operation to complete the expansion order. Troubleshooting: Validate Configuration File Failed
![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)

### 3.3.2 Order Expansion Using Import Project in ENM Auto Provisioning

If the configuration files are

created in the Equipment Configuration Tool, expansion can be ordered by importing the

expansion project ZIP file into ENM Auto Provisioning.

Steps

1. Launch ENM Auto Provisioning.
2. Click Import and select the previously created expansion project ZIP.
ENM AP Add Node Button

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
4. Select the project in the Projects top pane, to view the summary of the node status. Example State: Expansion Suspended. Progress: Waiting. Additional Information: Waiting for notification or resume/cancel operation.
succeeded\_order\_expansion

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
6. Resume the operation to complete the expansion order. Troubleshooting: Validate Configuration File Failed
![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)

### 3.3.3 Order Expansion Using Import Project in ENM CLI

If the configuration files are created in the Equipment Configuration Tool, expansion

can be ordered by importing the expansion project ZIP file into ENM CLI.

Prerequisites

- The site-specific project archive file is available.

Steps

1. Import the expansion project ZIP file into ENM.
    1. Locate the project ZIP file on the client from which you are accessing ENM.
    2. Drag and drop the project zip file into the ENM CLI.
    drag\_n\_drop.png

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
drag\_n\_drop.png

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
3. Define the new site in ENM with the following CLI command: ap order file: &lt;project archive file name&gt;.zip
4. Check the status of the order using CLI command: ap status -p &lt;project name&gt; Note: The project name is defined in the projectInfo.xml file.
5. If State is Expansion Suspended and Progress Waiting, resume the operation to complete the expansion using CLI command: ap resume -n &lt;nodename&gt;
6. Verify that the new configuration has been applied to the node using CLI command: ap status -n &lt;nodename&gt; Troubleshooting: Validate Configuration File Failed
![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)

# 4 Expand Node

During the expansion phase, any new hardware is prepared and installed and the

configuration files are applied to the system.

The image below is interactive. Click on the relevant step, to view the instruction.

Summary

The node expansion phase is performed on-site and off-site.

The expansion can be done by one of the following procedures:

- Using the Maintenance Button where the installation and integration of the hardware unit is done at the same time.
- Using AP resume where the installation and integration of the hardware unit is done independently of each other.

Prerequisites

- Configuration is prepared and ordered according to instructions in chapter Preparation.
- Required hardware is available and ready to be installed (optional).

## 4.1 Expand Using Maintenance Button

Integrate using the Baseband Maintenance button is done on-site.

Steps

1. Check that the operational indicator is steady green on the Baseband unit. If the operational indicator is not steady green, contact the Network Operations Center.
2. Press the Maintenance Button on the Baseband unit for more than two but less than seven seconds. Result: Full Maintenance mode is activated and indicated by the Maintenance indicators on with a steady blue light. This indicates that the unit is ready for expansion. The traffic is locked on all cells in the node and radiation stops.
3. Install the radio node hardware by following the applicable hardware installation instruction. The instructions are located in the Installation folder of the applicable CPI collection. For example, RAN Compute &gt; Installation.
4. Press the Maintenance Button for less than seven seconds on the Baseband unit. Result: The Maintenance mode is deactivated and the Maintenance indicator turns off. The expansion project files are automatically uploaded to the live system by ENM Auto Provisioning. The traffic on the legacy sector or cells starts. The new hardware is automatically configured but the new cells are locked, and do not carry traffic.
5. Use ENM AP to monitor the progress of the node until it reaches the state Expansion Complete.

## 4.2 Expand Using AP Resume

Integrate using AP resume is done off-site.

Steps

The following steps are optional and are only required if hardware installation

is to be done.

1. Lock the cells radiating in the proximity of the installation, by one of the following methods: ENM Cell Management Application ENM Network Explorer Application AMOS ENM CLI
2. Install the radio node hardware on site by following the applicable hardware installation instruction. The instructions are located in the Installation folder of the applicable CPI collection. For example, RAN Compute &gt; Installation.
3. Unlock the legacy sectors or cells, by one of the following methods: ENM Cell Management Application ENM Network Explorer Application AMOS ENM CLI

The following steps are mandatory and must be done to apply configurations.

4. Instruct ENM AP to execute the node expansion. Result: The expansion configurations and a health check are automatically started on the node.
5. Use ENM AP to monitor the progress of the node until it reaches the state Expansion Complete.

## 4.3 Finalize Expansion

After the expansion process is finished, the final steps ensure that the new node is

operational.

### 4.3.1 Unlock Cells

New sectors or cells must be unlocked to enable traffic.

Mandatory task.

If the unlock configuration is provided in the configuration files, the cells are

unlocked automatically during the autointegration. For more information and

tutorials, go to the ENM Help Center.

Steps

1. Unlock the new sectors or cells, by one of the following methods: ENM Cell Management Application ENM Network Explorer Application AMOS ENM CLI

After This Task

If cells are disabled after unlock, Resource allocation alarms and Service

unavailable alarms can occur and the node must be restarted with a warm restart. For

instructions, see Restart Unit.

### 4.3.2 Perform Drive Test

Optional task.

A traffic or drive test can be performed on each added cell  to evaluate a set of the

Network Elements and verify that the expansion configuration works.

### 4.3.3 Configure Licenses Using Instantaneous Licensing in Non-Connected Mode

If Instantaneous Licensing in non-connected mode is used, the LKF for the target node

must be handled manually using ENM and SSP-LKM after completed expansion.

Prerequisites

- Expansion is completed and License System Trigger Unlock is triggered on the target node.

Steps

1. Log on to ENM.
2. Run the Radio Node License Request Flow to generate an LRF.
3. Submit the LRF to SSP-LKM to request a new LKF for the target node.
4. Download the generated LKF ZIP and upload it to ENM.
5. Open Software and Hardware Manager &gt; License Administration in ENM.
6. Import the LKF to the target node using Import Key Files.
7. Install the updated LKF on the target node.

### 4.3.4 Complementary Health Checks for Expansion

Complementary health checks are used to verify the health status of a node after a

completed expansion. Health checks can be performed in the following ways:

Node Health Check (NHC)

The NHC application enables the user to run node health status checks and generate

reports of such checks using ENM.

For more information, see ENM Online Help in ELEX.

Automated Health Check (AHC)

AHC provides health checks and diagnostics after a finished expansion project using

ENM Flow Automation. In addition, AHC can be used to verify the health status of up

to 20 nodes before an expansion project.

For more information, see Manage Automated Health Check.

Node Health Validator (NHV)

NHV in EMGUI provides node health status and health validation for troubleshooting,

or after hardware installation and replacement, using LMT port or ENM.

For more information, see EMGUI Node Health Validator.

# 5 Expansion Troubleshooting

## 5.1 Validate Configuration File Failed

Expansion can fail because of errors in the configuration files or during health

check.

If an error occurs during node expansion, the node is set to the following values:

- State is set to Expansion Suspended.
- Progress is set to Failed. Figure 11 Example of a Validation Error
Validation\_error\_1

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)

Cause: Validate configuration failed as an input parameter is invalid.

An error prevents the order procedure from completing.

Solution

1. Check the ENM log viewer for details about what is causing the failure. Figure 12 ENM Log Viewer
Validation\_error\_2

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
3. Correct any configuration errors according to the log.
4. If additional validation is needed, use the ECT Configuration Files Handler by following these steps:
    1. Connect to the node using AMOS.
    2. Run the following AMOS commands: &gt; l+m /path/target.xml &gt; netconfgx $scripts/netconf/get-config.xml &gt; l-
    ![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
    4. Start ECT Configuration -&gt; Files Handler .
    5. Select UP and MOM version.
    6. Load target configuration files (fetched from node) as pre-configuration file.
    7. Load expansion configurations files.
    8. Press Validate.
    9. Check and correct any configuration errors according to the list. Note: Warnings regarding deprecated and obsolete attributes are always shown. Figure 13 ECT Configuration Files Handler
    warnings in configuration files handler

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
warnings in configuration files handler

![Image](../images/137_1553-LZA7016014_1Uen.BB/additional_3_CP.png)
7. If health check failed, see the health check report and resolve the errors on the node. If the health check is faulty, cancel the project and make a new project referring to a new correct health check. Note: If the expansion is canceled due to a health check failure, any configurations applied up until this point are reverted and the node will be restored to a backup.