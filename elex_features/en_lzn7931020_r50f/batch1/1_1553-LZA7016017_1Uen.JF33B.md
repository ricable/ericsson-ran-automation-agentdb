---
complexity_score: 40.5
converted_at: '2025-08-13T06:57:38.512570Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 5
images_saved: 3
original_path: 1_1553-LZA7016017_1Uen.JF33B.html
pictures_extracted: 5
processing_method: docling_multimodal
quality_score: 9.0
source_file: 1_1553-LZA7016017_1Uen.JF33B.html
source_zip: en_lzn7931020_r50f.zip
tables_extracted: 64
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 1244
---

# 

Manage Radio Network

NR

Contents

![Image](../images/1_1553-LZA7016017_1Uen.JF33B/additional_3_CP.png)

![Image](../images/1_1553-LZA7016017_1Uen.JF33B/additional_3_CP.png)

- Descriptions
    - NR Frequency Range-Related Definitions
    - Radio Network Overview
    - NR Cell
        - Cell Relation for High-Band Cells
        - Configuring Maximum RF Output Power
        - Defining a Sector Carrier for an NR Cell
        - Cell and Sector Carrier Cardinality Limitation
        - Radio Frequency Channel Placement for the NR Cell
        - Synchronization Signal Block Configuration Parameters
        - Physical Cell Identity
        - NR Cell Global Identifier
        - NR Cell Availability
        - Configuring Band Lists
        - CSI-RS Resource Configuration for the NR Cell
        - SIB1 Transmission in the NR Cell in Standalone Deployment
        - NR Combined Cell
        - Configuration of Interface Supervision for NR
    - Sector
    - Sector Carrier
    - Channel Arrangements
- Procedures
    - Manage Cells
        - Add, Unlock and Activate an NR Cell
        - Lock an NR Cell
        - Delete an NR Cell
        - Change the Primary PLMN ID of an NR Cell
        - Automatic Clean-Up of NRCellCU Instances
        - Configuration Parameters for Unlocked NR Cell
        - Configure a Low-Band NR Cell
        - Configure a Mid-Band NR Cell
        - Configure a High-Band NR Cell
        - Configure TDD Pattern in Single Mode NR Baseband Radio Node
        - Manage Cell-Specific Reference Signals
    - Manage Sectors
        - Add and Unlock a Sector
        - Lock a Sector
        - Delete a Sector
        - Configure Multi-Sector Per Radio on One Radio Unit in NR
    - Manage Sector Carriers
        - Add Sector Carrier
        - Unlock Sector Carrier
        - Lock Sector Carrier
        - Delete Sector Carrier
        - Configuration Parameters for Unlocked Sector Carrier
        - Select Different Coverage and Throughput Modes for Cell Traffic Profile
        - Configuration of Radio Power Sharing
    - Manage Common Channel Beamforming on Remote Radio Units
        - Configure Custom Beamforming Weights for Remote Radio Units in NR
    - Configuring Sector Shapes and Digital Tilt for Low/Mid-Band and High-Band
- Troubleshooting
    - Fault Management Related to Carrier Resource
    - Fault Management Related to the NR Cell

# 1 Descriptions

## 1.1 NR Frequency Range-Related Definitions

Low-Band, Mid-Band and High-Band are defined as representations of operating bands

with different duplex modes in 3GPP frequency ranges.

| Term Designation(1)   | 3GPP Frequency Range Designation   | Corresponding Frequency Range   | Duplex Mode   |
|-----------------------|------------------------------------|---------------------------------|---------------|
| Low-Band(2)           | FR1                                | 0–7 GHz                         | FDD           |
| Mid-Band              | FR1                                | 0–7 GHz                         | TDD           |
| High-Band             | FR2                                | 24–50 GHz                       | TDD           |

(1)

For the textual definitions of the terms, see the Glossary of Terms and

Acronyms.

(2)

Supplementary Downlink band is considered Low-Band.

Related Information

3GPP TS 38.104, NR; Base Station (BS) radio transmission and reception

## 1.2 Radio Network Overview

The NR radio network consists of the functions and interfaces between user equipment and

the gNodeB. This document provides an overview of the network

and the concepts that apply, with instructions for initial configurations and general

guidelines.

## 1.3 NR Cell

A cell provides geographical coverage with its own carrier frequency and channels in the

sector frequency band.

Each NR cell is defined by the following MO classes:

| NRCellCU   |    | The NRCellCU MO, under the                                 GNBCUCPFunction parent MO class, represents                             inter-cell mobility and neighbor relations management.                                                                                                                     |
|------------|----|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|            |    |                                                                                                                                                                                                                                                                                                               |
| NRCellDU   |    | The NRCellDU MO, under the                                 GNBDUFunction parent MO class, represents, and                             contains configuration options for an NR cell.  An NR cell is locked or unlocked by setting the                                 NRCellDU.administrativeState attribute. |

Both the NRCellCU and the NRCellDU MO classes

represent the same NR cell. The cell identity is configured in the

NRCellDU.cellLocalId attribute. The maximum value of the

attribute is 236 - gNBIdLength - 1, where the gNBIdLength

parameter is specified in the parent function MO. The

NRCellCU.cellLocalId attribute must contain the same NR cell

identity.

Unlocking the NRCellDU MO has one of the following effects on the

NRCellCU MO:

Table 1

| MO attributes                                                                     | Condition                     | Result                                                                                                                                                                                       |
|-----------------------------------------------------------------------------------|-------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| NRCellCU.cellLocalId and                                     NRCellDU.cellLocalId | Exist and match.              | The NRCellCU MO is updated with the configuration                                 received from the NRCellDU.                                                                                |
| NRCellCU.cellLocalId and                                     NRCellDU.cellLocalId | Do not exist or do not match. | An NRCellCU.cellLocalId attribute matching the                                 configuration of the NRCellDU.cellLocalId                                 attribute is automatically created. |

An NR cell must be associated with

at least

one configured sector

carrier.

Related Information

Manage Cells

Defining a Sector Carrier for an NR Cell

### 1.3.1 Cell Relation for High-Band Cells

For High-Band cells in one sector (or carrier aggregation group), the cell configuration

must consider the following aspects:

- The related cells must overlap.
- The same value must be configured for the NRCellDU.cellRange attribute for all the cells connected to the same SectorEquipmentFunction MO class.
- SCells must be explicitly configured in cell relations depending on the required transmission direction for carrier aggregation.
- For uplink carrier aggregation, the intended PSCells and one SCell must be configured to have uplink transmission direction.

Table 2   Configuring Cell Relation for High-Band Cells in One Sector

| Configurable Attribute           | Attribute Value   | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|----------------------------------|-------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| NRCellRelation.sCellCandidate    | ALLOWED           | The cells in one sector that are SCell candidates must be configured                                 this way. The configuration defines the cells as possible                                 SCells.  The cell with the lowest NR-ARFCN is selected to be the PSCell in one                                 sector, regardless of the configured value.  With the Multiple PSCells High-Band feature, it                                 is possible to configure more than one PSCell. When the feature is                                 activated, the cells with the lowest and the highest NR-ARFCN are                                 selected as PSCells.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| NRCellRelation.coverageIndicator | OVERLAP           | All the cells in one sector must be configured this way to define                                 coverage area relation.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| NRSectorCarrier.txDirection      | DL_AND_UL         | The following cells in one sector must be configured this way:  One or two                                             PSCells for each sector.     The SCells that are used for uplink carrier aggregation                                             when the NR Uplink Carrier Aggregation                                                 High-Band (FAJ 121 5092) feature is activated                                             on the gNodeB. These SCells must have an NR-ARFCN that                                             is adjacent to the NR-ARFCN of the PSCell  in the same                                             carrier aggregation group for contiguous uplink carrier                                             aggregation.     Among those cells that are configured to have both downlink and                                 uplink capabilities, the system ensures that the cell set with the                                 lowest NR-ARFCN becomes the PSCell in the sector. If the Multiple PSCells High Band feature is                                 enabled, the cells with the lowest and the highest NR-ARFCN are                                 selected as PSCells. |
| NRSectorCarrier.txDirection      | DL                | Configuration for SCells in one sector that are only used for                                 downlink carrier aggregation.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |

### 1.3.2 Configuring Maximum RF Output Power

Configuring the following attributes in the cell MOs affects the maximum RF output

power:

### 1.3.3 Defining a Sector Carrier for an NR Cell

A sector carrier models a transmission point of a defined NR cell. The

NRSectorCarrier MO represents the resources of a sector carrier

and contains the following configuration data:

- The NR-ARFCN for the radio frequency channel allocated for the NR cell
- The channel bandwidth for the NR cell
- The duplex mode for the NR cell
- The maximum output power for the sector carrier
- A reference to an instance of the SectorEquipmentFunction MO
- The direction of the transmission
- The antenna branch allocation

The sector carrier configurations take effect when the

NRSectorCarrier.administrativeState attribute is set to

UNLOCKED.

The NRCellDU MO which represents the Distributed Unit of an NR cell,

must refer to at least one instance of the NRSectorCarrier MO. The

NRCellDU.nRSectorCarrierRef attribute must be configured to

define this reference between the NR cell and the sector carrier. The

NRCellDU.nRSectorCarrierRef attribute can reference up to six

sector carriers.

The NRSectorCarrier.txDirection attribute represents the configuration

of the downlink and uplink transmission direction of a sector carrier.

While an NR cell is configured to refer to an instance of the

NRSectorCarrier MO, the

NRCellDU.administrativeState attribute must be set to

LOCKED.

Define only one NR cell for one sector carrier.

Related Information

Manage Sector Carriers

### 1.3.4 Cell and Sector Carrier Cardinality Limitation

The cardinality limitations for the NRCellDU and

NRSectorCarrier MO classes are set by the following

attributes:

- CardinalityLimits.maxNRCellDU
- CardinalityLimits.maxNRSectorCarrier

The values of the attributes are automatically set by the system for the current

deployment.

The cardinality limits listed in these attributes are the maximum number of

NRCellDU and NRSectorCarrier MO instances that

can be created in the current deployment. The cardinality limitations prevent the

configuration of more cells or sector carriers than the limits set by the

CardinalityLimits.maxNRCellDU and

CardinalityLimits.maxNRSectorCarrier attributes.

### 1.3.5 Radio Frequency Channel Placement for the NR Cell

The allocated frequencies and channel bandwidths are essential capabilities of an NR

cell. These parameters are configured in the NRSectorCarrier MOs to

set the frequency, bandwidth, and the duplex mode used by the sector carriers defined

for the NR cell. If the cell has more than one sector carriers, the sector carriers must

use the same frequency and bandwidth.

The NR-ARFCN is set to represent a reference frequency of a radio frequency channel. The

following attributes of the NRSectorCarrier MO are used to set the

NR-ARFCN for an NR cell:

- NRSectorCarrier.arfcnDL
- NRSectorCarrier.arfcnUL

If different NR-ARFCN values are used for downlink and uplink, the duplex mode for

the NR cell is FDD. If the NR-ARFCN is the same for both downlink and uplink, the duplex

mode for the NR cell is TDD.

The value of the NR-ARFCN attributes is placed on the global

frequency raster and designated by NREF in 3GPP. For information on the

applicable values and step sizes for NR operating bands in FR1 and FR2, see 3GPP

TS 38.104, Rel. 15, 5.4.2.1, 5.4.2.3, Table 5.4.2.3-1 and Table

5.4.2.3-2.

The configuration values to the NR-ARFCN attributes take effect when the

NRSectorCarrier.administrativeState is set to

UNLOCKED.

The channel bandwidth parameters are set using the following attributes of

NRSectorCarrier based on the desired cell channel bandwidth on

the available frequency range:

- NRSectorCarrier.bSChannelBwDL
- NRSectorCarrier.bSChannelBwUL

The supported channel bandwidth values guarantee that the guard bands are kept for

the NR cell.

Table 3   Supported Channel Bandwidth Values for the NRSectorCarrier.bSChannelBwDL and

NRSectorCarrier.bSChannelBwUL Attributes

|                       | 5 MHz   | 10 MHz   | 15 MHz   | 20 MHz   | 25 MHz   | 30 MHz   | 35 MHz   | 40 MHz   | 50 MHz   | 60 MHz   | 70 MHz   | 80 MHz   | 90 MHz   | 100 MHz   |
|-----------------------|---------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|-----------|
| EN-DC Low-Band CPRI   | Yes     | Yes      | Yes      | Yes      | Yes      | Yes      | Yes      | Yes      | Yes      |          |          |          |          |           |
| EN-DC Mid-Band CPRI   |         | Yes      | Yes      | Yes      |          | Yes      | Yes      | Yes      | Yes      | Yes      | Yes      | Yes      | Yes      | Yes       |
| EN-DC Mid-Band eCPRI  |         | Yes      | Yes      | Yes      |          | Yes      | Yes      | Yes      | Yes      | Yes      | Yes      | Yes      | Yes      | Yes       |
| EN-DC High-Band  CPRI |         |          |          |          |          |          |          |          | Yes      |          |          |          |          | Yes       |
| NR SA Low-Band CPRI   | Yes     | Yes      | Yes      | Yes      | Yes      | Yes      | Yes      | Yes      | Yes      |          |          |          |          |           |
| NR SA Mid-Band CPRI   |         | Yes      | Yes      | Yes      |          | Yes      | Yes      | Yes      | Yes      | Yes      | Yes      | Yes      | Yes      | Yes       |
| NR SA Mid-Band eCPRI  |         | Yes      | Yes      | Yes      |          | Yes      | Yes      | Yes      | Yes      | Yes      | Yes      | Yes      | Yes      | Yes       |
| NR SA High-Band CPRI  |         |          |          |          |          |          |          |          |          |          |          |          |          | Yes       |

For detailed capacity figures, see Supported Capacity and Configurations for NR RAN. For the

different radio capabilities, including supported channel bandwidth values, see Supported Radio Capabilities.

In FDD, the channel bandwidth values for downlink and uplink can be different or the

same, but the NR-ARFCN values must be different. In TDD, the channel bandwidth values

and the NR-ARFCN values must be the same. For more information about asymmetric

bandwidth values in FDD, see 3GPP TS 38.101-1, Release 16, 5.3.6.

The channel bandwidth configuration values take effect when the

NRSectorCarrier.administrativeState is set to

UNLOCKED.

The value of the NRSectorCarrier.arfcnDL and

NRSectorCarrier.arfcnUL attributes is a designation of reference

frequencies in the available frequency range. Reference frequencies are used to identify

the position of radio frequency channels. Figure 1 shows the formula that is used to define the NR-ARFCN for both downlink and uplink.

This NR-ARFCN value-NREF in the figure-is then used in the

NRSectorCarrier.arfcnDL and

NRSectorCarrier.arfcnUL attributes to place the radio frequency

channel in the available frequency range. By using the formula, the NR-ARFCN value

guarantees that the guard bands of the radio frequency channel used for an NR cell are

kept.

Figure 1   Formula for Calculating the NR-ARFCN for the Available Frequency Range

Table 4   Parameters Used for Calculating NR-ARFCN

| Parameter        | Description                                                                                                                             |
|------------------|-----------------------------------------------------------------------------------------------------------------------------------------|
| Center Frequency | The arithmetic center of the frequency bandwidth that must be given                                 in kHz for the formula in Figure 1. |
| ΔFGlobal         | Global frequency raster granularity expressed in kHz.                                                                                   |
| FREF-Offs        | Offset to reference frequency expressed in kHz.                                                                                         |
| M                | Variable showing the range of NR-ARFCN.                                                                                                 |
| NREF             | The value of NR-ARFCN.                                                                                                                  |
| NREF-Offs        | Offset to NR-ARFCN.                                                                                                                     |
| SCS              | Subcarrier Spacing at cell level.                                                                                                       |

The parameters required to calculate the NR-ARFCN are shown in Table 5.

Table 5   Valid NR-ARFCN Ranges for Parameter Combinations

| NR-ARFCN Range      | ΔFGlobal   | FREF-Offs      | NREF-Offs   |
|---------------------|------------|----------------|-------------|
| 0–599,999           | 5 kHz      | 0              | 0           |
| 600,000–800,000     | 15 kHz     | 3,000,000 kHz  | 600,000     |
| 2,016,667–2,279,165 | 60 kHz     | 24,250,080 kHz | 2,016,667   |

For more information on channel arrangement and NR-ARFCN placement, see 3GPP TS

38.104, Rel. 15, 5.4.2.1.

Multiple valid NR-ARFCN values can be selected for the

NRSectorCarrier.arfcnDL and

NRSectorCarrier.arfcnUL attributes. The range of valid NR-ARFCNs

is defined by the value of the NRCellDU.subCarrierSpacing attribute.

Using a different valid NR-ARFCN value fulfills the same guard band requirements, but

results in a shift in the position of a radio frequency channel in the available

frequency range. Depending on the value of the

NRCellDU.subCarrierSpacing attribute, different Subcarrier

Spacing (SCS) needs to be used to calculate the range of applicable NR-ARFCNs. The

quotient of the SCS and ΔFGlobal parameters gives the number of the possible

NR-ARFCNs, denoted by the M variable in Figure 1. The SCSs applicable for the different NR cell configurations are shown in Table 6.

Table 6   SCS Values to Calculate Applicable NR-ARFCNs in Different Cell

Configurations

| Configured NR Cell   |   Value of NRCellDU.subCarrierSpacing |
|----------------------|---------------------------------------|
| Low-Band             |                                    15 |
| Mid-Band             |                                    30 |
| High-Band            |                                   120 |

For more information on numerology and SCS, see 3GPP TS 38.211, Rel. 15,

4.2.

Related Information

3GPP TS 38.104, Rel. 15, NR; Base Station (BS) radio transmission and

reception

3GPP TS 38.211, Rel. 15, NR; Physical channels and modulation

#### 1.3.5.1 Reconfigure Frequency for an NR Cell

When a neighboring cell changes frequency, existing

NRCellRelations are maintained if the new frequency has a

corresponding NRFreqRelation configured in the cell. If the

relation does not exist, the NRCellRelation is lost, and has to

be re-created by ANR if active.

Steps

1. Create the NRFrequency for the new cell frequency, if it does not exist.
2. Create the NRFreqRelation, with the nRFrequencyRef using the NRFrequency created in Step 1, for all the neighboring cells in which the NRCellRelation are to be maintained.
3. Change the cell frequency.

Results

Once the new cell frequency information is propagated, the neighbors are able to

update the NRCellRelation.nRFreqRelationRef toward the

NRFreqRelation created in Step 2.

### 1.3.6 Synchronization Signal Block Configuration Parameters

The SSB defines an NR cell in which it is used for frame

synchronization. An SSB consists of the following elements that contain subcarriers:

- PSS
- SSS
- PBCH

The following attributes of the NRCellDU MO are used to configure the

SSB parameters for an NR cell:

| NRCellDU.ssbFrequency         |    | Represents the NR-ARFCN that is associated with the SSB                                                                                                  |
|-------------------------------|----|----------------------------------------------------------------------------------------------------------------------------------------------------------|
|                               |    |                                                                                                                                                          |
| NRCellDU.ssbPeriodicity       |    | Specifies the periodicity of the SSB                                                                                                                     |
|                               |    |                                                                                                                                                          |
| NRCellDU.ssbOffset            |    | Specifies the offset of the SSB transmission window  The value of the attribute corresponds to the SSB time domain                             position. |
|                               |    |                                                                                                                                                          |
| NRCellDU.ssbSubCarrierSpacing |    | Gives the value of the subcarrier spacing that is specific to the SSB                                                                                    |
|                               |    |                                                                                                                                                          |
| NRCellDU.ssbTimeShiftEnabled  |    | Enables or disables SSB time shift                                                                                                                       |
|                               |    |                                                                                                                                                          |
| NRCellDU.ssbIndex             |    | Configures the SSB index or can be left empty                                                                                                            |
|                               |    |                                                                                                                                                          |
| NRCellDU.ssbIndexAutoSelected |    | Represents the SSB index automatically selected by the gNodeB if the                                 NRCellDU.ssbIndex attribute is left empty           |

After unlocking the cell, the start of SSB transmission is indicated by the following

attribute values:

- The NRCellDU.operationalState attribute is set to ENABLED.
- The NRCellDU.serviceState attribute is set to IN\_SERVICE.

#### 1.3.6.1 Configuration of SSB Transmission Frequency

The NRCellDU.ssbFrequency attribute of an NR cell must be set

according to the operating band.

For every operating band, the value of the NRCellDU.ssbFrequency

attribute must align with what is set to the NRSectorCarrier.arfcnDL

attribute in the NR cell. This means that the difference between the two values must be

either of the following:

- Zero
- A multiple of the quotient of the SCS and the applicable ΔFGlobal for each operating band. This guarantees that the synchronization signal and the rest of the cell are aligned at the subcarrier level maintaining orthogonality.

For NR cells that have an overlapping spectrum, place the SSB on the same frequency.

For information about configuring the SSB in ESS, see Ericsson Spectrum Sharing All-In-One

User Guide document in the Ericsson Spectrum Sharing library.

If the NRCellDU.ssbFrequency attribute is set to

0, the system selects an NR-ARFCN for the SSB when the

NRCellDU.administrativeState state is set to

UNLOCKED.

Configurations that change the SSB or the MTC of a cell can affect the NR frequency, and

NR intra-frequency and inter-frequency relations. Manual configuration of the relevant

NRNetwork.nRFrequency and

NRCellCU.nRFreqRelation attributes might be required after

locking the cell to align with the value of the

NRCellDU.ssbFrequencyAutoSelected attribute. The changes take

effect when the cell is unlocked.

System-Selected Value for NR-ARFCN

Although it is recommended to configure the SSB frequency for frequency planning, it

is possible to have the NR-ARFCN value automatically selected by the system.

The system-selected value for NR-ARFCN is shown in the

NRCellDU.ssbFrequencyAutoSelected attribute indicating a

valid location for the SSB in the cell bandwidth. The displayed value depends on the

configuration of the following MO classes:

- NRSectorCarrier
- NRCellDU

The system-selected value for NR-ARFCN places the SSB in the lowest feasible

synchronization channel if it can be aligned with the synchronization raster,

represented by the GSCN. If the NRCellDU.ssbFrequency value is

configured in a way that the NR-ARFCN value does not map to a GSCN, the NRCellDU.ssbGscn parameter is left empty. In an NR SA deployment, this

indicates that the SSB is not on the synchronization raster, and therefore, the cell

is not considered a primary cell.

If the alignment is not supported because of the value configured for the

NRSectorCarrier.arfcnDL attribute, the system selects the

lowest NR-ARFCN for the NRCellDU.ssbFrequencyAutoSelected

attribute that fits the SSB in the cell for the given configuration.

The result of the system-selected value can be that different NR-ARFCNs are selected

for NR cells that provide coverage over the same geographical area. In such a case,

the NRCellDU.ssbFrequency attribute must be manually aligned for

the correct placement of the SSB.

Related Information

3GPP TS 38.104, Rel. 15, 5.4.3., NR; Base Station (BS) radio transmission and

reception

3GPP TS 38.213, Rel. 15, 13., NR; Physical layer procedures for

control

#### 1.3.6.2 Configuration of SSB Transmission Periodicity

The NRCellDU.ssbPeriodicity attribute must be configured according to

the requirements of the operating band.

#### 1.3.6.3 Configuration of Offset of SSB Transmission Window

The NRCellDU.ssbOffset attribute can only be set to 0. This

configuration sends the SSB in the first half of the radio frame.

For information about configuring the SSB offset in ESS, see Ericsson Spectrum Sharing All-In-One User Guide.

#### 1.3.6.4 Configuration of Sub-Carrier Spacing of SSB

For an NR cell, the NRCellDU.ssbSubCarrierSpacing must be configured

to the same value as the value of NRCellDU.subCarrierSpacing

attribute.

Table 7   Value of NRCellDU.ssbSubCarrierSpacing in Different Cell Configurations

| Configured NR Cell   |   Value of NRCellDU.ssbSubCarrierSpacing |
|----------------------|------------------------------------------|
| Low-Band             |                                       15 |
| Mid-Band             |                                       30 |
| High-Band            |                                      120 |

#### 1.3.6.5 Configuration of SSB Time Shift

The NRCellDU.ssbTimeShiftEnabled attribute can be set to

true to enable time shifted SSB indexes.

The SSB index is allocated based on mod 3 or configured through the

NRCellDU.ssbIndex attribute.

If the value of the NRCellDU.ssbIndex attribute is not configured, the

NRCellDU.ssbIndexAutoSelected attribute is created automatically,

and the SSB index is calculated from PCI. One cell has only one SSB index, and three SSB

indexes are used in a network. It is recommended to deploy PCI with mod 3.

If the NRCellDU.ssbIndex attribute is set to a non-empty value, the

associated cell uses this value as the SSB index.

#### 1.3.6.6 SSB Measurement and Timing Configuration in EN-DC and NR SA

In EN-DC deployments, when the Master Node requests the UE to perform SSB measurements on

an NR frequency, the node provides the UE with an SMTC. The SMTC defines a periodic

measurement window that the UE uses to find the SSBs of NR cells on the frequency. The

SMTC is configured through the following attributes in the Master Node:

- GUtranSyncSignalFrequency.smtcOffset
- GUtranSyncSignalFrequency.smtcDuration
- GUtranSyncSignalFrequency.smtcPeriodicity

When an NRCellDU MO is unlocked, a corresponding

NRCellCU MO and an NRFrequency MO with

matching ARFCN and SCS are automatically created in the Secondary Node unless they

already exist. As serving cell information is propagated over the X2 interface, an

ExternalGUtranCell MOM and a

GUtranSyncSignalFrequency MO are also automatically created in

all neighbor Master Nodes. During the automatic creation, the SMTC-related attributes in

the GUtranSyncSignalFrequency MO are set to the same values as the

following corresponding attributes in the NRCellDU MO:

- NRCellDU.ssbOffset
- NRCellDU.ssbDuration
- NRCellDU.ssbPeriodicity

In NR standalone deployments,

the

UE

performs

cell search and SSB measurements on an NR

frequency autonomously.

The

node also provides the UE with an SMTC. The difference is, the SMTC is configured

through the following attributes in the gNodeB:

- NRFrequency.smtcOffset
- NRFrequency.smtcDuration
- NRFrequency.smtcPeriodicity

When an NRCellDU MO is unlocked, and serving cell information is

propagated over the Xn interface, an ExternalNRCellCU MO and an

NRFrequency MO are automatically created in all neighbor gNodeBs

unless they already exist. During the automatic creation, the SMTC-related attributes in

the NRFrequency MO are set to the same values as the corresponding

attributes in the NRCellDU MO, the same way as in EN-DC.

If the same carrier frequency is used for ESS and non-ESS cells, the SMTC periodicity,

duration, and offset might differ between the two types of cells. Table 8 shows an example of the difference

between ESS and non-ESS cells.

Table 8   SMTC Periodicity, Duration, and Offset for ESS and non-ESS cells

| Cell Type   |   Value of NRCellDU.ssbPeriodicity |   Value of NRCellDU.ssbDuration |   Value of NRCellDU.ssbOffset |
|-------------|------------------------------------|---------------------------------|-------------------------------|
| ESS         |                                 20 |                               1 |                             1 |
| Non-ESS     |                                 20 |                               1 |                             0 |

Depending on the order in which the two types of cells are unlocked, the SMTC

configuration in the GUtranSyncSignalFrequency MO and the

NRFrequency MO can be based on either ESS or the non-ESS SSB

timing configuration. As a result, the UE is only able to measure one type of cells. To

avoid this, the SMTC-related attributes in the

GUtranSyncSignalFrequency or the NRFrequency

MO must be configured to cover the SSB in both types of cells. It is recommended to use

default values for the following attributes in the Table 9:

Table 9   SMTC Configuration in GUtranSyncSignalFrequency and NRFrequency MOs

| Attribute                                |   Default Value |
|------------------------------------------|-----------------|
| GUtranSyncSignalFrequency.ssbPeriodicity |              20 |
| GUtranSyncSignalFrequency.ssbDuration    |               5 |
| GUtranSyncSignalFrequency.ssbOffset      |               0 |
| NRFrequency.ssbPeriodicity               |              20 |
| NRFrequency.ssbDuration                  |               5 |
| NRFrequency.ssbOffset                    |               0 |

#### 1.3.6.7 Time Synchronization Requirements in EN-DC

The Master Node configures the UE with B1 measurements to find candidate NR cells for

initiating EN-DC setup. The UE uses the LTE cell as time reference for the periodic

measurement window defined by the SMTC. Therefore, for the SMTC to cover the SSB of the

NR cells, the Master Node and the Secondary Node must be time synchronized. To achieve

this, the IEEE 1588 Time and Phase Synchronization feature or the Clock Source over GPS

timing support feature must be activated on the Master Node and the Secondary Node.

For more information about time synchronization, see IEEE 1588 Time and Phase Synchronization and Clock Source over GPS.

If it is the

IEEE

1588 Time and Phase Synchronization feature activated on the nodes,

one of the following timing support profiles must be used:

- The G.8275.1 PTP profile with full timing support from the network
- The G.8275.2 PTP profile (PTS) with partial timing support from the network

In addition, the Master Node and the Secondary Node must be aligned on the basic frame

number level. The alignment is achieved by setting the

RadioEquipmentClock.bfnOffset attribute to the same value on both

nodes.

Information about the

SMTC

the UE must use is provided by attributes of the

GUtranSyncSignalFrequency

MO. If the LTE

cell is configured with an SFN offset through the

EUtranCellFDD.frameStartOffset or the

EUtranCellTDD.frameStartOffset attribute, the Secondary Node

adjusts the SMTC provided to the UE accordingly. This is to ensure that the SMTC covers

the SSB of the NR cells.

Figure 2   Time Synchronization Requirements in EN-DC

#### 1.3.6.8 Synchronization Signal Block Placement in Standalone Deployment

The SSB is the synchronization signal containing the Master Information Block (MIB). The

SSB defines an NR cell. Within the defined NR cell, the SSB is used for frame

synchronization and for cell search in an NR SA deployment.

The NRCellDU MO is used to configure the SSB parameters for an NR

cell.

In an NR SA deployment, PCells must be located on the synchronization raster as the UE

only performs initial cell search on that raster. The synchronization raster indicates

possible frequency positions for the SSB. The frequency position of the SSB is

determined by the Synchronization Signal Reference Frequency (SSREF). The

SSREF maps to the center of subcarrier 0 in resource block 10. The

SSREF is set by using the NRCellDU.ssbFrequency

attribute. If the SSREF matches a point on the synchronization raster, that

reference point is represented by the GSCN. The GSCN value is displayed in the

NRCellDU.ssbGscn attribute at cell unlock, indicating that the

SSB is placed on the synchronization raster.

In order to place the SSB on the synchronization raster, valid NR-ARFCN values must be

calculated for the NRSectorCarrier.arfcnDL and the

NRSectorCarrier.arfcnUL attributes. For more information about

the synchronization raster, see 3GPP TS 38.104, Synchronization raster.

For every operating band, the value of the NRCellDU.ssbFrequency

attribute must align with what is set to the NRSectorCarrier.arfcnDL

attribute in the NR cell. This means that the difference between the two values must be

either of the following:

- Zero
- A multiple of the quotient of the SCS and the applicable ΔFGlobal for each operating band. This guarantees that the synchronization signal and the rest of the cell are aligned at the subcarrier level maintaining orthogonality.

Using the formulas in Table 10 ensures that the

value of the NRCellDU.ssbFrequency attribute is chosen in such a way

that the SSB is placed on the synchronization raster and fits the channel bandwidth.

Table 10   NR-ARFCN Values for SSB Placement on the Synchronization Raster

| Applicable NR-ARFCN Range   | NRCellDU.ssbFrequency(1)    | GSCN                   |
|-----------------------------|-----------------------------|------------------------|
| 0-599,999                   | 240 × N + 10 × M  (2)(3)(4) | 3 × N + (M - 3)/2  (2) |
| 600,000–800,000             | 600,000 + N × 96  (5)       | 7,499 + N  (5)(6)      |
| 2,016,667-2,279,165         | 2,016,667 + N × 288  (7)    | 22,256 + N  (7)        |

(1)

The value for the NRCellDU.ssbFrequency

attribute must be chosen in such a way that the SSB fits in the

cell bandwidth.

(2)

N = 1:2,499 (The value of N ranges from 1 to 2,499.)

(3)

M ∈ {1, 3, 5} For every N index number, only one M aligns with

the given NRSectorCarrier.arfcnDL value in

such a way that the difference between the

NRSectorCarrier.arfcnDL and the

NRCellDU.ssbFrequency attributes is zero

or a multiple of three. To choose the correct M, the following

operations exist:

- If mod3(NRSectorCarrier.arfcnDL) == 1, then M = 1
- If mod3(NRSectorCarrier.arfcnDL) == 0, then M = 3
- If mod3(NRSectorCarrier.arfcnDL) == 2, then M = 5

The M that aligns with the given

NRSectorCarrier.arfcnDL value must be

used.

(4)

If the difference between the

NRSectorCarrier.arfcnDL and the

NRCellDU.ssbFrequency attributes is a

multiple of six and the SCS is equal to the channel raster in

the cell, M = 3 is the only applicable value, because the SCS of

cells in Low-Band is 15 kHz, and if the channel raster of the

cell is also 15 kHz, the SSB is required to be placed in

increments that are multiples of 15 kHz. If M = 3, the

increments are 150 kHz, and this is the only possible increment

value that is a multiple of 15 kHz. For more information about

the channel raster, see 3GPP TS 38.104, Channel

raster.

(5)

N = 0:14,756 (The value of N ranges from 0 to 14,756.)

(6)

For band n79, this must be a multiple of 16.

(7)

N = 0:4,383 (The value of N ranges from 0 to 4,383.)

If the NRCellDU.ssbFrequency value is configured in such a way that

the NR-ARFCN value does not map to a GSCN, the NRCellDU.ssbGscn is

left empty. In an NR SA deployment this indicates that the SSB is not located on the

synchronization raster, and therefore, the cell is not a PCell. The UE cannot find the

NR cell while performing an initial cell search.

If

the NRCellDU.ssbTimeShiftEnabled attribute is set to

true for Mid-Band, neighbor SSB cells become shifted in the time

domain. One cell has only one SSB index, and three SSB indexes are used in a

network.

Related Information

Synchronization Signal Block Configuration Parameters

Configure a Mid-Band NR Cell in Standalone Deployment

3GPP TS 38.104, Rel. 15, 5.4.3., NR; Base Station (BS) radio transmission and

reception

1.3.6.8Synchronization Signal Block Placement in Standalone Deployment

#### 1.3.6.9 CORESET#0 Placement

CORESET#0 is a time-frequency region the UE uses to decode

candidate control channels, and to search for DCI. It is used in Low-Band, Mid-Band and High-Band cells. Centered around the SSB, CORESET#0 occupies the

following number of subcarriers:

- 24 × 12 subcarriers in two symbols for cells with 5 MHz channel bandwidth in a Low-Band cell and for cells with 10 MHz and 15 MHz channel bandwidths in a Mid-Band cell. The possible offset values are 0, 2, and 4.
- 48 × 12 subcarriers in one symbol for cells shown in Table 11. Table 11 Possible Offset Values for Cells with Different Channel Bandwidth Characteristics Cells Possible Offset Values Cells with channel bandwidths larger than 5 MHz in a Low-Band cell 12, 14, and 16 Cells with 20 MHz channel bandwidth or larger in a Mid-Band cell(1) 12, 14, and 16 Cells configured on a band (for example Band n79), which has the bandwidth characteristics of minimum eligible bandwidth of 40 MHz according to 3GPP, in a Mid-Band cell 0 and 28 Cells with 100 MHz channel bandwidth in a High-Band cell 14 (1) The cells with a minimum of 40 MHz channel bandwidth are excluded.

CORESET#0 must fit the channel bandwidth of Low-Band, Mid-Band and High-Band cells. Fitting the

channel bandwidth is determined by the placement of the SSB on the synchronization

raster. This can be done in the following ways:

- If the NRCellDU.ssbFrequency attribute is used to place the SSB, the NR-ARFCN value for the frequency position of the SSB must be chosen to be in a certain range relative to the value of the NRSectorCarrier.arfcnDL attribute.
- If the NRCellDU.ssbFrequencyAutoSelected attribute is used, the system places the SSB in the lowest feasible synchronization channel, prioritizing the higher supported indexes for CORESET#0 if SIB is broadcast.Note: It is important to have a proper frequency planning before using the NRCellDU.ssbFrequencyAutoSelected attribute.

Figure 3   Valid SSB Placement in an NR SA Deployment

Figure 4   Valid SSB Placement in an EN-DC Deployment without Using SIB1

If an NR cell broadcasts SIB1 in an EN-DC deployment, the SSB placement must be the same

as in an NR SA deployment, as shown in Figure 3.

SSB placement must be considered if an NR cell is expected to run the NR Automated

Neighbor Relations feature, so that CORESET#0 fits the channel bandwidth.

Available PRBs can be calculated by using the channel bandwidth configuration of the cell

set in the NRSectorCarrier.bSChannelBwDL and the

NRSectorCarrier.bSChannelBwUL attributes and the radio channel

frequency set in the NRSectorCarrier.arfcnDL and the

NRSectorCarrier.arfcnUL

attributes.

Related Information

3GPP TS 38.104, Rel. 15, 5.3 and 5.4.2., NR; Base Station (BS) radio

transmission and reception

### 1.3.7 Physical Cell Identity

The PCI is for cell identification on the physical layer

and determined by the SSB. The UE uses the PCI to decode physical layer data

transmitted by the gNodeB.

The PCI of an NR cell is configured by using the

NRCellDU.nRPCI attribute.

The PCI must be planned to achieve dual connectivity and

optimal radio network performance. To avoid performance degradation, unique PCIs

must be configured within the same site and as neighbors and neighbors of

neighbors.

For high-band, this is applicable also to different carriers sharing the same radio.

### 1.3.8 NR Cell Global Identifier

Defined by 3GPP TS 28.541, the NR Cell Global Identifier parameter is the

sequence of the following parameters:

- The PLMN identity defining the cell The PLMN identity consists of the MCC of three digits and the MNC of two or three digits.
- The NR Cell Identifier of the cell

Table 12   Identifier Parameters of NR Cell

| Parameter                 | Definition                                                                             | MO Classes                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|---------------------------|----------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| NR Cell Global Identifier | nCGI = pLMNId × 2^36                                     + nCI                         | cellLocalId:    NRCellCU.cellLocalId     NRCellDU.cellLocalId        gNBId:    ExternalGNBCUCPFunction.gNBId     GNBCUCPFunction.gNBId     GNBCUUPFunction.gNBId     GNBDUFunction.gNBId        gNBIdLength:    ExternalGNBCUCPFunction.gNBIdLength     GNBCUCPFunction.gNBIdLength     GNBCUUPFunction.gNBIdLength     GNBDUFunction.gNBIdLength        nCGI: Not defined by MOM, standardized                                         3GPP designation.     nCI:    NRCellCU.nCI     NRCellDU.nCI        pLMNId:    ExternalGNBCUCPFunction.pLMNId     GNBCUCPFunction.pLMNId        pLMNIdList:    ExternalNRCellCU.plmnIdList     GNBCUUPFunction.plmnIdList     NRCellCU.plmnIdList     NRCellDU.plmnIdList        GNBDUFunction.dUpLMNId     NRCellCU.primaryPLMNId |
| NR Cell Identifier        | nCI = gNBId ×                                     2^(36-gNBIdLength) + cellLocalId (1) | cellLocalId:    NRCellCU.cellLocalId     NRCellDU.cellLocalId        gNBId:    ExternalGNBCUCPFunction.gNBId     GNBCUCPFunction.gNBId     GNBCUUPFunction.gNBId     GNBDUFunction.gNBId        gNBIdLength:    ExternalGNBCUCPFunction.gNBIdLength     GNBCUCPFunction.gNBIdLength     GNBCUUPFunction.gNBIdLength     GNBDUFunction.gNBIdLength        nCGI: Not defined by MOM, standardized                                         3GPP designation.     nCI:    NRCellCU.nCI     NRCellDU.nCI        pLMNId:    ExternalGNBCUCPFunction.pLMNId     GNBCUCPFunction.pLMNId        pLMNIdList:    ExternalNRCellCU.plmnIdList     GNBCUUPFunction.plmnIdList     NRCellCU.plmnIdList     NRCellDU.plmnIdList        GNBDUFunction.dUpLMNId     NRCellCU.primaryPLMNId |

(1)

When created by the system, the RDN of

NRCellCU equals the

nCI value.

The size of nCI is 36 bits: the first 22-32 bits (depending on

gNBIdLength) are used by gNBId, and the other

4-14 bits are used by localCellId.

nCGI is the sequence of a 24 bit pLMNId and the

nCI, totaling 60 bits.

Related Information

3GPP TS 28.541, Rel. 15, 5G; Management and orchestration; 5G Network Resource Model (NRM); Stage 2 and stage 3

### 1.3.9 NR Cell Availability

The following

attributes can be

used for

cell

selection and reselection:

- AdditionalPLMNInfo.cellReservedForOperator
- NRCellDU.cellBarred
- NRCellDU.cellReservedForOperator

The value of these attributes can be changed without cell lock and

unlock.

UEs

in RRC Connected

Mode

can be prevented from connecting to a barred or reserved cell through the following

attributes:

- UeMCCellProfile.connModeUeAllowedToBarredCell
- UeMCCellProfileUeCfg.connModeUeAllowedToResCell

### 1.3.10 Configuring Band Lists

The read-only NRCellDU.bandList attribute automatically lists all NR

bands to which the cell belongs.

The band list is calculated at cell unlock. The following attributes are used to list the

bands:

- NRSectorCarrier.arfcnDL
- NRSectorCarrier.arfcnUL
- NRSectorCarrier.bSChannelBwDL
- NRSectorCarrier.bSChannelBwUL
- NRCellDU.subCarrierSpacing

TDD is assumed if NRSectorCarrier.bSChannelBwDL =

NRSectorCarrier.bSChannelBwUL, and

NRSectorCarrier.arfcnDL =

NRSectorCarrier.arfcnUL.

For the automatic band list, the minimum guard band is calculated to be in the operating

band.

The manual band list can be used to limit the band or bands used by the cell. The manual

band list is set with the NRCellDU.bandListManual attribute.

If the NRCellDU.bandListManual attribute is empty, the automatic band

list is used.

If the manual band list is used, the band or bands configured in the manual band list

must be included in the automatic band list. If the band or bands configured in the

manual band list are not included in the automatic band list, the Inconsistent Configuration alarm is raised and the cell is

not enabled.

In the current release, only single carrier operation is supported.

Both in FDD and TDD downlink and uplink frequency ranges must be in the same operating

band.

### 1.3.11 CSI-RS Resource Configuration for the NR Cell

CSI-RS resources are configured by default for all the antennas

in an

NR sector

carrier.

It is recommended that the default values of the attributes are kept. In addition, none

of them is to be set to OFF.

Table 13   CSI-RS Resource Configuration Parameters and Recommended Values

| Struct Member      | Struct        | Containing Attribute      |
|--------------------|---------------|---------------------------|
| csiRsControl2Ports | CsiRsConfig2P | NRCellDU.csiRsConfig2P    |
| csiRsControl4Ports | CsiRsConfig4P | NRCellDU.csiRsConfig4P    |
| csiRsControl8Ports | CsiRsConfig8P | NRCellDU.csiRsConfig8P(1) |

(1)

CSI-RS configuration for 8TX/8RX, Remote radio units with

external antenna depends on the antenna geometry. The

default Ericsson implementation assumes a row antenna array

geometry. In this case, the

csiRsControl8Ports member of the

CsiRsConfig8P struct in the

NRCellDU.csiRsConfig8P attribute must

be set to FOUR\_ONE\_N1AZ.

When the CSI-RS ports are set to 2, 4, or 8, depending on

the available antennas in a sector carrier on a Remote radio units with external

antenna, the system selects the highest configured CSI-RS port number. If all the

applicable CSI-RS port parameters are set, additional CSI-RS resources are available

even at antenna failure in the sector carrier. At antenna failure, the number of CSI-RS

ports is reduced by half. The CSI-RS ports are reconfigured by the system based on the

new number of antennas.

The CSI-RS configuration for a particular sector carrier

is shown in the NRCellDU.csiRsActivePortConfig attribute as a

read-only value configured by the system.

Table 14   CSI-RS Resource Configuration for the Non-AAS NR Cell Deployed on the Sector

Carrier

| Number of Antennas in Sector Carrier   | Applied CSI-RS Resource Configuration   | Value of NRCellDU.csiRsActivePortConfig   |
|----------------------------------------|-----------------------------------------|-------------------------------------------|
| 1T                                     | 2-port                                  | PORT_2                                    |
| 2T                                     | 2-port                                  | PORT_2                                    |
| 4T                                     | 4-port                                  | PORT_4                                    |
| 8T                                     | 8-port                                  | PORT_8                                    |

PDSCH transmission to the UE is based on the PMI report for which the

measurement is done with the configured CSI-RS resource.

Related Information

3GPP TS 38.211; NR; Physical channels and modulation

### 1.3.12 SIB1 Transmission in the NR Cell in Standalone Deployment

In NR SA, Low-Band, Mid-Band and High-Band cells transmit the

following signaling elements:

- SSB
- MIB
- SIB1

By setting the NRCellDU.secondaryCellOnly attribute to

false, the NR cell starts broadcasting SIB1 after

unlock.

With SIB1 present in signaling, the NR-capable UE can receive, and decode configuration

information from an NR cell in NR SA. The NR cell that broadcasts SIB1 can also be used

in the EN-DC deployment. However, the EN-DC-capable UE does not need the access

information in SIB1.

If the NRCellDU.secondaryCellOnly attribute is set to

true, no SIB1 is broadcast after unlocking the cell. In this case,

the NR cell can only be accessed by the UEs that receive access information from another

cell.

SIB1 is scheduled by PDCCH which is located in a Control Channel Resource Set (CORESET).

CORESET is a time-frequency region for the UE to find candidate control channels and

DCI. SIB1 is transmitted through PDSCH. The same numerology applies for both PDCCH and

PDSCH.

In NR SA, the UE needs information on CORESET#0, because RACH uses the

CORESET#0 configuration until Msg4. In EN-DC, the UE needs information on CORESET#1,

because RACH uses CORESET#1. An EN-DC-capable UE in an NR SA cell must receive

information about the CORESET#0 configuration during RRC Reconfiguration, and CORESET#1

afterwards.

SIB1 contains the following information for the NR-capable UEs:

- Information on CORESET
- The scheduling of the following Other System Information (OSI): SIB2 SIB4 SIB5 SIB9
- NR cell identity derived from the NRCellDU.nCI attribute
- PLMN identity derived from the NRCellDU.pLMNIdList attribute
- TAC derived from the NRCellDU.nRTAC attribute Note: If the NRCellDU.cellReservedForOperator attribute is set to RESERVED for an NR cell, the combination of the NR cell identity, the PLMN identity and the TAC is broadcast in SIB1.
- RRC parameters configurable in and derived from the timers and constants in the Rrc MO under the GNBDUFunction MO
- The barring information, when access barring is applied to the cell.

Additional configuration of the SIB1 content can be done by setting the following attributes:

- NRCellDU.pMax
- NRCellDU.qQualMin
- NRCellDU.qQualMinOffset
- NRCellDU.ssbPeriodicity

The configuration of the NRCellDU.secondaryCellOnly attribute

and these attributes take effect when the

NRCellDU.administrativeState attribute is set to

UNLOCKED.

The following SIB1 attributes can be configured without setting the

NRCellDU.administrativeState attribute to

LOCKED:

- NRCellDU.qRxLevMin
- NRCellDU.qRxLevMinOffset

Related Information

Configure a Low-Band NR Cell in Standalone Deployment

Configure a Mid-Band NR Cell in Standalone Deployment

Configure a High-Band NR Cell in Standalone Deployment

#### 1.3.12.1 Update of SIB1 for Change in PLMN Availability

A new SIB1 is built when the availability of one or more PLMNs change for a

cell.

With the gNodeB configuration update, the

NRCellDU.availablePlmnList can receive new PLMN values in an

active cell.

The list of available PLMNs is created or updated in the following cases:

- The TermPointToAmf.administrativeState is UNLOCKED and TermPointToAmf.operationalState is set to ENABLED.
- The TermPointToAmf.administrativeState is LOCKED and TermPointToAmf.operationalState is set to DISABLED.
- The RAN configuration is updated on the gNodeB.
- The NG-C connection breaks and the TermPointToAmf.operationalState is set to DISABLED.
- The NG-C connection is re-established and TermPointToAmf.operationalState is set to ENABLED.

1.3.12SIB1 Transmission in the NR Cell in Standalone Deployment

### 1.3.13 NR Combined Cell

A combined cell is a logical cell that contains multiple sectors carriers. The border of

this cell is the combined border for all sector carriers in it. The UE does not

experience any NR cell change at sector carrier switching.

The total cell unlock time increases with the number of sector carriers referenced by the

combined cell.

If a sector carrier that is included in a combined cell is disabled or degraded, the

system initiates automatic cell lock and unlock to exclude it from the combined cell. If

the disabled or degraded sector carrier becomes enabled, the system initiates an

automatic cell lock and unlock to include it in the combined cell.

The NRCellDU.nRSectorCarrierRef attribute can be used to configure the

combined cell if the NR Combined Cell feature is enabled. The

NRCellDU.nRSectorCarrierRef attribute can reference up to six

NRSectorCarrier MO instances. The sector carriers must use the

same frequency, bandwidth, number of antennas and power settings. Maximum one NR

combined cell is supported for each RAN Compute unit. For more information, see NR Combined Cell.

### 1.3.14 Configuration of Interface Supervision for NR

To calculate the value of the NRCellCU.cellState attribute,

operators

need

to

decide which link types are considered by

setting the value of the NRCellCU.interfaceSupervision attribute.

ESS

cells have specific link failure handling in the DU, so their cellState must always

remain

active.

ESS cells ignore the value of the NRCellCU.interfaceSupervision

attribute and always have the value of their NRCellCU.cellState

attribute set to

active.

The Cell State Inactive alarm is raised on the

NRCellCU MO when the value of the

NRCellCU.cellState attribute is INACTIVE for the

length of time specified by the GNBCUCPFunction.tCellStateSupervision

timer.

When the Cell State Inactive alarm is raised, the

Cell CU Service Unavailable alarm is raised together on

the corresponding NRCellDU MO.

When

one or multiple interface types are configured on the

NRCellCU.interfaceSupervision attribute, the downtime of each

supervised interface can be observed through the following PM counters:

- pmX2DowntimeInterfaceSupervision
- pmXnDowntimeInterfaceSupervision
- pmNgDowntimeInterfaceSupervision

The above downtime PM

counters

only step for the interfaces specified in the

NRCellCU.interfaceSupervision attribute when the

interfaces

are unavailable.

The sample PM counter

pmInterfaceSupervisionSamp steps each second.

## 1.4 Sector

A sector is a geographical area spanned by the transmission angle from one or a group of

antennas. It is comprised of one or more sector carriers, each serving one cell in a

specific frequency band. The sector carrier provides the possibility to cover a

geographical area.

The configuration of each sector is stored in the

SectorEquipmentFunction MO. The frequency band covered by the

sector is controlled by the capability of the radio unit connected to the same

MO.

## 1.5 Sector Carrier

A sector carrier represents the use of resources that are referred to by the

SectorEquipmentFunction MO. The

NRSectorCarrier MO represents the sector carrier in the gNodeB.

A sector carrier can be used by one cell.

## 1.6 Channel Arrangements

Channel arrangements are based on the following aspects:

- Operating bands
- Base station channel bandwidths
- Base station radio frequency bandwidths

Operating bands provide the frequency range in which NR operates. Base station

channel bandwidths allow a base station to transmit and receive a single sector carrier

or multiple sector carriers in a supported operating band. In single carrier operation,

the base station radio frequency bandwidth equals the base station channel

bandwidth.

Base station channel bandwidths support a single NR carrier in the uplink or downlink at

the base station. A spectrum supports one or more different UE channel bandwidths for

uplink and downlink between the UE and the base station. The placement of the UE channel

bandwidth is flexible, but is always in the base station channel bandwidth.

The base station is able to transmit to one or more UE BWPs. It is also able to receive

resource blocks from one or more UE BWPs. The transmitted resource blocks must be

smaller than or equal to the number of carrier resource blocks on the radio frequency

carrier in any part of the carrier resource blocks.

Figure 5   Channel Bandwidth and Transmission Bandwidth Configuration for One NR

Channel

The channel edge is the lowest or highest frequency of the NR carrier, separated by the

base station channel bandwidth.

Related Information

Configuring Band Lists

3GPP TS 38.104 v. 15.4.0; NR; Base Station Radio Transmission and Reception

(Release 15)

# 2 Procedures

## 2.1 Manage Cells

### 2.1.1 Add, Unlock and Activate an NR Cell

Prerequisites

- The NRSectorCarrier MO or MOs are created and configured.

Steps

1. Create an instance of the NRCellDU MO with the NRCellDU.cellLocalId attribute configured using a unique value. The NRCellDU MO exists, and its attributes are set to the following values: The NRCellDU.administrativeState attribute is set to LOCKED. The NRCellDU.operationalState attribute is set to DISABLED. The NRCellDU.availabilityStatus attribute is set to OFF\_LINE. The NRCellDU.serviceState attribute is set to OUT\_OF\_SERVICE.
2. Create an instance of the NRCellCU MO with the NRCellCU.cellLocalId attribute set to the same unique value as that of the NRCellDU.cellLocalId attribute. Result: The NRCellCU MO exists with the NRCellCU.serviceState attribute set to OUT\_OF\_SERVICE.
3. Configure the NRCellDU.nRSectorCarrierRef attribute, so that it references at least one existing instance of the NRSectorCarrier MO or MOs.
4. Set the NRCellDU.administrativeState attribute to UNLOCKED. Note: For combined cells, the total cell unlock time increases with the number of sector carriers referenced by the combined cell.

Results

Attributes of the NRCellDU MO are set to the following values:

- The NRCellDU.operationalState attribute is set to ENABLED.
- The NRCellDU.serviceState attribute is set to IN\_SERVICE. The NRCellCU.serviceState attribute is set to IN\_SERVICE. The values of the NRCellDU.cellLocalId and the NRCellCU.cellLocalId attributes are unique, match and serve as a common identifier. Note: If no match exists between the NRCellCU.cellLocalId and the NRCellDU.cellLocalId attributes, the system creates an instance of the NRCellCU MO at cell unlock. Cell activation is triggered internally by the NRCellCU MO, allowing traffic in the NR cell.

The gNodeB allocates resources for the cell. Once resources

are allocated, the gNodeB starts broadcasting on the

mandatory common channels through the Uu interface.

Related Information

NR Cell

### 2.1.2 Lock an NR Cell

Prerequisites

An instance of both the NRCellDU and the

NRCellCU MOs exists.

The NRCellCU.cellLocalId and the

NRCellDU.cellLocalId attributes have the same value that

serves as a common identifier.

Steps

1. Set the NRCellDU.administrativeState attribute based on desired results. Attribute Value Result From UNLOCKED or SHUTTINGDOWN to LOCKED Cell lock is performed. Transmission and reception of mandatory common channels are turned off. All UE contexts residing in the cell are discarded. All cell resources are released by the gNodeB. From UNLOCKED to SHUTTINGDOWN Soft cell lock is performed. Incoming traffic is blocked and the connected UE are moved to another cell by handover during NRCellDU.maxOffloadDurationShutDown. After that, cell lock is performed.

### 2.1.3 Delete an NR Cell

Prerequisites

An instance of both the NRCellDU and the

NRCellCU MOs exists.

The NRCellCU.cellLocalId and the

NRCellDU.cellLocalId attributes have the same value that

serves as a common identifier.

Steps

1. Set the NRCellDU.administrativeState attribute to LOCKED.
2. Delete the following MO classes with the same cellLocalId attribute value: NRCellCU NRCellDU

Results

The cell parameters are deleted in the gNodeB. The NR cell is

no longer available for resource handling on the gNodeB.

### 2.1.4 Change the Primary PLMN ID of an NR Cell

Prerequisites

- An instance of both the NRCellDU and the NRCellCU MOs exist.
- The NRCellCU.cellLocalId and the NRCellDU.cellLocalId attributes are set to the same value that serves as a common identifier.
- The NRCellCU.primaryPLMNId attribute and the first item of the NRCellDU.pLMNIdList attribute have the same value that serves as a common identifier.

Steps

1. Set the value of the NRCellDU.administrativeState attribute to LOCKED.
2. Delete the instance of the NRCellDU MO that has the same value for the NRCellDU.cellLocalId attribute and the NRCellDU.pLMNIdList attribute.
3. Create a new NRCellDU MO instance with the same value for the NRCellDU.cellLocalId attribute and the changed first item of the NRCellDU.pLMNIdList attribute.
4. Unlock the new NRCellDU MO instance.
    1. Check the NRCellCU.primaryPLMNId attribute that has the same value as the NRCellCU.cellLocalId attribute.
    2. Verify that the value of the ExternalNRCellCU.primaryPLMNId attribute on the neighbor gNodeB is unchanged and that the ExternalNRCellCU.serviceState attribute has no value.
5. Restart the source gNodeB.
    1. Verify that the value of the NRCellDU.serviceState attribute is set to IN\_SERVICE.
    2. Verify that the value of the NRCellCU.serviceState attribute with the same NRCellCU.cellLocalIdvalue is set to IN\_SERVICE.
6. Perform either of the following actions:
    - Restart the neighbor gNodeB.
    - Delete and recreate the NRCellRelations MO instance that references the ExternalNRCellCU MO instance of the neighbor gNodeB.
    1. Verify that the ExternalNRCellCU.primaryPLMNId attribute has the same value as the NRCellCU.primaryPLMNId attribute.
    2. Verify that the value of the ExternalNRCellCU.serviceState attribute is IN\_SERVICE.
    3. Verify that the value of the NRCellRelation.caStatusActive attribute is true.

Results

This procedure has the following results in the source gNodeB:

- The attributes of the NRCellDU MO are set to the following values: The value of the NRCellDU.operationalState attribute is set to ENABLED. The value of the NRCellDU.serviceState attribute is set to IN\_SERVICE.
- The attributes of the NRCellCU MO are set to the following values: The NRCellCU.primaryPLMNId attribute is set to the value of the first item of the NRCellDU.pLMNIdList attribute. The NRCellCU.serviceState attribute is set to IN\_SERVICE.
- The values of the NRCellDU.cellLocalId and the NRCellCU.cellLocalId attributes are unique and matching, serving as a common identifier. Note: If the value of the NRCellCU.cellLocalId and the NRCellDU.cellLocalId attributes do not match, the system creates another instance of the NRCellCU MO when the cell is unlocked.
- Cell activation is triggered internally by the NRCellCU MO to allow traffic in the NR cell.
- The gNodeB allocates resources for the cell. Once resources are allocated, the gNodeB starts broadcasting on the mandatory common channels through the Uu interface.

This procedure has the following results in the neighbor gNodeB:

- The attributes of the NRCellDU MO are set to the following values: The ExternalNRCellCU.primaryPLMNId attribute is set to the same value as the NRCellCU.primaryPLMNId attribute of the source gNodeB. The ExternalNRCellCU.serviceState attribute is set to IN\_SERVICE. The NRCellRelation.caStatusActive attribute is set to true.

Related Information

NR Cell

### 2.1.5 Automatic Clean-Up of NRCellCU Instances

The automatic clean-up of NRCellCU instances removes the unused

instance, its remaining child objects and the corresponding

NRCellRelation instances.

Prerequisites

- The GNBCUCPFunction.autoNRCellCUCleanupSupported attribute is set to true.
- The NRCellCU.autoCleanupAllowed attribute is set to true.

The automatic clean-up of NRCellCU instances in the gNodeB is

triggered by an internal signalling message that contains IEs with the list of

configured cells and their configurations. The gNodeB checks if the

NRCellCU instances on the list have their corresponding NR

CGIs. If any NRCellCU instance is found without NR CGI, that

NRCellCU instance is deleted.

It is recommended to enable the automated cleanup of NRCellCU

instances on one gNodeB at a time. If the automated cleanup of

NRCellCU instances is enabled on more gNodeBs at the same

time, the amount of generated MO deletion notifications might cause a high load

impact on ENM.

### 2.1.6 Configuration Parameters for Unlocked NR Cell

Specific parameters can be configured without locking the NR cell.

The following parameters can be configured without locking the

NRCellDU MO:

- NRCellDU.qRxLevMin
- NRCellDU.qRxLevMinOffset
- NRCellDU.pZeroNomPucch
- NRCellDU.pZeroNomPuschGrant
- NRCellDU.qQualMin
- NRCellDU.qQualMinOffset
- NRCellCU.interfaceSupervision
- NRCellDU.sNSSAIList

The changes to these parameters take effect immediately.

### 2.1.7 Configure a Low-Band NR Cell

Do!

The values of the MO attributes must be configured in a single transaction.

Validation rules limit the configuration possibilities.

Low-Band represents FDD operating bands in the FR1 3GPP frequency range.

It is recommended to restart the node if an already existing

configuration is increased.

Prerequisites

- The corresponding instances of the NRCellCU and the NRCellDU MOs exist with the same value set to the common cellLocalId identifier attribute.
- The NRSectorCarrier MO exists with a reference to an instance of the SectorEquipmentFunction MO.
- The NRCellDU.nRSectorCarrierRef attribute has a reference to at least one instance of the NRSectorCarrier MO.
- A PCI is defined for the NR cell.
- The NRSectorCarrier.administrativeState attribute is set to LOCKED.
- The NRCellDU.administrativeState attribute is set to LOCKED.

Steps

1. Set different NR-ARFCN values for the NRSectorCarrier.arfcnDL and the NRSectorCarrier.arfcnUL attributes. The value of the NR-ARFCN attributes is placed on the global frequency raster and designated by NREF in 3GPP. For information on the applicable values and step sizes for NR operating bands in FR1 and FR2, see 3GPP TS 38.104, Rel. 15, 5.4.2.1, 5.4.2.3, Table 5.4.2.3-1 and Table 5.4.2.3-2.
2. Select supported values for the NRSectorCarrier.bSChannelBwDL and the NRSectorCarrier.bSChannelBwUL attributes according to Table 3.
3. Set the following attributes of the NRCellDU MO: Table 15 Attribute Value NRCellDU.ssbSubCarrierSpacing 15 NRCellDU.subCarrierSpacing 15 NRCellDU.ssbOffset 0
4. Align the value of the NRCellDU.ssbFrequency attribute with the NRSectorCarrier.arfcnDL attribute. For every operating band, the value of the NRCellDU.ssbFrequency attribute must align with what is set to the NRSectorCarrier.arfcnDL attribute in the NR cell. This means that the difference between the two values must be either of the following: Zero A multiple of the quotient of the SCS and the applicable ΔFGlobal for each operating band. This guarantees that the synchronization signal and the rest of the cell are aligned at the subcarrier level maintaining orthogonality. If the NRCellDU.ssbFrequency is set to 0, the system selects a valid NR-ARFCN value displayed in the NRCellDU.ssbFrequencyAutoSelected attribute at cell unlock.
5. Set the NRSectorCarrier.administrativeState attribute to UNLOCKED.
6. Set the NRCellDU.administrativeState attribute to UNLOCKED.

Results

- The configuration parameters are set for placing the radio frequency channel and the SSB in the channel bandwidth for the Low-Band cell.
- The NRCellDU.operationalState attribute is ENABLED.
- The NRCellDU.serviceState attribute is IN\_SERVICE.

A Low-Band cell is configured and can be considered for resource

handling. Once resources are allocated, the gNodeB starts

broadcasting on mandatory common channels.

Related Information

Radio Frequency Channel Placement for the NR Cell

Synchronization Signal Block Configuration Parameters

CORESET#0 Placement

#### 2.1.7.1 Configure a Low-Band NR Cell in Standalone Deployment

Do!

The values of the MO attributes must be configured in a single transaction.

Validation rules limit the configuration possibilities.

Low-Band represents FDD operating bands in the FR1 3GPP frequency range.

Prerequisites

- The corresponding instances of the NRCellCU and the NRCellDU MOs exist with the same value set to the common cellLocalId identifier attribute.
- The NRSectorCarrier MO exists with a reference to an instance of the SectorEquipmentFunction MO.
- The NRCellDU.nRSectorCarrierRef attribute has a reference to at least one instance of the NRSectorCarrier MO.
- A PCI is defined for the NR cell.
- The NRSectorCarrier.administrativeState attribute is set to LOCKED.
- The NRCellDU.administrativeState attribute is set to LOCKED.

Steps

1. Set different NR-ARFCN values for the NRSectorCarrier.arfcnDL and the NRSectorCarrier.arfcnUL attributes. The value of the NR-ARFCN attributes is placed on the global frequency raster and designated by NREF in 3GPP. For information on the applicable values and step sizes for NR operating bands in FR1 and FR2, see 3GPP TS 38.104, Rel. 15, 5.4.2.1, 5.4.2.3, Table 5.4.2.3-1 and Table 5.4.2.3-2.
2. Select supported values for the NRSectorCarrier.bSChannelBwDL and the NRSectorCarrier.bSChannelBwUL attributes according to Table 3.
3. Set the following attributes of the NRCellDU MO: Table 16 Attribute Value NRCellDU.ssbSubCarrierSpacing 15 NRCellDU.subCarrierSpacing 15 NRCellDU.ssbOffset 0
4. Align the value of the NRCellDU.ssbFrequency attribute with the NRSectorCarrier.arfcnDL attribute. For every operating band, the value of the NRCellDU.ssbFrequency attribute must align with what is set to the NRSectorCarrier.arfcnDL attribute in the NR cell. This means that the difference between the two values must be either of the following: Zero A multiple of the quotient of the SCS and the applicable ΔFGlobal for each operating band. This guarantees that the synchronization signal and the rest of the cell are aligned at the subcarrier level maintaining orthogonality. If the NRCellDU.ssbFrequency is set to 0, the system selects a valid NR-ARFCN value displayed in the NRCellDU.ssbFrequencyAutoSelected attribute at cell unlock.
5. Verify that the NRCellDU.ssbGscn attribute is set to a value for the GSCN.
    - If there is a value set, go to Step 9.
    - If the NRCellDU.ssbGscn attribute is empty, do the following:
6. Use another NR-ARFCN value to configure the NRSectorCarrier.arfcnDL attribute.
7. Align the NRCellDU.ssbFrequency attribute manually with the new value set for NRSectorCarrier.arfcnDL as described in Step 4. For the 0-599,999 NR-ARFCN range, to calculate a valid value for NRCellDU.ssbFrequency, use 240 × N + 10 × M. N = 1:2,499. M = {1, 2, 3}. For every N index number, only one M aligns with the given NRSectorCarrier.arfcnDL value, so that the difference between the NRSectorCarrier.arfcnDL and NRCellDU.ssbFrequency attributes is zero or a multiple of three. The M that aligns with the given NRSectorCarrier.arfcnDL value must be used.
8. Verify that the NRCellDU.ssbGscn attribute is set to a value for the GSCN.
    - If there is a value set, the SSB is on the synchronization raster and the UE with NR capabilities can identify and select the NR cell.
    - If not, repeat the procedure starting with Step 6.
9. Set the NRCellDU.secondaryCellOnly attribute to false.
10. Set the NRSectorCarrier.administrativeState attribute to UNLOCKED.
11. Set the NRCellDU.administrativeState attribute to UNLOCKED.

Results

- The configuration parameters are set for placing the radio frequency channel and the SSB in the channel bandwidth for the Low-Band cell.
- The NRCellDU.operationalState attribute is set to ENABLED.
- The NRCellDU.serviceState attribute is set to IN\_SERVICE.
- SIB1 is broadcast for the cell.
- The SSB is on the synchronization raster for the given frequency range.

A Low-Band cell for an NR SA deployment is configured and

can be considered for resource handling. Once resources are allocated, the gNodeB starts broadcasting on mandatory common channels.

Related Information

Radio Frequency Channel Placement for the NR Cell

Synchronization Signal Block Configuration Parameters

Synchronization Signal Block Placement in Standalone Deployment

SIB1 Transmission in the NR Cell in Standalone Deployment

CORESET#0 Placement

Configuration Parameters for Unlocked NR Cell

2.1.7.1Configure a Low-Band NR Cell in Standalone Deployment

### 2.1.8 Configure a Mid-Band NR Cell

Do!

The values of the MO attributes must be configured in a single transaction.

Validation rules limit the configuration possibilities.

Mid-Band represents TDD operating bands in the FR1 3GPP frequency range.

It is recommended to restart the node if an already existing

configuration is increased.

Prerequisites

- The corresponding instances of the NRCellCU and the NRCellDU MOs exist with the same value set to the common cellLocalId identifier attribute.
- The relevant NRSectorCarrier MO or MOs exist with a reference to an instance of the SectorEquipmentFunction MO.
- The NRCellDU.nRSectorCarrierRef attribute has a reference to at least one instance of the NRSectorCarrier MO or MOs.
- A PCI is defined for the NR cell.
- The NRSectorCarrier.administrativeState attribute is set to LOCKED for all referenced sector carriers.
- The NRCellDU.administrativeState attribute is set to LOCKED.

Steps

1. Set the same NR-ARFCN values for the NRSectorCarrier.arfcnDL and the NRSectorCarrier.arfcnUL attributes. The value of the NR-ARFCN attributes is placed on the global frequency raster and designated by NREF in 3GPP. For information on the applicable values and step sizes for NR operating bands in FR1 and FR2, see 3GPP TS 38.104, Rel. 15, 5.4.2.1, 5.4.2.3, Table 5.4.2.3-1 and Table 5.4.2.3-2. The values must be the same for all referenced sector carriers.
2. Select the same supported value for the NRSectorCarrier.bSChannelBwDL and NRSectorCarrier.bSChannelBwUL attributes. The values must be the same for all referenced sector carriers.
3. Set the following attributes of the NRCellDU MO: Table 17 Attribute Value NRCellDU.ssbSubCarrierSpacing 30 NRCellDU.subCarrierSpacing 30 NRCellDU.ssbOffset 0
4. Align the value of the NRCellDU.ssbFrequency attribute with the NRSectorCarrier.arfcnDL attribute. For every operating band, the value of the NRCellDU.ssbFrequency attribute must align with what is set to the NRSectorCarrier.arfcnDL attribute in the NR cell. This means that the difference between the two values must be either of the following: Zero A multiple of the quotient of the SCS and the applicable ΔFGlobal for each operating band. This guarantees that the synchronization signal and the rest of the cell are aligned at the subcarrier level maintaining orthogonality. If the NRCellDU.ssbFrequency is set to 0, the system selects a valid NR-ARFCN value displayed in the NRCellDU.ssbFrequencyAutoSelected attribute at cell unlock.
5. Set the NRSectorCarrier.administrativeState attribute to UNLOCKED for all referenced sector carriers.
6. Set the NRCellDU.administrativeState attribute to UNLOCKED.

Results

- The configuration parameters are set for placing the radio frequency channel and the SSB in the channel bandwidth for the Mid-Band cell.
- The NRCellDU.operationalState attribute is set to ENABLED.
- The NRCellDU.serviceState attribute is set to IN\_SERVICE.

A Mid-Band cell is configured and can be considered for resource

handling. Once resources are allocated, the gNodeB starts

broadcasting on mandatory common channels.

Related Information

Radio Frequency Channel Placement for the NR Cell

Synchronization Signal Block Configuration Parameters

CORESET#0 Placement

#### 2.1.8.1 Configure a Mid-Band NR Cell in Standalone Deployment

Do!

The values of the MO attributes must be configured in a single transaction.

Validation rules limit the configuration possibilities.

Mid-Band represents TDD operating bands in the FR1 3GPP frequency range.

Prerequisites

- The corresponding instances of the NRCellCU and the NRCellDU MOs exist with the same value set to the common cellLocalId identifier attribute.
- The relevant NRSectorCarrier MO or MOs exist with a reference to an instance of the SectorEquipmentFunction MO.
- The NRCellDU.nRSectorCarrierRef attribute has a reference to at least one instance of the NRSectorCarrier MO or MOs.
- A PCI is defined for the NR cell.
- The NRSectorCarrier.administrativeState attribute is set to LOCKED for all referenced sector carriers.
- The NRCellDU.administrativeState attribute is set to LOCKED.

Steps

1. Set the same NR-ARFCN values for the NRSectorCarrier.arfcnDL and the NRSectorCarrier.arfcnUL attributes. The value of the NR-ARFCN attributes is placed on the global frequency raster and designated by NREF in 3GPP. For information on the applicable values and step sizes for NR operating bands in FR1 and FR2, see 3GPP TS 38.104, Rel. 15, 5.4.2.1, 5.4.2.3, Table 5.4.2.3-1 and Table 5.4.2.3-2. The values must be the same for all referenced sector carriers.
2. Select the same supported value for the NRSectorCarrier.bSChannelBwDL and NRSectorCarrier.bSChannelBwUL attributes. The values must be the same for all referenced sector carriers.
3. Set the following attributes of the NRCellDU MO: Table 18 Attribute Value NRCellDU.ssbSubCarrierSpacing 30 NRCellDU.subCarrierSpacing 30 NRCellDU.ssbOffset 0
4. Align the value of the NRCellDU.ssbFrequency attribute with the NRSectorCarrier.arfcnDL attribute. For every operating band, the value of the NRCellDU.ssbFrequency attribute must align with what is set to the NRSectorCarrier.arfcnDL attribute in the NR cell. This means that the difference between the two values must be either of the following: Zero A multiple of the quotient of the SCS and the applicable ΔFGlobal for each operating band. This guarantees that the synchronization signal and the rest of the cell are aligned at the subcarrier level maintaining orthogonality. If the NRCellDU.ssbFrequency is set to 0, the system selects a valid NR-ARFCN value displayed in the NRCellDU.ssbFrequencyAutoSelected attribute at cell unlock.
5. Verify that the NRCellDU.ssbGscn attribute is set to a value for the GSCN.
    - If there is a value set, go to Step 9.
    - If the NRCellDU.ssbGscn attribute is empty, do the following:
6. Use another NR-ARFCN value to configure the NRSectorCarrier.arfcnDL attribute.
7. Align the NRCellDU.ssbFrequency attribute manually with the new value set for NRSectorCarrier.arfcnDL as described in Step 4. For the 0-599,999 NR-ARFCN range, to calculate a valid value for NRCellDU.ssbFrequency, use 240 × N + 30 where N = 1:2,499. For the 600,000-800,000 NR-ARFCN range, to calculate a valid value for NRCellDU.ssbFrequency, use 600,000 + N × 96 where N = 0:14,756.
8. Verify that the NRCellDU.ssbGscn attribute is set to a value for the GSCN.
    - If there is a value set, the SSB is on the synchronization raster and the UE with NR capabilities can identify and select the NR cell.
    - If not, repeat the procedure starting with Step 6.
9. Set the NRCellDU.secondaryCellOnly attribute to false.
10. Set the NRSectorCarrier.administrativeState attribute to UNLOCKED for all referenced sector carriers.
11. Set the NRCellDU.administrativeState attribute to UNLOCKED.

Results

- The configuration parameters are set for placing the radio frequency channel and the SSB in the channel bandwidth for the Mid-Band cell.
- The NRCellDU.operationalState attribute displays ENABLED.
- The NRCellDU.serviceState attribute displays IN\_SERVICE.
- SIB1 is broadcast for the cell.
- The SSB is on the synchronization raster for the given frequency range.

A Mid-Band cell for an NR SA deployment is configured and

can be considered for resource handling. Once resources are allocated, the gNodeB starts broadcasting on mandatory common channels.

Related Information

Radio Frequency Channel Placement for the NR Cell

Synchronization Signal Block Configuration Parameters

Synchronization Signal Block Placement in Standalone Deployment

SIB1 Transmission in the NR Cell in Standalone Deployment

CORESET#0 Placement

Configuration Parameters for Unlocked NR Cell

2.1.8.1Configure a Mid-Band NR Cell in Standalone Deployment

### 2.1.9 Configure a High-Band NR Cell

Do!

The values of the MO attributes must be configured in a single transaction.

Validation rules limit the configuration possibilities.

High-Band represents TDD operating bands in the FR2 3GPP frequency range.

It is recommended to restart the node if an already existing

configuration is increased.

Prerequisites

- The corresponding instances of the NRCellCU and the NRCellDU MOs exist with the same value set to the common cellLocalId identifier attribute.
- The NRSectorCarrier MO exists with a reference to an instance of the SectorEquipmentFunction MO.
- The NRCellDU.nRSectorCarrierRef attribute has a reference to an instance of the NRSectorCarrier MO.
- A PCI is defined for the NR cell.
- The NRSectorCarrier.administrativeState attribute is set to LOCKED.
- The NRCellDU.administrativeState attribute is set to LOCKED.
- The PCell is not configured with 50 MHz channel bandwidth.

Steps

1. Set the same NR-ARFCN values for the NRSectorCarrier.arfcnDL and the NRSectorCarrier.arfcnUL attributes. The value of the NR-ARFCN attributes is placed on the global frequency raster and designated by NREF in 3GPP. For information on the applicable values and step sizes for NR operating bands in FR1 and FR2, see 3GPP TS 38.104, Rel. 15, 5.4.2.1, 5.4.2.3, Table 5.4.2.3-1 and Table 5.4.2.3-2.
2. Select the same supported value for the NRSectorCarrier.bSChannelBwDL and NRSectorCarrier.bSChannelBwUL attributes.
3. Set the following attributes of the NRCellDU MO: Table 19 Attribute Value NRCellDU.ssbSubCarrierSpacing 120 NRCellDU.subCarrierSpacing 120 NRCellDU.ssbOffset 0
4. Align the value of the NRCellDU.ssbFrequency attribute with the NRSectorCarrier.arfcnDL attribute. For every operating band, the value of the NRCellDU.ssbFrequency attribute must align with what is set to the NRSectorCarrier.arfcnDL attribute in the NR cell. This means that the difference between the two values must be either of the following: Zero A multiple of the quotient of the SCS and the applicable ΔFGlobal for each operating band. This guarantees that the synchronization signal and the rest of the cell are aligned at the subcarrier level maintaining orthogonality. If the NRCellDU.ssbFrequency is set to 0, the system selects a valid NR-ARFCN value displayed in the NRCellDU.ssbFrequencyAutoSelected attribute at cell unlock.
5. Set the NRSectorCarrier.administrativeState attribute to UNLOCKED.
6. Set the NRCellDU.administrativeState attribute to UNLOCKED.

Results

- The configuration parameters are set for placing the radio frequency channel and the SSB in the channel bandwidth for the High-Band cell.
- The NRCellDU.operationalState attribute is ENABLED.
- The NRCellDU.serviceState attribute is IN\_SERVICE.

A High-Band cell is configured and can be considered for resource

handling. Once resources are allocated, the gNodeB starts

broadcasting on mandatory common channels.

Related Information

Radio Frequency Channel Placement for the NR Cell

Synchronization Signal Block Configuration Parameters

Configuration Parameters for Unlocked NR Cell

#### 2.1.9.1 Configure a High-Band NR Cell in Standalone Deployment

Do!

The values of the MO attributes must be configured in a single transaction.

Validation rules limit the configuration possibilities.

High-Band represents TDD operating bands in the FR2 3GPP frequency range.

Prerequisites

- The corresponding instances of the NRCellCU and the NRCellDU MOs exist with the same value set to the common cellLocalId identifier attribute.
- The relevant NRSectorCarrier MO or MOs exist with a reference to an instance of the SectorEquipmentFunction MO.
- The NRCellDU.nRSectorCarrierRef attribute has a reference to an instance of the NRSectorCarrier MO or MOs.
- A PCI is defined for the NR cell.
- The NRSectorCarrier.administrativeState attribute is set to LOCKED for all referenced sector carriers.
- The NRCellDU.administrativeState attribute is set to LOCKED.
- The PCell is not configured with 50 MHz channel bandwidth.

Steps

1. Set the same NR-ARFCN values for the NRSectorCarrier.arfcnDL and the NRSectorCarrier.arfcnUL attributes. The value of the NR-ARFCN attributes is placed on the global frequency raster and designated by NREF in 3GPP. For information on the applicable values and step sizes for NR operating bands in FR1 and FR2, see 3GPP TS 38.104, Rel. 15, 5.4.2.1, 5.4.2.3, Table 5.4.2.3-1 and Table 5.4.2.3-2. The values must be the same for all referenced sector carriers.
2. Select the same supported value for the NRSectorCarrier.bSChannelBwDL and NRSectorCarrier.bSChannelBwUL attributes. The values must be the same for all referenced sector carriers.
3. Set the following attributes of the NRCellDU MO: Table 20 Attribute Value NRCellDU.ssbSubCarrierSpacing 120 NRCellDU.subCarrierSpacing 120 NRCellDU.ssbOffset 0
4. Align the value of the NRCellDU.ssbFrequency attribute with the NRSectorCarrier.arfcnDL attribute. For every operating band, the value of the NRCellDU.ssbFrequency attribute must align with what is set to the NRSectorCarrier.arfcnDL attribute in the NR cell. This means that the difference between the two values must be either of the following: Zero A multiple of the quotient of the SCS and the applicable ΔFGlobal for each operating band. This guarantees that the synchronization signal and the rest of the cell are aligned at the subcarrier level maintaining orthogonality. If the NRCellDU.ssbFrequency is set to 0, the system selects a valid NR-ARFCN value displayed in the NRCellDU.ssbFrequencyAutoSelected attribute at cell unlock.
5. Verify that the NRCellDU.ssbGscn attribute is set to a value for the GSCN.
    - If there is a value set, go to Step 9.
    - If the NRCellDU.ssbGscn attribute is empty, do the following:
6. Use another NR-ARFCN value to configure the NRSectorCarrier.arfcnDL attribute.
7. Align the NRCellDU.ssbFrequency attribute manually with the new value set for NRSectorCarrier.arfcnDL as described in Step 4. For the 2,016,667-2,279,165 NR-ARFCN range, to calculate a valid value for NRCellDU.ssbFrequency, use 2,016,667 + N × 288 where N = 0:4,383.
8. Verify that the NRCellDU.ssbGscn attribute is set to a value for the GSCN.
    - If there is a value set, the SSB is on the synchronization raster and the UE with NR capabilities can identify and select the NR cell.
    - If not, repeat the procedure starting with Step 6.
9. Set the NRCellDU.secondaryCellOnly attribute to false.
10. Set the NRSectorCarrier.administrativeState attribute to UNLOCKED for all referenced sector carriers.
11. Set the NRCellDU.administrativeState attribute to UNLOCKED.

Results

- The configuration parameters are set for placing the radio frequency channel and the SSB in the channel bandwidth for the High-Band cell.
- The NRCellDU.operationalState attribute displays ENABLED.
- The NRCellDU.serviceState attribute displays IN\_SERVICE.
- SIB1 is broadcast for the cell.
- The SSB is on the synchronization raster for the given frequency range.

A High-Band cell for an NR SA deployment is configured and

can be considered for resource handling. Once resources are allocated, the gNodeB starts broadcasting on mandatory common channels.

Related Information

Configuration Parameters for Unlocked NR Cell

CORESET#0 Placement

Radio Frequency Channel Placement for the NR Cell

SIB1 Transmission in the NR Cell in Standalone Deployment

Synchronization Signal Block Configuration Parameters

Synchronization Signal Block Placement in Standalone Deployment

### 2.1.10 Configure TDD Pattern in Single Mode NR Baseband Radio Node

#### 2.1.10.1 Change from Single TDD Pattern to Multiple TDD Patterns in an NR Cell

Steps

1. Lock the NRCellDU MO.
2. Set the value of the GNBDUFunction.multiTDDPatternSmEnabled attribute to true.
3. Reconfigure the NRCellDU.tddSpecialSlotPattern and NRCellDU.tddUlDlPattern attributes.
4. Restart the node.

#### 2.1.10.2 Change from Multiple TDD Patterns to Single TDD Pattern in an NR Cell

Steps

1. Lock the NRCellDU MO.
2. Set the value of the GNBDUFunction.multiTDDPatternSmEnabled attribute to false.
3. Reconfigure the NRCellDU.tddSpecialSlotPattern and NRCellDU.tddUlDlPattern attributes.
4. Restart the node.

#### 2.1.10.3 Change a TDD Pattern in an NR Cell with Multiple TDD Patterns

Steps

1. Lock the NRCellDU MO.
2. Reconfigure the NRCellDU.tddSpecialSlotPattern and NRCellDU.tddUlDlPattern attributes.
3. Restart the node.

### 2.1.11 Manage Cell-Specific Reference Signals

#### 2.1.11.1 Configure TRS Periodicity

Periodic Tracking Reference Signal (TRS) is cell-specific. All UEs within a cell are

configured with the same TRS resource.

TRS is configured within PRBs across the whole bandwidth.

Steps

- Configure periodicity by setting the NRCellDU.trsPeriodicity attribute on the gNodeB. Low periodicity values can cause an RRC reconfiguration failure if the BWP is too long. For example, a periodicity of 10 ms is too low for a BWP that takes longer than 52 PRBs. Otherwise, low periodicity values can result in better accuracy in time and frequency synchronization, but introduce more overhead.

#### 2.1.11.2 Configure TRS Power Boosting

Different power boosting levels can be selected for the Tracking Reference Signal

(TRS) to adjust the coverage of the reference signal.

Steps

- Configure power boosting by setting the NRCellDU.trsPowerBoosting attribute.
- Set the value to 0 to disable power boosting.

#### 2.1.11.3 Configure CSI-RS Periodicity

Periodic Channel State Information Reference Signal (CSI-RS) is cell-specific. All

UEs within a cell are configured with the same NZP (Non-Zero Power) CSI-RS

resource.

Steps

- Configure CSI-RS periodicity by setting the NRCellDU.csiRsPeriodicity attribute. Note: The value is not configurable for high-band.

## 2.2 Manage Sectors

### 2.2.1 Add and Unlock a Sector

With a configured SectorEquipmentFunction MO, the sector serves as

a mapping between the cell and the gNodeB and provides coverage in a

geographical area.

Prerequisites

All MOs to be referenced by the

SectorEquipmentFunction.rfBranchRef attribute must exist. The

following MOCs can be referenced:

- RfBranch
- CcBranch
- MulticastAntennaBranch
- Transceiver

Steps

1. Create an instance of the SectorEquipmentFunction MO.
2. Set the SectorEquipmentFunction.administrativeState attribute to LOCKED.
3. Configure the SectorEquipmentFunction MO, by setting the value of the SectorEquipmentFunction.rfBranchRef attribute.
4. Set the SectorEquipmentFunction.administrativeState to UNLOCKED. Note: Unlocking the SectorEquipmentFunction MO can take longer than normal if the associated radio unit restarts during the deactivation of the Radio Deep Sleep Mode feature.

Results

The SectorEquipmentFunction.operationalState attribute is

ENABLED. This means that the sector, which provides coverage in

a geographical area, is available. A sector carrier can be defined for the

sector.

### 2.2.2 Lock a Sector

Prerequisites

An instance of the SectorEquipmentFunction MO exists.

Steps

1. Set the SectorEquipmentFunction.administrativeState attribute to LOCKED.

Results

All resources associated with the sector are released by the gNodeB.

### 2.2.3 Delete a Sector

Prerequisites

An instance of the SectorEquipmentFunction MO exists.

Steps

1. Set the SectorEquipmentFunction.administrativeState attribute to LOCKED.
2. Delete the SectorEquipmentFunction MO.

Results

The sector and its associated resources are no longer available.

### 2.2.4 Configure Multi-Sector Per Radio on One Radio Unit in NR

By configuring the Multi-Sector Per Radio feature in NR, multiple sectors can be set

up on Remote radio units with external antenna.

Prerequisites

- The NRCellDU.administrativeState attribute is set to LOCKED.
- The NRSectorCarrier.administrativeState attribute is set to LOCKED.
- The number of NRSectorCarrier MOs created and configured corresponds to the number of required sectors.
- The number of NRCellDU MOs created and configured corresponds to the number of required sectors if the cell is not a combined cell.
- All instances of the NRCellDU MO have their corresponding NRCellCU MOs.
- The NRCellDU.nRSectorCarrierRef attribute has a reference to an instance of the NRSectorCarrier MO or MOs.
- The Multi-Sector Per Radio feature is operable on the Baseband Radio Node.

Steps

1. Create as many instances of the SectorEquipmentFunction MO as the number of required sectors on the radio unit.
2. Set each NRSectorCarrier.sectorEquipmentFunctionRef attribute to reference a respective instance of the SectorEquipmentFunction MO.
3. Create as many instances of the RfBranch MO as the number of RfPort MO instances on the radio unit.
4. Configure each RfBranch.rfPortRef attribute, so that one attribute references one corresponding instance of the RfPort MO.
5. Configure the SectorEquipmentFunction.rfBranchRef attributes in each MO instance to reference the number of RfBranch MOs one sector requires.
6. Configure the SectorEquipmentFunction.configuredOutputPower attribute in all sectors.
7. Set the SectorEquipmentFunction.administrativeState to UNLOCKED for all sectors. Note: Unlocking the SectorEquipmentFunction MO can take longer than normal if the associated radio unit restarts during the deactivation of the Radio Deep Sleep Mode feature.
8. Set the NRSectorCarrier.administrativeState to UNLOCKED for the sector carriers in all sectors.
9. Set the NRCellDU.administrativeState to UNLOCKED for all cells on which the sector carriers are deployed.

Results

The radio unit is configured to have multiple sectors.

## 2.3 Manage Sector Carriers

It is recommended to restart the node if an already existing configuration is increased

or modified. Reconfiguring the following attributes may require node restart:

- NRSectorCarrier.arfcnDL
- NRSectorCarrier.arfcnUL
- NRSectorCarrier.bSChannelBwDL
- NRSectorCarrier.bSChannelBwUL
- NRSectorCarrier.configuredMaxTxPower
- NRSectorCarrier.frameStartOffset
- NRSectorCarrier.noOfRxAntennas
- NRSectorCarrier.noOfTxAntennas
- NRSectorCarrier.rfBranchRxRef
- NRSectorCarrier.rfBranchTxRef
- NRSectorCarrier.sectorEquipmentFunctionRef
- NRSectorCarrier.txDirection
- NRSectorCarrier.txPowerPersistentLock
- NRCellDU.tddSpecialSlotPattern
- NRCellDU.tddUlDlPattern

### 2.3.1 Add Sector Carrier

Prerequisites

An instance of the SectorEquipmentFunction MO is available.

Steps

1. Create an instance of the NRSectorCarrier MO.

Results

The NRSectorCarrier MO exists, and the following attributes are

set:

- The NRSectorCarrier.administrativeState is set to LOCKED.
- The NRSectorCarrier.operationalState is set to DISABLED.
- The NRSectorCarrier.availabilityStatus is set to OFF\_LINE.

Related Information

Configure Sector Carrier

#### 2.3.1.1 Configure Sector Carrier

Do!

Configure the sector carrier in such a way that the settings do not affect the

traffic negatively.

The configuration of an NRSectorCarrier MO instance defines the

use of the following resources for the sector carrier:

- The gNodeB equipment
- Output power
- Frequency
- Bandwidth
- Duplex mode
- Transmission direction
- Antenna branch allocation

Prerequisites

- The SectorEquipmentFunction MO is configured and available to be associated with the NRSectorCarrier MO.
- Before adding a new sector carrier, do the following: Lock all existing NRSectorCarrier and NRCellDU MO instances. Add the new NRSectorCarrier. Unlock all NRSectorCarrier and NRCellDU MO instances to enable all MOs. Note: Adding a new NRSectorCarrier to an existing SectorEquipmentFunction can cause traffic disturbance in cells associated with the SectorEquipmentFunction in the following cases: The selected or set PAAM split mode must be changed. The NRSectorCarrier is unlocked.

Steps

1. Set the NRSectorCarrier.administrativeState attribute to LOCKED.
2. Configure the NRSectorCarrier MO with the appropriate carrier resource parameters.
    1. Define the attribute by associating it with an available instance of the SectorEquipmentFunction MO. Note: To configure the sector carrier to use Massive MIMO, the NRSectorCarrier.sectorEquipmentFunctionRef attribute must refer to a SectorEquipmentFunction MO that is configured to use a Massive MIMO capable AAS.
    2. Configure the following attributes to set the maximum output power for the sector carrier to use: NRSectorCarrier.configuredMaxTxPower In macro deployment, set the value of the NRSectorCarrier.configuredMaxTxPower attribute so that each antenna branch gets at least 1 mW. This setting ensures that no sleeping cell is created. For more information on configurable power setting, see the relevant Radio Description. The value of the attribute must be the same for all sector carriers belonging to the same cell. NRSectorCarrier.txPowerRatio The value of the attribute must be the same for all sector carriers belonging to the same cell. Note: The NRSectorCarrier.txPowerRatio attribute can be configured without locking the NRSectorCarrier MO. NRSectorCarrier.txPowerPersistentLock NRSectorCarrier.maxRegPowerLimit Optionally, use this attribute to limit the maximum possible value of the output power. The NRSectorCarrier MO cannot be unlocked if theNRSectorCarrier.configuredMaxTxPower MO value is higher than the value set in the NRSectorCarrier.maxRegPowerLimit MO. The following read-only attributes show the maximum possible and used transmission power of the sector carrier: NRSectorCarrier.maxTransmissionPower NRSectorCarrier.scaledTransmissionPower Note: There might be variations in the power level at the mW level. As a result, the value of the NRSectorCarrier.scaledTransmissionPower attribute might be over or under the value of NRSectorCarrier.configuredMaxTxPower multiplied by the value of NRSectorCarrier.txPowerRatio by a maximum of 2%. If the total power used by each antenna connector of the sector equipment exceeds the total power available when the NR cell using the NRSectorCarrier MO is unlocked, the Resource Allocation Failure Service Degraded alarm is raised. If at least 90% of configured power is allocated, then it is considered fully functional and there should be no alarm. In radio units shared by multiple Radio Access Technologies competing for the same radio resources, the available output power is allocated to each unlocked sector carrier or TRX or extension TRX in a first come first served principle until all available output power is used. When seamlessly changing output power, the radio units can lose traffic on the already activated carriers for up to 60 ms at a time. The loss of traffic occurs up to three times for each radio unit during each seamless power change. To prohibit an unwanted change to a higher value of the total output power during normal operation, the total TX output power can be locked by setting the NRSectorCarrier.txPowerPersistentLock attribute to true.
    3. Set the following attributes of the NRSectorCarrier MO according to the operating band requirements: NRSectorCarrier.arfcnDL NRSectorCarrier.arfcnUL The corresponding attribute values must be the same for all sector carriers belonging to the same cell.
    4. Set the following attributes of the NRSectorCarrier MO to supported values according to Table 3. NRSectorCarrier.bSChannelBwDL NRSectorCarrier.bSChannelBwUL These attributes are required to be the same in TDD but can be different in FDD. The attributes must be the same for all sector carriers belonging to the same cell.
    5. Configure the NRSectorCarrier.txDirection attribute for High-Band cells to set the transmission direction of each sector carrier in one sector. For High-Band cells in one sector, uplink capability must be configured to the PSCell and to an SCell that has an NR-ARFCN that is adjacent to the NR-ARFCN of the PSCell. This is done by setting the NRSectorCarrier.txDirection to DL\_AND\_UL for those cells. With the Multiple PSCells High-Band feature, it is possible to configure two PSCells in a sector. When the feature is activated, uplink capability must be configured in the sector for the PSCells and for an SCell with the NR-ARFCN adjacent to the NR-ARFCN of the PSCell. The transmission direction for all remaining sector carriers must be set to downlink by setting the NRSectorCarrier.txDirection to DL. This configuration grants the SCells their downlink capability.
    6. Optional step for deterministic carrier allocation or explicit antenna branch allocations. Set the following attributes of the NRSectorCarrier MO for antenna configuration: NRSectorCarrier.noOfTxAntennas: for deterministic carrier allocation or explicit configuration. NRSectorCarrier.noOfRxAntennas: for deterministic carrier allocation or explicit configuration. NRSectorCarrier.rfBranchTxRef: for deterministic carrier allocation configuration. NRSectorCarrier.rfBranchRxRef: for deterministic carrier allocation configuration. Deterministic carrier allocation is needed in the following cases: The same number of RF branches exist in the sector as in the sector carrier, and the number of RF branches is four or eight. Fewer RF branches exist in the sector carrier than in the sector, and the number of RF branches in the sector carrier is at least two. If the number of RF branches in the sector and the sector carrier is four or eight, the RfBranch or MulticastAntennaBranch MO references under the NRSectorCarrier MO must be sorted according to the 3GPP port mapping, where first come all branches of one polarization, then all branches of the other polarization. The corresponding attribute values must be the same for all sector carriers belonging to the same cell.
3. Set the NRSectorCarrier.administrativeState attribute to UNLOCKED.

Results

The

NRSectorCarrier.operationalState is ENABLED

and available as an NR cell resource. If the NRSectorCarrier is

associated with an NR cell, the cell carries traffic using the sector carrier as

long as it is enabled.

Related Information

Defining a Sector Carrier for an NR Cell

Configuration Parameters for Unlocked Sector Carrier

### 2.3.2 Unlock Sector Carrier

Prerequisites

The NRSectorCarrier MO has the following attributes configured:

- NRSectorCarrier.sectorEquipmentFunctionRef attribute has a reference to an available instance of the SectorEquipmentFunction MO
- NRSectorCarrier.configuredMaxTxPower
- NRSectorCarrier.arfcnDL
- NRSectorCarrier.arfcnUL
- NRSectorCarrier.bSChannelBwDL
- NRSectorCarrier.bSChannelBwUL
- NRSectorCarrier.txPowerRatio

Steps

1. Set the NRSectorCarrier.administrativeState attribute to UNLOCKED.

Results

The sector carrier, represented by the NRSectorCarrier MO, is

enabled. The available radio and baseband resources are allocated for the sector

carrier. The sector carrier can be associated with an NR cell.

### 2.3.3 Lock Sector Carrier

Prerequisites

An instance of the NRSectorCarrier MO exists.

Steps

- Set the NRSectorCarrier.administrativeState attribute to LOCKED.

Results

All resources associated with the sector carrier are released by the gNodeB.

### 2.3.4 Delete Sector Carrier

Prerequisites

- An instance of the NRSectorCarrier MO exists.
- The NRSectorCarrier MO instance to be deleted is not associated with an NR cell. Note: If a sector carrier has an NR cell associated with it, the request to delete the sector carrier is rejected by the gNodeB.

Steps

1. Set the NRSectorCarrier.administrativeState attribute to LOCKED.
2. Delete the NRSectorCarrier MO.

Results

The sector carrier and its associated resources are no longer available for an NR

cell. All references to the sector carrier are deleted from the gNodeB.

### 2.3.5 Configuration Parameters for Unlocked Sector Carrier

Specific parameters can be configured without locking the NR sector

carrier.

The following parameters can be configured without locking the

NRSectorCarrier MO:

- NRSectorCarrier.txPowerRatio
- NRSectorCarrier.txPowerChangeRate

The changes to the NRSectorCarrier.txPowerRatio parameters

take effect in the duration of time configured by the

NRSectorCarrier.txPowerChangeRate parameter. If a change to

the power ratio is ongoing when the NRSectorCarrier.txPowerRatio

attribute is configured, the new change starts after the ongoing procedure is

completed. If there is no ongoing change when the

NRSectorCarrier.txPowerRatio attribute is configured, the

newly configured power ratio change starts immediately.

The following attributes show the status of the transmission power change and the

used transmission power of the sector carrier:

- NRSectorCarrier.txPowerState The value of NRSectorCarrier.txPowerState reflects whether the change is ongoing or completed.
- NRSectorCarrier.scaledTransmissionPower The value of NRSectorCarrier.scaledTransmissionPower is updated to the new power level when the change is complete. Note: There might be variations in the power level at the mW level. As a result, the value of the NRSectorCarrier.scaledTransmissionPower attribute might be over or under the value of NRSectorCarrier.configuredMaxTxPower multiplied by the value of NRSectorCarrier.txPowerRatio by a maximum of 2%.

### 2.3.6 Select Different Coverage and Throughput Modes for Cell Traffic Profile

The configuration of cell coverage and throughput mode in the NR sector carrier

enables the efficient use of cell capacity.

Steps

1. Set the NRCellDU.administrativeState attribute to LOCKED.
2. Set the cell mode using the NRSectorCarrier.radioTransmitPerfMode parameter.
3. Set the NRCellDU.administrativeState attribute to UNLOCKED.

### 2.3.7 Configuration of Radio Power Sharing

Radio power sharing is enabled by default, and can be configured using the

RadioPowerOverbooking.featCtrlRadioPowerOverbooking attribute. If

radio power sharing is enabled, the

NRSectorCarrier.configuredMaxTxPower attribute can be configured

to a higher value than the nominal output power of the radio unit.

Radio power sharing capability is specified for each radio unit. For more information on

hardware support for radio power sharing, see Supported Radio Capabilities.

For more information on radio power sharing, see Manage Hardware Equipment.

Radio Power Sharing in Mixed Mode

Radio power sharing can only be configured through a Baseband Radio Node in LTE or NR

mode.

If a radio unit is connected to multiple Baseband Radio Nodes, enabling radio power

sharing on one Baseband Radio Node automatically activates radio power sharing on

the radio unit. To disable radio power sharing on the radio unit, radio power

sharing must be disabled on all connected Baseband Radio Nodes in LTE or NR

mode.

Radio power sharing supports mixed mode configurations with all RATs. For GSM, WCDMA,

and NB-IoT RATs, radio power sharing can only be enabled if one of the Baseband

Radio Nodes connected to the radio unit is in LTE or NR mode, which allow the

configuration of radio power sharing.

#### 2.3.7.1 Enable Radio Power Sharing

Steps

1. Lock the NRCellDU MO related to the radio unit. Note: If an LTE cell is also configured on the radio unit, lock the EUtranCellFDD or EUtranCellTDD MO related to the radio unit.
2. Lock the NRSectorCarrier MO. Note: If an LTE sector carrier is also configured on the radio unit, lock the SectorCarrier MO.
3. Set the RadioPowerOverbooking.featCtrlRadioPowerOverbooking attribute to ON. Note: If a radio unit is connected to multiple Baseband Radio Nodes, enabling radio power sharing on one Baseband Radio Node automatically activates radio power sharing on the radio unit.
4. Set the output power using the NRSectorCarrier.configuredMaxTxPower attribute. Note: If an LTE sector carrier is also configured on the radio unit, set the SectorCarrier.configuredMaxTxPower attribute. On certain bands of certain radio units, some output power levels are only attainable if the following conditions are met: WCDMA and GSM carriers are not configured on the radio unit. The total number of downlink carriers, including subband carriers, used on certain branches is equal to or less than a maximum number of carriers.
5. Unlock the NRSectorCarrier MO. Note: If an LTE sector carrier is also configured on the radio unit, unlock the SectorCarrier MO.
6. Unlock the NRCellDU MO. Note: If an LTE cell is also configured on the radio unit, unlock the EUtranCellFDD or EUtranCellTDD MO.

#### 2.3.7.2 Disable Radio Power Sharing

Prerequisites

The NRSectorCarrier.configuredMaxTxPower MO is configured to a

value lower than or equal to the nominal output power of the radio unit.

Steps

1. Lock the NRCellDU MO related to the radio unit. Note: If an LTE cell is also configured on the radio unit, lock the EUtranCellFDD or EUtranCellTDD MO related to the radio unit.
2. Lock the NRSectorCarrier MO. Note: If an LTE sector carrier is also configured on the radio unit, lock the SectorCarrier MO.
3. Set the RadioPowerOverbooking.featCtrlRadioPowerOverbooking attribute to OFF. Note: In mixed mode, radio power sharing must be disabled on all Baseband Radio Nodes in LTE or NR mode.
4. Unlock the NRSectorCarrier MO. Note: If an LTE sector carrier is also configured on the radio unit, unlock the SectorCarrier MO.
5. Unlock the NRCellDU MO. Note: If an LTE cell is also configured on the radio unit, unlock the EUtranCellFDD or EUtranCellTDD MO.

## 2.4 Manage Common Channel Beamforming on Remote Radio Units

### 2.4.1 Configure Custom Beamforming Weights for Remote Radio Units in NR

Beamforming weights for common channels can be customized in downlink by operator

configuration.

Custom beamforming weights can be applied to Remote radio units by using the

following attributes:

- AntennaSubunit.customComChBeamfrmWtsAmplitude
- AntennaSubunit.customComChBeamfrmWtsPhase

The number of valid values of these MO attributes depends on the type of the Remote

radio unit that is used. Both the

AntennaSubunit.customComChBeamfrmWtsAmplitude and the

AntennaSubunit.customComChBeamfrmWtsPhase MO attributes can

be enabled on the following types of Remote radio units with the following valid

values:

Table 21   Supported Types of Remote Radio Units and Number of Valid Values

| Types of Remote Radio Units   | Number of Valid Values   |
|-------------------------------|--------------------------|
| 8TX/8RX                       | Eight values             |
| 4TX/4RX                       | The first four values    |
| 2TX/2RX                       | The first two values     |

Out of the eight, four or two valid values, the first four, two or one valid values

correspond to the antennas of one polarization in a left to right order facing front

of the antenna unit. The second four, two, or one valid values correspond to the

antennas of the other polarization in a left to right order facing front of the

antenna unit.

The values set to the attributes customizing beamforming weights are indexed to match

the indexing of the parameters set in the

SectorEquipmentFunction.rfBranchRef attribute for a given

sector. This is needed for the correct mapping of the common channel data to the

antenna ports. For more information, see Manage Hardware Equipment.

The recommended configuration for the

AntennaSubunit.customComChBeamfrmWtsAmplitudeattribute is

0 for all valid values. This is the default setting. By

configuring the AntennaSubunit.customComChBeamfrmWtsAmplitude

attribute to the default value, internal settings are applied, and all antenna

branches use full power.

It is recommended that custom beamforming weights are configured before unlocking a

sector to achieve the following:

- A stable polarization pattern of the antenna ports for common channel transmission on Remote radio units
- A coverage shape with a HPBW corresponding to the HPBW of each column of the antenna array

The configuration of custom beamforming weights for common channels on 8TX/8RX radios

is performed by using the Common Channel Beamforming on Remote Radio

Units (FAJ 121 5179) feature.

Recommended custom beamforming weight configurations can be employed for 4TX/4RX

radios and 2TX/2RX radios. The recommended settings also apply to 4TX/4RX radios in

the following configurations:

- When one 8TX/8RX radio is split into two 4TX/4RX radios.
- When the 4TX/4RX radio is used in an LTE + NR mixed mode configuration.
- When two 2TX/2RX radios form one 4TX/4RX radio.

Prerequisites

- An instance of the SectorEquipmentFunction MO is created and configured.
- The SectorEquipmentFunction.administrativeState attribute is set to LOCKED.
- A reference of the SectorEquipmentFunction MO is set in the NRSectorCarrier.sectorEquipmentFunctionRef attribute.
- The SectorEquipmentFunction.rfBranchRef attributes are configured and properly mapped to antenna ports for a given sector on the radio.

Steps

To configure custom beamforming weights for Remote radio units, for example, when

predictable cell shape is required on 4TX/4RX radios while the NR UE-Assisted Precoding Optimization feature is not

enabled, proceed with the following steps:

1. Set the AntennaSubunit.customComChBeamfrmWtsAmplitude attribute to 100 0 100 0 for 4TX/4RX radios. By setting the attribute to the recommended value, the same beamforming weights are applied to all antenna units connected to the 4TX/4RX radio. Example MOSHELL command for configuring the AntennaSubunit.customComChBeamfrmWtsAmplitude attribute on a 4TX/4RX radio that is connected to a single antenna subunit. set Equipment=1,AntennaUnitGroup=1,AntennaUnit=1,AntennaSubunit=S1-1 customComChBeamfrmWtsAmplitude 100 0 100 0 Example MOSHELL commands for configuring the AntennaSubunit.customComChBeamfrmWtsAmplitude attribute on a 4TX/4RX radio that is connected to two antenna subunits. set Equipment=1,AntennaUnitGroup=2,AntennaUnit=1,AntennaSubunit=S2-1 customComChBeamfrmWtsAmplitude 100 0 100 0 set Equipment=1,AntennaUnitGroup=2,AntennaUnit=1,AntennaSubunit=S2-2 customComChBeamfrmWtsAmplitude 100 0 100 0
2. Set the AntennaSubunit.customComChBeamfrmWtsPhase attribute to 0 0 0 0 for 4TX/4RX radios. Example MOSHELL command for configuring the AntennaSubunit.customComChBeamfrmWtsPhase attribute on a 4TX/4RX radio that is connected to a single antenna subunit. set Equipment=1,AntennaUnitGroup=1,AntennaUnit=1,AntennaSubunit=S1-1 customComChBeamfrmWtsPhase 0 0 0 0 Example MOSHELL commands for configuring the AntennaSubunit.customComChBeamfrmWtsPhase attribute on a 4TX/4RX radio that is connected to two antenna subunits. set Equipment=1,AntennaUnitGroup=2,AntennaUnit=1,AntennaSubunit=S2-1 customComChBeamfrmWtsPhase 0 0 0 0 set Equipment=1,AntennaUnitGroup=2,AntennaUnit=1,AntennaSubunit=S2-2 customComChBeamfrmWtsPhase 0 0 0 0
3. Set the SectorEquipmentFunction.administrativeState attribute to UNLOCKED.

Results

Customized beamforming weights for the common channels are applied to all instances

of the NRSectorCarrier MO that use the

SectorEquipmentFunction MO instance.

## 2.5 Configuring Sector Shapes and Digital Tilt for Low/Mid-Band and High-Band

When the NR Flexible Cell Shaping High-Band feature or the NR Flexible Cell Shaping

Low/Mid-Band feature is activated on the Baseband Radio Node, sector shapes can be

configured manually instead of using the default ones, and the shape can be tilted in

elevation. For high-band, the sector shape and tilt are configured with the following

attributes:

- CommonBeamforming.coverageShape
- CommonBeamforming.ssbBeams
- CommonBeamforming.digitalTilt

For high-band, the sector shape in use is indicated by the following attributes:

- CommonBeamforming.usedCoverageShape
- CommonBeamforming.usedSsbBeams
- CommonBeamforming.usedDigitalTilt

For the supported configurations, see NR Flexible Cell Shaping High-Band.

For low/mid-band, the sector shape and tilt are configured with the following attributes:

- CommonBeamforming.azimuthCoverageWidth
- CommonBeamforming.elevationCoverageWidth
- CommonBeamforming.digitalPan

For low/mid-band, the sector shape in use is indicated by the following attributes:

- CommonBeamforming.usedAzimuthCoverageWidth
- CommonBeamforming.usedElevationCoverageWidth
- CommonBeamforming.usedDigitalPan

For the supported configurations, see NR Flexible Cell Shaping Low/Mid-Band.

# 3 Troubleshooting

## 3.1 Fault Management Related to Carrier Resource

Carrier Resource Failure - Resource Activation Time Exceeded

The baseband and radio resources requested by the sector carrier are not available in

the activation time frame. The NRSectorCarrier.operationalState

attribute is set to DISABLED. The

NRSectorCarrier.availabilityStatus attribute is set to

DEPENDENCY\_FAILED.

The Resource Activation Timeout alarm is raised with the

additional text indicating the cause of the failure, when carrier resource

activation exceeds a set time threshold.

Carrier Resource Failure - MO Configuration Exceeds Resources Enabled by the

Key

The configured NR AAS TDD or FDD channel bandwidth value exceeds the bandwidth value

available for NRSectorCarrier MO. Additional Hardware Activation

codes must be activated.

If the configured bandwidth value is exceeded, the MO Configuration Exceeds Resources Enabled by the

Key alarm is raised.

Carrier Resource Failure - Hardware, Software or Power Allocation Failure

Carrier resource failure can be triggered by the following conditions:

- No matching Baseband software is found for the radio unit at sector carrier unlock.
- RF power is not available in the sector.
- Insufficient Baseband hardware resource is allocated for the sector carrier.
- Baseband hardware resource allocation failure is caused by HWAC capacity not supporting the number of sector carriers.

If any one of the carrier resource failure conditions applies at sector carrier

unlock, the NRSectorCarrier.operationalState attribute is set to

DISABLED. The

NRSectorCarrier.availabilityStatus attribute is set to

FAILED.

If the allocation of any carrier resources fails, the Resource Allocation Failure alarm is

raised with the additional text indicating the cause of the failure.

Carrier Resource Failure - Insufficient Power for Carrier Resource

The sector carrier is set up, but RF power is insufficient in the sector. At sector

carrier unlock the NRSectorCarrier.operationalState attribute is

set to DISABLED. The

NRSectorCarrier.availabilityStatus attribute is set to

DEGRADED.

If RF power is insufficient in a sector, the Resource Allocation Failure Service Degraded alarm is

raised with the additional text indicating the cause of the failure.

Carrier Resource Failure - Carrier Resource Configuration Inconsistency

Configuration inconsistency can be triggered by the following conditions:

- Hardware or software resources are incompatible with the NRSectorCarrier settings.
- The NRSectorCarrier is configured with frequency or channel bandwidth parameters that are not supported by the radio unit.

If any one of the inconsistent configuration conditions applies at sector

carrier unlock, the NRSectorCarrier.operationalState attribute is

set to DISABLED. If hardware or software resources are incompatible

with the sector carrier, the NRSectorCarrier.availabilityStatus

attribute is set to DEPENDENCY\_FAILED. If the configuration of the

sector carrier and the radio unit is inconsistent, the

attribute is set to

FAILED.

If configuration inconsistency between carrier resources and the sector carrier

applies, the Resource Configuration Failure alarm is

raised with the additional text indicating the cause of the failure.

Carrier Resource Failure - Failed Antenna Calibration in Downlink

The downlink antenna calibration status is shown in the

dlCalibrationStatus member of the

NRSectorCarrier.dlCalibrationData attribute. If the

dlCalibrationStatus member of the attribute displays

FAILED, the Antenna Calibration DL Failure alarm is raised on the

NRSectorCarrier MO. In addition, the

NRSectorCarrier.availabilityStatus attribute changes to

DEGRADED on the alarming MO instance.

Carrier Resource Failure - Failed Antenna Calibration in Uplink

The uplink antenna calibration status is shown in the

ulCalibrationStatus member of the

NRSectorCarrier.ulCalibrationData attribute. If the

ulCalibrationStatus member of the attribute displays

FAILED, the Antenna Calibration UL Failure alarm is

raised on the NRSectorCarrier MO. In addition, the

NRSectorCarrier.availabilityStatus attribute changes to

DEGRADED on the alarming MO instance.

## 3.2 Fault Management Related to the NR Cell

NR Cell Is Degraded

The NR cell provides degraded service at cell unlock. The

NRSectorCarrier MO referenced by the

NRCellDU is degraded because the availability of sector

carrier resources is limited for the NR cell. The

NRSectorCarrier.availabilityStatus attribute displays

DEGRADED.

The NRSectorCarrier.operationalState is ENABLED,

which allows the cell unlock procedure to continue.

If the NRSectorCarrier.availabilityStatus is

DEGRADED at cell unlock, the Service Degraded secondary alarm is raised. The root

cause is indicated by a primary alarm.

NR Cell Is Disabled

The NR cell is disabled at cell unlock. The

NRSectorCarrierNRCellDU MO is not

available because a fault exists in underlying resources. The

NRSectorCarrier.availabilityStatus is set to one of the

following parameters:

- FAILED
- DEPENDENCY\_FAILED

The FAILED status indicates that cell activation failed.

DEPENDENCY\_FAILED status indicates that a dependent resource

for the sector carrier or resource dependency failed.

If the NRSectorCarrier.availabilityStatus is

FAILED or DEPENDENCY\_FAILED, the

NRSectorCarrier.operationalState is

DISABLED. In this case the cell unlock procedure stops and the

NRCellDU.operationalState is set to

DISABLED.

If the NRSectorCarrier.availabilityStatus attribute is

FAILED or DEPENDENCY\_FAILED at cell unlock,

the Service Unavailable secondary alarm is raised. The root

cause is indicated by a primary alarm.

Unlock Cell Failure - No NRSectorCarrier MO Class Is Referenced

The NR cell cannot be unlocked by setting the

NRCellDU.administrativeState to UNLOCKED

because the NRCellDU.nRSectorCarrierRef attribute does not have a

reference to any instance of the NRSectorCarrier MO.

If no NRSectorCarrier MO instance is referenced in the

NRCellDU.nRSectorCarrierRef attribute, the Inconsistent Configuration alarm is raised with the

additional text indicating the cause of the failure.

Unlock Cell Failure - Unsupported Parameter or Unsupported Parameter

Combination

Resources for the NR cell are successfully allocated. Configuration fails because a

parameter has a value that is not supported by one or more of the resources.

If parameter values for the NR cell resources are not supported, the Inconsistent Configuration alarm is raised with the

additional text indicating the cause of the failure.

Unlock Cell Failure - Maximum Number of Cells Supported by Baseband

Exceeded

The NR cell cannot be unlocked by setting the

NRCellDU.administrativeState to UNLOCKED

because all the cells supported by the baseband are already unlocked. The

configuration fails because the sufficient resources cannot be allocated.

If the operator attempts to unlock an NR cell over the maximum number of unlocked

cells, the MO HW Inconsistent Configuration primary alarm is raised

with the additional text indicating the cause of the failure.

Unlock Cell Failure - Mismatch Between Configured Internal System Values for

PUCCH

The NR cell cannot be unlocked by setting the

NRCellDU.administrativeState to UNLOCKED.

The configuration fails because the PUCCH resources available are not sufficient to

support the number of RRC-connected UEs. The PUCCH resources available are defined

internally for the cell in the baseband. The maximum number of RRC-connected UEs

allowed is defined internally in the gNodeB.

If the available PUCCH resources are not sufficient, the Inconsistent Configuration primary alarm is raised with

the additional text indicating the cause of the failure.

Cell Configuration Pending Action

If the operator changes the NRSectorCarrier MO configuration, by

changing attributes that do not take effect immediately, while the

NRCellDU.administrativeState is UNLOCKED,

the NR cell becomes DISABLED.

If the NRSectorCarrier configuration is changed, by changing

attributes that do not take effect immediately in an unlocked NR cell, the MO Configuration Pending Action primary alarm is raised.

The additional text indicates the required action, and the additional information

specifies the MO needed for the remedy actions.