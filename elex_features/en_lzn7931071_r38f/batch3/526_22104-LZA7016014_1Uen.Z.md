---
complexity_score: 12.0
converted_at: '2025-08-13T06:58:01.514251Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 2
images_saved: 3
original_path: 526_22104-LZA7016014_1Uen.Z.html
pictures_extracted: 2
processing_method: docling_multimodal
quality_score: 9.0
source_file: 526_22104-LZA7016014_1Uen.Z.html
source_zip: en_lzn7931071_r38f.zip
tables_extracted: 10
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 2796
---

# 

Downlink Throughput Test in gNodeB

Contents

![Image](../images/526_22104-LZA7016014_1Uen.Z/additional_3_CP.png)

![Image](../images/526_22104-LZA7016014_1Uen.Z/additional_3_CP.png)

- Overview
- Dependencies
- Operation
    - Downlink Throughput Test in gNodeB with UE Selection
- Network Impact
- Parameters
- Performance
- Activate Feature
- Deactivate Feature
- Engineering Guidelines
- Appendix: Feature Change History
    - Appendix: 22.Q1: UE Selection for Downlink Throughput Test in gNodeB

# 1 Downlink Throughput Test in gNodeB Overview

The Single Site Verification process is improved with the PDCP data generator

implemented in the gNodeB software.

| Feature Name           | Downlink Throughput Test in gNodeB                                         |
|------------------------|----------------------------------------------------------------------------|
| Feature Identity       | FAJ 121 5227                                                               |
| Value Package Name     | NR Base Package                                                            |
| Value Package Identity | FAJ 801 4002                                                               |
| Node Type              | Baseband Radio Node                                                        |
| Access Type            | NR                                                                         |
| Licensing              | License-controlled feature. One license is required for each 								node. |

Summary

The Single Site Verification process is improved with the PDCP data generator, which allows to

perform downlink throughput measurements in shorter time.

The PDCP data generator is implemented in the gNodeB software. The data generation process is

controlled with license, which ensures the appropriate security level of the network

data injection.

The main benefits of the feature are the following:

- Less people needed to perform downlink peak throughput measurement.
- Shorter lead time for downlink throughput testing.

# 2 Dependencies of Downlink Throughput Test in gNodeB

Specific hardware is required for this feature.

Feature Dependencies

Table 1   Feature Dependencies

| Feature                                                                  | Relationship   | Description                                                                                                                                 |
|--------------------------------------------------------------------------|----------------|---------------------------------------------------------------------------------------------------------------------------------------------|
| UE Grouping Framework (FAJ 121                                     5314) | Related        | UEs used for test-related traffic and measurements can be                                     configured through the UE Grouping Framework. |

Hardware

UE able to measure throughput on PDCP level is required. Depending on the setup used

for testing purposes, the following options for UE software or hardware test

terminal are available:

- Qualcomm® 5G chipset based (Snapdragon™ X55 or above)
- MTK 5G chipset based
- Qualcomm UE control application QXDM Professional™
- MTK UE control application ELT
- TEMS™ (software application, combine with Qualcomm UE)

Limitations

The feature is only supported in SA deployments.

The feature is not supported in environments using IPv6. In deployments using both

IPv4 and IPv6, the correct functioning of the test cannot be guaranteed.

# 3 Operation of Downlink Throughput Test in gNodeB

With test data generator, a remote engineer is able to trigger the data network

injection by activating the dedicated feature license. After activation and manual

triggering of the UE attachment process, data generator is started.

Before the start of downlink throughput measurements, the operator or the engineer can

associate UE Grouping parameters to the IMSI that is to be used by this feature. For

more information on UE selection with DataPacketGeneratorUeCfg MO

Class, see Downlink Throughput Test in gNodeB with UE Selection.

Feature Operation Sequence Diagram

Figure 1   Basic Data Generator Workflow

Process Steps

1. The field engineer informs the remote engineer about readiness for downlink throughput measurements.
2. The remote engineer configures the DataPacketGenerator.packetRate and the DataPacketGenerator.duration attributes. Optionally, for the UE selection based on UE group IDs, the DataPacketGeneratorUeCfg.prefUeGroupList and the DataPacketGeneratorUeCfg.ueGroupList attributes can also be configured.
3. The remote engineer activates the license Downlink Throughput Test in gNodeB through ENM.
4. License for Downlink Throughput Test is activated on the node.
5. The field engineer initiates UE attachment. The UE is attached and data injection is triggered.
6. The field engineer and remote engineer perform DL throughput measurements through the UE Application.
7. The field engineer informs the remote engineer about concluded DL measurements.
8. The remote engineer deactivates the license for Downlink Throughput Test in gNodeB.

Related Information

Engineering Guidelines for Downlink Throughput Test in gNodeB

Downlink Throughput Test in gNodeB with UE Selection

## 3.1 Downlink Throughput Test in gNodeB with UE Selection

The DataPacketGeneratorUeCfg MO can be used to specify which UEs

are used for test-related traffic and measurements.

To perform the downlink throughput test, the test UE must be connected to the network.

The procedure of test UE connection is initiated by the field engineer.

The following prerequisites must be met to start the process:

- A dedicated RAT/Frequency Selection Priority (RFSP) value and IEMISV must be provisioned for the test UE (IMSI). It can be consulted with AMF domain for UE grouping list profile, as well as IEMISV value and UDM domain for RFSP and IEMISV Provisioning.
- The following MOs and attributes must be configured using to the UE Grouping Framework. The UeGroupSelectionProfile or the PrefUeGroupSelectionProfile MO must be created. The UeGroupSelectionProfile.selectionCriteria or the PrefUeGroupSelectionProfile.selectionCriteria attribute must be configured with the RFSP or the IMEISV value. The configuration of these attributes must match the combination of UE parameters that are configured during provisioning.

Process Steps

1. The remote engineer creates the DataPacketGenerator MO.
2. The remote engineer configures the feature the following way:
    1. The DataPacketGenerator.packetRate attribute must be set to a value other than 0. If the value is 0, the test is not started after license activation and UE connection.
    2. Set the DataPacketGenerator.duration attribute to define the duration of the test. The default value is 60 seconds.
3. The remote engineer creates the DataPacketGeneratorUeCfg MO.
4. The remote engineer sets either the DataPacketGeneratorUeCfg.ueGroupList or the DataPacketGeneratorUeCfg.prefUeGroupList attribute with the UE group ID that is used by feature and was configured during provisioning. Setting the UE group ID correctly ensures that the test is only started on the intended UE. If the UE group ID is set incorrectly or not set at all, the test might start on any UE that connects next. Note: If the DataPacketGeneratorUeCfg.prefUeGroupList attribute is set, the value of the DataPacketGeneratorUeCfg.ueGroupList attribute is not used.
5. The remote engineer activates the feature by changing the FeatureState.featureState attribute in the FeatureState=CXC4012489 MO instance to ACTIVATED.
6. When the next NR UE connects to the node, the following outcomes are possible:
    1. If an NR UE connects to the node and it belongs to UE group specified in the DataPacketGeneratorUeCfg.ueGroupList or the DataPacketGeneratorUeCfg.prefUeGroupList attribute, this UE is considered suitable for the test.
    2. If an NR UE connects to the node and no UE groups are specified in the DataPacketGeneratorUeCfg.ueGroupList or the DataPacketGeneratorUeCfg.prefUeGroupList attribute, this UE is considered suitable for the test.
    3. If an NR UE connects to the node and it does not belong to the UE groups specified in the DataPacketGeneratorUeCfg.ueGroupList or the DataPacketGeneratorUeCfg.prefUeGroupList attribute, this UE is not considered suitable for the test.
7. When the first suitable UE is found, the test starts with the currently configured values of the DataPacketGenerator.packetRate and the DataPacketGenerator.duration attributes. Changes to these values do not take effect until the test is restarted.
8. The test finishes.
9. The gNodeB returns to normal operation in the following cases:
    1. The time set in the DataPacketGenerator.duration attribute expires.
    2. The feature is deactivated by by setting the FeatureState.featureState attribute in the FeatureState=CXC4012489 MO instance to DEACTIVATED. This also releases the NR UE that the test is running on.

# 4 Network Impact of Downlink Throughput Test in gNodeB

The Downlink Throughput Test in gNodeB requires other network elements to be

active.

Capacity and Performance

KPIs related to DL traffic are affected during DL throughput measurements. All

non-generated DL traffic for all cells is discarded when the test is running.

Interfaces

No impact.

Other Network Elements

ENM 21.Q2 or higher is required to activate the feature license.

# 5 Parameters for Downlink Throughput Test in gNodeB

The Downlink Throughput Test in

gNodeB feature introduces new attributes under DataPacketGenerator MO

Class and DataPacketGeneratorUeCfg MO Class. Both MOs need to be created

manually.

Table 2   Parameters

| Name                                      | Type       | Description          |
|-------------------------------------------|------------|----------------------|
| DataPacketGenerator::packetRate           | Introduced | See MOM description. |
| DataPacketGenerator::duration             | Introduced | See MOM description. |
| DataPacketGeneratorUeCfg::prefUeGroupList | Introduced | See MOM description. |
| DataPacketGeneratorUeCfg::ueGroupList     | Introduced | See MOM description. |
| DataPacketGeneratorUeCfg::userLabel       | Introduced | See MOM description. |

# 6 Performance of Downlink Throughput Test in gNodeB

The Downlink Throughput Test in gNodeB feature introduces new counter in

GNBCUUPFunction MO Class.

KPIs

This feature has no associated Key Performance Indicators (KPIs).

Counters

Table 3

| Name                               | Description                                                                                                                                                                                                                                                                                                                            |
|------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| GNBCUUPFunction::pmPdcpPktInjected | Number of test mode PDCP packets generated when Downlink                                     Throughput Test feature in gNodeB is activated.  Step Condition: Incremented when license for Downlink Throughput                                     Test feature in gNodeB is activated.  Type: Aggregated  Counter activated manually. |

Events

This feature has no associated events.

# 7 Activate Downlink Throughput Test in gNodeB

To use the feature, it must be activated following the usual feature activation

procedure.

Prerequisites

- The license key is installed in the node.
- The test UE that is able to measure the PDCP packets is prepared.
- CCTR is active for at least one week before this procedure to collect enough troubleshooting data.

Steps

1. Set the FeatureState.featureState attribute to ACTIVATED in the FeatureState=CXC4012489 MO instance.
2. Attach the test UE. Result: The data injection function is activated in the gNodeB.

Results

Data injection in the gNodeB runs continuously for the time controlled by the

DataPacketGenerator.duration attribute.

After This Task

Keep CCTR active for at least one week after this procedure for continued collection of troubleshooting data.

# 8 Deactivate Downlink Throughput Test in gNodeB

If the feature is no longer needed, it can be deactivated following the usual

feature deactivation procedure. It must also be deactivated before the activation of any

conflicting feature.

Prerequisites

- The license for the Downlink Throughput Test in gNodeB feature has been activated.
- CCTR is active for at least one week before this procedure to collect enough troubleshooting data.

Steps

1. Set the FeatureState.featureState attribute to DEACTIVATED in the FeatureState=CXC4012489 MO instance.

Results

The test UE is released immediately when the license is disabled.

After This Task

Keep CCTR active for at least one week after this procedure for continued collection of troubleshooting data.

# 9 Engineering Guidelines for Downlink Throughput Test in gNodeB

Recommendations for performing the throughput verification.

It is recommended to block other cells in the node, as the traffic in them is also

affected.

# Appendix A: Feature Change History

This section lists changes that affected this feature and the impact it had on the

network.

## Appendix A.a: 22.Q1: UE Selection for Downlink Throughput Test in gNodeB

The

Downlink Throughput Test in gNodeB feature is improved with UE selection

mechanism.

| Feature Name:           | Downlink Throughput Test in gNodeB   |
|-------------------------|--------------------------------------|
| Feature Identity:       | FAJ 121 5227                         |
| Value Package Name:     | NR Base Package                      |
| Value Package Identity: | FAJ 801 4002                         |
| Node Type:              | Baseband Radio Node                  |
| Access Type:            | NR                                   |

Summary and Benefits

Downlink Throughput Test in gNodeB is improved with mechanism for selection of the

UEs that can be used for measurements of DL peak throughput.

The mechanism enables the configuration of UE groups considered and used for Downlink

Throughput Test in gNodeB feature.

The main benefit of the feature is that it is possible to consistently select the UEs

used for test from all the UEs that could attach to the node.

Capacity and Performance

No impact.

Operation

With UE selection mechanism, an engineer is able to specify which UEs can be used by

Downlink Throughput Test in gNodeB feature.

The following new MOM attributes are introduced for the UE Selection for Downlink

Throughput Test in gNodeB feature:

- DataPacketGeneratorUeCfg::prefUeGroupList
- DataPacketGeneratorUeCfg::ueGroupList
- DataPacketGeneratorUeCfg::userLabel

Interfaces

No impact.

Hardware

No special hardware requirements.

Other Network Elements

It is recommended to use ENM version 21.4 or later to support the MOM changes

introduced by this feature enhancement. If the Release Independence Manager

application is used, the MOM changes are supported on earlier ENM versions also.