---
complexity_score: 12.5
converted_at: '2025-08-13T06:59:12.813073Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 2
images_saved: 3
original_path: 139_22104-LZA7016017_1Uen.AJ.html
pictures_extracted: 2
processing_method: docling_multimodal
quality_score: 9.0
source_file: 139_22104-LZA7016017_1Uen.AJ.html
source_zip: en_lzn7931071_r38f.zip
tables_extracted: 11
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 2796
---

# 

NR Robust Header Compression for Voice

Contents

![Image](../images/139_22104-LZA7016017_1Uen.AJ/additional_3_CP.png)

![Image](../images/139_22104-LZA7016017_1Uen.AJ/additional_3_CP.png)

- Overview
- Dependencies
- Feature Operation
    - ROHC Context Handling
    - Initial Context Setup with ROHC
    - Header Compression and Decompression in Voice Services
- Network Impact
- Parameters
- Performance
- Activate the Feature
- Deactivate the Feature
- Engineering Guidelines
- Feature Change History
    - 22.Q4: Improved Observability for NR Robust Header Compression for Voice
    - 24.Q3.0: Observability Enhancement for NR Robust Header Compression for Voice

# 1 NR Robust Header Compression for Voice Overview

The feature provides header compression and decompression by using the ROHC protocol

for NR SA voice services.

| Feature Name           | NR Robust Header Compression for Voice                                     |
|------------------------|----------------------------------------------------------------------------|
| Feature Identity       | FAJ 121 5400                                                               |
| Value Package Name     | Voice over NR                                                              |
| Value Package Identity | FAJ 801 4017                                                               |
| Node Type              | Baseband Radio Node                                                        |
| Access Type            | NR                                                                         |
| Licensing              | License-controlled feature. One license is required for each 								node. |

Summary

The feature uses different ROHC profiles for different protocols, such as IP, UDP,

and RTP, that are applied to the IP flows in the voice bearer. The voice bearer can

contain multiple IP flows with the same or different protocols.

Table 1   Supported ROHC Profiles

| Profile Identifier   | Use            | Reference                    | Description                                                                                                                    |
|----------------------|----------------|------------------------------|--------------------------------------------------------------------------------------------------------------------------------|
| 0x0000               | No compression | IETF RFC 5795                | Used if there is no supported profile that matches the packet 										or if there are no more available context identifiers. |
| 0x0001               | RTP/UDP/IP     | IETF RFC 3095, IETF RFC 4815 | Used to compress IP/UDP/RTP headers. Such headers are common 										in a VoIP call or in a video stream.                    |
| 0x0002               | UDP/IP         | IETF RFC 3095, IETF RFC 4815 | Used to compress the RTCP packets, which are used in RTP 										control signaling.                                          |

The feature provides the following benefits:

- Reduced packet size by compressing the IP packet headers of voice bearers that carry VoIP calls.
- Improved coverage as fewer bits of packet headers need to be transmitted.
- Reduced need for radio resources to transmit packets through the Uu interface.

Related Information

For more information related to ROHC, see the following documentation:

- 3GPP TS 38.306; NR; User Equipment (UE) radio access capabilities
- 3GPP TS 38.323; NR; Packet Data Convergence Protocol (PDCP) specification
- 3GPP TS 38.331; NR; Radio Resource Control (RRC); Protocol specification
- IETF RFC 3095; RObust Header Compression (ROHC): Framework and four profiles: RTP, UDP, ESP, and uncompressed
- IETF RFC 3096; Requirements for robust IP/UDP/RTP header compression
- IETF RFC 3759; RObust Header Compression (ROHC): Terminology and Channel Mapping Examples
- IETF RFC 4815; RObust Header Compression (ROHC): Corrections and Clarifications to RFC 3095
- IETF RFC 5795; The Robust Header Compression (ROHC) Framework: Framework and four profiles: RTP, UDP, ESP, and uncompressed

# 2 Dependencies of NR Robust Header Compression for Voice

The feature is related to features that belong to the UE grouping framework, the

NR-DC and the NR SA mobility areas.

Table 2   Feature Dependencies

| Feature                                                                                                             | Relationship   | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|---------------------------------------------------------------------------------------------------------------------|----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| UE Grouping Framework (FAJ 121 5314)                                                                                | Related        | It is recommended that the UE Grouping Framework feature is used if specific ROHC             configurations are needed for different UE groups. Otherwise, the same base             configuration applies to all of the UEs.                                                                                                                                                                                                                                                                                                                   |
| NR-NR Dual Connectivity (FAJ 121                                 5380)                                              | Related        | DRBs that are set up for IMS signaling, voice and         latency-sensitive services are automatically configured not to be set up as Secondary Node         terminated split DRBs.  The NrdcSnTermination =           SnTerminationProhibited MO instance is still possible to be         manually overridden to allow Secondary Node termination of such services. In case of manual         override, the NR Robust Header Compression for Voice is disabled at Secondary Node Addition         and stays disabled at Secondary Node Release. |
| NR Dynamic QoS Modification (FAJ 121                                 5622)                                          | Related        | If the QoS modification request of an established DRB involves the changing of ROHC                 configuration, the request might be rejected in the gNodeB.                                                                                                                                                                                                                                                                                                                                                                                  |
| NR Enhanced Voice                                     Observability (FAJ 121 5745)                                  | Related        | The NR Robust Header Compression for Voice feature is required for                                 using ROHC profile 1.                                                                                                                                                                                                                                                                                                                                                                                                                         |
| NR Mobility (FAJ 121 5041)                                                                                          | Related        | If the NR Robust Header Compression for Voice feature is not       configured on the target gNodeB or no context identifiers are available, the voice bearer       might be set up with ROHC disabled after a handover.                                                                                                                                                                                                                                                                                                                          |
| Downlink RAN-Assisted Rate                                     Adaptation with L4S for Public RAN (FAJ 121 5664)    | Conflicting    | The Downlink RAN-Assisted Rate Adaptation with L4S for Public RAN                                 feature cannot be activated together with the NR Robust Header                                 Compression for Voice feature for the same bearer.                                                                                                                                                                                                                                                                                              |
| Downlink RAN-Assisted Rate                                     Adaptation with L4S for Dedicated RAN (FAJ 121 5665) | Conflicting    | The Downlink RAN-Assisted Rate Adaptation with L4S for Dedicated RAN                                 feature cannot be activated together with the NR Robust Header                                 Compression for Voice feature for the same bearer.                                                                                                                                                                                                                                                                                           |
| Uplink RAN-Assisted Rate                                     Adaptation with L4S for Public RAN (FAJ 121 5750)      | Conflicting    | Uplink L4S is not operational if the Uplink RAN-Assisted Rate                                 Adaptation with L4S for Public RAN feature is activated together                                 with the NR Robust Header Compression for Voice feature for the same                                 bearer.                                                                                                                                                                                                                                      |
| Uplink RAN-Assisted Rate                                     Adaptation with L4S for Dedicated RAN (FAJ 121 5751)   | Conflicting    | Uplink L4S is not operational if the Uplink RAN-Assisted Rate                                 Adaptation with L4S for Dedicated RAN feature is activated together                                 with the NR Robust Header Compression for Voice feature for the same                                 bearer.                                                                                                                                                                                                                                   |

Hardware

No specific hardware requirement.

Limitations

ROHC can be configured only for the following voice bearers:

- VoNR bearers set up with the profile 5QI=1
- Voice bearers set up with profiles 5QI=65 and 5QI=66

ROHC is configured only at voice bearer setup. ROHC reconfiguration for established

voice bearers is not supported.

Network Requirements

The UE must support ROHC profiles 1 or 2 as specified in IETF RFC 3095.

For UEs that do not support ROHC profiles 1 or 2, ROHC setup is not possible.

The UE must support a minimum of two ROHC contexts for compression.

ENM version 22.2 or later is required for the feature.

# 3 Feature Operation of NR Robust Header Compression for Voice

## 3.1 ROHC Context Handling

Information about the IP flows is kept in a ROHC context in the UE and the

gNodeB.

The context identifier is used to associate an IP flow with a profile and a context.

Three ROHC contexts are supported in both uplink and downlink, as follows:

- Two ROHC contexts for the IP flows of packets with compressed headers.
- One ROHC context for the IP flows of packets with uncompressed headers.

## 3.2 Initial Context Setup with ROHC

ROHC for the UE can be configured by the gNodeB at voice bearer

establishment.

Figure 1   Operational Sequence Diagram for UE Setup with ROHC

1. The gNodeB requests UE capability information by sending the RRC UECapabilityEnquiry message to the UE.
2. The UE sends the UE capability information in the RRC UECapabilityInformation message to the gNodeB. The message contains the following information: The maximum number of header compression context sessions that are supported by the UE. The context sessions that leave all headers uncompressed are excluded. The ROHC profiles that are supported by UE.
3. The gNodeB establishes the VoNR bearer that is set up with the profile 5QI=1. The gNodeB also enables ROHC for the established VoNR bearer. Note: The ROHC setup might fail if any of the following conditions apply: The UE does not support ROHC profile 1 or 2. The maximum number of context identifiers is reached in the gNodeB-CU-UP. The maximum number of context identifiers is reached in the UE. In these cases, the bearer is set up without ROHC.
4. The gNodeB sends the RRC RRCReconfiguration message to the UE. The message contains information on whether ROHC is enabled for the voice bearer. The message contains the following information only if ROHC is enabled: The maximum number of context identifiers that are used to compress and decompress the headers of packets in the IP flows. ROHC profiles that are used for compression and decompression.
5. The UE responds by sending the RRC RRCReconfigurationComplete message to the gNodeB.

The gNodeB also establishes the VoNR bearer that is set up with the profile 5QI=1 for the

following procedures:

- NG-based Handover
- PDU Session Resource Modify
- PDU Session Resource Setup
- Retrieve UE Context
- Xn-based Handover

## 3.3 Header Compression and Decompression in Voice Services

The feature uses ROHC profiles for header compression and decompression in voice

services.

Operational Process

Figure 2   Operational Sequence Diagram of NR Robust Header Compression for

Voice

1. During an ongoing voice call, the feature identifies the RTP part and the RTCP part of a VoNR packet and allocates these parts to the correct ROHC profile.
2. The feature compresses all the packet headers in the sender that are associated with the configured ROHC profiles of the voice bearer.
3. The IP flow of packets that are associated with the ROHC context is transmitted to the receiver.
4. The feature decompresses all the compressed IP packet headers in the receiver that are associated with the configured ROHC profiles of the voice bearer.

Packet headers that are associated with ROHC profile 0 are not compressed and

decompressed.

# 4 Network Impact of NR Robust Header Compression for Voice

The feature affects retainability and the packet header volume counters for VoNR

bearers that are set up with the profile 5QI=1 configured with ROHC. The feature also has

signaling impact on the Uu interface.

Capacity and Performance

The feature has the following impact on VoNR bearers configured with ROHC:

- Improved retainability
- Decreased packet header volume counters

The feature decreases the capacity needed for a VoIP call.

Interfaces

The feature affects the following interfaces:

- Uu RRC UECapabilityInformation The maxNumberROHC-ContextSessions and the supportedROHC-Profiles IEs are used by the gNodeB to determine whether the UE is capable of ROHC. RRC RRCReconfiguration The headerCompression IE is transmitted by the gNodeB to the UE to set up ROHC.

Other Network Elements

No impact.

# 5 Parameters for NR Robust Header Compression for Voice

The feature introduces parameters related to ROHC configuration. The parameters are

used with the UE Grouping Framework feature.

Table 3   Parameters

| Parameter                 | Type       | Description          |
|---------------------------|------------|----------------------|
| Rohc.rohcId               | Introduced | See MOM description. |
| Rohc.ueConfGroupType      | Introduced | See MOM description. |
| RohcUeCfg.prefUeGroupList | Introduced | See MOM description. |
| RohcUeCfg.rohc5qiList     | Introduced | See MOM description. |
| RohcUeCfg.rohcUeCfgId     | Introduced | See MOM description. |
| RohcUeCfg.ueConfGroupList | Introduced | See MOM description. |
| RohcUeCfg.ueGroupList     | Introduced | See MOM description. |
| RohcUeCfg.userLabel       | Introduced | See MOM description. |

# 6 Performance of NR Robust Header Compression for Voice

The feature introduces PIs, counters, and PM events related to header compression and

decompression, and the number of the context identifiers used.

PIs

The feature introduces the following PIs:

| Average number of DL CIDs           |    | 100 * GNBCUUPFunction.pmRohcCidDlSum /                                     GNBCUUPFunction.pmRohcCidDlSamp                                                                                                                                                                                                                                                                                                                                                        |
|-------------------------------------|----|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                                     |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Average number of UL CIDs           |    | 100 * GNBCUUPFunction.pmRohcCidUlSum /                                     GNBCUUPFunction.pmRohcCidUlSamp                                                                                                                                                                                                                                                                                                                                                        |
|                                     |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Maximum Number of Allocated DL CIDs |    | GNBCUUPFunction.pmRohcCidDlMax                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|                                     |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Maximum Number of Allocated UL CIDs |    | GNBCUUPFunction.pmRohcCidUlMax                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|                                     |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| DL ROHC Profile 0 Usage per 5QI     |    | 100 *                                     GNBCUUPFunction.pmEbsnPdcpPktTransDlProf0Rohc5qi                                 /                                     (GNBCUUPFunction.pmEbsnPdcpPktTransDlProf0Rohc5qi                                 +                                     GNBCUUPFunction.pmEbsnPdcpPktTransDlProf1Rohc5qi                                 +                                     GNBCUUPFunction.pmEbsnPdcpPktTransDlProf2Rohc5qi) |
|                                     |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| DL ROHC Profile 1 Usage per 5QI     |    | 100 *                                     GNBCUUPFunction.pmEbsnPdcpPktTransDlProf1Rohc5qi                                 /                                     (GNBCUUPFunction.pmEbsnPdcpPktTransDlProf0Rohc5qi                                 +                                     GNBCUUPFunction.pmEbsnPdcpPktTransDlProf1Rohc5qi                                 +                                     GNBCUUPFunction.pmEbsnPdcpPktTransDlProf2Rohc5qi) |
|                                     |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| DL ROHC Profile 2 Usage per 5QI     |    | 100 *                                     GNBCUUPFunction.pmEbsnPdcpPktTransDlProf2Rohc5qi                                 /                                     (GNBCUUPFunction.pmEbsnPdcpPktTransDlProf0Rohc5qi                                 +                                     GNBCUUPFunction.pmEbsnPdcpPktTransDlProf1Rohc5qi                                 +                                     GNBCUUPFunction.pmEbsnPdcpPktTransDlProf2Rohc5qi) |
|                                     |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Profile 1 DL Compression percentage |    | 100 * (1 -                                     GNBCUUPFunction.pmPdcpVolDlCmpHdrProf1Rohc5qi                                 / GNBCUUPFunction.pmPdcpVolDlHdrProf1Rohc5qi)                                                                                                                                                                                                                                                                                        |
|                                     |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Profile 2 DL Compression percentage |    | 100 * (1 -                                     GNBCUUPFunction.pmPdcpVolDlCmpHdrProf2Rohc5qi                                 / GNBCUUPFunction.pmPdcpVolDlHdrProf2Rohc5qi)                                                                                                                                                                                                                                                                                        |
|                                     |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| UL ROHC Profile 0 Usage per 5QI     |    | 100 *                                     GNBCUUPFunction.pmEbsnPdcpPktRecUlProf0Rohc5qi                                 / (GNBCUUPFunction.pmEbsnPdcpPktRecUlProf0Rohc5qi                                 + GNBCUUPFunction.pmEbsnPdcpPktRecUlProf1Rohc5qi                                 +                                 GNBCUUPFunction.pmEbsnPdcpPktRecUlProf2Rohc5qi)                                                                                     |
|                                     |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| UL ROHC Profile 1 Usage per 5QI     |    | 100 *                                     GNBCUUPFunction.pmEbsnPdcpPktRecUlProf0Rohc5qi                                 / (GNBCUUPFunction.pmEbsnPdcpPktRecUlProf0Rohc5qi                                 + GNBCUUPFunction.pmEbsnPdcpPktRecUlProf1Rohc5qi                                 +                                 GNBCUUPFunction.pmEbsnPdcpPktRecUlProf2Rohc5qi)                                                                                     |
|                                     |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| UL ROHC Profile 2 Usage per 5QI     |    | 100 *                                     GNBCUUPFunction.pmEbsnPdcpPktRecUlProf2Rohc5qi                                 / (GNBCUUPFunction.pmEbsnPdcpPktRecUlProf0Rohc5qi                                 + GNBCUUPFunction.pmEbsnPdcpPktRecUlProf1Rohc5qi                                 +                                 GNBCUUPFunction.pmEbsnPdcpPktRecUlProf2Rohc5qi)                                                                                     |
|                                     |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Profile 1 UL Compression percentage |    | 100 * (1 -                                     GNBCUUPFunction.pmPdcpVolUlCmpHdrProf1Rohc5qi                                 / GNBCUUPFunction.pmPdcpVolUlHdrProf1Rohc5qi)                                                                                                                                                                                                                                                                                        |
|                                     |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Profile 2 UL Compression percentage |    | 100 * (1 -                                     GNBCUUPFunction.pmPdcpVolUlCmpHdrProf2Rohc5qi                                 / GNBCUUPFunction.pmPdcpVolUlHdrProf2Rohc5qi)                                                                                                                                                                                                                                                                                        |
|                                     |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Total DL Compression percentage     |    | 100 * [1 -                                     (GNBCUUPFunction.pmPdcpVolDlCmpHdrProf1Rohc5qi                                 + GNBCUUPFunction.pmPdcpVolDlCmpHdrProf2Rohc5qi)                                 / (GNBCUUPFunction.pmPdcpVolDlHdrProf1Rohc5qi +                                     GNBCUUPFunction.pmPdcpVolDlHdrProf2Rohc5qi)]                                                                                                                   |
|                                     |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Total UL Compression percentage     |    | 100 * [1 -                                     (GNBCUUPFunction.pmPdcpVolUlCmpHdrProf1Rohc5qi                                 + GNBCUUPFunction.pmPdcpVolUlCmpHdrProf2Rohc5qi)                                 / (GNBCUUPFunction.pmPdcpVolUlHdrProf1Rohc5qi +                                     GNBCUUPFunction.pmPdcpVolUlHdrProf2Rohc5qi)]                                                                                                                   |

Counters

The feature introduces the following PM counters:

- RpUserPlaneLink.pmPdcpVolDlCmpHdrProf1Rohc5qi
- RpUserPlaneLink.pmPdcpVolDlCmpHdrProf2Rohc5qi
- RpUserPlaneLink.pmPdcpVolDlHdrProf1Rohc5qi
- RpUserPlaneLink.pmPdcpVolDlHdrProf2Rohc5qi
- RpUserPlaneLink.pmPdcpVolUlCmpHdrProf1Rohc5qi
- RpUserPlaneLink.pmPdcpVolUlCmpHdrProf2Rohc5qi
- RpUserPlaneLink.pmPdcpVolUlHdrProf1Rohc5qi
- RpUserPlaneLink.pmPdcpVolUlHdrProf2Rohc5qi
- GNBCUUPFunction.pmPdcpVolDlCmpHdrProf1Rohc5qi
- GNBCUUPFunction.pmPdcpVolDlCmpHdrProf2Rohc5qi
- GNBCUUPFunction.pmPdcpVolDlHdrProf1Rohc5qi
- GNBCUUPFunction.pmPdcpVolDlHdrProf2Rohc5qi
- GNBCUUPFunction.pmPdcpVolDlHdrProf2Rohc5qi
- GNBCUUPFunction.pmPdcpVolUlCmpHdrProf1Rohc5qi
- GNBCUUPFunction.pmPdcpVolUlCmpHdrProf2Rohc5qi
- GNBCUUPFunction.pmPdcpVolUlHdrProf1Rohc5qi
- GNBCUUPFunction.pmRohcCidDlMax
- GNBCUUPFunction.pmRohcCidDlSamp
- GNBCUUPFunction.pmRohcCidDlSum
- GNBCUUPFunction.pmRohcCidUlMax
- GNBCUUPFunction.pmRohcCidUlSamp
- GNBCUUPFunction.pmRohcCidUlSum

The feature introduces the following EBS counters:

- RpUserPlaneLink.pmEbsnPdcpPktLossUlProf1RohcDecmpFail5qi
- RpUserPlaneLink.pmEbsnPdcpPktLossUlProf2RohcDecmpFail5qi
- RpUserPlaneLink.pmEbsnPdcpPktRecUlProf0Rohc5qi
- RpUserPlaneLink.pmEbsnPdcpPktRecUlProf1Rohc5qi
- RpUserPlaneLink.pmEbsnPdcpPktRecUlProf2Rohc5qi
- RpUserPlaneLink.pmEbsnPdcpPktTransDlDiscRohc5qi
- RpUserPlaneLink.pmEbsnPdcpPktTransDlProf0Rohc5qi
- RpUserPlaneLink.pmEbsnPdcpPktTransDlProf1Rohc5qi
- RpUserPlaneLink.pmEbsnPdcpPktTransDlProf2Rohc5qi
- RpUserPlaneLink.pmEbsnPdcpPktTransDlUncmpProf1Rohc5qi
- RpUserPlaneLink.pmEbsnPdcpPktTransDlUncmpProf2Rohc5qi

The feature introduces the following EBS counters, which are not supported on RAN

Compute group 6 and higher:

- PpControlLink.pmEbsPdcpIpFlowDlProf1RohcDistr
- PpControlLink.pmEbsPdcpIpFlowDlProf2RohcDistr

The feature introduces the following EBS flexible counters associated with the

NRCellCU MO:

- pmEbsRohcEstabAtt5qi
- pmEbsRohcEstabFailCid5qi
- pmEbsRohcEstabFailUeCap5qi
- pmEbsRohcEstabFailUeMaxCid5qi

These flexible counters can be used to observe the performance of the feature

with the following filters applied:

- PlmnId
- PrefUeGrpId
- Qos
- Snssai
- UeGrpId
- UeMobilityGrpId
- UeServiceGrpId

For information on the EBS flexible counters, see Lists and Delta Lists.

The feature introduces the following EBS flexible counters associated with the

RpUserPlaneLink MO:

- pmEbsnPdcpVolDlCmpHdrProf1Rohc5qi
- pmEbsnPdcpVolDlCmpHdrProf2Rohc5qi
- pmEbsnPdcpVolDlHdrProf1Rohc5qi
- pmEbsnPdcpVolDlHdrProf2Rohc5qi
- pmEbsnPdcpVolUlHdrProf1Rohc5qi
- pmEbsnPdcpVolUlHdrProf2Rohc5qi
- pmEbsnPdcpVolUlCmpHdrProf1Rohc5qi
- pmEbsnPdcpVolUlCmpHdrProf2Rohc5qi

These flexible counters can be used to observe the performance of the feature

with the following filters applied:

- PlmnId
- PrefUeGrpId
- Qos
- QosType
- UeGrpId
- UeMobilityGrpId
- UeServiceGrpId

For information on the EBS flexible counters, see Lists and Delta Lists.

Events

The feature introduces the CuCpRohcSetup

and CuUpDrbRelease PM event.

The CuUpPerUeRbCgTrafficRep PM event is updated with UE

grouping-related filters and ROHC-related parameters.

The CuUpPerNfTrafficRep and

CuUpPerUeRbCgTrafficRepAggr10 PM events are

updated with ROHC-related parameters.

# 7 Activate NR Robust Header Compression for Voice

To use the feature, it must be activated following the usual feature activation

procedure.

Prerequisites

- The license key is installed in the node.
- CCTR is active for at least one week before this procedure to collect enough troubleshooting data.

Steps

1. To activate the feature, set the featureState attribute to ACTIVATED in the FeatureState=CXC4012592 MO instance.
2. To enable ROHC, set the RohcUeCfg.rohc5qiList attribute to a value that corresponds with the 5QI value.

After This Task

Keep CCTR active for at least one week after this procedure for continued collection of troubleshooting data.

# 8 Deactivate NR Robust Header Compression for Voice

If the feature is no longer needed, it can be deactivated following the usual

feature deactivation procedure. It must also be deactivated before the activation of any

conflicting feature.

Prerequisites

- CCTR is active for at least one week before this procedure to collect enough troubleshooting data.

Steps

1. To disable ROHC, set the RohcUeCfg.rohc5qiList attribute to an empty value. Note: It is possible to disable ROHC for only the desired UE groups without feature deactivation.
2. To deactivate the feature, set the featureState attribute to DEACTIVATED in the FeatureState=CXC4012592 MO instance.

After This Task

Keep CCTR active for at least one week after this procedure for continued collection of troubleshooting data.

# 9 Engineering Guidelines for NR Robust Header Compression for Voice

Specific ROHC configurations can be set for each UE group with UE grouping.

The feature uses the Rohc.ueConfGroupType attribute to support UE

grouping.

If specific ROHC configurations are needed for certain UE groups, the following

attributes can be used with the UE Grouping Framework feature to configure the settings

for the UE groups:

- RohcUeCfg.prefUeGroupList
- RohcUeCfg.ueConfGroupList
- RohcUeCfg.ueGroupList

If no specific configurations are set for the UE groups, the default configuration is

applied.

For more information on UE group configuration, see UE Grouping Framework.

# 10 Feature Change History

This section lists changes that affected this feature and the impact it had on the

network.

## 10.1 22.Q4: Improved Observability for NR Robust Header Compression for Voice

This feature enhancement improves traffic observability for ROHC enabled DRBs by

introducing and modifying PIs, EBS counters, and PM events.

| Feature Name           | NR Robust Header Compression for Voice   |
|------------------------|------------------------------------------|
| Feature Identity       | FAJ 121 5400                             |
| Value Package Name     | Voice over NR                            |
| Value Package Identity | FAJ 801 4017                             |
| Node Type              | Baseband Radio Node                      |
| Access Type            | NR                                       |
| Impact at Upgrade      | Mandatory                                |

Summary and Benefits

To improve observability packet analysis and IP flow detection for each ROHC profile

is introduced.

Traffic observability is improved for ROHC enabled DRBs by introducing the

following:

- Packet analysis Percentage of packet headers processed or compressed with each ROHC profile in uplink and downlink case Total number of lost packets because of decompression failures for each ROHC profile Total number of received packets for each ROHC profile in uplink case Total number of transmitted packets for each ROHC profile in downlink case Total number of discarded packets because of PDCP processing overload Total number of packets associated with each ROHC profile transmitted uncompressed because of high PDCP processing load in downlink case
- IP flow detection for each ROHC profile Unique IP flow detection for each ROHC profile (up to six)

Capacity and Performance

No impact.

Operation

The feature enhancement introduces the following PIs:

| DL ROHC Profile 0 Usage per 5QI   |    | 100 * GNBCUUPFunction.pmEbsnPdcpPktTransDlProf0Rohc5qi                             / (GNBCUUPFunction.pmEbsnPdcpPktTransDlProf0Rohc5qi +                                 GNBCUUPFunction.pmEbsnPdcpPktTransDlProf1Rohc5qi                             +                             GNBCUUPFunction.pmEbsnPdcpPktTransDlProf2Rohc5qi)   |
|-----------------------------------|----|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                                   |    |                                                                                                                                                                                                                                                                                                                                         |
| DL ROHC Profile 1 Usage per 5QI   |    | 100 * GNBCUUPFunction.pmEbsnPdcpPktTransDlProf1Rohc5qi                             / (GNBCUUPFunction.pmEbsnPdcpPktTransDlProf0Rohc5qi +                                 GNBCUUPFunction.pmEbsnPdcpPktTransDlProf1Rohc5qi                             +                             GNBCUUPFunction.pmEbsnPdcpPktTransDlProf2Rohc5qi)   |
|                                   |    |                                                                                                                                                                                                                                                                                                                                         |
| DL ROHC Profile 2 Usage per 5QI   |    | 100 * GNBCUUPFunction.pmEbsnPdcpPktTransDlProf2Rohc5qi                             / (GNBCUUPFunction.pmEbsnPdcpPktTransDlProf0Rohc5qi +                                 GNBCUUPFunction.pmEbsnPdcpPktTransDlProf1Rohc5qi                             +                             GNBCUUPFunction.pmEbsnPdcpPktTransDlProf2Rohc5qi)   |
|                                   |    |                                                                                                                                                                                                                                                                                                                                         |
| UL ROHC Profile 0 Usage per 5QI   |    | 100 * GNBCUUPFunction.pmEbsnPdcpPktRecUlProf0Rohc5qi /                                 (GNBCUUPFunction.pmEbsnPdcpPktRecUlProf0Rohc5qi +                                 GNBCUUPFunction.pmEbsnPdcpPktRecUlProf1Rohc5qi +                                 GNBCUUPFunction.pmEbsnPdcpPktRecUlProf2Rohc5qi)                               |
|                                   |    |                                                                                                                                                                                                                                                                                                                                         |
| UL ROHC Profile 1 Usage per 5QI   |    | 100 * GNBCUUPFunction.pmEbsnPdcpPktRecUlProf0Rohc5qi /                                 (GNBCUUPFunction.pmEbsnPdcpPktRecUlProf0Rohc5qi +                                 GNBCUUPFunction.pmEbsnPdcpPktRecUlProf1Rohc5qi +                                 GNBCUUPFunction.pmEbsnPdcpPktRecUlProf2Rohc5qi)                               |
|                                   |    |                                                                                                                                                                                                                                                                                                                                         |
| UL ROHC Profile 2 Usage per 5QI   |    | 100 * GNBCUUPFunction.pmEbsnPdcpPktRecUlProf2Rohc5qi /                                 (GNBCUUPFunction.pmEbsnPdcpPktRecUlProf0Rohc5qi +                                 GNBCUUPFunction.pmEbsnPdcpPktRecUlProf1Rohc5qi +                                 GNBCUUPFunction.pmEbsnPdcpPktRecUlProf2Rohc5qi)                               |

This feature enhancement introduces the following GNBCUUPFunction

counters:

- PpControlLink.pmEbsPdcpIpFlowDlProf1RohcDistr
- PpControlLink.pmEbsPdcpIpFlowDlProf2RohcDistr
- RpUserPlaneLink.pmEbsnPdcpPktLossUlProf1RohcDecmpFail5qi
- RpUserPlaneLink.pmEbsnPdcpPktLossUlProf2RohcDecmpFail5qi
- RpUserPlaneLink.pmEbsnPdcpPktRecUlProf0Rohc5qi
- RpUserPlaneLink.pmEbsnPdcpPktRecUlProf1Rohc5qi
- RpUserPlaneLink.pmEbsnPdcpPktRecUlProf2Rohc5qi
- RpUserPlaneLink.pmEbsnPdcpPktTransDlDiscRohc5qi
- RpUserPlaneLink.pmEbsnPdcpPktTransDlProf0Rohc5qi
- RpUserPlaneLink.pmEbsnPdcpPktTransDlProf1Rohc5qi
- RpUserPlaneLink.pmEbsnPdcpPktTransDlProf2Rohc5qi
- RpUserPlaneLink.pmEbsnPdcpPktTransDlUncmpProf1Rohc5qi
- RpUserPlaneLink.pmEbsnPdcpPktTransDlUncmpProf2Rohc5qi

This feature enhancement introduces the CuUpDrbRelease PM event

associated with the PpControlLink MO. The

CuUpPerUeRbCgTrafficRep and

CuUpPerUeRbCgTrafficRepAggr10 PM events associated with the

RpUserPlaneLink MO are updated.

These events can be used for IP flow detection and packet analysis with the following

filters applied:

- Qos PlmnId PrefUeGrpId UeGrpId UeMobilityGrpId UeServiceGrpId Snssai

Interfaces

No impact.

Hardware

No specific hardware requirements.

Other Network Elements

It is required to use ENM version 22.4 or later for this feature

enhancement.

Related Information

NR Robust Header Compression for Voice

## 10.2 24.Q3.0: Observability Enhancement for NR Robust Header Compression for Voice

The feature enhancement introduces GNBCUUPFunction PM counters for

NR Robust Header Compression for Voice.

| Feature Name           | NR Robust Header Compression for Voice   |
|------------------------|------------------------------------------|
| Feature Identity       | FAJ 121 5400                             |
| Value Package Name     | Voice over NR                            |
| Value Package Identity | FAJ 801 4017                             |
| Node Type              | Baseband Radio Node                      |
| Access Type            | NR                                       |
| Impact at Upgrade      | Optional                                 |

Summary and Benefits

The feature enhancement improves observability as it introduces counters to the

GNBCUUPFunction MO class.

Capacity and Performance

No impact.

Operation

The following PM counters are introduced:

- GNBCUUPFunction.pmPdcpVolDlCmpHdrProf1Rohc5qi
- GNBCUUPFunction.pmPdcpVolDlCmpHdrProf2Rohc5qi
- GNBCUUPFunction.pmPdcpVolDlHdrProf1Rohc5qi
- GNBCUUPFunction.pmPdcpVolDlHdrProf2Rohc5qi
- GNBCUUPFunction.pmPdcpVolDlHdrProf2Rohc5qi
- GNBCUUPFunction.pmPdcpVolUlCmpHdrProf1Rohc5qi
- GNBCUUPFunction.pmPdcpVolUlCmpHdrProf2Rohc5qi
- GNBCUUPFunction.pmPdcpVolUlHdrProf1Rohc5qi

Interfaces

No impact.

Hardware

The feature enhancement is supported on RAN Compute units in RAN Compute groups 4,5,

and 6. For more information on RAN Compute groups, see DU and Baseband Configuration and Capacity.

Other Network Elements

No impact.

Related Information

NR Robust Header Compression for Voice