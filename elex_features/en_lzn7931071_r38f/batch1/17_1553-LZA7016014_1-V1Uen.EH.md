---
complexity_score: 27.0
converted_at: '2025-08-13T06:59:09.827648Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 5
images_saved: 3
original_path: 17_1553-LZA7016014_1-V1Uen.EH.html
pictures_extracted: 5
processing_method: docling_multimodal
quality_score: 9.0
source_file: 17_1553-LZA7016014_1-V1Uen.EH.html
source_zip: en_lzn7931071_r38f.zip
tables_extracted: 37
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 2796
---

# 

Manage Licenses and Hardware Activation Codes

Contents

![Image](../images/17_1553-LZA7016014_1-V1Uen.EH/additional_3_CP.png)

![Image](../images/17_1553-LZA7016014_1-V1Uen.EH/additional_3_CP.png)

- Description
    - Concepts of License and Hardware Activation Code Management
    - License and Hardware Activation Code Management Overview
- License Handling Procedures
    - License Request and Delivery with Manual Licensing
    - License Request and Delivery with Instantaneous Licensing
- Supplementary Procedures
    - Supplementary Procedures for Manual Licensing
    - Supplementary Procedures for Instantaneous Licensing
    - Baseband Capacity Dimensioning

# 1 Description

The node functionality can be enhanced by adding features and capacities. This is done by

deploying licenses and Hardware Activation Codes (HWACs).

This document describes the license and HWAC management and the License Key File (LKF)

installation. It also explains how to activate a feature and how to enable a capacity.

## 1.1 Concepts of License and Hardware Activation Code Management

| License                      |    | A license is a permit from licensor to a licensee to use a software feature or capacity           under intellectual property laws.                                                                                                                                                                                                                                                       |
|------------------------------|----|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                              |    |                                                                                                                                                                                                                                                                                                                                                                                           |
| Hardware Activation Code     |    | An HWAC provides access to hardware-related capabilities, that is hardware-related             features and hardware-related capacities. HWACs are represented by keys in the LKF.                                                                                                                                                                                                        |
|                              |    |                                                                                                                                                                                                                                                                                                                                                                                           |
| Software Feature             |    | A software feature enables a specific software function in a specific node.                                                                                                                                                                                                                                                                                                               |
|                              |    |                                                                                                                                                                                                                                                                                                                                                                                           |
| Software Capacity            |    | A software capacity enables the user to activate resources to meet the current traffic             requirements.                                                                                                                                                                                                                                                                          |
|                              |    |                                                                                                                                                                                                                                                                                                                                                                                           |
| Hardware-Related Feature     |    | A hardware-related feature enhances hardware functionality.                                                                                                                                                                                                                                                                                                                               |
|                              |    |                                                                                                                                                                                                                                                                                                                                                                                           |
| Hardware-Related Capacity    |    | A hardware-related capacity allows the operator to enable HW resources.                                                                                                                                                                                                                                                                                                                   |
|                              |    |                                                                                                                                                                                                                                                                                                                                                                                           |
| Key                          |    | A key represents a license or an HWAC in the LKF. Installed in the node, a key enables             a capacity or a feature. Each key is marked with a start time and a stop time, and the             key is valid only between those times. Several keys may be contained in one LKF.                                                                                                    |
|                              |    |                                                                                                                                                                                                                                                                                                                                                                                           |
| License Key File (LKF)       |    | An LKF contains the license keys and HWAC keys that enable functions and capacities for             one specific node. The file is a human-readable text file in XML format. The latest file             installed is the valid one. One node can have only one LKF at a given time.                                                                                                      |
|                              |    |                                                                                                                                                                                                                                                                                                                                                                                           |
| License Key Manager (LKM)    |    | The License Key Manager is an application in SSP used for generating LKFs for license           activation, upgrade and regeneration for nodes. The SSP-LKM is used for manual license           handling and non-connected Instantaneous Licensing. An LRF is used for LKF Activation. An           Excel file is used for LKF Upgrade and Regenerate from SSP-LKM.                      |
|                              |    |                                                                                                                                                                                                                                                                                                                                                                                           |
| License Request File (LRF)   |    | A node generated file that contains the current license and HWAC demand. This file is           used for activation in SSP-LKM to generate a License Key File. For non-connected IL, an           Excel file with fingerprints can be used as input for file-based Upgrade and Regenerate in           SSP-LKM, removing the need for LRF handling and detailed feature activation lists. |
|                              |    |                                                                                                                                                                                                                                                                                                                                                                                           |
| Utility Module               |    | An alternative term for Baseband Capacity HWAC. Used for differentiating HWAC types.             Module types are differentiated by capacity provided (throughput and spectrum) as well             as function (initial module and expansion module).                                                                                                                                    |
|                              |    |                                                                                                                                                                                                                                                                                                                                                                                           |
| Initial Module               |    | A type of utility module. Enables hardware functionality on the unit it is installed             for. The capacity the module provides depends on the module type. One hardware unit can             have no more than one initial module installed.                                                                                                                                      |
|                              |    |                                                                                                                                                                                                                                                                                                                                                                                           |
| Expansion Module             |    | A type of utility module. Extends the capacity provided by the initial module. The             capacity the module provides depends on the module type.                                                                                                                                                                                                                                   |
|                              |    |                                                                                                                                                                                                                                                                                                                                                                                           |
| Hardware Utilization Package |    | A Hardware Utilization Package (HUP) is a collection of utility modules handled as one             package. Package types are differentiated by capacity provided (throughput and spectrum)             as well as function (initial package and expansion package).                                                                                                                      |
|                              |    |                                                                                                                                                                                                                                                                                                                                                                                           |
| Initial Package              |    | A type of HUP. A collection of initial modules handled as one package. One hardware             unit can have no more than one initial package installed.                                                                                                                                                                                                                                 |
|                              |    |                                                                                                                                                                                                                                                                                                                                                                                           |
| Expansion Package            |    | A type of HUP. A collection of expansion modules handled as one package.The capacity             the package provides depends on the package type.                                                                                                                                                                                                                                        |

### 1.1.1 License Key File

The LKF contains the license keys and HWAC keys that enable functionality for one specific

node. The LKF is a readable text file in XML format. One node can have only one LKF at a given

time. The LKFs are supplied by Ericsson and validated by the node upon its installation.

A new LKF must be requested if one of the following changes is required:

- License keys are added to the node.
- HWAC keys are added to the node.
- Keys are changed in any way.

A new LKF can be requested manually or using the Instantaneous Licensing feature.

A valid LKF has a sequence number equal to or greater than the sequence number on the latest

installed LKF.

Each license key for a feature is represented by an entry in the LKF with the following

characteristics, marked by XML tags:

- featureKey id - is the identification of the license or HWAC key of the respective feature. This is a unique code for each feature, for example CXC4010912.
- description - the feature name.
- start and stop - define the beginning and the end of the feature key validity period.

Each key for software or hardware capacity is represented by an entry in the LKF with the

following characteristics, marked by XML tags:

- capacityKey id - is the identification of the license or HWAC key of the respective capacity. This is a unique code for each key, for example CXC4011022.
- capacity - the value of the capacity.
- description - the capacity name.
- start and stop - define the beginning and the end of the capacity key validity period. The length of the capacity validity period is based on the commercial order criteria.
- HUP - defines the initial package and expansion package content of the corresponding HWAC license key. The content of the initial or expansion package is presented in the following format: &lt;HUP type&gt;:[&lt;Baseband&gt;]:&lt;Size&gt;:&lt;Count&gt;; &lt;HUP type&gt; &lt;HUP type&gt; specifies whether the HUP is an initial package or an expansion package. [&lt;Baseband&gt;] [&lt;Baseband&gt;] refers to the type of Baseband unit that the initial package is applicable to. This field is not present for expansion packages. &lt;Size&gt; &lt;Size&gt; refers to the number of HWACs that form an indivisible allocation unit. &lt;Count&gt; &lt;Count&gt; refers to the number of indivisible allocation units.
![Image](../images/17_1553-LZA7016014_1-V1Uen.EH/additional_3_CP.png)

For instructions on how to install the LKF, see Install License Key File on Baseband Products.

As a result of the LKF installation, MO Lm and MO

KeyFileInformation is updated to reflect the new license information. New

MO instances of FeatureKey, FeatureState,

CapacityKey, and CapacityState are created for each

key entry in the LKF that is not already created at the startup of the node. HUP installation

and allocation information are reflected on MO CapacityUsage.

If the attribute FeatureState.featureState is set to

ACTIVATED and a valid license key or HWAC key for the given feature is not

valid, the alarm License Key Not Available is raised.

Example 1   HWAC License Key with HUP Tag

```
<capacityKeyid="CXC4012474"><description>HwacBbLayerUM</description><start>2020-10-19</start><noStop/><capacity>13</capacity><hardLimit>13</hardLimit><ComplementaryData2><HUP>IP:RP6347:1:2;EP::1:3;EP::2:4;</HUP></ComplementaryData2></capacityKey>
```

### 1.1.2 Fingerprint

The fingerprint is the node identity used for licensing purposes. The LKF is associated with

a given unique fingerprint and can only be deployed on a given node. The fingerprint is

configured on the node. The fingerprint remains rewritable until the node successfully

downloads the first LKF or

Integration

Unlock is activated. The operator ensures the uniqueness of the

fingerprint.

The node validates the LKF, and if the fingerprint does not match the fingerprint configured

in the node, the LKF is rejected and the node is not fully operational.

The fingerprint method is the ULN, which is a text string. The fingerprint ULN must be chosen

to match the

ULN

that is configured on the node.

The

Lm.fingerprint attribute shows the fingerprint of the

node.

### 1.1.3 EUFT

The LKF is associated with a given unique EUFT (End User for Foreign Trade number) and

can only be deployed on a node with this EUFT. The EUFT is configured when the first LKF

is installed. The EUFT remains rewritable until the node has successfully downloaded the

first LKF. The node validates the LKF and if the EUFT does not match the EUFT configured

on the node, the LKF is rejected and the node is not fully operational.

Attribute InstantaneousLicensing.euft shows the

EUFT

number.

### 1.1.4 ELIS

Electronic License Information System (ELIS) is a web-based entitlement management system for

software licenses and HWACs.

It is used for activating licenses, HWACs, and for managing license pools. ELIS generates the

License Authorization Code (LAC) letter and the requested LKF.

ELIS stores completed purchase orders for each customer based on their respective Software

License Targets. ELIS is also used to handle LKF requests, and to initiate the LKF delivery

process.

### 1.1.5 CAS

Customer Access &amp; Security (CAS) is a part of Instantaneous Licensing in connected

mode. CAS creates a standardized and secure connection between the customer network and

the Ericsson network for all Ericsson services. Every connection from Ericsson is

established through CAS, which acts as a gateway. The part of the CAS solution, which is

located in the customer network is called CAS-C.

### 1.1.6 Utility Modules

Utility modules enable the basic or extended hardware functionality of Baseband

units.

Each Baseband unit requires an initial module to function. The installation of multiple

initial modules is not supported. The capacity provided by initial modules can be

extended by installing expansion modules, which give access to additional capacity with

each expansion module. The type of the initial module determines the type of capacity

enabled on the Baseband unit. Baseband utility modules exist in the following types and

subtypes:

- Throughput, measured in Mbps
- Spectrum, with one of the following subtypes: Antenna bandwidth (ABW), measured in MHz For Remote radio units. Massive MIMO, which is a combination of configured carrier bandwidth (CBW), measured in MHz, and the number of MIMO layers, measured in the number of layers For Massive MIMO radio units.

The capacity is either limited by throughput or spectrum control. The two control types

cannot be mixed in same Baseband unit.

Figure 1   Selecting the Appropriate Initial Module

The initial module determines what expansion modules can be installed on the node.

Throughput initial modules can only be expanded with throughput expansion modules, and

spectrum initial modules can only be expanded with spectrum expansion modules. However,

spectrum expansion modules of the two subtypes are compatible with each other. In a

configuration where a mix of Massive MIMO and Remote radio units exist, either one of

the subtypes of spectrum initial module can be installed, and then expanded with

expansion modules of the other subtype. Until the initial module is expanded in this

way, only the chosen subtype of spectrum is enabled on the node.

Figure 2   Capacity Expansion Paths

### 1.1.7 Hardware Utilization Packages

A Hardware Utilization Package is a collection of utility modules that provide HWACs in

different sizes. HUP expansion modules have different sizes that can be mixed and added

onto each other. This means that capacity provided by HUPs can be customized according

to the required capacity of the node, up to the maximum capacity allowed by the

node.

HUPs support single mode and mixed mode configurations. Capacity provided by initial

packages can be split between standards. The IP can be split at the smallest step of 75

Mbps for LTE and/or NR.

Each expansion package can only be used by a single standard at a time. In a mixed mode

configuration, separate expansion packages support the different standards.

Table 1 shows the available initial package

sizes for each supported type of hardware. Table 2 shows the available expansion packages

for each type of capacity.

For details about HUPs and their applicability to specific Baseband units, see Hardware-Related Capabilities.

Table 1   Overview of Initial Packages

| Hardware                                                                               | Throughput Downlink/Uplink   | Throughput Downlink/Uplink   | Throughput Downlink/Uplink   | ABW       | ABW        | ABW            | Massive MIMO (Carrier Bandwidth/Layers)   |
|----------------------------------------------------------------------------------------|------------------------------|------------------------------|------------------------------|-----------|------------|----------------|-------------------------------------------|
| Hardware                                                                               | GSM (TRX)                    | WCDMA (CE)                   | LTE / NR (Mbps)              | GSM (TRX) | WCDMA (CC) | LTE / NR (MHz) | Massive MIMO (Carrier Bandwidth/Layers)   |
| Baseband 6621                                                                          | 24                           | 144/240                      | 75/37.5                      | 24        | 3          | 60             | N/A                                       |
| Baseband 6631                                                                          | 48(1)                        | 288/480                      | 150/75                       | 48        | 6          | 120            | 60/6                                      |
| Baseband 6641     Radio Processor 6337     RAN Processor 6647     Radio Processor 6339 | N/A                          | N/A                          | 600/300                      | N/A       | N/A        | 480            | 180/12                                    |
| Baseband 6648     Radio Processor 6347     RAN Processor 6651     Radio Processor 6353 | N/A                          | N/A                          | 1200/600                     | N/A       | N/A        | 960            | 300/12                                    |
| Radio Processor 6507                                                                   | N/A                          | N/A                          | 2000/500                     | N/A       | N/A        | 720            | N/A                                       |
| RAN Processor 6672     Radio Processor 6372                                            | N/A                          | N/A                          | 2400/1200                    | N/A       | N/A        | 1920           | 600/24                                    |
| RAN Processor 6655     Radio Processor 6355                                            | N/A                          | N/A                          | 1200/600                     | N/A       | N/A        | 960            | 300/12                                    |

(1)

The maximum TRX number is limited to 24 in MSME.

Table 2   Overview of Expansion Packages

| Capacity                                          | Expansion Package A   | Expansion Package B   | Expansion Package C   | Expansion Package D   | Expansion Package E   | Expansion Package F   | Expansion Package G   | Expansion Package H   |
|---------------------------------------------------|-----------------------|-----------------------|-----------------------|-----------------------|-----------------------|-----------------------|-----------------------|-----------------------|
| Throughput Downlink/Uplink LTE / NR (Mbps)        | 75/37.5               | 150/75                | 600/300               | 1200/600              | 4800/2400             | 22050/11025           | N/A                   | N/A                   |
| ABW LTE / NR (MHz)                                | 60                    | 120                   | 480                   | 960                   | N/A                   | N/A                   | N/A                   | N/A                   |
| Massive MIMO - Layers (number of layers) LTE / NR | N/A                   | N/A                   | 6                     | 12                    | N/A                   | N/A                   | 84                    | 240                   |
| Massive MIMO - Carrier bandwidth (MHz) LTE / NR   | 60                    | 180                   | N/A                   | N/A                   | 600                   | 2400                  | N/A                   | N/A                   |
| Throughput WCDMA (CE)                             | 144/240               | 288/480               | N/A                   | N/A                   | N/A                   | N/A                   | N/A                   | N/A                   |
| ABW WCDMA (CC)                                    | 3                     | 6                     | N/A                   | N/A                   | N/A                   | N/A                   | N/A                   | N/A                   |
| Throughput/ABW GSM (TRX)                          | 24                    | 48                    | N/A                   | N/A                   | N/A                   | N/A                   | N/A                   | N/A                   |

### 1.1.8 License Configuration Set

A License Configuration Set (LCS) is a set of policies and configurations that can be

applied to multiple nodes that require a similar license setup. LCS is used in Instantaneous

Licensing.

Licenses that are part of the LCS are available for all nodes which are associated with

the given LCS. This is handled through the commercialState tag set in

the LKF for a given feature key. The information in the LKF request is used to activate

a set of features and required capacity defined by Base Packages and Value Packages that

the user is entitled to.

Selected Base Packages and Value Packages can be alternatively activated in a fixed

manner when an optional quantity setting in the LCS is configured. If the quantity is

set for selected Base Packages or Value Packages, the license object is immediately

activated. This activation takes place only if it is compatible with license node setup,

regardless of requirements by the radio node configuration.

Additional License Configuration is an optional extension of the LCS specifying fixed

quantity definition for selected Radio HWACs. When a setting is present, the selected

Radio HWACs gets activated in a defined quantity if HWACs are compatible with the

license node setup.

If the radio node configuration requires a higher amount of licenses and HWACs than the

fixed quantity definition present in the LCS, the quantity specified by the radio node

in the Instantaneous Licensing request takes precedence.

License Configuration Sets are prepared by the Customer Unit, based on the input provided

by the operator.

### 1.1.9 Software License Target Id and GroupId Configuration

The software license target Id, or swltId MO attribute, defines the

License Configuration Set (LCS) used by an ME. The swltId parameter

can contain both a groupId and an LCS Id. In this case, the logical

data items in swltId are separated with &amp;&amp;

as follows: groupId&amp;&amp;LCS Id. The

swltId that contains groupId is configured on

a Baseband Radio Node during integration. If the swltId does not

contain the &amp;&amp; separator, it means that a

groupId is not provided for the ME.

The use of multiple groupIds during node integration is supported by

Instantaneous Licensing in both connected and non-connected mode if the following

conditions are fulfilled:

- Node integration is performed using Integration Unlock.
- Multiple groupIds for each EUFT are used.

The use of the groupId MO attribute is mandatory for customers

who maintain groups in ELIS and it cannot be skipped during Integration with

Integration Unlock. If skipped, ELIS TH rejects the node with an

error. It is not recommended to use groupId if no groups are

maintained, as ELIS produces LKFs using the Default Group

category.

If these conditions are fulfilled, the following configuration rules apply during

integration:

- The swltId must be configured according to the pattern groupId&amp;&amp;LCS Id, as it is the concatenation of the groupId and the LCS Id using &amp;&amp; as a separator. If the swltId is configured incorrectly, the integration LKF is not created. An example configuration of a swltId with grAB01 as groupId and lcsXYZ as LCS Id is: grAB01&amp;&amp;lcsXYZ Note: The groupId for a radio node must be obtained from the Customer Unit.
![Image](../images/17_1553-LZA7016014_1-V1Uen.EH/additional_3_CP.png)
- After the installation of the LKF, the swltId will be overwritten with the LCS and must not be reconfigured again on the radio node.
- There is no support for automatic change of groupId. If a change is required, it must be requested from the Customer Unit.

### 1.1.10 Baseband HWAC Configuration Set

HWAC Configuration Set (HCS) is required for Instantaneous Licensing. It contains

information on the Hardware Activation Codes (HWAC) to be consumed in a node

request.

Each entry in the set connects a Baseband type, for example Baseband

6631,

to a Node Type, for example 5G, and a Price Model, for example Antenna Bandwidth, to a

list of HWACs.

The set consists of the following parts:

- Common part: defines the set of HWACs that will be activated on a given Baseband type and given Radio Access Technology. The common part can contain several HWACs in any quantity.
- Variable part: defines the Hardware Utilization Package (HUP) size that will be activated on the node request. More than one HUP can be defined in the variable part of an HCS for a given node type or Radio Access Technology. If multiple HUPs are used and the cost factor is defined for each one of them, the HCS allocation algorithm selects the HUP combination with the lowest possible cost. The selection is made for every IL transaction. If multiple licensing transactions are made within a single scenario, the allocation algorithm will be applied to each one of them individually, using HUPs which are available at the moment of transaction.

Additionally, when WCDMA or GSM nodes are included, the following parameters are used not

only for the activation of HWACs but also for handling software licenses:

- TRX: Number of transceivers, applicable for GSM
- CC: Number of Cell Carriers, applicable for WCDMA

### 1.1.11 Temporary States

Capacities

and features can be made temporarily available, even if the corresponding keys are missing or

not valid. This can be done under circumstances described in the following

sections.

#### 1.1.11.1 Trial Licenses

Trial

Licenses are used for demos, exhibitions or single feature tryouts. Trial licenses or time

limited licenses enable a usage of a feature or capacity for a limited period of time.

When

the trial license key becomes

invalid,

the license management software deactivates the trial license key and the feature.

Trial licenses are not supported for HWACs.

#### 1.1.11.2 Grace Period

The Grace Period for the chosen SW capacity provides the possibility to exceed the licensed

capacity limits for a predefined period of time. This enables the operator to see the utility

of the capability at run time and allows time for ordering and installation of additional

capacity. The grace period can only be used once. The grace period is reset by adding more

capacity.

The grace period is not applicable for non contractually limited capacities as those

capacities are enabled to maximal operational level.

#### 1.1.11.3 Emergency Unlock

The Emergency Unlock state is available on the node to handle system needs during emergency situations. The purpose of the Emergency Unlock is to free the software in the node of all license restrictions in an emergency, so that the node capacity is maximized.

Export-restricted features are enabled under Emergency Unlock only if a valid key for the

given feature has existed at least once in the given node, or provided without capacity

limitations.

Emergency Unlock is available for two periods of seven days activated individually. After seven days, the first Emergency Unlock period ceases if the second period has not been activated. The total duration of Emergency Unlock for both periods is 14 days. The second period can be activated any time after the first period is activated. For example, if the second period is activated after two days in the first period, then the second period lasts 12 days. After the second period, the Emergency Unlock state can only be activated again if a new LKF containing an Emergency Unlock reset key is received from Ericsson and installed into the node.

The Emergency state is activated by initiating action ACTIVATE of the EmergencyUnlock MO.

Emergency Unlock can only be activated twice and this is indicated by attribute activationsLeft of MO EmergencyUnlock. The activationsLeft can be reset to 2 again by installing a new LKF that contains an Emergency Unlock Reset Key, and is received from Ericsson.

As soon as Emergency Unlock state is activated, the  Emergency Unlock Reset Key Required alarm is raised. This alarm remains to act as a reminder that the Emergency Unlock Reset Key should be installed.

The Emergency Unlock of Software Licensing alarm only ceases when the new LKF containing the Emergency Unlock license key is installed on the node.

#### 1.1.11.4 System-Triggered Unlock

System-Triggered Unlock (STU) is a license state of a radio node, in which capacity

resources are to granted to the user by the system on a temporary basis. The purpose of

STU in Instantaneous Licensing is to improve license handling during node integration

and expansion. STU is activated with a predefined timer, and the user is notified about

STU activation and expiration by appropriate alarms.

#### 1.1.11.5 Autonomous Mode

If the connection to the currently installed LKF is lost, the license manager enters the

autonomous mode and alarm

Autonomous Mode Activated

is raised. When autonomous mode is active, no licenses are disabled. When the alarm

OPI procedure is followed to resolve the problem, the node falls back into NORMAL mode. If the

problem is not resolved within 7 days, Autonomous Mode expires, and the licensed features in

the LKF cannot be used. The Autonomous Mode Activatedalarm ceases in both

cases.

### 1.1.12 IL Manager for Instantaneous Licensing

IL Manager is a tool that displays information related to Instantaneous Licensing

configuration. The tool is available as part of the Software Asset Management (SAM)

application and requires separate access, provided by the Customer Unit personnel.

The information in IL Manager can only be read and not modified. Information on the

following configuration aspects is displayed:

- License Configuration Sets (LCS): Base packages and value packages Price model HCS ID Additional License Configuration
- Baseband Hardware Configuration Sets (BB-HCS) on the following: Baseband type RAT set Variable Part CC/TRX parameters for GSM and WCDMA HWACs Note: First LKF request can fail because of one of the following problems: Configuration is missing for a certain Baseband type and RAT set at integration. Variable Part is missing at capacity expansion.
- Exemptions: Supported hardware migration paths.

### 1.1.13 Instantaneous Licensing Perpetual for RAN

The Instantaneous Licensing Perpetual for RAN: CXC4012700 is a special license, which

must be present on the node, which is sending Instantaneous Licensing requests. The

license is delivered when the node is migrated to Instantaneous Licensing and is

required for the automated license requests.

## 1.2 License and Hardware Activation Code Management Overview

The license and HWAC management process is handled in one of the following ways:

- Manual Licensing
- Instantaneous Licensing in connected mode
- Instantaneous Licensing in non-connected mode

Manual Licensing

Figure 3   License and Hardware Activation Code Management

1. The hardware, functions and capabilities needed are determined during the dimensioning phase of the network.
2. Purchase orders are placed according to the agreement for hardware products, software licenses and HWACs.
3. Hardware products are delivered to the customer according to purchase orders.
4. The License Authorization Code (LAC) letter based on the purchase orders for software licenses and HWAC is provided by Ericsson.
5. LKFs are delivered upon request.
6. LKFs are installed on each node via the network system management tool.

After an LKF is installed, optional software features and hardware related features having

a valid key in the LKF have to be enabled. All optional features must be activated to become

enabled. Capacities are enabled automatically when the LKF is installed without a need for

individual activation.

Instantaneous Licensing in Connected Mode

Instantaneous Licensing in connected mode is an alternative to manual licensing. The

feature automates and speeds up the licensing actions that customers can trigger.

Figure 4   Instantaneous Licensing in Connected Mode

The Instantaneous Licensing process is described in Table 3.

Table 3   Instantaneous Licensing in Connected Mode Process Description

|   Step | Description                                                                                                                                                                                                                               | Communication Path   | Manual / Automated                                          |
|--------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------|-------------------------------------------------------------|
|      1 | LKF request is initiated in the ENM Software and Hardware Management (SHM)                     License Administrator application. The request can also be triggered from the                     node, and automatically forwarded to ENM | ENM  or  Node→ENM    | Manually triggered or automated, depending on the use case. |
|      2 | ENM sends the LKF request to ELIS through CAS. The request is verified and                     validated against contractual agreements.                                                                                                  | ENM→CAS→ELIS         | Automated                                                   |
|      3 | If all criteria are met, ELIS prepares the new LKF and forwards it to CAS.                                                                                                                                                                | ELIS→CAS             | Automated                                                   |
|      4 | The Software Gateway stores the LKF package in the SFTP server and initiates                     LKF delivery request, to download and transfer the LKFs to the CAS-C                     dropbox.                                        | CAS→SW Gateway→CAS   | Automated                                                   |
|      5 | ENM monitors the CAS-C dropbox in configurable intervals and stores the LKFs in                     the Software Management Distribution Repository Services (SMRS).                                                                      | ENM↔CAS→SMRS         | Automated                                                   |
|      6 | LKF is installed on node, based on the use case or job selection.                                                                                                                                                                         | SMRS→ENM→Node        | Manually triggered or automated, depending on the use case. |

For more information about the feature, see Instantaneous Licensing.

Instantaneous Licensing in Non-Connected Mode

Instantaneous Licensing in non-connected mode is an alternative to manual licensing. The

feature automates and speeds up the licensing actions that customers can trigger.

Figure 5   Instantaneous Licensing in Non-Connected Mode

The LRF input file based licensing process for non-connected IL consists of the following

steps:

Table 4   LRF Input Based Instantaneous Licensing in Non-Connected Mode Process

Description

|   Step | Description                                                                                                                                                                                                                                                             | Communication Path   | Manual / Automated   |
|--------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------|----------------------|
|      1 | When a new LKF is needed, for example during capacity expansion, integration                     with IU, or feature activation, the Radio Node License                       Request flow in ENM is used to generate a License Request File                     (LRF). | ENM                  | Manually triggered.  |
|      2 | Generated LRF is used as an input for LKM activation.                                                                                                                                                                                                                   | ENM→LKM              | Manually triggered.  |
|      3 | If all criteria are met, ELIS prepares the new LKF and forwards it to LKM.                                                                                                                                                                                              | LKM→ELIS→LKM         | Automated            |
|      4 | Results are delivered from LKM as LKF ZIPs, and must be manually uploaded to                     ENM.                                                                                                                                                                   | LKM→ENM              | Manually triggered.  |
|      5 | LKF is manually installed on node.                                                                                                                                                                                                                                      | SMRS→ENM→Node        | Manually triggered.  |

The Excel input file based licensing process for non-connected IL consists of the following

steps:

Table 5   Excel Input File Based Instantaneous Licensing in Non-Connected Mode Process

Description

|   Step | Description                                                                                                                                                                                                                                         | Communication Path   | Manual / Automated   |
|--------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------|----------------------|
|      1 | Input file with list of fingerprints for file-based Upgrade and Regenerate in                     SSP-LKM is prepared. Optionally, a single fingerprint is prepared if there was                       Single search based regeneration in SSP-LKM. | ENM                  | Manually triggered.  |
|      2 | Input file or single fingerprint is used as input for LKF Upgrade or                     Regenerate.                                                                                                                                                | ENM→LKM              | Manually triggered.  |
|      3 | If all criteria are met, ELIS prepares the new LKF and forwards it to LKM.                                                                                                                                                                          | LKM→ELIS→LKM         | Automated            |
|      4 | Results are delivered from LKM as an LKF ZIP file, and must be manually                     uploaded to ENM.                                                                                                                                        | LKM→ENM              | Manually triggered.  |
|      5 | LKF is manually installed on node.                                                                                                                                                                                                                  | SMRS→ENM→Node        | Manually triggered.  |

For more information about the feature, see Instantaneous Licensing.

# 2 License Handling Procedures

This section describes license requesting, installation and operation.

## 2.1 License Request and Delivery with Manual Licensing

Before an LKF can be delivered and installed, a suitable request needs to be made

towards the Customer Unit.

The request is based on the License Request File and is sent to the CU, which coordinates

the generation and delivery of the right LKF.

The License Request File can be generated using Instantaneous Licensing in non-connected

mode and SSP-LKM is then used for delivery of the LKF.

### 2.1.1 Install License Key File on Baseband Products

Prerequisites

- The LKF is available for installation. The path to the LKF is defined in the RBS Summary File, as described in Manage Configuration Files.
- The date and time settings of the system clock in the node are correct. If the settings are incorrect, the LKF can be rejected by the node during installation.
- The fingerprint of the node is configured. The fingerprint is permanent, and it cannot be changed after the first successful installation of the LKF. The fingerprint in the LKF must match the fingerprint of the node. If the fingerprints do not match, the LKF is rejected.
- No other LKF installations are ongoing on the node.
- If the LKF is stored on an SFTP server, the password is required to access the server.
- The fail-safe backup function is activated. Some licenses or HWACs can cause O&amp;M connectivity failure, if their respective license key or HWAC key is missing from the LKF. If the fail-safe backup function is activated, the system can recover from the failure. The system performs the automatic restore from a backup, if the configuration is not confirmed within the predefined rollback period. For more information, see Manage Software.
- When the node runs in power saving mode,the capacity supported by the power saving mode can be exceeded if more HWAC capacity is required. For more information on Baseband Power Savings, see Manage Hardware Equipment.

Steps

1. Run the installKeyFile (&lt;uri&gt;, &lt;password&gt;) action in the KeyFileManagement MO to start the installation. The URI specifies the location where the LKF is stored. The password parameter is required to access the location specified in the URI. The password parameter must always be provided, even if it is not a requirement to provide a password for the specified location. The progress of the installation can be monitored through the KeyFileManagement.reportProgress attribute.
2. Check the result in the KeyFileManagement.reportProgress attribute.

If the parameter is FAILURE, do the following:

3. Read and evaluate the resultInfo field of the KeyFileManagement.reportProgress attribute.

If the parameter is SUCCESS, do the following:

4. If needed, check that the correct LKF is installed by reading the KeyFileInformation.sequenceNumber MO.

Results

The Lm MO updates its MO structure to reflect the new LKF

information. For each entry in the LKF, the following changes are implemented:

- For every optional feature, FeatureState and FeatureKey are created. FeatureState.keyId and FeatureKey.keyId receive the value of the featureKey id from the LKF.
- For every capacity, CapacityState and CapacityKey are created. CapacityState.keyId and CapacityKey.keyId receive the value of the capacityKey id from the LKF.

The FeatureState.licenseState and

CapacityState.licenseState attribute becomes

ENABLED for each license key or HWAC key in the installed

LKF.

After This Task

Deactivate the fail-safe backup function.

## 2.2 License Request and Delivery with Instantaneous Licensing

Instantaneous Licensing in connected mode covers a variety of use cases, including

node integration, license refresh, and capacity expansion.

The requests are initiated from the ENM Software and Hardware Manager, or in some cases

directly from the node.

### 2.2.1 License Refresh with Instantaneous Licensing in Connected Mode

Instantaneous Licensing in connected mode fully automates the license refresh

process.

Use Case Description

The request is submitted when there is a need to update the node License Key File

(LKF) for example when new features are added, or existing features are removed.

Instantaneous Licensing automatically generates and delivers the updated LKF. As an

option, the LKF can also be automatically installed but the refresh itself has to be

triggered by the user.

Request Trigger

The request is triggered in ENM using the wizard in

Software and Hardware Manager

&gt; License Administration

&gt; Refresh License Keys

.

Alternatively, the request can be initiated from the node, by executing an MO action.

The request is then forwarded to ENM.

If the request

fails because of temporary problems, the auto-recovery mechanism is triggered to

retry the LKF request. For more information, see Instantaneous

Licensing.

Instructions

For step-by-step instructions, see the following:

- If the request is to be submitted through ENM, see the Refresh License Keys tutorial in ENM Online Help.
- If the request is to be made directly from the node, see Trigger and Monitor License Refresh from Baseband Radio Node

#### 2.2.1.1 Trigger and Monitor License Refresh from Baseband Radio Node

License refresh request can be initiated and monitored from the Baseband Radio Node,

using Instantaneous Licensing in connected mode.

Prerequisites

- Instantaneous Licensing in connected mode is enabled in the network.

Steps

1. Initiate the InstantaneousLicensing.refreshKeyFile action. Result: A refresh license key request is sent to the ENM. Note: The InstantaneousLicensing.refreshKeyFile action is time supervised, and a 24-hour timeout applies.
2. Track the progress of the submitted request by checking the following entries of the InstantaneousLicensing.progressReport attribute: Attribute Role progressInfo Reports the latest status. additionalInfo Logs all status changes. state Display the action state. An action is finished when the value of state is FINISHED. result Reports the result of the action. resultInfo Reports the reason if the value of result is FAILURE.

### 2.2.2 License Regenerate with Instantaneous Licensing in Non-Connected Mode

SSP-LKM Regenerate allows changes in LCS and Fixed Profile configurations to be

applied to the LKF.

Use Case Description

The request is submitted when there is a need to refresh LKFs for radio nodes

migrated to the Instantaneous Licensing solution. The refresh is performed based on

existing, potentially modified, IL configuration of LCS and fixed profiles using an

Excel input file with fingerprints. The LKF is generated in ELIS and delivered

through SSP-LKM.

Request Trigger

The request is triggered using the SSP-LKM Regenerate

flow.

Instructions

For instructions, see the License Key Management - Non-Connected IL Regenerate

Keys user guide in Software Assets Management (SAM).

### 2.2.3 Software Upgrade with Instantaneous Licensing in Connected Mode

Instantaneous Licensing in connected mode automates the license request and delivery

for the software upgrade process.

Use Case Description

The request is submitted when a software upgrade is required for the node.

Instantaneous Licensing in connected mode automatically generates and delivers the

LKF for the upgrade. As an option, the LKF can also be automatically installed.

Request Trigger

The request is triggered in ENM using the wizard in

Software and Hardware Manager

&gt; License Administration

&gt; Upgrade License Keys

or using the

Automated Software Upgrade

flow.

Alternatively, the request can be initiated from the node, by triggering the LKF

refresh process from the node. The

InstantaneousLicensing.licenseSwReleaseTarget attribute must

be set prior to the LKF refresh process. If the LKF request fails because of

temporary problems, the auto-recovery mechanism is triggered. For more information,

see Instantaneous Licensing.

Instructions

For instructions, see the Upgrade License Keys tutorial in ENM Online Help.

### 2.2.4 Software Upgrade with Instantaneous Licensing in Non-Connected Mode

An existing node is updated with new software and changes in LCS and Fixed Profile

configurations are handled through SSP-LKM.

Use Case Description

The request is submitted when there is a need to upgrade and activate new features

for radio nodes migrated to the Instantaneous Licensing solution. The license

upgrade and activation is performed based on existing IL configuration of LCS and

fixed profiles using an Excel file with fingerprints. The LKF is generated in ELIS

and delivered through SSP-LKM.

Request Trigger

The request is triggered using the SSP-LKM Upgrade flow.

Instructions

For instructions, see the License Key Management - Non-Connected IL Release

Upgrade user guide in Software Assets Management (SAM).

### 2.2.5 Node Integration with Instantaneous Licensing

Instantaneous Licensing automates the request and delivery of licenses, which are

required to integrate a node into the network.

#### 2.2.5.1 Integration with Integration LKF

Use case applies to Instantaneous Licensing in connected mode.

Use Case Description

The request is submitted when a new node is to be integrated in the network. Each

node requires a License Key File (LKF) for the integration to complete.

Instantaneous Licensing automatically generates and delivers the required LKF, which

is then used in the integration.

This use case is not recommended. The recommended method is integration with

Integration Unlock.

Request Trigger

If ENM Auto Provisioning is used in the integration, the request is triggered

automatically. Licensing information must be included in the configuration files,

either by providing them in the dedicated fields of the Configuration Generator, or

by manually creating the LicenseRequest.xml and adding it to

the integration project.

If other integration methods are used, the request is triggered in ENM using the

wizard in

Software and Hardware Manager

&gt; License Administration

&gt; Integrate License Keys

.

Instructions

Follow the instructions in Integrate Baseband Radio Node.

#### 2.2.5.2 Integration with Integration Unlock

Use Case Description

The Radio Node is started with Integration Unlock, but no LKF. Licenses and HWACs are

granted for 21 days. In IL connected mode, the Radio Node automatically generates an

LKF request and submits the request when a first RAT is operational. Instantaneous

Licensing automatically generates and delivers the required LKF. In IL non-connected

mode, the required license demand is calculated in the form of an LRF which must

then be manually uploaded to LKM. Generated LKF must be manually installed.

Request Trigger in Connected Mode

The request is triggered automatically. Licensing information must be included in the

configuration files, either by providing them in the dedicated fields of the

Configuration Generator, or by a manually typed setup added to the integration

project.

The following attributes have to be set to make the node request LKF during

Integration Unlock:

- Https.nodeCredential
- Https.trustCategory
- InstantaneousLicensing.administrativeState
- InstantaneousLicensing.euft
- InstantaneousLicensing.swltId If multiple groupIds are used for a EUFT, the swltIds require additional configuration. For more information, see Software License Target Id and GroupId Configuration.

If

on-site integration activities involve short cell locks or unlocks and node

restarts, it is recommended to set the InstantaneousLicensing MO

attributes when the on-site activities are finished and the final configuration is

deployed on the radio node.

Request Trigger in Non-Connected Mode.

Licensing information must be included in the configuration files, either by

providing them in the dedicated fields of the Configuration Generator, or by

manually creating the LicenseRequest.xml and adding it to the

integration project.

The following attributes have to be set to use non-connected Instantaneous

Licensing:

- InstantaneousLicensing.administrativeState
- InstantaneousLicensing.connectionMode
- InstantaneousLicensing.euft
- InstantaneousLicensing.swltId If multiple groupIds are used for a EUFT, the swltIds require additional configuration. For more information, see Software License Target Id and GroupId Configuration.

When the node is up and running, the Radio Node License

Request flow in ENM is used to generate an LRF to obtain the

required LKF. The LKF must be installed manually on the node. For more information

about activation, see the License Key Management - Non-Connected IL

Activation user guide in Software Assets Management (SAM)

Automatic Request for Integration LKF in Connected Mode.

If no sector or cell is unlocked during the first hour after node integration, a

request for an integration LKF is sent to ENM and ELIS. During node integration,

when Integration Unlock is activated and the

InstantaneousLicensing MO is unlocked and enabled, a one hour

timer is started. If configuration is not done that triggers capacity requests

before the timer expires, a request for an integration LKF is sent to ENM and

ELIS.

Capacity expansion requests

trigger

a

request for an LKF automatically if cells or sectors are unlocked for at least 15

minutes. If the LKF request fails, for problems which are not related with ENM

connectivity, the system automatically triggers an instantaneous licensing request

during STU or Integration Unlock every 24 hours.

If

there

is

an ENM connectivity problem, retries are performed every hour during the first 24

hours and every 24 hours afterward.

Instructions

Follow the instructions in Integrate Baseband Radio Node.

### 2.2.6 Capacity Increase with Instantaneous Licensing

Instantaneous Licensing automates the request and delivery of licenses, which are

required for node capacity increase.

Use Case Description

- For IL in connected mode, required license resources are granted immediately when there is a need for capacity increase, for example when additional output power is required. Instantaneous Licensing automatically calculates the required license demand, submits the request and delivers LKF.
- For IL in non-connected mode, required license resources are granted immediately when there is a need for capacity increase, for example when additional output power is required. Instantaneous Licensing calculates the required license demand in an LRF which must then be manually uploaded to SSP-LKM. Generated LKF must be manually installed. For more information about activation, see the License Key Management - Non-Connected IL Activation user guide in Software Assets Management (SAM).

Trigger

The request is triggered automatically by the node in connected mode. In

non-connected mode, an alarm informs the user about the need for a new LKF and

License Request File (LRF) is generated when the node is prompted.

Instructions

The process is automated and requires no user action in connected mode. In

non-connected mode, the user is informed when current license consumption is greater

than installed in the LKF, with the System Trigger Unlock

activated alarm. Using the Radio Node License Request flow in

ENM generates an LRF that is used to generate required LKF. The System Trigger Unlock alarm is remedied when required LKF is installed on the

node.

### 2.2.7 Node Expansion to Support Additional Radio Access Technology with Instantaneous Licensing

Use Case Description

- For IL in connected mode, required license resources are granted immediately, when the support for an additional radio access type is added to an existing radio node. Instantaneous Licensing automatically calculates the required license demand for new radio access type, submits the request and delivers LKF. Instantaneous Licensing automates the request and delivery of licenses, which are required for the expansion of a node to a new Radio Access Technology (RAT).
- For IL in non-connected mode, required license resources are granted immediately, when the support for an additional radio access type is added to an existing radio node. Instantaneous Licensing calculates the required license demand in a form of a License Request File (LRF) which then must be manually uploaded to LKM. Generated LKF must be manually installed. For more information about activation, see the License Key Management - Non-Connected IL Activation User Guide in Software Assets Management (SAM).

The expansion can be required to accommodate Ericsson Spectrum Sharing (ESS).

Trigger

The request is triggered automatically by the node in connected mode. In

non-connected mode alarm informs user about a need of a new LKF and an LRF is

generated when the node is prompted.

Instructions

The process is automated in connected mode and requires no user action, except

expansion of existing radio node to support GSM or WCDMA, which in rare cases might

require manual actions.

In non-connected mode, the user is informed when current radio access type

configuration is not installed in LKF, with the System Trigger Unlock activated alarm. Using the Radio Node License

Request flow in ENM generates an LRF that is used to obtain required

LKF. The System Trigger Unlock alarm is remedied when required

LKF is installed on the node.

Expansion to support GSM or WCDMA as Additional Radio Access Technology, might

require manual steps only in the following use cases:

- When the Resource Allocation Failure alarm is raised, a node restart is required.
- If the required amount of both output power HWAC and baseband HWAC is not increased, license refresh has to be performed for connected mode.

### 2.2.8 Hardware Migration with Instantaneous Licensing

Instantaneous Licensing automates the request and delivery of licenses, which are

required for the migration of an old Baseband unit to a new one.

Use Case Description

The request is submitted when a Baseband hardware unit is migrated to a new one. If

Instantaneous Licensing is enabled in the network and on the node, request, delivery

and installation of the required License Key File (LKF) is automated.

- For IL in connected mode, required HWACs for a new Baseband hardware are granted immediately. Instantaneous Licensing automatically calculates the required HWAC and licenses, submits the request and delivers LKF.
- For IL in non-connected mode, required HWACs for a new Baseband hardware are granted immediately. Instantaneous Licensing calculates the required HWAC and licenses in the form of an LRF which must be manually uploaded to LKM. Generated LKF must be manually installed. For more information about activation, see the License Key Management - Non-Connected IL Activation User Guide in Software Assets Management (SAM).

Trigger

The request is triggered automatically, as a part of the migration procedure in

connected mode. In non-connected mode, the System Trigger Unlock

alarm informs the user about the need for a new LKF and an LRF is generated when the

node is prompted.

Instructions

The process is automated and requires no user action in connected mode. In

non-connected mode user is informed when current baseband hardware does not match

with the baseband in LKF, with the System Trigger Unlock

activated alarm. Using the Radio Node License Request flow In

ENM generates an LRF that is used to obtain required LKF. The System Trigger Unlock alarm is remedied when required LKF is installed on the

node.

### 2.2.9 Feature Activation with Instantaneous Licensing

Use Case Description

Instantaneous Licensing can request feature keys as part of an LKF request. This is

possible with the introduction of the entitled state for features. The logic is

implemented as follows:

- License Configuration Set (LCS) contains a set of features that the operator is entitled to. The set may cover multiple configuration variants, so it may be broader than what is actually needed for a particular scenario.
- LKF contains the commercialState tag set to ENTITLED for features, that the operator is entitled to.
- The entitled state is also visible in the MOM, through the LmLicenseState attribute of the FeatureState MO. If the value of the attribute is ENTITLED, the user is entitled to use the feature, but it has not yet been activated.

The operator must only activate the features that are suitable to the given

scenario.

Trigger

The request is triggered automatically by the node in connected mode. In

non-connected mode, an alarm informs the user about the need for a new LKF and an

LRF is generated when the node is prompted.

If the LKF request fails because of temporary problems in connected mode, the

auto-recovery mechanism is triggered. For more information, seeInstantaneous Licensing.

Instructions

The request is automated and requires no user action in connected mode. In

non-connected mode, the Radio Node License Request flow in

ENM is used to generate an LRF that is used to obtain required LKF. The requested

feature must be correctly defined in the LCS used in the requesting node. Feature

Keys for a radio access type that is missing Base Package activation are not

processed by ELIS and remain in the LKF with the ENTITLED license

state until the given radio access type cell is activated.

For more information about activation, see the License Key Management - Non-Connected

IL Activation user guide in Software Assets Management (SAM).

### 2.2.10 Troubleshooting Instantaneous Licensing Requests

Avoiding Manual Input Errors

Instantaneous Licensing automates license requests in a variety use cases. In most

cases, no manual data input is required for a request to be sent. However, if the

input parameters are to be included manually, for example when integrating a node

using a manually prepared or edited configuration profile, special attention should

be paid to the format and correctness of the input data, as an erroneous entry most

likely results in a failed request. Before preparing or editing the License Request

File manually, it is recommended to become familiar with the format and parameter

rules. For more information, see the Request License Key Files

description in the Auto Provisioning guide in ENM Online

Help.

Error Handling

Troubleshooting Instantaneous Licensing request errors depends on the use case. For

information on the possible error indications and handling, see Table 6.

Table 6   License Request Error Handling

| Use Case                                                     | Error Indication                        | Troubleshooting Instructions                                                                                         |
|--------------------------------------------------------------|-----------------------------------------|----------------------------------------------------------------------------------------------------------------------|
| Node Integration using ENM Auto Provisioning                 | ENM job fails because of a missing LKF. | Follow the instructions for troubleshooting a failed job in                                         ENM Online Help. |
| Node Migration using ENM Auto Provisioning                   | ENM job fails because of a missing LKF. | Follow the instructions for troubleshooting a failed job in                                         ENM Online Help. |
| License Refresh                                              | Alarm is raised on the node.            | Follow the alarm solving instructions for the raised alarm.                                                          |
| Capacity Increase                                            | Alarm is raised on the node.            | Follow the alarm solving instructions for the raised alarm.                                                          |
| Software Upgrade using ENM SHM or ASU                        | ENM job fails because of a missing LKF. | Follow the instructions for troubleshooting a failed job in                                         ENM Online Help. |
| Software Upgrade using LKF Refresh                           | Alarm/Alert is raised on the node.      | Follow the alarm solving instructions for the raised alarm.                                                          |
| Node Expansion to Support Additional Radio Access Technology | Alarm is raised on the node.            | Follow the alarm solving instructions for the raised alarm.                                                          |

In case of errors not listed in the table, it is always recommended to contact the

next level of support.

When the problem that causes instantaneous licensing requests failures is solved, one

of the following actions takes place:

- An LKF refresh is started by the operator.
- For the ENM connectivity problems, the system automatically triggers LKF request retries. The retries are performed every hour during the first 24 hours and every 24 hours afterwards. For the problems which are not related with ENM connectivity, the system automatically triggers a timer for retrying LKF request. The retries are performed as following: Every 24 hours for a 7-day period when System Triggered Unlock is activated. Every 24 hours for a 21-day period when Integration Unlock is activated. Every 24 hours for a 7-day period for LKF Refresh and Feature Activation use cases.

# 3 Supplementary Procedures

Additional license-related procedures.

## 3.1 Supplementary Procedures for Manual Licensing

Additional procedures for the manual licensing method.

### 3.1.1 Activate Feature

Optional features and basic features with license or HWAC keys must be activated.

Capacities are activated automatically when the LKF is installed.

Prerequisites

- The fail-safe backup function is activated. Some licenses or HWACs can cause O&amp;M connectivity failure, if their respective license key or HWAC key is missing from the LKF. If the fail-safe backup function is activated, the system can recover from the failure. The system performs the automatic restore from a backup, if the configuration is not confirmed within the predefined rollback period. For more information, see Manage Software.

Steps

1. Ensure that the corresponding license key is installed by checking that the FeatureState.licenseState attribute for the feature is ENABLED.
2. Set the FeatureState.featureState attribute MO for the respective feature to ACTIVATED.

After This Task

Deactivate the fail-safe backup function.

### 3.1.2 Deactivate Feature

Optional features and basic features with license or HWAC keys can be deactivated.

Capacities do not need to be deactivated. If the license or HWAC key becomes invalid, or

expires, they are disabled automatically.

Prerequisites

The fail-safe backup function is activated.

Steps

1. Set the FeatureState.featureState attribute for the respective feature to DEACTIVATED.

After This Task

Deactivate the fail-safe backup function.

### 3.1.3 Enable or Disable Capacity

While license-controlled features need to be individually activated, capacities are

automatically enabled when the License Key File is installed on a node. Capacity cannot

be deactivated once it is enabled on the node.

## 3.2 Supplementary Procedures for Instantaneous Licensing

Additional procedures for the Instantaneous Licensing solution.

### 3.2.1 Configure Instantaneous Licensing Mode (Optional)

The InstantaneousLicensing.mode attribute does not have a function

since the 22.Q4 release. The value

LKF\_REFRESH

has the same functional behavior as value FULL\_ACTIVATION.

Steps

1. Set the InstantaneousLicensing.administrativeState attribute to LOCKED.
2. Set the InstantaneousLicensing.mode attribute to one of the following values:
    - If you require all available functions, set the InstantaneousLicensing.mode attribute to FULL\_ACTIVATION.
    - If you require only the LKF Refresh function, set the value of the InstantaneousLicensing.mode attribute to LKF\_REFRESH.
    - If you require only the Capacity Expansion function, set the value of the InstantaneousLicensing.mode attribute to CAPACITY EXPANSION.
3. Set the InstantaneousLicensing.administrativeState attribute to UNLOCKED.

### 3.2.2 Migrate Node to Another LCS

A node can be moved from one LCS to another. The procedure requires cooperation

between the operator and the Customer Unit.

Steps

1. Contact the Customer Unit to coordinate the activities.
2. Set the value of the InstantaneousLicensing.administrativeState attribute to LOCKED for the relevant radio node.
3. When the CU activities are finished and confirmed, set the value of the InstantaneousLicensing.administrativeState attribute to UNLOCKED.
4. Request a new LKF for the node. For more details see License Refresh with Instantaneous Licensing in Connected Mode. Result: The new LCS identity in the swltId attribute is updated after the LKF request.

### 3.2.3 Activate Feature Not Defined in LCS

If Instantaneous Licensing is enabled on the node and there is a need to activate a

feature, which is not defined in the LCS, a manual activation procedure must be

used.

The procedure requires cooperation between the operator and the Customer Unit.

Steps

1. Contact the Customer Unit and request the relevant feature to be activated on the node.
2. When the Customer Unit confirms that a new LKF is generated, perform the following action:
    - For IL in connected mode, trigger an LKF refresh. For more information, see License Refresh with Instantaneous Licensing.
    - For IL in non-connected mode, fetch LKF using SSP-LKM portal and install LKF manually.

### 3.2.4 Upgrade Software with Unsupported Upgrade Path

If the difference between the target software version and the software available on

the node is more than 6 releases, a manual procedure must be used.

Steps

1. Contact the Customer Unit with the request to upgrade software with no upgrade path defined.
2. After receiving the updated LKF from the Customer Unit, use it during the upgrade procedure.

## 3.3 Baseband Capacity Dimensioning

### 3.3.1 Throughput Capacity

For a Baseband-based node to provide any capacity, it has to have HWACs installed that

exceed a minimum level of capacity. If the current capacity is below the minimum level,

the cells become disabled, and an alarm that indicates HWAC shortage is raised.

The minimum capacity level is equivalent with the capacity granted by the initial module

for the following node configurations:

- LTE single mode (Mbps)
- NR single mode (Mbps)
- LTE + NR mixed mode (Mbps) Note: LTE + NR mixed mode operates with low capacity when used for MSME with an initial package. An expansion package for higher capacity is recommended to use in these configurations.
- WCDMA single mode (Channel Elements)
- GSM single mode (TRX)
- GSM + LTE mixed mode
- GSM + NR mixed mode

One or more expansion packages are needed to use the following configurations:

- WCDMA mixed mode
- GSM + WCDMA mixed mode

For these configurations, expansion modules must be installed to enable cells. In

mixed mode configurations, if HWACs are insufficient to provide the minimum capacity

level for all RATs, enabled LTE or NR cells might become disabled to enable WCDMA or GSM

cells.

When the installed HWACs exceed the throughput minimum level, HWAC throughput utilization

can be checked through PM counters. For more information about Key Performance

Indicators for throughput and about PM alarm rules, see PM Alarming User Guide in the Network Analytics

Feature (ENIQ-S) library.

### 3.3.2 Calculate ABW and Massive MIMO Spectrum Capacity

Calculating required spectrum Baseband capacity can be done in the following ways:

- using the chkHwac.mos ENM/AMOS script template
- calculating manually

When the chkHwac.mos script is run, it provides BB HWAC spectrum

capacity estimation and throughput estimation for the node. The primary purpose of

the script is to aid preparation for a node software upgrade from software version

21.Q1 or earlier to software version 21.Q2 or later. Using it can reduce the number

of nodes with HWAC shortage detected after upgrade. The script can also serve as an

example how HWAC consumption is calculated. For more information on how to use

script and associated upgrade instruction, see the script help function.

The script can also be useful for software version 21.Q2 or later for activities such

as initial node configuration or expansion. In these cases, the printout result is

unnecessary, because HUP installation and allocation can be read on attribute

CapacityUsage.hupInfo. However, the script itself can serve

as a guiding example to understand how HWAC consumption is calculated when the

simplified formula is applicable.

Prerequisites

Access to ENM/AMOS and Moshell package 22.0k or later. Use newest available version

of chkHwac.mos.

Steps

1. Log on to ENM/AMOS.
2. Locate the chkHwac.mos script from the $moshelldir/commonjars/scripts access path.
3. Read the help file chkHwac\_help.txt from the $moshelldir/commonjars/scripts access path.
4. Verify that the script is applicable for the node configurations in the targeted network part.
5. Customize the script if needed.
6. Run the script on the targeted network part. The script output contains the following information: Managed Element ID Spectrum capacity requirement for each RAT

Related reference

Formulas of Baseband Spectrum Capacity Calculation

### 3.3.3 Formulas of Baseband Spectrum Capacity Calculation

Calculating Required ABW Capacity

The total required ABW capacity of a node equals the sum of the required ABW

capacities for each RAT running on the node. The required capacity for a RAT can be

calculated by using one of two formulas.

The simplified formula in Figure 6 is

applicable for configurations where the bandwidth and number of used antennas in

downlink and uplink corresponds to the value set on the attributes in Table 7.

For configurations where the number of antennas is set by system or where bandwidth

use is influenced by other configuration settings, the general formula in Figure 7 is applicable. In these cases, the

required antenna bandwidth can be influenced by other MO attributes specific to the

configuration. These must be referred to and considered when calculating required

antenna bandwidth for each specific case.

Figure 6   Simplified Formula for Required ABW Capacity Calculation

Figure 7   Generic Formula for Required ABW Capacity Calculation

Calculating Required Carrier Bandwidth Capacity

Use the following formula to calculate the required carrier bandwidth for each

standard (LTE or NR):

Table 7   Translation between the Formula and Configuration Parameters

| Parameter in the Formula   | LTE FDD Configuration Parameter                               | LTE TDD Configuration Parameter                                                                   | NR TDD or FDD Configuration Parameter                                                            |
|----------------------------|---------------------------------------------------------------|---------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------|
| BWDL                       | EUtranCellFDD.dlChannelBandwidth                              | EUtranCellTDD.dlChannelBandwidth                                                                  | NRSectorCarrier.bSChannelBwDL                                                                    |
| numOfBranchesDL            | SectorCarrier.noOfTxAntennas(1)                               | SectorCarrier.noOfTxAntennas(1)                                                                   | NRSectorCarrier.noOfTxAntennas(1)(2)                                                             |
| BWUL                       | EUtranCellFDD.ulChannelBandwidth                              | EUtranCellTDD.ulChannelBandwidth                                                                  | NRSectorCarrier.bSChannelBwUL                                                                    |
| numOfBranchesUL            | SectorCarrier.noOfRxAntennas(1)                               | SectorCarrier.noOfRxAntennas(1)                                                                   | NRSectorCarrier.noOfTxAntennas(1)(2)                                                             |
| ∑SectorCarriers            | MO SectorCarrier referenced by EUtranCellFDD.sectorCarrierRef | MO SectorCarrier referenced by                                     EUtranCellTDD.sectorCarrierRef | MO NRSectorCarrier referenced by                                     NRCellDU.nRSectorCarrierRef |

(1) If the noOfTxAntennas or noOfRxAntennas attribute is 0, that means the value is set by the system and the NRSectorCarrier MO uses the maximum number of available antennas. This number equals the number of branches that the sector configuration can provide, that is, branch references indicated by attribute SectorEquipmentFunction.rfBranchRef on the sector represented by MO NRSectorCarrier.

(2)

This attribute is only present in software upgrade

package 21.Q1 and newer. In previous upgrade packages,

the number equals the number of branches that the sector

configuration can provide, that is, branch references

indicated by

SectorEquipmentFunction.rfBranchRef

on the sector represented by

NRSectorCarrier.

Calculating Required MIMO Layer Capacity

To calculate the required number of MIMO layers for a RAT, first calculate the number

of required M-MIMO layers for each sector carrier in each cell according to the

appropriate flowchart. Then, sum the results for all cells configured for given RAT

cells according to the formula in Figure 10.

Figure 8   Flowchart for Calculating Required Number of M-MIMO Layers in LTE for

Cell

Figure 9   Flowchart for Calculating Required Number of M-MIMO Layers in NR for

Cell

Figure 10   Formula for Calculating Total Required Number of M-MIMO Layers

Figure 11   Formula for Calculating Total Number of M-MIMO Layers for Mixed Mode

### 3.3.4 Baseband Throughput Capacity Observability and Configuration Parameters for LTE and NR

HUP Summary

A summary of HUP installation and allocation is shown by the

CapacityUsage.hupInfo attribute.

Maximum Throughput Capacity

The maximum throughput capacity that can be provided by the hardware is shown by the

following attributes:

- ENodeBFunction.dlBbCapacityMaxLimit
- ENodeBFunction.ulBbCapacityMaxLimit
- GNBDUFunction.dlBbCapacityMaxLimit
- GNBDUFunction.ulBbCapacityMaxLimit

Currently Available Throughput Capacity

The currently available throughput capacity by each hardware unit is shown by the

following attributes:

- ENodeBFunction.dlBbCapacityNet
- ENodeBFunction.ulBbCapacityNet
- GNBDUFunction.dlBbCapacityNet
- GNBDUFunction.ulBbCapacityNet

Utilization of Currently Available Throughput Capacity

The utilization of the currently available throughput capacity on

LTE is shown as a percentile value by the following

PM counters:

- BbProcessingResource.pmLicDlCapActual
- BbProcessingResource.pmLicUlCapActual

The percent of the utilization capacity during a measurement

period is based on the value of the percentile given by the

ENodeBFunction.licDlBbPercentileConf attribute.

Distribution of Utilization of Baseband Capacity

The distribution of the utilization of baseband capacity relative to the minimum of

the installed license for Baseband capacity or the hardware capacity limit is shown

as a percentile value by the following PM counters:

- BbProcessingResource.pmLicDlCapDistr
- BbProcessingResource.pmLicUlCapDistr
- GNBDUFunction.pmLicDlCapDistr
- GNBDUFunction.pmLicUlCapDistr

Distribution of Throughput Capacity between NR and LTE

To configure the distribution of throughput capacity between LTE and NR, set the

values of the following attributes:

- ENodeBFunction.dlBbCapacityTarget
- GNBDUFunction.dlBbCapacityTarget