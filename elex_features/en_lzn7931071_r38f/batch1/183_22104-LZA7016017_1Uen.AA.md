---
complexity_score: 12.0
converted_at: '2025-08-13T06:57:55.539248Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 4
images_saved: 3
original_path: 183_22104-LZA7016017_1Uen.AA.html
pictures_extracted: 4
processing_method: docling_multimodal
quality_score: 9.0
source_file: 183_22104-LZA7016017_1Uen.AA.html
source_zip: en_lzn7931071_r38f.zip
tables_extracted: 8
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 2796
---

# 

NR Advanced Multi-Layer Coordination

Contents

![Image](../images/183_22104-LZA7016017_1Uen.AA/additional_3_CP.png)

![Image](../images/183_22104-LZA7016017_1Uen.AA/additional_3_CP.png)

- Overview
- Dependencies
- Feature Operation
    - Available Capacity Factor Subscription
    - Operational Process of NR Advanced Multi-Layer Coordination
- Network Impact
- Parameters
- Performance
- Activate the Feature
- Deactivate the Feature

# 1 NR Advanced Multi-Layer Coordination Overview

The feature introduces support for NR traffic steering based on cell load to maximize

downlink UE throughput.

| Feature Name           | NR Advanced Multi-Layer Coordination                                       |
|------------------------|----------------------------------------------------------------------------|
| Feature Identity       | FAJ 121 5584                                                               |
| Value Package Name     | Intelligent Traffic Management and Mobility                                |
| Value Package Identity | FAJ 801 4022                                                               |
| Node Type              | Baseband Radio Node                                                        |
| Access Type            | NR                                                                         |
| Licensing              | License-controlled feature. One license is required for each 								node. |

Summary

The feature allows NR traffic steering to take cell load into consideration. It enables the

gNodeB to consider the load of the candidate cells

when

selecting PCell and SCells for a given UE. By considering the

cell load, the gNodeB distributes the UEs over the available carriers by avoiding

cells with high load.

# 2 Dependencies of NR Advanced Multi-Layer Coordination

The feature is related to other features that are used for traffic steering and

carrier aggregation.

Table 1   Feature Dependencies

![Image](../images/183_22104-LZA7016017_1Uen.AA/additional_3_CP.png)

![Image](../images/183_22104-LZA7016017_1Uen.AA/additional_3_CP.png)

| Feature Name                                             | Feature Identity   | Access Type   | Relationship   | Relationship Scope   | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|----------------------------------------------------------|--------------------|---------------|----------------|----------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| NR Traffic Steering                                      | FAJ 121 5458       | NR            | Related        |                      | The NR Advanced Multi-Layer Coordination feature enables traffic                                 steering based on downlink cell load by making the Multi-Layer                                 Coordination and Dynamic Cell Set Change during Mobility functions                                 downlink load aware.                                                                                                                                               |
| NR DL Carrier Aggregation                                | FAJ 121 5201       | NR            | Related        |                      | If the NR Advanced Multi-Layer Coordination feature is activated, the                                 initial SCell selection procedure that is executed during the                                 operation of the NR DL Carrier Aggregation feature becomes load                                 aware.                                                                                                                                                            |
| NR Uplink Carrier Aggregation                            | FAJ 121 5583       | NR            | Related        |                      | The NR Advanced Multi-Layer Coordination feature only considers                                 downlink load during the selection of the best serving cell set. If                                 the CaCellProfileUeCfg.servingCellSelectionPolicy                                 attribute is set to PRIORITIZE_UL_THP, the uplink                                 SCell is selected regardless of the downlink load information.                                |
| NR Traffic Offload                                       | FAJ 121 5680       | NR            | Related        |                      | The NR Advanced Multi-Layer Coordination feature is used for available capacity                   factor subscription for the NR Traffic Offload feature.                                                                                                                                                                                                                                                                                                             |
| NR Booster Carrier                                 Sleep | FAJ 121 5583       | NR            | Related        |                      | The NR Booster Carrier Sleep feature and the NR Advanced Multi-Layer                                 Coordination feature share a common subscription and a common set of                                 metrics. It is recommended to activate                                 the                                 NR Advanced Multi-Layer Coordination feature to                                 ensure good performance of the NR Booster Carrier Sleep feature. |
| NR Small Cell Traffic Steering                           | FAJ 121 5778       | NR            | Conflicting    | Cell-level conflict  | Using the NR Advanced Multi-Layer Coordination feature might reduce the             ability of traffic steering to detect cells that belong to other vendor gNodeBs if the             Multi-Layer Coordination candidate cells of the same carrier frequency have a high             downlink cell load.                                                                                                                                                             |

Hardware

No specific hardware requirements.

Limitations

No known limitations.

Network Requirements

No specific network requirements.

# 3 Feature Operation of NR Advanced Multi-Layer Coordination

During cell set selection, cell load is taken into consideration.

If the NR Advanced Multi-Layer Coordination feature is activated, traffic steering

procedures take cell load into account during traffic steering actions. The following

functions of the NR Traffic Steering feature become load-aware:

- Multi-Layer Coordination
- Dynamic Cell Set Change during Mobility

For more information on the operation of these functions, see NR Traffic Steering.

In addition, the initial SCell selection procedure takes cell load into account.

Figure 1 shows an example where the NR Advanced

Multi-Layer Coordination feature is not activated.

Figure 1   Traffic Steering without Load Awareness

In this example, traffic steering procedures select the best cell set based on UE

capabilities, network carrier aggregation configurations, and operator configurations.

This can result in the UE being steered to a cell with high load, which decreases UE

throughput. Cell load in Figure 1 is as

follows:

- Cell 1 and Cell 3 have high load.
- Cell 2 has medium load.
- Cell 4 has light load.

Figure 2 shows an example where the NR Advanced

Multi-Layer Coordination feature is activated, and traffic steering procedures become

load-aware. In this example, UEs are steered to cells with lower load, which leads to a

more even utilization of the frequencies. As a result, all cells have medium load.

Figure 2   Traffic Steering with Load Awareness

The gNodeB performs periodic measurements to determine the available capacity factor of

each internal cell. If the

GNBCUCPFunction.resourceStatusReportF1Enabled attribute is set to

true, the gNodeB calculates the available capacity factor for each

cell based on the measurements. Neighbor gNodeBs exchange the available capacity factor

values of the cells and use them for finding the best candidate cell set that can offer

the best potential downlink throughput. A candidate cell set can consist of a single

PCell or a PCell and multiple SCells. If the

TrafficSteering.dlCellLoadAware attribute is set to

true, the available capacity factor in downlink is considered

during finding the best candidate cell set.

The current and the best candidate cell sets can be compared through relative and absolute

offset values, which can be set with the

TrStSaCellProfileUeCfg.criterionBetterUeConfig and the

TrStSaCellProfileUeCfg.criterionDlAbsoluteOffset attributes. If

the potential downlink throughput of the best candidate cell set is better than the

current cell set, SCell change or handover to a new PCell can be performed for the

UE.

The number of unnecessary handovers can be reduced if an absolute threshold is set for

the Multi-Layer Coordination and Dynamic Cell Set Change during Mobility functions of

the NR Traffic Steering feature. The absolute threshold can be set with the

TrStSaCellProfileUeCfg.criterionDlAbsoluteOffset attribute.

Related Information

NR Traffic Steering

## 3.1 Available Capacity Factor Subscription

The gNodeB has to set up a subscription towards neighbor gNodeBs to receive available

capacity factor information.

At feature activation, the gNodeB initiates the setup of a subscription for available

capacity factor information towards the neighbor gNodeBs. At feature deactivation, the

subscription is removed. Figure 3 shows the

subscription-related communication between the gNodeBs.

Figure 3   Subscription Setup and Available Capacity Factor Transfer

1. The gNodeB send the XnAP RESOURCE STATUS REQUEST message to the neighbor gNodeB to initiate a subscription.
2. The neighbor gNodeB sends back the XnAP RESOURCE STATUS RESPONSE message.
3. When the subscribing gNodeB receives an XnAP RESOURCE STATUS RESPONSE message, it means that the subscription towards the neighbor gNodeB is set up successfully. The subscribing gNodeB starts a timer that is used to supervise when the XnAP RESOURCE STATUS UPDATE message is received.
4. The available capacity factor is calculated by the neighbor gNodeBs and sent to the subscribing gNodeB in the XnAP RESOURCE STATUS UPDATE message. If this message is received before the timer expires, the timer restarts.
5. The subscribing gNodeB stores the available capacity factor information and uses it during feature operation.

Subscription Process Details

The subscribing gNodeB requests subscription for the following cells:

- For all external cells that are configured to be allowed as SCells for any of the served cells in the gNodeB. External cells can be configured to be allowed as SCells with the NRCellRelation.SCellCandidate attribute.
- For external cells that are not configured to be allowed as SCells for any of the served cells in the gNodeB and are reported to be in coverage by the A5 measurements performed by the NR Traffic Steering feature.

This way, the NR Advanced Multi-Layer Coordination feature automatically

identifies the cells from which the feature needs load information.

If the number of the subscriptions or the number of the cells is above the system

limit, the feature prioritizes the subscriptions and the cells. The highest priority

is to subscribe for the load information for all the cells that are allowed to be

SCells. The external cells that are reported by the A5 measurements performed by the

NR Advanced Multi-Layer Coordination feature are prioritized based on the number of

the measurement reports.

Periodically, the NR Advanced Multi-Layer Coordination feature reprioritizes the

subscriptions. If the number of the subscriptions or the cells are above the system

limit, the gNodeB requests the most important subscriptions based on the number of

the A5 measurements performed by the NR Advanced Multi-Layer Coordination

feature.

The subscription supervision timer might expire before the XnAP RESOURCE

STATUS UPDATE is received. Depending on the number of times this

happens, one of the following results is to be expected:

- If the timer expires and no XnAP RESOURCE STATUS UPDATE message is received, the available capacity factor information is considered outdated for the cells that are included in the subscription. The Multi-Layer Coordination function excludes these cells from the process until another XnAP RESOURCE STATUS UPDATE message is received before the supervision timer expires.
- If the timer expires without an XnAP RESOURCE STATUS UPDATE message 10 consecutive times, the subscription is considered to be lost, and a new subscription is initiated.

In case of an Xn link break, all subscriptions are removed between the affected

gNodeBs. The subscriptions are set up again if the Xn link is restored.

## 3.2 Operational Process of NR Advanced Multi-Layer Coordination

The NR advanced Multi-Layer Coordination feature uses the Multi-Layer Coordination

function of the NR Traffic Steering feature.

Figure 4 shows the changes in the NR Traffic

Steering feature operation that are introduced by the NR Advanced Multi-Layer

Coordination feature.

Figure 4   Multi-Layer Coordination with the NR Advanced Multi-Layer Coordination Feature

Activated.

Figure 4 is a simplified figure for the

operation of the Multi-Layer Coordination function of the NR Traffic Steering

feature. For more information on the operation of the Multi-Layer Coordination

function, see NR Traffic Steering.

The process does not include the updated procedure for the initial SCell

selection, which is a blind selection. The updated procedure prefers the SCell

that has the highest value of the available capacity factor for each frequency

if the NR Advanced Multi-Layer Coordination feature is activated.

1. The Multi-Layer Coordination procedure is started in the following cases: At initial setup At RRC Resume After a periodic time-out
2. The candidate cell set list is generated and a Multi-Layer Coordination iteration is started. Note: SCell coverage changes and available capacity factor changes in both the candidate and the current cell set are considered by the function when the candidate lists are updated.
3. If the candidate cell set list has any elements, the best candidate cell set is found based on the estimated downlink weight. The estimated downlink weight is defined as follows: Estimated downlink weight = PRBs × slotsPerMillisecond × ModulationOrder × MimoLayers × ESSRatio × PatternRatioDL × 133000 × cellSelectionWeightFactor x dlAvailableCapacityFactor In the equation, dlAvailableCapacityFactor represents the available capacity factor in downlink. If the NR Advanced Multi-Layer Coordination feature is activated, dlAvailableCapacityFactor is calculated based on the measurements for each cell with the following equation: 1 / (1 + filtered number of active UEs in downlink).Note: All active UEs in the NR cell are included in the equation regardless of their connection type. The following UE connection types are included: NR standalone NR-DC EN-DC The value of dlAvailableCapacityFactor is in the range of 0-100%. If the NR Advanced Multi-Layer Coordination feature is not activated, dlAvailableCapacityFactor equals 100%. For more information on the estimated downlink weight, see NR Traffic Steering.
4. The best candidate cell set that is found is compared to the current cell set. The cell sets are compared based on the cell set weight evaluation criteria, which consists of the comparison of the complete cell sets and the comparison of the PCells. For more information on the evaluation, see NR Traffic Steering.
5. If the best candidate cell set is better than the current cell set based on the cell set weight evaluation criteria, one of the following procedures is triggered:
    - The SCell Reselection procedure is triggered if the following conditions apply: The PCell in the best candidate cell set is the same as the current PCell. The SCells in the best candidate cell set are in coverage.
    - New Multi-Layer Coordination measurements are performed if one of the following conditions applies: The PCell in the best candidate cell set is different from the current PCell. The PCell in best candidate cell set is the same as the current PCell, but not all SCells in the best candidate cell set are in coverage.
6. The gNodeB waits for the UE measurement reports until all reports of the configured measurements are received or until time-out. For more information, see NR Traffic Steering.
7. The gNodeB evaluates the received UE measurement reports. For more information on the evaluation, see NR Traffic Steering.
8. If the best candidate PCell is the same as the current PCell, and all SCells in the best candidate cell set are in coverage, an SCell Reselection procedure is triggered. For more information about the SCell Reselection procedure, see NR Traffic Steering.
9. If the following criteria are fulfilled, a handover is triggered: The best candidate PCell is not the same as the current PCell. The reported PCell is part of the best candidate cell set. All the SCells in the best candidate cell set are in coverage. For more information about the handover procedure triggered by the Multi-Layer Coordination function, see NR Traffic Steering.
10. If another iteration of the Multi-Layer Coordination function must be performed to find a new best candidate cell set, the candidate list is updated, and the procedure is restarted based on the updated candidate list. For more information, see NR Traffic Steering.

# 4 Network Impact of NR Advanced Multi-Layer Coordination

The operation of the feature increases the CPU load and affects the number of

handovers and SCell reselections.

Capacity and Performance

This feature

increases

the

CPU load of the gNodeB in the following ways:

- Signaling over the Xn interface is increased for collecting and exchanging information on available load capacity.
- The feature uses a more complex traffic steering algorithm.
- The feature makes the traffic steering evaluation more complex, as the suitable cell sets are evaluated for each UE.

When the NR Advanced Multi-Layer Coordination feature is enabled, UEs are configured

with a set of cells to achieve the potentially best possible performance. The

density of the UE population can vary over time and between frequencies covering the

same geographical area, the best cell set for a specific UE might change frequently.

As a result, the number of handovers and the SCell reselection is expected to

increase. As the traffic distribution shifts throughout the network, the evaluation

of performance must be considered per geographical area rather than per cell or

frequency level. Under this condition, the overall performance in standalone is

expected to improve.

Interfaces

No impact.

Other Network Elements

No impact.

# 5 Parameters for NR Advanced Multi-Layer Coordination

The feature introduces attributes that are necessary for the feature

operation.

Table 2   Parameters

| Parameter                                        | Type       | Description          |
|--------------------------------------------------|------------|----------------------|
| GNBCUCPFunction.resourceStatusReportF1Enabled    | Introduced | See MOM description. |
| TrStSaCellProfileUeCfg.criterionDlAbsoluteOffset | Introduced | See MOM description. |
| TrafficSteering.dlCellLoadAware                  | Introduced | See MOM description. |

# 6 Performance of NR Advanced Multi-Layer Coordination

PM

counters and PM events can be used to observe the feature

operation.

KPIs

This feature has no associated KPIs.

Counters

The

following PM counters can be used to observe the distribution of the available

capacity factor:

- NRCellCU.pmRruCompAvailCapacityDlDistr2
- NRCellCU.pmRruCompAvailCapacityUlDistr

Events

The following PM events are introduced for this feature:

- CuCpF1ResourceStatusRequest
- CuCpF1ResourceStatusResponse
- CuCpF1ResourceStatusFailure
- CuCpF1ResourceStatusUpdate
- DuF1ResourceStatusRequest
- DuF1ResourceStatusResponse
- DuF1ResourceStatusFailure
- DuF1ResourceStatusUpdate
- CuCpMeasurementConfigurationSa

The following PM events can be used to observe Xn status reporting related to the

available load capacity:

- CuCpXnResourceStatusRequest
- CuCpXnResourceStatusResponse
- CuCpXnResourceStatusFailure
- CuCpXnResourceStatusUpdate

# 7 Activate NR Advanced Multi-Layer Coordination

To use the feature, it must be activated following the usual feature activation

procedure.

Prerequisites

- The license key is installed in the node.
- CCTR is active for at least one week before this procedure to collect enough troubleshooting data.

Steps

1. Set the FeatureState.featureState attribute to ACTIVATED in the FeatureState=CXC4012694 MO instance.
2. Ensure that the GNBCUCPFunction.resourceStatusReportF1Enabled attribute is set to true.
3. Set the TrafficSteering.dlCellLoadAware attribute to true.

After This Task

Keep CCTR active for at least one week after this procedure for continued collection of troubleshooting data.

# 8 Deactivate NR Advanced Multi-Layer Coordination

If the feature is no longer needed, it can be deactivated following the usual

feature deactivation procedure. It must also be deactivated before the activation of any

conflicting feature.

Prerequisites

- CCTR is active for at least one week before this procedure to collect enough troubleshooting data.

Steps

1. Perform one of the following actions: Option Action To deactivate the feature on the node: Set the FeatureState.featureState attribute to DEACTIVATED in the FeatureState=CXC4012694 MO instance. To disable the feature on a given cell: Set the TrafficSteering.dlCellLoadAware to false.

After This Task

Keep CCTR active for at least one week after this procedure for continued collection of troubleshooting data.