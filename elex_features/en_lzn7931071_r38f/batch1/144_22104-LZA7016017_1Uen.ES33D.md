---
complexity_score: 60.5
converted_at: '2025-08-13T06:57:51.830390Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 12
images_saved: 3
original_path: 144_22104-LZA7016017_1Uen.ES33D.html
pictures_extracted: 12
processing_method: docling_multimodal
quality_score: 9.0
source_file: 144_22104-LZA7016017_1Uen.ES33D.html
source_zip: en_lzn7931071_r38f.zip
tables_extracted: 97
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 2796
---

# 

NR Traffic Steering

Contents

![Image](../images/144_22104-LZA7016017_1Uen.ES33D/additional_3_CP.png)

![Image](../images/144_22104-LZA7016017_1Uen.ES33D/additional_3_CP.png)

- Overview
- Dependencies
- Feature Operation
    - Multi-Layer Coordination
        - Operation of Multi-Layer Coordination
        - UE Group Support for Multi-Layer Coordination
        - Multi-Layer Coordination Interaction with Other Features
    - Dynamic Cell Set Change during Mobility
        - Operation of Dynamic Cell Set Change during Mobility
        - UE Group Support for Dynamic Cell Set Change during Mobility
        - Dynamic Cell Set Change during Mobility Interaction with Other Features
    - Traffic Steering Cell Reselection Priority at UE Release
        - UE Group Support for Traffic Steering Cell Reselection Priority at UE Release
    - Bandwidth-Triggered Inter-System Handover
        - Traffic Steering Behavior during Bandwidth-Triggered Inter-System Handover
        - Operation of Bandwidth-Triggered Inter-System Handover
        - UE Group Support for Bandwidth-Triggered Inter-System Handover
        - Bandwidth-Triggered Inter-System Handover Interaction with Other Features
- Network Impact
- Parameters
- Performance
    - Performance of Multi-Layer Coordination
    - Performance of Dynamic Cell Set Change during Mobility
    - Performance of Traffic Steering Cell Reselection Priority at UE Release
    - Performance of Bandwidth-Triggered Inter-System Handover
- Activate Non-License-Controlled Features
- Engineering Guidelines for NR Traffic Steering
    - Configure Multi-Layer Coordination
        - Configuration Management of Multi-Layer Coordination
    - Configure Dynamic Cell Set Change during Mobility
        - Configuration Management of Dynamic Cell Set Change during Mobility
    - Configure Traffic Steering Cell Reselection Priority at UE Release
    - Configure Bandwidth-Triggered Inter-System Handover
        - Configuration Management of Bandwidth-Triggered Inter-System Handover
        - Optimization Options
- Appendix: Feature Change History
    - Appendix: 22.Q4: Multi-Layer Coordination
    - Appendix: 23.Q2: Dynamic Cell Set Change during Mobility
    - Appendix: 23.Q3: Release with Redirect during Bandwidth-Triggered Inter-System Handover
    - Appendix: 23.Q4: Improved Configuration of Multi-Layer Coordination and Dynamic Cell Set Change during Mobility
    - Appendix: 24.Q2.0: Downlink Quality Metric Enhancements for NR Traffic Steering
    - Appendix: 24.Q3.0: Enhanced SCell Time-Out Handling for Multi-Layer Coordination and Carrier Aggregation
    - Appendix: 25.Q2.0: Measurement Configuration for Uplink Two-Layer Coverage
    - Appendix: 25.Q2.0: Improved MLC Cell Set Weight Criteria Evaluation in NR Traffic Steering

# 1 NR Traffic Steering Overview

The feature provides different functions of traffic steering to the UE based on coverage

and UE capabilities. The feature aims to increase throughput for the UE.

| Feature Name           | NR Traffic Steering                                     |
|------------------------|---------------------------------------------------------|
| Feature Identity       | FAJ 121 5458                                            |
| Value Package Name     | NR Base Package                                         |
| Value Package Identity | FAJ 801 4002                                            |
| Node Type              | Baseband Radio Node                                     |
| Access Type            | NR                                                      |
| Licensing              | Non-license-controlled feature. No license is required. |

Summary

The feature includes the following functions:

| Multi-Layer Coordination                                 |    | The Multi-Layer Coordination function allows for more efficient use 								of the available spectrum by matching the UE carrier aggregation 								capability with the network configuration. After initial setup or 								the RRC Resume procedure, the function can initiate a cell set 								change if a new cell set is detected that can provide a UE 								configuration with higher throughput than the current cell set.                                                                                                                                                                                                                         |
|----------------------------------------------------------|----|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                                                          |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Dynamic Cell Set Change during Mobility                  |    | The Dynamic Cell Set Change during Mobility function can dynamically 								change the cell set for the UE during mobility when the UE is in 								RRC_CONNECTED state. The function supports periodic traffic steering 								evaluation, which incorporates the evaluation procedure of the 								Multi-Layer Coordination and the Bandwidth-Triggered Inter-System 								Handover functions. This way, coverage changes can be detected 								continuously and the UE can be reconfigured with a new cell set 								through handover or SCell Reselection.                                                                                        |
|                                                          |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Bandwidth-Triggered Inter-System Handover                |    | The Bandwidth-Triggered Inter-System Handover function moves the UE 								to LTE if the aggregated downlink bandwidth that is provided to the 								UE in NR is below a configured threshold. The function is applicable 								in areas in which it is likely that LTE can provide higher downlink 								throughput for the UE, compared to what is provided in NR.                                                                                                                                                                                                                                                                                      |
|                                                          |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Traffic Steering Cell Reselection Priority at UE Release |    | The Traffic Steering Cell Reselection Priority at UE Release function 								complements the Multi-Layer Coordination function by providing idle 								mode traffic steering. This way, the UE can be kept in the same cell 								that is used by the UE as PCell before it is released to RRC_IDLE 								state or suspended to RRC_INACTIVE state. The function increases the 								likelihood of the UE reentering RRC_CONNECTED state in a PCell that 								is suitable for the UE capabilities. The function can be configured 								to be only applicable to UEs for which a Multi-Layer Coordination 								evaluation is already performed. |

Related Information

For information on the random redirect at release function,

see NR Standalone High-Band with Multiple PCell Support.

For more information on the protocols that are used by the feature, see the following

documentation:

- 3GPP TS 36.413; Evolved Universal Terrestrial Radio Access Network (E-UTRAN); S1 Application Protocol (S1AP)
- 3GPP TS 38.300; NR; NR and NG-RAN Overall description; Stage-2
- 3GPP TS 38.304; NR; User Equipment (UE) procedures in idle mode and in RRC Inactive state
- 3GPP TS 38.306; NR; User Equipment (UE) radio access capabilities
- 3GPP TS 38.331; NR; Radio Resource Control (RRC); Protocol specification
- 3GPP TS 38.413; NG-RAN; NG Application Protocol (NGAP)

# 2 Dependencies of NR Traffic Steering

This feature has dependencies with LTE and NR features.

Table 1   Feature Dependencies

![Image](../images/144_22104-LZA7016017_1Uen.ES33D/additional_3_CP.png)

![Image](../images/144_22104-LZA7016017_1Uen.ES33D/additional_3_CP.png)

| Feature Name                                                                                  | Feature Identity   | Access Type   | Relationship   | Relationship Scope      | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|-----------------------------------------------------------------------------------------------|--------------------|---------------|----------------|-------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Incoming NR IRAT Handover                                                                     | FAJ 121 5118       | LTE           | Prerequisite   | Node-level prerequisite | The Incoming NR IRAT Handover LTE feature must be       operable on the target eNodeB for the Bandwidth-Triggered Inter-System Handover function to       initiate a successful inter-system IRAT handover from NR to LTE.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| NR Automated Neighbor Relations                                                               | FAJ 121 5218       | NR            | Related        |                         | If an unknown cell is reported in an             A5 or a B2 measurement report and the preconditions are met,             the NR Automated Neighbor Relations feature triggers an NCGI or an ECGI measurement.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| NR Coverage-Triggered NR Session                                     Continuity               | FAJ 121 4983       | LTE           | Related        |                         | The Bandwidth-Triggered Inter-System Handover function of the       NR Traffic Steering feature moves the UE from NR to LTE. When the UE is moved to LTE from NR       standalone by the Bandwidth-Triggered Inter-System Handover function and the         ENodeBFunction.mobilityBackToNrFreqDisabled attribute is set to a value       other than 0, the affected NR frequency is blocked from connected mode and       idle mode mobility.  If the ENodeBFunction.mobilityBackToNrFreqDisabled attribute is set to         0, to avoid an immediate RwR from LTE to NR, it is preferred that the UE       establishes EN-DC instead. The UeMeasControl.waitForStartNRMeas attribute       must be set to a value that gives the UE enough time to establish EN-DC before measurements       that are used to trigger RwR from LTE to NR are started on NR frequencies. It is not       recommended to enable mobility from EN-DC to NR standalone when the         ENodeBFunction.mobilityBackToNrFreqDisabled attribute is set to         0.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Outgoing NR IRAT Handover                                                                     | FAJ 121 5377       | LTE           | Related        |                         | The Bandwidth-Triggered Inter-System Handover function moves                                 the UE from NR to LTE. When the UE is moved to LTE from NR                                 standalone by the Bandwidth-Triggered Inter-System Handover function                                 and the                                         ENodeBFunction.mobilityBackToNrFreqDisabled                                 attribute is set to a value other than 0, the                                 affected NR frequency is blocked from connected mode and idle mode                                 mobility.  If the                                         ENodeBFunction.mobilityBackToNrFreqDisabled                                 attribute is set to 0, to avoid an immediate                                 handover back from LTE to NR, it is preferred that the UE                                 establishes EN-DC instead. The                                         UeMeasControl.waitForStartNRMeas                                 attribute must be set to a value that gives the UE enough time to                                 establish EN-DC before measurements that are used to trigger                                 handover from LTE to NR are started on NR                                 frequencies. B1 NR standalone measurements                                 can be blocked using the                                         UeMeasControl.nrB1MeasAtEndcEnabled                                 attribute. |
| Advanced RAN Coordination                                                                     | FAJ 121 5271       | NR            | Related        |                         | The Advanced RAN Coordination feature in NR provides E5 link       connectivity between partner gNodeBs. To benefit from NR carrier aggregation during the       operation of the Multi-Layer Coordination and the Dynamic Cell Set Change during Mobility       functions, it is recommended to configure the Advanced RAN Coordination feature       correctly.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Basic Voice Over NR                                                                           | FAJ 121 5219       | NR            | Related        |                         | The following functions of the NR Traffic Steering feature       can be configured specifically for VoNR users with support from the UE Grouping Framework in         NR:  Multi-Layer Coordination     Dynamic Cell Set Change during Mobility     Bandwidth-Triggered Inter-System Handover                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Data-Aware Carrier Management                                                                 | FAJ 121 5410       | NR            | Related        |                         | The following functions of the NR Traffic Steering feature       only consider SCells in NR that are in coverage for the UE when       calculating       the available cell set bandwidth:  Multi-Layer Coordination     Dynamic Cell Set Change during Mobility     Bandwidth-Triggered Inter-System Handover                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| EPS Fallback for IMS Voice                                                                    | FAJ 121 5059       | NR            | Related        |                         | When the UE is configured with measurements for EPS fallback       in the EPS Fallback for IMS Voice feature, all other existing measurement configurations are       removed from the UE.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| Measurement Gap-Aware NR Scheduling                                                           | FAJ 121 5295       | NR            | Related        |                         | The Measurement Gap-Aware NR Scheduling feature must be configured to support                 measurements that require measurement gap.  When the UE is configured with any NR intra-system inter-frequency measurements, the                 measurement gap requirement information the UE reports is used in measurement gap                 configuration. The UE dynamically reports to the gNodeB for which NR bands it needs                 a measurement gap, and for which it does not.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| NR DL Carrier Aggregation                                                                     | FAJ 121 5201       | NR            | Related        |                         | It is recommended to configure at least one of the features that                                 provide support for downlink carrier aggregation in NR in order for                                 the Multi-Layer Coordination procedure to allow for at least one                                 SCell in a candidate cell set.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| NR DL Carrier Aggregation for Coverage                                     Extension          | FAJ 121 5202       | NR            | Related        |                         | It is recommended to configure at least one of the features that                                 provide support for downlink carrier aggregation in NR in order for                                 the Multi-Layer Coordination procedure to allow for at least one                                 SCell in a candidate cell set.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| NR Uplink Carrier Aggregation                                                                 | FAJ 121 5583       | NR            | Related        |                         | The Multi-Layer Coordination and the Dynamic Cell Set Change during                                 Mobility functions of the NR Traffic Steering feature can select any                                 PCell or any SCell based on throughput criteria to offer UEs the                                 maximum estimated uplink throughput for the NR Uplink Carrier                                 Aggregation feature.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| TDD PCell Support for DL Carrier Aggregation                                     Low/Mid-Band | FAJ 121 5363       | NR            | Related        |                         | It is recommended to configure at least one of the features that                                 provide support for downlink carrier aggregation in NR in order for                                 the Multi-Layer Coordination procedure to allow for at least one                                 SCell in a candidate cell set.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| NR 3CC DL Carrier Aggregation                                                                 | FAJ 121 5426       | NR            | Related        |                         | It is recommended to configure at least one of the features that                                 provide support for downlink carrier aggregation in NR in order for                                 the Multi-Layer Coordination procedure to allow for at least one                                 SCell in a candidate cell set.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| NR 4CC DL Carrier Aggregation                                                                 | FAJ 121 5518       | NR            | Related        |                         | It is recommended to configure at least one of the features that                                 provide support for downlink carrier aggregation in NR in order for                                 the Multi-Layer Coordination procedure to allow for at least one                                 SCell in a candidate cell set.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| NR 5CC DL Carrier Aggregation                                                                 | FAJ 121 5639       | NR            | Related        |                         | It is recommended to configure at least one of the features that                                 provide support for downlink carrier aggregation in NR in order for                                 the Multi-Layer Coordination procedure to allow for at least one                                 SCell in a candidate cell set.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| NR 6CC DL Carrier Aggregation                                                                 | FAJ 121 5753       | NR            | Related        |                         | It is recommended to configure at least one of the features that                                 provide support for downlink carrier aggregation in NR in order for                                 the Multi-Layer Coordination procedure to allow for at least one                                 SCell in a candidate cell set.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| NR Switched Uplink for Throughput                                 Boost                       | FAJ 121 5772       | NR            | Related        |                         | The Multi-Layer Coordination function of the NR Traffic Steering                                 feature considers if a UE is in uplink two-layer coverage for the                                 Mid-Band PCell during the Multi-Layer Coordination evaluation if the                                 NR Switched Uplink for Throughput Boost feature is enabled.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| NR Advanced Multi-Layer Coordination                                                          | FAJ 121 5584       | NR            | Related        |                         | The NR Advanced Multi-Layer Coordination feature enables traffic                                 steering based on downlink cell load by making the Multi-Layer                                 Coordination and the Dynamic Cell Set Change during Mobility                                 functions downlink load-aware. If the NR Advanced Multi-Layer                                 Coordination feature is activated, the available capacity factor is                                 also considered during the initial SCell selection.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| NR Cell Soft Lock                                                                             | FAJ 121 5575       | NR            | Related        |                         | If the value of the NRCellDU.serviceState                                 attribute in the target cell is in IN_SERVICE after                                 the value of NRCellDU.administrativeState                                 attribute changes to SHUTTINGDOWN, the following                                 can occur:  In case of inter-gNodeB handover, handover for traffic                                             steering toward the shutting down target NR cell is                                             rejected with the cause value                                             handover-target-not-allowed for Xn or                                             ho-target-not-allowed for NG.     In case of intra-gNodeB handover, the target cell is not                                             considered a valid handover target.      Carrier aggregation with the shutting down cell is allowed because                                 severe service degradation is not expected.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| NR Data-Aware Mobility                                                                        | FAJ 121 5696       | NR            | Related        |                         | To prioritize NR over LTE, monitoring by the NR Data-Aware             Mobility feature is triggered after the MLC procedure during the Multi-Layer             Coordination and the Dynamic Cell Set Change during Mobility functions. The NR             Data-Aware Mobility feature can be used with or without the Bandwidth-Triggered             Inter-System Handover function being active in the node.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| NR Extended N77 Band Support                                                                  | FAJ 121 5480       | NR            | Related        |                         | Cells operating at extended n77 band frequency ranges are configured as PCell or SCell             for multi-layer coordination only if the UE capability message indicates the appropriate             RF parameter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| NR Mobility                                                                                   | FAJ 121 5041       | NR            | Related        |                         | The Bandwidth-Triggered Inter-System Handover function of the         NR Traffic Steering feature and the Mobility Control at Poor Coverage function of the NR         Mobility feature can run simultaneously. The gNodeB triggers handovers or RwR based on the         following factors:  The order of the measurements that are received from the UE for the functions     The UE capabilities      If the UE capabilities do not allow IRAT handover, measurement-based RwR is triggered for         the UE instead.  The Dynamic Cell Set Change during Mobility and the Multi-Layer Coordination functions do         not trigger any evaluations or measurements if the UE is in the search zone for the Mobility         Control at Poor Coverage function.  The Dynamic Cell Set Change during Mobility function starts a periodic interval timer at         incoming handover.  The NR Mobility feature can evaluate the uplink quality in the target cell during the         incoming handover procedure to avoid handover back to the source cell if uplink quality is         poor in the target cell.   The IRAT inter-system handover to LTE functionality supports direct                                 packet forwarding over the X2-U interface between the gNodeB and the                                 eNodeB.                                                                                                                                                                                                                           |
| NR-NR Dual Connectivity                                                                       | FAJ 121 5380       | NR            | Related        |                         | The                 Multi-Layer Coordination and the Bandwidth-Triggered Inter-System                 Handover functions of the NR Traffic Steering feature are not triggered if NR-DC can                 be established for the NR-DC-capable UE.  If NR-DC is enabled in the cell, the Dynamic Cell Set Change during Mobility function                 must be enabled to allow the Multi-Layer Coordination and Bandwidth-triggered                 Inter-System Handover functions for NR-DC-capable UEs. Traffic steering is attempted                 when the periodic interval for the Dynamic Cell Set Change during Mobility function                 expires. If the Secondary Node in NR-DC is established at that time, no traffic                 steering procedure is initiated.   If the Secondary Node in NR-DC is established, the Multi-Layer Coordination and                 Bandwith-Triggered Inter-System Handover procedures stop.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| NR Reduced UE Bandwidth Support                                                               | FAJ 121 5442       | NR            | Conflicting    | Partially impaired      | The available cell set bandwidth calculated by the Bandwidth-Triggered Inter-System             Handover function of the NR Traffic Steering feature considers the full carrier             bandwidth for the UE regardless of the UE using F-BWP or P-BWP.  It is required to have the same BWP configuration for all cells on the same frequency for             the Multi-Layer Coordination evaluation to select the best cell set.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| NR Remote Interference Management                                                             | FAJ 121 5514       | NR            | Conflicting    | Partially impaired      | If the remote interference-triggered offload function is             enabled, and remote interference is detected, the target cell is blocked for UEs near             the cell edge. The handover success rate for outgoing mobility might be reduced.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| NR RRC Connection Re-establishment                                                            | FAJ 121 5346       | NR            | Related        |                         | The Multi-Layer Coordination and the Bandwidth-Triggered         Inter-System Handover functions are not triggered for the UE during the RRC Connection         Re-establishment procedure in NR.  The Dynamic Cell Set Change during Mobility function is initiated         by         starting a periodic interval timer at the RRC Connection Re-establishment         procedure.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| NR Small Cell Traffic Steering                                                                | FAJ 121 5778       | NR            | Related        |                         | The NR Small Cell Traffic Steering feature allows the NR Traffic             Steering feature to consider cells that belong to other vendor gNodeBs as mobility             targets by allowing the following functions to consider and prioritize these cells:  Dynamic Cell Set Change during Mobility     Multi-Layer Coordination                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| NR Standalone                                                                                 | FAJ 121 5060       | NR            | Related        |                         | With differentiated measurement thresholds for high power UEs in the                                 Multi-Layer Coordination procedure, high power UEs can be supported                                 on the candidate PCell during inter-frequency handover in NR.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| RRC Inactive State                                                                            | FAJ 121 5328       | NR            | Related        |                         | The following functions of the NR Traffic Steering feature can         be triggered for the UE if the RRC Resume procedure is completed in NR:  Multi-Layer Coordination     Dynamic Cell Set Change during Mobility     Bandwidth-Triggered Inter-System Handover      The Traffic Steering Cell Reselection Priority at UE         Release function can be triggered at         RRC         suspend to RRC_INACTIVE state.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Shared NR RAN                                                                                 | FAJ 121 5211       | NR            | Related        |                         | The NR Traffic Steering feature considers the following elements when the Shared NR RAN feature is used in NR:  MRL     PLMN      The MRL is also considered during target selection and handover evaluation.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| UE Grouping Framework                                                                         | FAJ 121 5314       | NR            | Related        |                         | The NR Traffic Steering feature is adapted to the UE Grouping                                 Framework in NR.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Uplink Single-User                                 MIMO                                       | FAJ 121 5234       | NR            | Related        |                         | The Multi-Layer Coordination function considers if a UE is in uplink                                 two-layer coverage for the PCell during the Multi-Layer Coordination                                 evaluation if the Uplink Single-User MIMO feature is enabled.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| User- and Service-Specific Mobility                                                           | FAJ 121 5399       | NR            | Related        |                         | The User- and Service-Specific Mobility NR feature                 provides UE grouping support for the NR Traffic Steering feature. The feature allows                 for the application of the configuration data, which is defined in UE group-specific                 instances of the following MO classes, specifically for the NR Traffic Steering                     feature: TrStSaCellProfileUeCfg  TrStSaEUtranFreqRelProfileUeCfg  TrStSaNrFreqRelProfileUeCfg  UeMCEUtranFreqRelProfileUeCfg  UeMCNrFreqRelProfileUeCfg   If the User- and Service-Specific Mobility feature is not active, the                 configuration data is applied as defined in the Base instance of                 the MOs.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| User- and Service-Specific Carrier                                     Aggregation            | FAJ 121 5555       | NR            | Related        |                         | The User- and Service-Specific Carrier Aggregation feature can                                 control the carrier aggregation configuration used by the                                 Multi-Layer Coordination function.  The measurement activities of the Multi-Layer Coordination and the                                 Bandwidth-Triggered Inter-System Handover functions stop if a UE                                 group change affects carrier aggregation configurations.  UE group selection must be the same across the network to avoid                                 unexpected behavior with the Multi-Layer Coordination function when                                 evaluating external PCell candidates. The                                     ExternalGNBCUCPFunction.sameUeGroupSelection                                 attribute can be used to determine if UE group selection is the                                 same.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| NR Flexible Channel Bandwidth                                                                 | FAJ 121 5264       | NR            | Conflicting    | Partially impaired      | The available cell set bandwidth calculated by the Bandwidth-Triggered Inter-System             Handover function of the NR Traffic Steering feature does not consider the bandwidth             reduction due to blanked CBRs.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| LTE Service-Triggered Outgoing NR IRAT                                     Mobility           | FAJ 121 5744       | LTE           | Related        |                         | When the UE is moved to LTE from NR standalone by the                                 Bandwidth-Triggered Inter-System Handover function and the                                     ENodeBFunction.mobilityBackToNrFreqDisabled                                 attribute is set to a value other than 0, the                                 affected NR frequency is blocked from connected mode mobility.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| NR PCI Conflict Reporting                                                                     | FAJ 121 5621       | NR            | Related        |                         | When an A5 measurement report generated by the Multi-Layer Coordination function is         received, the following types of handover cannot be triggered because the cells in PCI         conflict are not considered as candidate cells:  CGI hit rate-based handover     Manual configuration-based handover     NCGI-based handover      When a B2 measurement report generated by the Bandwidth-Triggered Inter-System Handover         function is received, following types of handover can be triggered:  CGI hit rate-based handover     ECGI measurement-based handover     Manual configuration-based handover                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Flexible UE Grouping for Limited Capability                                     UEs           | FAJ 121 5836       | NR            | Conflicting    | Partially impaired      | The simultaneous presence of nodes with and without the                 pCellOnlyUe selection criteria variable can increase the risk             of mismatch in the UE group definitions.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| NR Booster Carrier Sleep                                                                      | FAJ 121 5583       | NR            | Conflicting    | Cell-level conflict     | Cells in sleep mode does not provide connectivity for UEs.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |

Hardware

No specific hardware requirements.

Limitations

Intra-gNodeB handover is only possible in a single Baseband configuration.

The Multi-Layer Coordination procedure requires that all cells on the same frequency

have the same bandwidth to correctly select the best cell set for the UE.

Network Requirements

To fully benefit from the feature, the node requires support from the following

network elements:

- eNodeB The Incoming NR IRAT Handover feature must be operable on the target eNodeB for the Bandwidth-Triggered Inter-System Handover function.
- EPC and 5GC For successful IRAT inter-system handover with the Bandwidth-Triggered Inter-System Handover function, the N26 interface between the MME in EPC and the Access and Mobility Management Function (AMF) in 5GC is required.

# 3 Feature Operation of NR Traffic Steering

## 3.1 Multi-Layer Coordination

The Multi-Layer Coordination function can be used in NR standalone to provide

connected mode traffic steering that is based on UE-specific carrier aggregation

capability.

Different UEs have different carrier aggregation capabilities. The purpose of this

function is to maximize UE throughput by finding a cell set that is more suitable for

the UE than the current one, and by initiating handover or SCell Reselection to it.

Throughput is maximized in downlink and uplink directions. Depending on the configured

serving cell selection policy, downlink or uplink is prioritized.

Initiating handover or SCell Reselection is based on the A5 measurement reports on the

PCell and SCells.

The following mobility procedures are used by the Multi-Layer Coordination function:

- Evaluation of PCI for Handover
- Intra-gNodeB Handover
- NG-Based Inter-gNodeB Handover
- SCell Reselection
- Xn-Based Inter-gNodeB Handover

NR-DC and the Mobility Control at Poor Coverage function are prioritized over traffic

steering. In traffic steering, the Multi-Layer Coordination function is prioritized over

the Bandwidth-Triggered Inter-System Handover function.

Increased handover rejections and reduced throughput capacity

can be expected if the target PCell is blocked for UEs in

RRC\_CONNECTED

mode.

For more information on the use cases for traffic steering with downlink and uplink

carrier aggregation, see NR Traffic Steering Solution Guideline.

Related concepts

Dynamic Cell Set Change during Mobility

Traffic Steering Cell Reselection Priority at UE Release

Bandwidth-Triggered Inter-System Handover

Related tasks

Configure Multi-Layer Coordination

Related Information

Evaluation of PCI for Handover

Intra-gNodeB Handover

NG Based Inter-gNodeB Handover

Xn-Based Inter-gNodeB Handover

Advanced RAN Coordination

NR DL Carrier Aggregation

NR DL Carrier Aggregation for Coverage Extension

NR Uplink Carrier Aggregation

### 3.1.1 Operation of Multi-Layer Coordination

When the initial setup or the RRC Resume procedure is finished, the gNodeB finds the

best candidate cell set, and compares it with the current cell set. If the candidate cell

set is more suitable for the UE based on the weight of the cell set and it has coverage, a

cell set change can be done by performing handover or SCell Reselection.

The following terms are used in the description of the operational process:

| Available Cell Set   |    | The available cell set is the current PCell together with the configured                             SCells that are in coverage.                         |
|----------------------|----|-----------------------------------------------------------------------------------------------------------------------------------------------------------|
|                      |    |                                                                                                                                                           |
| Candidate Cell Set   |    | The candidate cell set is a PCell candidate together with the SCells that                             are possible candidates based on MOM configuration. |

The Multi-Layer Coordination function can be triggered if the UE connects to the cell

from RRC\_IDLE state or through the RRCResume procedure, and the first PDU session is

started.

Before the Multi-Layer Coordination function starts, the gNodeB evaluates the SCell

coverage. SCell coverage is evaluated by receiving an A1 or A2 measurement report for

each configured SCell in both downlink and uplink, or at the time-out of the SCell

supervision timer. For more information, see NR DL Carrier Aggregation and NR Uplink Carrier Aggregation.

The gNodeB checks if the following criteria are fulfilled:

- At least one PDU session is established.
- The function is enabled through the TrStSaCellProfileUeCfg.mlcEnabled attribute.
- The set of candidate cell sets is not empty.
- NR-DC cannot be configured for the NR-DC-capable UE according to the Master Node criteria for NR-DC Setup. For more information on the Master Node criteria for NR-DC Setup, see NR-NR Dual Connectivity.
- The UE is not in the search zone for the Mobility Control at Poor Coverage function of the NR Mobility feature. For more information on the Mobility Control at Poor Coverage function, see NR Mobility.

If all the necessary criteria are fulfilled, the gNodeB starts the Multi-Layer

Coordination procedure.

Multi-Layer Coordination Procedure

Figure 1   Operational Flow of the Multi-Layer Coordination Procedure

1. The gNodeB starts the Multi-Layer Coordination procedure by generating a candidate cell set list based on MOM configuration. The PCell candidates in the list of candidate cell sets are based on the TrStSaCellProfileUeCfg.mlcAllowedCellSetChangeAction attribute, which can be set to the following values: If it is set to HANDOVER, the PCell candidates can only be neighbor cells. If it is set to SCELL\_RESELECTION, the PCell candidate can only be the current PCell. If it is set to HO\_AND\_SCELL\_RESELECTION, the PCell candidates can be both the current PCell and the neighbor cells. Note: The Multi-Layer Coordination function can be used to hand over the UE to cells that belong to other vendor gNodeB, as well, if the TrStSaCellProfileUeCfg.mlcAllowedCellSetChangeAction attribute is set to HANDOVER or to HO\_AND\_SCELL\_RESELECTION. During the evaluation of the PCell and SCell candidates, the following criteria are checked: The sector carrier of the PCell candidate is either on Low-Band or Mid-Band frequencies. The current PCell has cell relations to the candidate PCell and SCells, as specified by the NRCellRelation MO class.Note: Neighboring cells detected by the NR Automated Neighbor Relations feature are represented as lightweight NRCellRelation MO instances, which are only considered as candidate PCells. Only cells on neighbor gNodeBs that are connected by the Xn interface are considered as candidate PCells or SCells. The TrStSaNrFreqRelProfileUeCfg.pCellAllowed attribute is set to true for the frequency relation of the PCell candidate. This attribute can be set to true for multiple frequency relations. The NRCellRelation.isHoAllowed attribute is set to true for the PCell candidate. The UeMCNrFreqRelProfileUeCfg.connModeAllowedPCell attribute is set to true for the PCell candidate. If the NR Uplink Carrier Aggregation feature is enabled, the configuration of the CaCellProfileUeCfg.servingCellSelectionPolicy attribute in the current PCell is set to the same value as the potential PCell candidates.Note: The configuration of the CaCellProfileUeCfg.servingCellSelectionPolicy attribute is checked for internal and external gNodeB PCell candidates with the same UE group selection. External PCell candidates with different UE group selection are considered to have the same serving cell selection policy as the current PCell. External PCell candidates with different UE group selection are considered to have the same serving cell selection policy as the current PCell. The NRCellRelation.caStatusActive attribute is set to true for the SCell candidate. Note: If the NRCellRelation.caStatusInfo attribute indicates the E5\_DLCA\_CAP\_ONLY or ESS\_ULCA\_BLOCKED value, the SCell is a downlink-only candidate. The NRCellRelation.sCellCandidate attribute is set to ALLOWED or ONLY\_ALLOWED\_FOR\_DL. Note: SCells that are known to be in poor downlink coverage through coverage evaluations are not included as SCell candidates. SCells that are included as SCell candidates and potential uplink SCell candidates, and are known to be in bad uplink coverage through measurements, are downlink-only SCell candidates. The candidate cell is an Ericsson cell. Each candidate cell set must be a cell set that can be a candidate for triggering SCell Reselection or a handover procedure. If no candidate cell set can be found, the Multi-Layer Coordination procedure stops.
2. The gNodeB finds the best candidate cell set based on the estimated cell set weight and the serving cell selection policy configured through the CaCellProfileUeCfg.servingCellSelectionPolicy attribute. For more information on the evaluation, see Evaluation of the Weight of the Cell Set.
3. If the best candidate cell set is better than the available one, the gNodeB proceeds to the next step. The comparisons are made based on the estimated weight of the cell set. If the best candidate cell set is not better than the current one, the Multi-Layer Coordination procedure stops and the possible measurements that remain from an earlier iteration are removed.
4. If the best candidate cell set is suitable, the gNodeB configures different measurements for handover candidates and SCell Reselection candidates. If the cell set is a candidate for handover, the following measurements are configured: The PCell candidate measurement is configured in the UE to check if the PCell of the best candidate cell set has coverage. This check is performed through A5 measurements. The A5 measurement for downlink PCell candidate can use either RSRP, RSRQ, or SINR as the trigger quantity, depending on the value of the TrStSaCellProfileUeCfg.mlcTriggerQuantity attribute. The measurement is based on the following attributes: TrStSaCellProfileUeCfg.rsrpPCellCandidate and TrStSaNrFreqRelProfileUeCfg.rsrpPCellCandidateOffset Note: The TrStSaNrFreqRelProfileUeCfg.rsrpUl2lCoverageThrOffset attribute is included in the evaluation of uplink two-layer coverage if the best candidate cell set includes a PCell candidate with two uplink MIMO layers. For more information, see NR Switched Uplink for Throughput Boost. TrStSaCellProfileUeCfg.rsrqPCellCandidate and TrStSaNrFreqRelProfileUeCfg.rsrqPCellCandidateOffset TrStSaCellProfileUeCfg.sinrPCellCandidate and TrStSaNrFreqRelProfileUeCfg.sinrPCellCandidateOffset Note: If the TrStSaCellProfileUeCfg.mlcTriggerQuantity attribute is configured to use RSRQ or SINR as the trigger quantity, the Power Reduction RSRP offset is not applied to the A5 measurement trigger condition on the PCell. To enable the evaluation of the signal strength of a candidate PCell for use with Power Reduction, one of the following attributes needs to be set to the following values: The TrStSaCellProfileUeCfg.rsrqPCellCandidateAddTargEval attribute needs to be set to RSRP. The TrStSaCellProfileUeCfg.sinrPCellCandidateAddTargEval attribute needs to be set to RSRP or RSRP\_AND\_RSRQ. The A5 PCell measurement is also used by the Multi-Layer Coordination function to detect neighboring cells that belong to other vendor gNodeBs. For more information on what happens if the A5 PCell measurement reports a neighboring cell that belongs to other vendor gNodeB, see NR Small Cell Traffic Steering. The SCell candidate measurements are configured in the UE to check if the SCells of the best candidate cell set have good downlink coverage, and if the SCell selected for uplink has good uplink coverage. A5 measurement is used in these cases. The A5 measurement for downlink can use either RSRP, RSRQ, or SINR as the trigger quantity, depending on the value of the TrStSaCellProfileUeCfg.mlcTriggerQuantity attribute. Note: The A5 measurement for uplink SCell only supports RSRP as the trigger quantity regardless of the value selected for the TrStSaCellProfileUeCfg.mlcTriggerQuantity attribute. The downlink SCell candidate measurement is based on the following attributes: TrStSaCellProfileUeCfg.rsrpSCellCandidate and TrStSaNrFreqRelProfileUeCfg.rsrpSCellCandidateOffset TrStSaCellProfileUeCfg.rsrqSCellCandidate and TrStSaNrFreqRelProfileUeCfg.rsrqSCellCandidateOffset TrStSaCellProfileUeCfg.sinrSCellCandidate and TrStSaNrFreqRelProfileUeCfg.sinrSCellCandidateOffset The uplink SCell candidate measurement is based on the TrStSaCellProfileUeCfg.rsrpPCellCandidate and the TrStSaNrFreqRelProfileUeCfg.rsrpPCellCandidateOffset attributes. The measurement is configured for SCell candidates in the best candidate cell set that are not already measured. The A5 measurement for uplink SCell is also used by the Multi-Layer Coordination function to detect cells that belong to other vendor gNodeB. For more information on cells that belong to other vendor gNodeB, see NR Small Cell Traffic Steering. If the cell set is candidate for SCell Reselection, the SCell Candidate measurement is configured in the UE to check if the SCells of the best candidate cell set have coverage. A5 measurement is used for this. The A5 measurement for downlink SCell candidate can use either RSRP, RSRQ, or SINR as the trigger quantity, depending on the value of the TrStSaCellProfileUeCfg.mlcTriggerQuantity attribute.Note: The A5 measurement for uplink SCell only uses RSRP as the trigger quantity regardless of the value selected for the TrStSaCellProfileUeCfg.mlcTriggerQuantity attribute. If the TrStSaCellProfileUeCfg.mlcTriggerQuantity attribute is configured to use RSRQ or SINR as the trigger quantity, the Power Reduction RSRP offset is not applied to the A5 measurement trigger condition on the PCell. To enable the evaluation of the signal strength of a candidate PCell for use with Power Reduction, one of the following attributes needs to be set to the following values: The TrStSaCellProfileUeCfg.rsrqPCellCandidateAddTargEval attribute needs to be set to RSRP. The TrStSaCellProfileUeCfg.sinrPCellCandidateAddTargEval attribute needs to be set to RSRP or RSRP\_AND\_RSRQ. The downlink SCell candidate measurement is based on the following attributes: TrStSaCellProfileUeCfg.rsrpSCellCandidate and TrStSaNrFreqRelProfileUeCfg.rsrpSCellCandidateOffset TrStSaCellProfileUeCfg.rsrqSCellCandidate and TrStSaNrFreqRelProfileUeCfg.rsrqSCellCandidateOffset TrStSaCellProfileUeCfg.sinrSCellCandidate and TrStSaNrFreqRelProfileUeCfg.sinrSCellCandidateOffset The uplink SCell candidate measurement is based on the TrStSaCellProfileUeCfg.rsrpPCellCandidate and the TrStSaNrFreqRelProfileUeCfg.rsrpPCellCandidateOffset attributes. The measurement is configured for SCell candidates in the best candidate cell set that are not already measured. If the selected uplink SCell results in power reduction in the PCell, the MLC Current PCell Coverage A1 measurement is configured on the PCell. This measurement is based on the TrStSaCellProfileUeCfg.rsrpPCellCandidate and TrStSaCellProfileUeCfg.rsrpPCellCandidatePcOffset attributes. Note: SCell candidates that are known to be in coverage are not measured again. PCell candidates other than the current PCell are always measured. In a cell set that is candidate for SCell reselection, if the current PCell is selected with two uplink layers, the MLC Current PCell Coverage A1 measurement is used to determine PCell coverage for two-layer uplink coverage. The measurement is based on the following attributes: TrStSaCellProfileUeCfg.rsrpPCellCandidate TrStSaCellProfileUeCfg.rsrpPCellCandidatePcOffset TrStSaNrFreqRelProfileUeCfg.rsrpUl2lCoverageThrOffset A timer is started to limit the time that the UE can spend searching for PCell or SCell candidates. The available time is calculated with the Max reporting period = 480 ms + n × 200 ms + timeToTrigger formula. In the formula, n is equal to the number of frequencies where the UE makes measurements, besides the current PCell frequency. The timeToTrigger parameter is the struct member of the following attributes, depending on the value of the TrStSaCellProfileUeCfg.mlcTriggerQuantity attribute: TrStSaCellProfileUeCfg.rsrpPCellCandidate TrStSaCellProfileUeCfg.rsrqPCellCandidate TrStSaCellProfileUeCfg.sinrPCellCandidate No additional measurement is needed if the following conditions are applicable: The best candidate PCell is the same as the current PCell and does not require uplink two-layer coverage or is already known to be in uplink two-layer coverage. All the SCells are in coverage based on the measurement reports received from previously performed procedures. The configuration of uplink carrier aggregation does not require power reduction for the PCell. In this case, the current PCell is kept and the procedure proceeds to the initiation of SCell Reselection directly.
5. The gNodeB waits for the UE measurement reports. During this period, a time-out can also occur, after which the procedure proceeds to the next step.
6. The gNodeB evaluates the UE measurement reports. Note: More than one cell can be reported by the UE in the A5 measurement report through configuring the TrStSaCellProfileUeCfg.maxReportCells attribute, however, the gNodeB only examines the first reported cell. If the PCell or SCell uplink candidate report is received and the following conditions are all fulfilled, the Multi-Layer Coordination procedure stops and Xn or NG handover is attempted to the reported cell: The NR Small Cell Traffic Steering feature is activated and the TrStSaNrFreqRelProfileUeCfg.hoToPrioritizedCell attribute is set to true. For more information on the NR Small Cell Traffic Steering feature, see NR Small Cell Traffic Steering. The cell is configured in the gNodeB with an ExternalNrCellCU MO instance. The reported cell belongs to another vendor gNodeB. The reported cell is a valid mobility target for the UE. The TrStSaNrFreqRelProfileUeCfg.hoToPrioritizedCell attribute is set to true. For more information on the NR Small Cell Traffic Steering feature, see NR Small Cell Traffic Steering For more information on the evaluation, see Evaluation of the UE Measurement Report.
7. If all the cells in the candidate cell set are reported to be in coverage, the source gNodeB initiates one of the following procedures: If the candidate PCell is different than the current one and the source gNodeB is different from the target gNodeB, the source gNodeB initiates handover by sending one of the following messages to the target gNodeB: The NGAP HANDOVER REQUEST message to initiate NG-based inter-gNodeB handover. The XnAP HANDOVER REQUEST message to initiate Xn-based inter-gNodeB handover. The message that is sent includes NCGI and coverage status information about the selected SCells. Handover can only be initiated when a candidate PCell report is received and all the candidate SCells are in coverage. SCell candidate coverage is only measured once and the result is stored and reused in the ongoing Multi-Layer Coordination evaluation. Handover can only be triggered after a new PCell candidate measurement to ensure a robust handover. Multiple PCell reports might be needed until all candidate reports for configured SCells are received for each iteration of the best candidate cell set. A PCell candidate report is reused for SCell coverage information. After handover, the target gNodeB configures carrier aggregation with the SCells that are reported in the handover request, with the coverage status measurement information taken into account. An uplink SCell candidate that is only in good downlink coverage is a downlink-only SCell candidate in the serving cell selection. For more information on serving cell selection, see NR DL Carrier Aggregation and NR Uplink Carrier Aggregation.Note: Intra-gNodeB handover can also be initiated for the UE to the target PCell. If the candidate PCell is the same as the current PCell, the source gNodeB initiates the SCell Reselection procedure by sending the RRC RRCReconfiguration message to the UE. In this case, the current PCell is kept. During the SCell Reselection procedure, new SCells can be added and current SCells can be kept or removed. If a cell that belongs to an vendor gNodeB is reported and evaluated to be prioritized over other Multi-Layer Coordination candidate cells, the source gNodeB initiates one of the following procedures: The NGAP HANDOVER REQUEST message is sent to initiate NG-based inter-gNodeB handover. The XnAP HANDOVER REQUEST message is sent to initiate Xn-based inter-gNodeB handover. The Multi-Layer Coordination procedure is stopped.
8. If the Multi-Layer Coordination procedure must be performed again to find a new best candidate cell set, the candidate list is updated, and the procedure is restarted based on the updated candidate list. When the candidate list is updated, the reported cell is stored in coverage, and the other cells on the frequency are removed. SCell coverage changes are considered by the function when the candidate lists are updated. The candidate list is updated based on the received reports. If no report is received, time-out occurs. If the timer expires, all cells are removed on the frequency for each missing report. If no candidate cell set remains, the measurements are removed in the UE, and the current cell set is kept without change in configuration.

If the Multi-Layer Coordination procedure is completed, the evaluation of the

criteria for Bandwidth-Triggered Inter-System Handover function is started if the

function is enabled.

For information on the mobility procedures for NR standalone, see NR

Mobility.

Related concepts

Evaluation of the Weight of the Cell Set

Evaluation of the UE Measurement Report

Related Information

Mobility Control at Poor Coverage

Mobility Procedures for NR SA

NR Small Cell Traffic Steering

#### 3.1.1.1 Supported Trigger Quantities for Multi-Layer Coordination

RSRP, RSRQ, or

SINR can be configured as the trigger quantity for the uplink and

downlink

A5

measurements  for PCell and SCell candidates used by the Multi-Layer

Coordination function.

The uplink and downlink A5 measurements for PCell and SCell candidates used by the

Multi-Layer Coordination function can be configured to use one of the following trigger

quantities:

- RSRP
- RSRQ
- SINR Note: SINR is optionally supported by UEs. The ss-SINR-Meas capability is used by UEs to indicate support for SSB-based SINR measurements on NR frequencies.

The TrStSaCellProfileUeCfg.mlcTriggerQuantity attribute is used to

configure the trigger quantity used for the PCell and SCell measurements that are

performed by the

Multi-Layer

Coordination

function.

Table 2   Possible Trigger Quantities for Multi-Layer Coordination

| Value              | Description                                                                                                                                                                                                                                                                                          |
|--------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| RSRP               | RSRP is used as the trigger quantity.                                                                                                                                                                                                                                                                |
| RSRQ               | RSRQ is used as the trigger quantity.                                                                                                                                                                                                                                                                |
| SINR_FALLBACK_RSRP | If the UE supports SINR measurements on NR frequencies, SINR is                                     used as the trigger quantity.  If the UE does not support SINR measurements for NR frequencies,                                     the function falls back to use RSRP as the trigger quantity. |
| SINR_FALLBACK_RSRQ | If the UE supports SINR measurements on NR frequencies, SINR is                                     used as the trigger quantity.  If the UE does not support SINR measurements for NR frequencies,                                     the function falls back to use RSRQ as the trigger quantity. |

The uplink and downlink A5 measurements for PCell and SCell candidates can be configured

through the following attributes that correspond to the trigger quantity configured for

the function:

- TrStSaCellProfileUeCfg.rsrpPCellCandidate
- TrStSaCellProfileUeCfg.rsrpSCellCandidate
- TrStSaCellProfileUeCfg.rsrqPCellCandidate
- TrStSaCellProfileUeCfg.rsrqSCellCandidate
- TrStSaCellProfileUeCfg.sinrPCellCandidate
- TrStSaCellProfileUeCfg.sinrSCellCandidate

#### 3.1.1.2 Evaluation of the Weight of the Cell Set

The Multi-Layer Coordination function evaluates and compares the estimated weight of

the available cell set and the candidate cell sets based on three criteria.

The weight evaluation is divided into three sequential parts. In the description of the

three parts, X equals the value of the

TrStSaCellProfileUeCfg.criterionBetterUeConfig attribute and Y

equals the value of the

TrStSaCellProfileUeCfg.criterionDlAbsoluteOffset attribute. The

configuration of the CaCellProfileUeCfg.servingCellSelectionPolicy

attribute determines if the uplink or downlink direction is prioritized. The steps are

performed in the following order:

1. The complete cell sets are compared in the prioritized direction. The weight of the best candidate cell set must be at least X percentage higher than the weight of the available cell set. In addition, if the prioritized direction is downlink, the weight of the best candidate cell set must be equal to or larger than the sum of Y and the weight of the available cell set.
2. If the weight of the candidate cell set is equal to or larger than the weight of the available cell set for the prioritized direction, the PCells are compared in the prioritized direction. The weight of the candidate PCell must be at least X percentage higher than the weight of the current PCell. In addition, if the prioritized direction is downlink, the weight of the candidate PCell must be equal to or be larger than the sum of Y and the weight of the current PCell.
3. If the weights for the prioritized direction are equal, then the complete cell sets are compared in the other direction. The weight of the best candidate cell set must be at least X percentage higher than the weight of the available cell set. If the prioritized direction is uplink, the weight of the best candidate cell set must be equal to or larger than the sum of Y and the weight of the available cell set.

The comparison is made based on the estimated cell set weight, which is calculated with

one of the following equations, depending on which direction the cell set weight is

estimated:

- Estimated downlink weight = PRBs × slotsPerMillisecond × ModulationOrder × MimoLayersDL × ESSRatio × PatternRatioDL × 133,000 × cellSelectionWeightFactor × dlAvailableCapacityFactor
- Estimated uplink weight = PRBs × slotsPerMillisecond × ModulationOrder × EffectiveMimoLayersUL × UlTxSwitchingGapRatio × PatternRatioUL × 143,000 × cellSelectionWeightFactor

The elements used in the equation have the following definitions:

- ModulationOrder is the number of bits for a modulation symbol. In case of 64QAM, the ModulationOrder value is 6. In case of 256QAM, the ModulationOrder value is 8.
- EffectiveMimoLayersUl is determined as one of the following: If the cell is known to be in uplink two-layer coverage, the value is 2. If the cell is known to not be in uplink two-layer coverage, the value is 1. During initial cell selection, the value is set to the same value as the value of the CaCellProfileUeCfg.effectiveBwImpactUl2Layer attribute. For configurations without uplink MIMO, the value is 1.
- UlTxSwitchingGapRatio is set to 0.7 for the Low-Band SCell in an uplink TX switching configuration, in all other cases it is set to 1.
- The value of ESSRatio is 1 or 0.7. The value of ESSRatio is 0.7 in the cell that is part of an ESS cell pair.
- For TDD, the value of PatternRatioUL is 1 - PatternRatioDL - Overhead. For more information on TDD overhead, see Control Channel Guideline NR.
- For FDD, the value of PatternRatioDL and PatternRatioUL is 1.
- The value of dlAvailableCapacityFactor represents the available capacity factor in downlink. If the NR Advanced Multi-Layer Coordination feature is activated, the value of dlAvailableCapacityFactor is calculated based on the measurements for each cell by using the following equation: 1 / (1 + filtered number of active UEs in downlink). The value of dlAvailableCapacityFactor is in the range of 0-100%. If the NR Advanced Multi-Layer Coordination feature is not activated, the value of dlAvailableCapacityFactor is 100%. For more information on how the dlAvailableCapacityFactor is exchanged between neighbor gNodeBs, see NR Advanced Multi-Layer Coordination.

When the criteria for either comparison are fulfilled, Multi-Layer Coordination

measurements are triggered.

Figure 2   Example Evaluation of the Weight of the Cell Set

In this example with the CaCellProfileUeCfg.servingCellSelectionPolicy

attribute set to PRIORITIZE\_DL\_THP, the UE that supports carrier

aggregation is initially connected to a 15-MHz FDD cell as the PCell, and to a 100-MHz

TDD cell as SCell. The percentage in the

TrStSaCellProfileUeCfg.criterionBetterUeConfig attribute is set

to 10.

1. The Multi-Layer Coordination function compares the best candidate cell set with the available cell set. The downlink weight of the best candidate cell set is not better than the available one by the percentage that is set in the TrStSaCellProfileUeCfg.criterionBetterUeConfig attribute. Therefore, no A5 measurement is started as the criterion for cell set comparison is not fulfilled.
2. The Multi-Layer Coordination function performs additional comparisons for the PCell candidates. The weight of the available cell set is the same as the weight of the candidate cell set. However, the weight of the candidate PCell is higher than the weight of the available PCell by the percentage that is set in the TrStSaCellProfileUeCfg.criterionBetterUeConfig attribute. Therefore, the criterion for PCell comparison is fulfilled.
3. A5 measurement for handover is started. If a valid measurement is returned, handover to the TDD cell can be initiated.

#### 3.1.1.3 Evaluation of the UE Measurement Report

If a UE measurement report is received during the operation of the Multi-Layer

Coordination function, the gNodeB evaluates the report to find the best cell

set.

The gNodeB has the following options to evaluate the received UE measurement report:

- The following evaluations are performed if a PCell report is received: Table 3 PCell Report Evaluation Options Received Report Conditions Actions Performed PCell report The reported PCell is part of the best candidate cell set. All the SCells in the best candidate cell set are in coverage in the selected directions.(1) The additional target evaluation of another reported quantity is either passed or not enabled for the PCell report. Multi-Layer Coordination can initiate handover to the target gNodeB. PCell report All the configured SCell reports are received. Either of the following conditions is true: The reported PCell is not part of the best candidate cell set or at least one of the SCells in the best candidate cell set is not in coverage in the selected directions. The additional target evaluation of another reported quantity is not passed for the PCell report. The candidate list is updated. Afterwards, another iteration of the Multi-Layer Coordination function is triggered if at least one candidate cell set exists in the updated candidate list. Otherwise, all measurements are removed, and the Multi-Layer Coordination function stops. PCell report Not all the configured SCell reports are received. The candidate list is updated based on the reported PCell. The Multi-Layer Coordination function waits for more reports. PCell report(2) All the SCells in the best candidate cell set are in coverage in the selected directions. The Multi-Layer Coordination function initiates SCell reselection. (1) SCell candidates in the best candidate cell set are always selected for the downlink direction. One SCell candidate in the best candidate cell set can be selected for the uplink direction. (2) The report is received when the current PCell is in power reduction coverage or the current PCell is in uplink two-layer coverage. The A5 measurement report interval is set to 240 ms for PCell measurements.
- The following evaluations are performed if an SCell measurement report is received with downlink or uplink coverage status: Table 4 SCell Report Evaluation Options Received Report Best Candidate PCell Is the Same as Current PCell Conditions Actions Performed SCell report Yes Not all configured SCells reports are received. The Multi-Layer Coordination function waits for more reports. SCell report Yes All SCells in the best candidate cell set are in coverage in the selected directions and one of the following is true: If power reduction occurs in the PCell, the PCell is in power reduction coverage.(3) If uplink two-layer coverage is selected for the PCell and the PCell is in uplink two-layer coverage. SCell Reselection procedure is initiated. SCell report Yes All measurement reports for the configured measurements on the cell set are received At least one of the SCells in the best candidate cell set is not in good enough coverage. The candidate list is updated. Afterwards, another iteration of the Multi-Layer Coordination function is triggered if at least one candidate cell set exists in the updated candidate list. Otherwise, all measurements are removed, and the Multi-Layer Coordination function stops. SCell report No The PCell report or at least one of the configured SCell reports is not received. The Multi-Layer Coordination function waits for more reports. SCell report No A PCell report is received before the SCell report is received. The reported PCell is part of the best candidate cell set. All the SCells in the best candidate cell set are in coverage in the selected directions.(3) The Multi-Layer Coordination function waits for another PCell report. A handover can only be triggered by the evaluation of a PCell report. SCell report No The PCell report is received. All configured SCell reports are received. The reported PCell is not part of the best candidate cell set or at least one SCell in the best candidate cell set is not in good enough coverage. The candidate list is updated. Afterwards, another iteration of the Multi-Layer Coordination function is triggered if at least one candidate cell set exists in the candidate list. Otherwise, all measurements are removed, and the Multi-Layer Coordination function stops. (3) SCell candidates in the best candidate cell set are always selected for the downlink direction. One SCell candidate in the best candidate cell set can be selected for the uplink direction. The A5 report amount is set to 1 for SCell measurements.

When the PCell or the SCell candidate list is updated, the candidate cell is marked as in

coverage based on the reported cell.

If the timer expires and no measurement report is received, it is assumed that no cell on

the given frequency is in coverage. In this case, all unreported PCells and SCells that

are related to the given frequency are removed from the candidate list. If at least one

more candidate cell set exists afterwards, the gNodeB restarts the Multi-Layer

Coordination function at the point of finding and comparing the best candidate cell sets

with the available cell set. If no candidate cell set exists, all measurements are

removed and the Multi-Layer Coordination function stops.

#### 3.1.1.4 Additional Target Evaluation of Reported Quantities for Multi-Layer Coordination

The gNodeB can be configured to evaluate reported quantities other than the trigger

quantity that are included in the A5 measurement

report for the

PCell.

The gNodeB can be configured to evaluate a reported quantity included in the PCell A5

measurement report other than the selected trigger quantity for that measurement. The

additional evaluation ensures that the evaluated quantity is not poor in the target

cell. The following attributes can be used to configure the additional reported quantity

to be evaluated:

- TrStSaCellProfileUeCfg.rsrpPCellCandidateAddTargEval
- TrStSaCellProfileUeCfg.rsrqPCellCandidateAddTargEval
- TrStSaCellProfileUeCfg.sinrPCellCandidateAddTargEval

The attribute used to define the additional reported quantity to be evaluated depends on

the trigger quantity defined for the measurements.

Table 5   Possible Additional Reported Quantities for Multi-Layer Coordination

| Trigger Quantity   | Attribute                                            | Possible Additional Reported Quantities   |
|--------------------|------------------------------------------------------|-------------------------------------------|
| RSRP               | TrStSaCellProfileUeCfg.rsrpPCellCandidateAddTargEval | None     RSRQ     SINR                    |
| RSRQ               | TrStSaCellProfileUeCfg.rsrqPCellCandidateAddTargEval | None     RSRP                             |
| SINR               | TrStSaCellProfileUeCfg.sinrPCellCandidateAddTargEval | None     RSRP     RSRQ     RSRP and RSRQ  |

The reported value of the configured additional quantity included in the measurement

report is evaluated against a threshold. The threshold corresponds to the threshold

value used by the UE if the reported quantity is used as the trigger quantity for

A5 measurements for the

PCell. If the value of the reported quantity is lower than or equal to the threshold

value, the reported cell is treated as a cell out of coverage. If the value of the

reported quantity is higher than the threshold value, the reported cell is considered to

be good enough to be a handover target. For more information on the actions performed

when a A5 measurement report for the

PCell is received, see Evaluation of the UE Measurement Report.

### 3.1.2 UE Group Support for Multi-Layer Coordination

The Multi-Layer Coordination function is adapted to the UE Grouping

Framework.

The following configuration attributes that are used by the Multi-Layer Coordination

function belong to MO classes that are adapted to the UE Grouping Framework:

- CaCellProfileUeCfg.servingCellSelectionPolicy
- TrStSaCellProfileUeCfg.criterionBetterUeConfig
- TrStSaCellProfileUeCfg.maxReportCells
- TrStSaCellProfileUeCfg.mlcAllowedCellSetChangeAction
- TrStSaCellProfileUeCfg.mlcEnabled
- TrStSaCellProfileUeCfg.mlcTriggerQuantity
- TrStSaCellProfileUeCfg.rsrpPCellCandidate
- TrStSaCellProfileUeCfg.rsrpPCellCandidateAddTargEval
- TrStSaCellProfileUeCfg.rsrpPCellCandidatePcOffset
- TrStSaCellProfileUeCfg.rsrpSCellCandidate
- TrStSaCellProfileUeCfg.rsrqPCellCandidate
- TrStSaCellProfileUeCfg.rsrqPCellCandidateAddTargEval
- TrStSaCellProfileUeCfg.rsrqSCellCandidate
- TrStSaCellProfileUeCfg.sinrPCellCandidate
- TrStSaCellProfileUeCfg.sinrPCellCandidateAddTargEval
- TrStSaCellProfileUeCfg.sinrSCellCandidate
- TrStSaNrFreqRelProfileUeCfg.hoToPrioritizedCell
- TrStSaNrFreqRelProfileUeCfg.pCellAllowed
- TrStSaNrFreqRelProfileUeCfg.rsrpPCellCandidateOffset
- TrStSaNrFreqRelProfileUeCfg.rsrpSCellCandidateOffset
- TrStSaNrFreqRelProfileUeCfg.rsrqPCellCandidateOffset
- TrStSaNrFreqRelProfileUeCfg.rsrqSCellCandidateOffset
- TrStSaNrFreqRelProfileUeCfg.sinrPCellCandidateOffset
- TrStSaNrFreqRelProfileUeCfg.sinrSCellCandidateOffset
- UeMCNrFreqRelProfileUeCfg.connModeAllowedPCell

The attributes are read from MO instances that are selected based on the UE groups

that the UE belongs to.

When the UE groups that the UE belongs to change, the change can result in the selection

of a new instance of one or several MO classes to which the listed attributes belong. If

any of the listed attributes has a different value in the newly selected MO instance,

the following actions take place:

- If a Multi-Layer Coordination measurement procedure is ongoing, the procedure stops and all ongoing Multi-Layer Coordination measurements are removed.
- If a Bandwidth-Triggered Inter-System Handover measurement procedure is ongoing, the procedure stops and the B2 measurements that are configured in the UE are removed.

The UE group support for this function is controlled by the User- and Service-Specific

Mobility feature. If the license of this feature is not activated, configuration data is

always taken from the Base instances of the MO classes to which the

listed attributes belong. For more information on the feature license activation, see

User- and Service-Specific Mobility.

#### 3.1.2.1 UE Grouping in Multi-Layer Coordination with External gNodeBs

If the User- and Service-Specific Carrier Aggregation feature is

activated, the carrier aggregation configuration used by the Multi-Layer Coordination

function can be affected in the following ways:

- The CaCellProfileUeCfg.blockedSCellFreqList attribute can filter SCell candidates. The attribute contains a list of arfcnValueNRDl values that are not allowed to be SCells.
- The CaCellProfileUeCfg.maxDlCcAllowed and CaCellProfileUeCfg.maxUlCcAllowed attributes can control if carrier aggregation is allowed and how many component carriers can be used in carrier aggregation.
- The carrier aggregation configuration attributes used for each UE group are transferred between NG-RAN nodes. The attributes are considered when an external cell is a PCell candidate.
- The measurement activities of the Multi-Layer Coordination function stop if a UE group change affects carrier aggregation configurations.

For more information on UE group support for carrier aggregation, see User- and Service-Specific Carrier

Aggregation.

### 3.1.3 Multi-Layer Coordination Interaction with Other Features

Multi-Layer Coordination measurements are removed from the UE if ongoing Multi-Layer

Coordination measurements exist and the UE group support-related configuration data of

one or more of the following features changes because of a UE group change:

| NR DL Carrier Aggregation     |    | For more information, see UE Group Support for NR DL Carrier                                 Aggregation in NR DL Carrier Aggregation.         |
|-------------------------------|----|------------------------------------------------------------------------------------------------------------------------------------------------|
|                               |    |                                                                                                                                                |
| NR Uplink Carrier Aggregation |    | For more information, see UE Group Support for NR Uplink Carrier                                 Aggregation in NR Uplink Carrier Aggregation. |

## 3.2 Dynamic Cell Set Change during Mobility

The Dynamic Cell Set Change during Mobility function can be used in NR standalone to

change the cell set dynamically for the UE during mobility if the UE is in RRC\_CONNECTED

state.

The function provides support for a periodic evaluation to find the best cell set for the

UE in NR, and to evaluate if the UE must be moved to LTE.

The function uses the Multi-Layer Coordination procedure to perform a periodic traffic

steering evaluation for a UE in RRC\_CONNECTED state to find the best cell set for the

UE. Optionally, the Bandwidth-Triggered Inter-System Handover procedure is also used, if

enabled. The evaluation for Dynamic Cell Set Change during Mobility is performed after

the periodic interval elapses.

Figure 3   Example

for Dynamic Cell Set Change during Mobility with the UE Moving into Better

Coverage

In Figure 3, while the 3CC-capable UE

continuously moves into better coverage, the Dynamic Cell Set Change during Mobility

function operates as follows:

1. The UE is connected to FDD Cell 2 and SCell Selection blindly selects TDD Cell 1 and TDD Cell 2 as SCells. If the Multi-Layer Coordination function is enabled, it runs a Multi-Layer Coordination procedure, but it cannot find any better cell sets for the UE. For more information on the Multi-Layer Coordination function, see Multi-Layer Coordination.
2. When the periodic interval elapses, the Dynamic Cell Set Change during Mobility function starts a Multi-Layer Coordination procedure, which detects the coverage of FDD Cell 1. Handover is performed to FDD Cell 1, and FDD Cell 2 is configured as SCell at handover.
3. When the periodic interval elapses, the Dynamic Cell Set Change during Mobility function starts a Multi-Layer Coordination procedure, which detects the coverage of TDD Cell 2. SCell Reselection is performed, which results in the addition of TDD Cell 2 as SCell.
4. When the periodic interval elapses, the Dynamic Cell Set Change during Mobility function starts a Multi-Layer Coordination procedure, which detects the PCell coverage of TDD Cell 2 and the SCell coverage of TDD Cell 1. Handover is performed to TDD Cell 2, and TDD Cell 1 and FDD Cell 1 are configured as SCells at handover.
5. When the periodic interval elapses, the Dynamic Cell Set Change during Mobility function starts a Multi-Layer Coordination procedure, which detects the PCell coverage of TDD Cell 1 and the SCell coverage of FDD Cell 1 and TDD Cell 2. Handover is performed to TDD Cell 1, and TDD Cell 2 and FDD Cell 1 are configured as SCells at handover.

Figure 4   Example for Dynamic Cell Set Change during Mobility with Inter-System Handover to

LTE

In Figure 4, while the 3CC-capable UE

continuously moves out of coverage with both LTE and NR coverage available, the Dynamic

Cell Set Change during Mobility function operates as follows:

1. The UE is connected to TDD Cell 1 from RRC\_IDLE or RRC\_INACTIVE state, and SCell Selection blindly selects FDD Cell 1 and TDD Cell 2 as SCells. When the periodic interval elapses, no Multi-Layer Coordination measurements are performed because the UE is already in the best cell set.
2. When the UE enters poor PCell coverage for TDD Cell 1, an inter-frequency NR Mobility handover is performed to TDD Cell 2 as PCell. A blind SCell Selection is performed to TDD Cell 1 and FDD Cell 1 as SCells. When the periodic interval elapses, no Multi-Layer Coordination measurements are performed because the UE is already in the best cell set.
3. When the UE enters poor PCell coverage for TDD Cell 2, an inter-frequency NR Mobility handover is performed to FDD Cell 1 as PCell. A blind SCell Selection is performed to TDD Cell 1 and TDD Cell 2 as SCells.
4. When the periodic interval elapses, the Dynamic Cell Set Change during Mobility function starts a Multi-Layer Coordination procedure, which detects the coverage of TDD Cell 2 and FDD Cell 1. The function performs an SCell Reselection procedure, which results in the removal of TDD Cell 1 as SCell and the addition of FDD Cell 2 as SCell.
5. When the UE enters poor PCell coverage for FDD Cell 1, an inter-frequency NR Mobility handover is performed to FDD Cell 2 as PCell. A blind SCell Selection is performed and TDD Cell 1 and TDD Cell 2 are configured as SCells. When the periodic interval elapses, the Dynamic Cell Set Change during Mobility function starts a Multi-Layer Coordination procedure, which searches for better coverage, but no better coverage can be detected.
6. When the periodic interval elapses, the Dynamic Cell Set Change during Mobility function starts a Multi-Layer Coordination procedure, which cannot find any better NR coverage, but detects that the available cell set bandwidth is equal to or below the configured aggregated bandwidth threshold for the UE. The Bandwidth-Triggered Inter-System Handover function performs a handover to LTE if LTE coverage is detected.

Increased handover rejections and reduced throughput capacity

can be expected if the target PCell is blocked for UEs in

RRC\_CONNECTED

mode.

Related concepts

Operation of Multi-Layer Coordination

Operation of Bandwidth-Triggered Inter-System Handover

Evaluation of the Weight of the Cell Set

Evaluation of the UE Measurement Report

Multi-Layer Coordination

Bandwidth-Triggered Inter-System Handover

Related tasks

Configure Dynamic Cell Set Change during Mobility

Related Information

Master Node Criteria for NR-DC Setup

Mobility Control at Poor Coverage

### 3.2.1 Operation of Dynamic Cell Set Change during Mobility

The Dynamic Cell Set Change during Mobility function can start the traffic steering

evaluation periodically when the related interval elapses. The Dynamic Cell Set Change

during Mobility function interacts with the Multi-Layer Coordination and the

Bandwidth-Triggered Inter-System Handover functions, and it uses their functional

procedures. If the Multi-Layer Coordination and the Bandwidth-Triggered Inter-System

Handover functions are enabled, an initial traffic steering evaluation is performed with

those functions before the Dynamic Cell Set Change during Mobility procedure starts.

Figure 5   Operational Flow of Dynamic Cell Set Change during Mobility

1. If a UE Connects from RRC\_IDLE or RRC\_INACTIVE state, a Multi-Layer Coordination procedure is performed if it is allowed to start. For more information on the conditions to start the Multi-Layer Coordination function, see Operation of Multi-Layer Coordination. If a UE enters the cell by incoming handover or RRC Reestablishment, the periodic interval is started if the Dynamic Cell Set change during Mobility function is enabled. The function is enabled with the TrStSaCellProfileUeCfg.mlcPeriodicEnabled attribute.
2. If a handover is triggered because of the Multi-Layer Coordination procedure, the operational process of the Dynamic Cell Set Change during Mobility function is stopped, and the UE moves to another cell. Otherwise, if enabled, a Bandwidth-Triggered Inter-System Handover procedure is performed. For more information on this function, see Operation of Bandwidth-Triggered Inter-System Handover. If the NR Data-Aware Mobility feature is activated, an evaluation is performed to start monitoring the buffer, the throughput, or both in the gNodeB. For more information, see NR Data-Aware Mobility.
3. If a handover or RwR is triggered because of the Bandwidth-Triggered Inter-System Handover procedure, the operational process is stopped, and the UE moves to another cell.
4. If the Dynamic Cell Set Change during Mobility function is enabled, the periodic interval is started. Otherwise, the operational process is stopped. The length of the periodic interval can be configured with the TrStSaCellProfileUeCfg.mlcPeriodicInterval attribute.
5. A new traffic steering evaluation is performed when the periodic interval elapses and the following conditions are fulfilled: The NR-DC-capable UE is not configured with a Secondary Node. The UE is not in the search zone for the Mobility Control at Poor Coverage function. Otherwise, the periodic interval is restarted.

Related concepts

Operation of Multi-Layer Coordination

Operation of Bandwidth-Triggered Inter-System Handover

Evaluation of the Weight of the Cell Set

Evaluation of the UE Measurement Report

Multi-Layer Coordination

Bandwidth-Triggered Inter-System Handover

Related Information

Master Node Criteria for NR-DC Setup

Mobility Control at Poor Coverage

### 3.2.2 UE Group Support for Dynamic Cell Set Change during Mobility

The Dynamic Cell Set Change during Mobility function is adapted to the UE Grouping

Framework.

The following configurable attributes, which are used by the Dynamic Cell Set Change

during Mobility function, belong to MO classes that are adapted to the UE Grouping

Framework:

- CaCellProfileUeCfg.servingCellSelectionPolicy
- TrStSaCellProfileUeCfg.criterionBetterUeConfig
- TrStSaCellProfileUeCfg.maxReportCells
- TrStSaCellProfileUeCfg.mlcAllowedCellSetChangeAction
- TrStSaCellProfileUeCfg.mlcPeriodicEnabled
- TrStSaCellProfileUeCfg.mlcPeriodicInterval
- TrStSaCellProfileUeCfg.mlcTriggerQuantity
- TrStSaCellProfileUeCfg.rsrpPCellCandidate
- TrStSaCellProfileUeCfg.rsrpPCellCandidateAddTargEval
- TrStSaCellProfileUeCfg.rsrpPCellCandidatePcOffset
- TrStSaCellProfileUeCfg.rsrpSCellCandidate
- TrStSaCellProfileUeCfg.rsrqPCellCandidate
- TrStSaCellProfileUeCfg.rsrqPCellCandidateAddTargEval
- TrStSaCellProfileUeCfg.rsrqSCellCandidate
- TrStSaCellProfileUeCfg.sinrPCellCandidate
- TrStSaCellProfileUeCfg.sinrPCellCandidateAddTargEval
- TrStSaCellProfileUeCfg.sinrSCellCandidate
- TrStSaNrFreqRelProfileUeCfg.hoToPrioritizedCell
- TrStSaNrFreqRelProfileUeCfg.pCellAllowed
- TrStSaNrFreqRelProfileUeCfg.rsrpPCellCandidateOffset
- TrStSaNrFreqRelProfileUeCfg.rsrpSCellCandidateOffset
- TrStSaNrFreqRelProfileUeCfg.rsrqPCellCandidateOffset
- TrStSaNrFreqRelProfileUeCfg.rsrqSCellCandidateOffset
- TrStSaNrFreqRelProfileUeCfg.sinrPCellCandidateOffset
- TrStSaNrFreqRelProfileUeCfg.sinrSCellCandidateOffset
- UeMCNrFreqRelProfileUeCfg.connModeAllowedPCell

The attribute values are read from MO instances that are selected based on the UE

groups that the UE belongs to.

When the UE groups that the UE belongs to change, the change can result in the selection

of a new instance of one or several MO classes to which the listed attributes belong. If

any of the listed attributes has a different value in the newly selected MO instance,

the following actions take place:

- If the periodic interval timer is active, it stops.
- If a Multi-Layer Coordination measurement procedure is ongoing, the procedure stops and all ongoing Multi-Layer Coordination measurements are removed.
- If a Bandwidth-Triggered Inter-System Handover measurement procedure is ongoing, the procedure stops and the B2 measurements that are configured in the UE are removed.
- If the new configuration enables the Dynamic Cell Set Change during Mobility function, the function is started or restarted by starting a periodic interval timer. If the timer expires, the Multi-Layer Coordination procedure and, optionally, the Bandwidth-Triggered Inter-System Handover procedure is started if the functions that these procedures belong to are enabled in the new UE group.

The UE group support for this function is controlled by the User- and Service-Specific

Mobility feature. If the license of this feature is not activated, configuration data is

always taken from the Base instances of the MO classes to which the

listed attributes belong. For more information on the feature license activation, see

User- and Service-Specific Mobility.

For more information on UE group support, see UE Grouping in

Multi-Layer Coordination with External gNodeBs in NR Traffic Steering.

### 3.2.3 Dynamic Cell Set Change during Mobility Interaction with Other Features

Multi-Layer Coordination measurements are removed from the UE and the periodic interval

is restarted if the following conditions are true:

- Ongoing Multi-Layer Coordination measurements exist in the UE.
- The UE group support-related configuration data of one or more of the following features changes because of a UE group change: NR DL Carrier Aggregation For more information, see UE Group Support for NR DL Carrier Aggregation in NR DL Carrier Aggregation. NR Uplink Carrier Aggregation For more information, see UE Group Support for NR Uplink Carrier Aggregation in NR Uplink Carrier Aggregation. NR Traffic Steering For more information, see UE Group Support for Multi-Layer Coordination in NR Traffic Steering.

## 3.3 Traffic Steering Cell Reselection Priority at UE Release

With the Multi-Layer Coordination and the Dynamic Cell Set Change during Mobility

functions, the NR Traffic Steering feature can be configured to send CRP to the UEs. The

feature only sends CRP if the UEs in RRC\_CONNECTED state are released to RRC\_IDLE state or

they are suspended to RRC\_INACTIVE state. As a result, while the UEs are in RRC\_IDLE state,

they are kept in their last PCell and stay connected to NR if carrier aggregation is

configured at UE release to RRC\_IDLE state.

The Multi-Layer Coordination procedure might move UEs to a PCell where they have the best

estimated throughput. However, when a UE enters RRC\_IDLE or RRC\_INACTIVE state, the SIB

might direct it to a less optimal cell than its latest PCell. When such a UE reenters

RRC\_CONNECTED state, it must be moved again. To prevent these unnecessary handovers, the

NR Traffic Steering feature can be configured to send CRP at UE release to override the

SIB priorities.

The CRP priorities keep UEs on NR

frequencies

because NR frequencies are prioritized over E-UTRAN frequencies.

For traffic steering, this function can be used in the following ways, based on the

setting of the TrStSaCellProfileUeCfg.actionAtRelease attribute:

- If the attribute is set to CA\_CONF, CRP is sent if the following criteria are fulfilled: The UE is configured with carrier aggregation. The UE is released from RRC\_CONNECTED state to RRC\_IDLE state because of inactivity, or it is released to RRC\_INACTIVE state at suspend. The Multi-Layer Coordination function is enabled by setting the TrStSaCellProfileUeCfg.mlcEnabled attribute to true.
- If the attribute is set to MLC\_CONDITIONAL, CRP is sent if the following criteria are fulfilled: The UE is released from RRC\_CONNECTED state to RRC\_IDLE state because of inactivity, or it is released to RRC\_INACTIVE state at suspend. The Multi-Layer Coordination procedure is already performed at least once for the UE in RRC\_CONNECTED state.

The gNodeB sends CRP information together with the t320 validity timer in the RRC

RRCRelease message, as described in 3GPP TS 38.331. The CRP IE

contains the frequency priorities described for the

TrStSaCellProfileUeCfg.actionAtRelease attribute. These

priorities override the SIB priorities, which are configured with the following

attributes:

- NRFreqRelation.cellReselectionPriority
- EUtranFreqRelation.cellReselectionPriority

For more information, see 3GPP TS 38.331; NR; Radio Resource Control (RRC);

Protocol specification.

Example 1   Stationary UE with Support for Carrier Aggregation with FDD PCell

A UE that benefits most from an FDD PCell might be steered with the following

steps:

1. Initially, the UE is connected to a TDD cell, as NR TDD cells have the highest SIB priority.
2. The Multi-Layer Coordination procedure moves the UE to an FDD PCell with a TDD SCell.
3. If the UE is released, the gNodeB sends the CRP and the t320 timer in the RRC RRCRelease message. The UE remains in its latest PCell.
4. If the t320 timer expires, the UE selects a TDD cell based on the SIB priority.

Related concepts

Multi-Layer Coordination

Related tasks

Configure Traffic Steering Cell Reselection Priority at UE Release

Related Information

Cell Reselection Priority at UE Release

### 3.3.1 UE Group Support for Traffic Steering Cell Reselection Priority at UE Release

The Traffic Steering Cell Reselection Priority at UE Release function is adapted to

the UE Grouping Framework.

The following configuration attributes, which are used by the Traffic Steering Cell

Reselection Priority at UE Release

function,

belong to an MO class that is adapted to the UE Grouping Framework:

- TrStSaCellProfileUeCfg.actionAtRelease
- TrStSaCellProfileUeCfg.mlcEnabled
- TrStSaCellProfileUeCfg.t320

The attributes are read from MO instances that are selected based on the UE groups

that the UE belongs to.

The UE group support for this function is controlled by the User- and Service-Specific

Mobility feature. If the license of this feature is not activated, configuration data is

always taken from the Base instances of the listed MO classes.

## 3.4 Bandwidth-Triggered Inter-System Handover

The function enables the gNodeB to move the UE to LTE if the aggregated NR bandwidth

of the cells that are in coverage is below a configurable threshold.

The following terms are used in the description of the operational process:

If the available NR bandwidth of the cells in coverage is equal or below the configurable

threshold, IRAT handover or RwR is initiated to an LTE cell that is in coverage if the

following conditions are fulfilled:

- Connection setup or resume is finished.
- The Multi-Layer Coordination procedure is finished.

Figure 6   Bandwidth-Triggered Inter-System Handover

Example 2   Example for the Calculation of the Available Cell

Set Bandwidth Based on UE Capability

| UE Capability                    | Available Cell Set Bandwidth in Region 1   | Available Cell Set Bandwidth in Region 2   | Available Cell Set Bandwidth in Region 3   | Available Cell Set Bandwidth in Region 4   |
|----------------------------------|--------------------------------------------|--------------------------------------------|--------------------------------------------|--------------------------------------------|
| Carrier aggregation and NR-DC    | Not calculated                             | 40 MHz + 10 MHz                            | 40 MHz + 10 MHz                            | 10 MHz                                     |
| Carrier aggregation, no NR-DC    | 40 MHz + 10 MHz                            | 40 MHz + 10 MHz                            | 40 MHz + 10 MHz                            | 10 MHz                                     |
| No carrier aggregation, no NR-DC | 40 MHz                                     | 40 MHz                                     | 10 MHz                                     | 10 MHz                                     |

Mobility Procedures Used by Bandwidth-Triggered Inter-System Handover

The following mobility procedures are used by the Bandwidth-Triggered Inter-System

Handover function:

- Evaluation of PCI for Handover
- IRAT Handover to LTE
- RwR to LTE

Related tasks

Configure Bandwidth-Triggered Inter-System Handover

Related Information

Evaluation of PCI for Handover

IRAT Handover to LTE

### 3.4.1 Traffic Steering Behavior during Bandwidth-Triggered Inter-System Handover

Traffic steering behavior during bandwidth-triggered inter-system handover depends

on the NR capacity layer, the coverage layer, and UE

capability.

Figure 7 and Table 6 show how the Bandwidth-Triggered

Inter-System Handover function steers different UEs depending on the NR and LTE coverage

and UE capabilities.

Figure 7   Traffic Steering Behavior during Bandwidth-Triggered Inter-System

Handover

Table 6   Traffic Steering Behavior during Bandwidth-Triggered Inter-System

Handover

|   Region | UE Supports NR Carrier Aggregation                                                                                                                                                                                       | UE Does Not Support NR Carrier Aggregation                                                                                                             |
|----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------|
|        1 | Handover is not triggered.                                                                                                                                                                                               | Handover is not triggered.                                                                                                                             |
|        2 | The                                 UE                                 is able to set up carrier aggregation configuration; handover is not                                 triggered.                                   | The UE is unable to set up carrier aggregation configuration,                                 handover is triggered.                                   |
|        3 | The UE is able to set up carrier aggregation configuration, but there                                 is no coverage from the capacity layer; handover is triggered.                                                     | The UE is unable to set up carrier aggregation configuration;                                 handover is triggered.                                   |
|        4 | The UE is able to set up carrier aggregation, but there is no                                 coverage from the capacity layer, and there is no LTE coverage;                                 handover is not triggered. | The UE is unable to set up carrier aggregation configuration, and                                 there is no LTE coverage; handover is not triggered. |

### 3.4.2 Operation of Bandwidth-Triggered Inter-System Handover

The Bandwidth-Triggered Inter-System Handover function can start if the UE connects

from RRC\_IDLE or RRC\_INACTIVE state, or if the Dynamic Cell Set Change during Mobility

procedure is finished without handover.

Before the function starts, the gNodeB gathers the SCell coverage by receiving an A1 or

A2 measurement report for each configured SCell, or at the time-out of the SCell

supervision timer.

Figure 8   Evaluation to Start the IRAT Traffic Steering Measurement Procedure

1. When the UE connects from RRC\_IDLE or RRC\_INACTIVE state, or the Dynamic Cell Set Change during Mobility procedure is finished without handover, the gNodeB checks if there is an established PDU session. If there are no established PDU sessions, the Bandwidth-Triggered Inter-System Handover process stops.
2. If at least one PDU session is established, the gNodeB checks if it is possible to establish NR-DC for the UE according to the Master Node criteria for NR-DC Setup. If it is possible to establish NR-DC for the UE, the process stops. For more information on the Master Node criteria for NR-DC Setup, see NR-NR Dual Connectivity. Note: It is required to enable the Dynamic Cell Set Change during Mobility function if NR-DC is enabled in the cell to periodically attempt IRAT Traffic Steering. If the UE is in the search zone for the Mobility Control at Poor Coverage function of the NR Mobility feature, the process stops. For more information on the Mobility Control at Poor Coverage function, see NR Mobility.
3. If the Multi-Layer Coordination function is allowed to start, it is performed. If it results in a handover, the process is stopped.
4. If the TrStSaCellProfileUeCfg.bwTrigISHoEnabled attribute is set to false, the process is stopped.
5. If the available cell set bandwidth for the UE is lower than or equal to the threshold that is set in the TrStSaCellProfileUeCfg.aggregatedBwThreshold attribute, the IRAT Traffic Steering Measurement procedure is started. Otherwise, the process is stopped.

Related Information

Evaluation of PCI for Handover

IRAT Handover to LTE

Master Node Criteria for NR-DC Setup

#### 3.4.2.1 IRAT Traffic Steering Measurement Procedure

Figure 9   Operational Flow of the IRAT Traffic Steering Measurement Procedure

1. To start the IRAT traffic steering measurement procedure, the gNodeB checks if the following criteria are fulfilled: At least one E-UTRAN frequency is available to which the UE can be moved. The E-UTRAN frequency selection is based on the following criteria: If the frequency relation only allows certain PLMNs and the UE has an MRL, at least one PLMN must be common between the PLMN list and the MRL. The UE is capable of performing measurements on the target frequency. The target RAT is not restricted according to the MRL. The UeMCEUtranFreqRelProfileUeCfg.connModeAllowedPCell attribute is set to true for the frequency relation. Note: If the UE is not in the search zone for the Mobility Control at Poor Coverage, PLMN lists are specified on the frequency relation level and on the cell level. If these lists are set inconsistently, the UE can make measurements on too many or too few frequencies. The UE supports B2 measurements.
2. The UE is configured with B2 measurements that use either RSRP, RSRQ, or SINR as the trigger quantity, corresponding to the value of the TrStSaCellProfileUeCfg.bwTrigISHoTriggerQuantity attribute. The B2 measurements can be configured through the following attributes: TrStSaCellProfileUeCfg.rsrpPCellCandidateB2 TrStSaCellProfileUeCfg.rsrqPCellCandidateB2 TrStSaCellProfileUeCfg.sinrPCellCandidateB2Note: It is possible to configure an additional evaluation for reported target cells through checking a reported quantity other than the configured trigger quantity. The B2 measurement is configured for the E-UTRAN frequencies to which the UE can be moved based on the criteria for E-UTRAN frequency selection.
3. After the reception of a B2 measurement report, the gNodeB evaluates the reported cell candidate based on the following criteria: The reported cell is known and valid for mobility. The gNodeB checks the PLMN of the cell, or the MRL, if applicable. The target RAT is not restricted in the MRL. If additional target evaluation of a reported quantity is enabled, the value of the evaluated reported quantity is over the configured threshold. Note: More than one cell can be reported by the UE in the B2 measurement report through configuring the TrStSaCellProfileUeCfg.maxReportCells attribute, however, the gNodeB only examines the first reported cell.
4. After the evaluation of the measurement report, the gNodeB starts the handover to a reported E-UTRAN cell that passes the evaluation. For UEs that do not support IRAT inter-system handover, RwR is triggered instead. If no successful handover is performed, the gNodeB does not retry performing the handover. For information on PCI evaluation and IRAT handover, see NR Mobility.

#### 3.4.2.2 Handling of the B2 Measurement Report Priority

During the measurement period, the UE performs

B2

measurements for E-UTRAN frequencies that the UE is configured to measure on.

The E-UTRAN frequency relations that are used by the

IRAT

Traffic Steering Measurement Procedure can be prioritized to define

preferred frequencies when the UE searches for PCell candidates. The E-UTRAN frequency

priorities are controlled by the

UeMCEUtranFreqRelProfileUeCfg.connModePrioPCell attribute.

The priority of the E-UTRAN frequency relations is checked when the

B2

measurement reports are received during the

B2

measurement period, as follows:

- The measurement report for the highest prioritized E-UTRAN frequency immediately triggers a handover to the reported E-UTRAN cell.
- Measurement reports for other than the highest prioritized E-UTRAN frequency are handled the following way: If no measurement report is already stored, the measurement report is stored. If the priority of the new measurement report is equal to or higher than a stored measurement report, the new report replaces the stored report. Otherwise, the new measurement report is discarded.

When the measurement period ends, handover is initiated to the reported E-UTRAN cell if a

stored measurement report exists.

The measurement period lasts enough for the UE to measure and report a candidate PCell on

all E-UTRAN frequencies that the UE is configured to measure on.

#### 3.4.2.3 Supported Trigger Quantities for IRAT Traffic Steering Measurement Procedure

RSRP, RSRQ, or SINR can be configured as the

trigger

quantity for the B2 measurements used by the Bandwidth-Triggered Inter-System Handover

function and

the

NR Data-Aware Mobility feature.

The B2 measurements used by the IRAT traffic steering measurement procedure can be

configured to use

one of the following trigger quantities:

- RSRP
- RSRQ
- SINR Note: RSRP and RSRQ are supported by all UEs, while SINR is optionally supported. The ss-SINR-Meas capability is used by UEs to indicate support from SSB-based SINR measurements on NR frequencies. The rs-SINR-MeasEUTRA capability is used to indicate support for SSB-based SINR measurements on E-UTRAN frequencies.

The TrStSaCellProfileUeCfg.bwTrigISHoTriggerQuantity attribute is used

to configure the trigger quantity used for B2 measurements made by the

Bandwidth-Triggered Inter-System Handover function and the NR Data-Aware Mobility

feature.

Table 7   Possible Trigger Quantities for the IRAT Traffic Steering Measurement

Procedure

| Value              | Description                                                                                                                                                                                                                                                                                                                                                      |
|--------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| RSRP               | RSRP is used as the trigger quantity.                                                                                                                                                                                                                                                                                                                            |
| RSRQ               | RSRQ is used as the trigger quantity.                                                                                                                                                                                                                                                                                                                            |
| SINR_FALLBACK_RSRP | If the UE supports SINR measurements for NR and E-UTRAN                                     frequencies, SINR is used as the trigger quantity.  If the UE does not support SINR measurements for NR or E-UTRAN                                     frequencies, the function falls back to use RSRP as the trigger                                     quantity. |
| SINR_FALLBACK_RSRQ | If the UE supports SINR measurements for NR and E-UTRAN                                     frequencies, SINR is used as the trigger quantity.  If the UE does not support SINR measurements for NR or E-UTRAN                                     frequencies, the function falls back to use RSRQ as the trigger                                     quantity. |

The B2 measurements can be configured

through

one of the following attributes that corresponds to the trigger quantity configured for

the function:

- TrStSaCellProfileUeCfg.rsrpPCellCandidateB2
- TrStSaCellProfileUeCfg.rsrqPCellCandidateB2
- TrStSaCellProfileUeCfg.sinrPCellCandidateB2

#### 3.4.2.4 Additional Target Evaluation of Reported Quantities for IRAT Traffic Steering Measurement Procedure

The gNodeB can be configured to evaluate reported quantities other than the trigger

quantity that are included in the B2 measurement report.

The gNodeB can be configured to evaluate a reported quantity included in the B2

measurement report other than the trigger quantity configured for that measurement. The

additional evaluation ensures that the evaluated reported quantity is not poor in the

target cell. The following attributes can be used to configure the additional reported

quantity to be evaluated:

- TrStSaCellProfileUeCfg.rsrpPCellCandidateB2AddTargEval
- TrStSaCellProfileUeCfg.rsrqPCellCandidateB2AddTargEval
- TrStSaCellProfileUeCfg.sinrPCellCandidateB2AddTargEval

The attribute used to configure the additional reported quantity to be evaluated

corresponds to the trigger quantity defined for the IRAT traffic steering measurement

procedure.

Table 8   Possible Additional Reported Quantities for the IRAT Traffic Steering

Measurement Procedure

| Trigger Quantity   | Attribute                                              | Possible Additional Reported Quantities to Evaluate   |
|--------------------|--------------------------------------------------------|-------------------------------------------------------|
| RSRP               | TrStSaCellProfileUeCfg.rsrpPCellCandidateB2AddTargEval | None     RSRQ     SINR                                |
| RSRQ               | TrStSaCellProfileUeCfg.rsrqPCellCandidateB2AddTargEval | None     RSRP                                         |
| SINR               | TrStSaCellProfileUeCfg.sinrPCellCandidateB2AddTargEval | None     RSRP     RSRQ     RSRP and RSRQ              |

### 3.4.3 UE Group Support for Bandwidth-Triggered Inter-System Handover

The Bandwidth-Triggered Inter-System Handover function is adapted to the UE Grouping

Framework.

The following configuration attributes, which are used by the Bandwidth-Triggered

Inter-System Handover function, belong to MO classes that are adapted to the UE Grouping

Framework:

- TrStSaCellProfileUeCfg.aggregatedBwThreshold
- TrStSaCellProfileUeCfg.bwTrigISHoEnabled
- TrStSaCellProfileUeCfg.bwTrigISHoTriggerQuantity
- TrStSaCellProfileUeCfg.maxReportCells
- TrStSaCellProfileUeCfg.rsrpPCellCandidateB2
- TrStSaCellProfileUeCfg.rsrpPCellCandidateB2AddTargEval
- TrStSaCellProfileUeCfg.rsrqPCellCandidateB2
- TrStSaCellProfileUeCfg.rsrqPCellCandidateB2AddTargEval
- TrStSaCellProfileUeCfg.sinrPCellCandidateB2
- TrStSaCellProfileUeCfg.sinrPCellCandidateB2AddTargEval
- TrStSaEUtranFreqRelProfileUeCfg.rsrpPCellCandidateB2Offsets
- TrStSaEUtranFreqRelProfileUeCfg.rsrqPCellCandidateB2Offsets
- TrStSaEUtranFreqRelProfileUeCfg.sinrPCellCandidateB2Offsets
- UeMCEUtranFreqRelProfileUeCfg.connModeAllowedPCell
- UeMCEUtranFreqRelProfileUeCfg.connModePrioPCell

The attributes are read from MO instances that are selected based on the UE groups

that the UE belongs to.

When the UE groups that the UE belongs to change, the change can result in the selection

of a new instance of one or several MO classes to which the listed attributes belong. If

ongoing B2 measurements exist in the UE and any of the

listed attributes has a different value because of the selection of a new MO instance,

the B2 measurements are removed from the UE.

The UE group support for this function is controlled by the User- and Service-Specific

Mobility feature. If the license of this feature is not activated, configuration data is

always taken from the Base instances of the following MO classes:

- TrStSaCellProfileUeCfg
- TrStSaEUtranFreqRelProfileUeCfg
- UeMCEUtranFreqRelProfileUeCfg

For more information on the feature license activation, see User- and Service-Specific Mobility.

### 3.4.4 Bandwidth-Triggered Inter-System Handover Interaction with Other Features

B2 measurements are removed from the UE if ongoing B2 measurements exist and the UE group

support-related configuration data of one or more of the following features changes

because of a UE group change:

| NR DL Carrier Aggregation     |    | For more information, see UE Group Support for NR DL Carrier                                 Aggregation in NR DL Carrier Aggregation.         |
|-------------------------------|----|------------------------------------------------------------------------------------------------------------------------------------------------|
|                               |    |                                                                                                                                                |
| NR Uplink Carrier Aggregation |    | For more information, see UE Group Support for NR Uplink Carrier                                 Aggregation in NR Uplink Carrier Aggregation. |
|                               |    |                                                                                                                                                |
| NR Traffic Steering           |    | For more information, see UE Group Support for Multi-Layer                                 Coordination in NR Traffic Steering.                |

# 4 Network Impact of NR Traffic Steering

The feature affects UE throughput, signaling, and the number of connected UEs that

are configured with NR standalone.

Capacity and Performance

The Bandwidth-Triggered Inter-System Handover function has the following impacts:

- It can increase the throughput for UEs.
- The number of connected UEs that are configured with NR Standalone might decrease in areas with lower NR bandwidth as the function might move these UEs to E-UTRAN frequencies.
- If the function is enabled, the number of handovers to LTE is expected to increase because of the periodic evaluation of the NR bandwidth.

The Multi-Layer Coordination function has the following impacts:

- It can increase the throughput for UEs.
- It is expected to increase the number of intra-system handovers and SCell Reselections.

The Dynamic Cell Set Change during Mobility function has the following impacts:

- UE throughput is expected to improve for UEs that are moved into better coverage areas during the operation of the function.
- The following factors can decrease UE throughput during the operation of the function: A measurement gap is needed for inter-frequency measurements for non-serving cells. Handovers that are triggered by the function can decrease UE throughput during the handover procedure.
- The number of handovers that are triggered by the feature is expected to increase during the operation of the function.
- The function performs traffic steering evaluations by incorporating the Multi-Layer Coordination function and, optionally, the Bandwidth-Triggered Inter-System Handover function. Because of this, the impacts of the Multi-Layer Coordination function and, optionally, the Bandwidth-Triggered Inter-System Handover function can be expected for the Dynamic Cell Set Change during Mobility function as well.

Interfaces

The Bandwidth-Triggered Inter-System Handover function affects the following interfaces:

| NG   |    | This function uses NGAP control signaling for handover                                 procedures.                                            |
|------|----|-----------------------------------------------------------------------------------------------------------------------------------------------|
|      |    |                                                                                                                                               |
| Uu   |    | This function uses RRC signaling for                                 B2                                 measurements and RRC Reconfiguration. |

The Multi-Layer Coordination function affects the following interfaces:

| NG   |    | This function uses NGAP control signaling for handover                                 procedures.                        |
|------|----|---------------------------------------------------------------------------------------------------------------------------|
|      |    |                                                                                                                           |
| Uu   |    | This function uses RRC signaling for A1, A2, and A5 measurements and                                 RRC Reconfiguration. |
|      |    |                                                                                                                           |
| Xn   |    | This function uses XnAP control signaling for handover                                 procedures.                        |

The Dynamic Cell Set Change during Mobility function affects the following

interfaces:

| NG   |    | This function uses NGAP control signaling for handover                                 procedures.                        |
|------|----|---------------------------------------------------------------------------------------------------------------------------|
|      |    |                                                                                                                           |
| Uu   |    | This function uses RRC signaling for A1, A2, and A5 measurements and                                 RRC Reconfiguration. |
|      |    |                                                                                                                           |
| Xn   |    | This function uses XnAP control signaling for handover                                 procedures.                        |

The Traffic Steering Cell Reselection Priority at UE Release function affects the

following interfaces:

Other Network Elements

No impact.

# 5 Parameters for NR Traffic Steering

The feature introduces attributes for configuring the NR Traffic Steering feature and

its functions.

Table 9   Parameters for the Bandwidth-Triggered Inter-System Handover Function

![Image](../images/144_22104-LZA7016017_1Uen.ES33D/additional_3_CP.png)

![Image](../images/144_22104-LZA7016017_1Uen.ES33D/additional_3_CP.png)

| Parameter                                                   | Type       | Description                                                                                                                                                                                                                                                                                                                        |
|-------------------------------------------------------------|------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| EUtranFreqRelation.trStSaEUtranFreqRelProfileRef            | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                               |
| TrafficSteering.bwtishoB1ToB2DepHEnabled                    | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                               |
| TrStSaCellProfile.ueConfGroupType                           | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                               |
| TrStSaCellProfileUeCfg.aggregatedBwThreshold                | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                               |
| TrStSaCellProfileUeCfg.bwTrigISHoEnabled                    | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                               |
| TrStSaCellProfileUeCfg.bwTrigISHoTriggerQuantity            | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                               |
| TrStSaCellProfileUeCfg.prefUeGroupList                      | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                               |
| TrStSaCellProfileUeCfg.rsrpPCellCandidateB2                 | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                               |
| TrStSaCellProfileUeCfg.rsrpPCellCandidateB2AddTargEval      | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                               |
| TrStSaCellProfileUeCfg.rsrqPCellCandidateB2                 | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                               |
| TrStSaCellProfileUeCfg.rsrqPCellCandidateB2AddTargEval      | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                               |
| TrStSaCellProfileUeCfg.sinrPCellCandidateB2                 | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                               |
| TrStSaCellProfileUeCfg.sinrPCellCandidateB2AddTargEval      | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                               |
| TrStSaCellProfileUeCfg.ueGroupList                          | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                               |
| TrStSaCellProfileUeCfg.ueConfGroupList                      | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                               |
| TrStSaEUtranFreqRelProfile.ueConfGroupType                  | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                               |
| TrStSaEUtranFreqRelProfileUeCfg.prefUeGroupList             | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                               |
| TrStSaEUtranFreqRelProfileUeCfg.rsrpPCellCandidateB2Offsets | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                               |
| TrStSaEUtranFreqRelProfileUeCfg.rsrqPCellCandidateB2Offsets | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                               |
| TrStSaEUtranFreqRelProfileUeCfg.sinrPCellCandidateB2Offsets | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                               |
| TrStSaEUtranFreqRelProfileUeCfg.ueGroupList                 | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                               |
| TrStSaEUtranFreqRelProfileUeCfg.ueConfGroupList             | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                               |
| NRCellCU.trStSaCellProfileRef                               | Affecting  | This attribute must be set to reference the corresponding                                     TrStSaCellProfile MO profile.                                                                                                                                                                                                        |
| EUtranFreqRelation.ueMCEUtranFreqRelProfileRef              | Affecting  | This attribute must be set to reference the corresponding                                     UeMCEUtranFreqRelProfile MO profile.                                                                                                                                                                                                 |
| UeMCEUtranFreqRelProfile.ueConfGroupType                    | Affecting  | This attribute is used in the UE group adaptation of the                                 Bandwidth-Triggered Inter-System Handover function.                                                                                                                                                                                       |
| UeMCEUtranFreqRelProfileUeCfg.connModeAllowedPCell          | Affecting  | Only those E-UTRAN frequencies for which this attribute is set to                                     true are taken into account when a B1                                 measurement is started.                                                                                                                                |
| UeMCEUtranFreqRelProfileUeCfg.connModePrioPCell             | Affecting  | The E-UTRAN cells that are reported in B1 measurement reports are                                 prioritized according to the value of this attribute.                                                                                                                                                                            |
| UeMCEUtranFreqRelProfileUeCfg.prefUeGroupList               | Affecting  | This attribute is used in the UE group adaptation of the                                 Bandwidth-Triggered Inter-System Handover function.                                                                                                                                                                                       |
| UeMCEUtranFreqRelProfileUeCfg.ueGroupList                   | Affecting  | This attribute is used in the UE group adaptation of the                                 Bandwidth-Triggered Inter-System Handover function.                                                                                                                                                                                       |
| UeMCEUtranFreqRelProfileUeCfg.ueConfGroupList               | Affecting  | This attribute is used in the UE group adaptation of the                                 Bandwidth-Triggered Inter-System Handover function.                                                                                                                                                                                       |
| EUtranCellRelation.cellIndividualOffset                     | Affecting  | This attribute is part of the conditions that trigger B1 event. For                                 more information about the conditions that trigger B1 event, see                                     3GPP TS 38.331; NR; Radio Resource Control (RRC); Protocol                                     specification.             |
| EUtranCellRelation.isHoAllowed                              | Affecting  | Handover is allowed to E-UTRAN cells only if this attribute is set to                                     true for the E-UTRAN cell relation.                                                                                                                                                                                      |
| TrStSaCellProfileUeCfg.criterionDlAbsoluteOffset            | Affecting  | This attribute can be used as an absolute threshold for the                                 Multi-Layer Coordination and the Dynamic Cell Set Change during                                 Mobility functions. By configuring this attribute, the number of                                 unnecessary handovers can be reduced. |
| TrStSaCellProfileUeCfg.maxReportCells                       | Affecting  | This attribute is used to define the maximum number of the                                 non-serving cells to be included in the B2 measurement report.                                                                                                                                                                          |
| TrafficSteering.dlCellLoadAware                             | Affecting  | This attribute can be used to set whether downlink cell load is taken                                 into consideration during cell selection.                                                                                                                                                                                    |

Table 10   Parameters for the Multi-Layer Coordination Function

![Image](../images/144_22104-LZA7016017_1Uen.ES33D/additional_3_CP.png)

![Image](../images/144_22104-LZA7016017_1Uen.ES33D/additional_3_CP.png)

| Parameter                                             | Type       | Description                                                                                                                                                                                                                                                                                                                           |
|-------------------------------------------------------|------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| NRCellCU.trStSaCellProfileRef                         | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| NRCellDU.cellSelectionWeightFactor                    | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| NRFreqRelation.trStSaNrFreqRelProfileRef              | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| TrStSaCellProfileUeCfg.mlcEnabled(1)                  | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| TrStSaCellProfileUeCfg.mlcTriggerQuantity             | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| TrStSaCellProfileUeCfg.criterionBetterUeConfig        | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| TrStSaCellProfileUeCfg.rsrpPCellCandidate             | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| TrStSaCellProfileUeCfg.rsrpPCellCandidateAddTargEval  | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| TrStSaCellProfileUeCfg.rsrpPCellCandidatePcOffset     | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| TrStSaCellProfileUeCfg.rsrqPCellCandidate             | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| TrStSaCellProfileUeCfg.rsrqPCellCandidateAddTargEval  | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| TrStSaCellProfileUeCfg.sinrPCellCandidate             | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| TrStSaCellProfileUeCfg.sinrPCellCandidateAddTargEval  | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| TrStSaNrFreqRelProfileUeCfg.pCellAllowed              | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| TrStSaNrFreqRelProfileUeCfg.rsrpPCellCandidateOffset  | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| TrStSaNrFreqRelProfileUeCfg.rsrqPCellCandidateOffset  | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| TrStSaNrFreqRelProfileUeCfg.sinrPCellCandidateOffset  | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| TrStSaCellProfile.ueConfGroupType                     | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| TrStSaCellProfileUeCfg.mlcAllowedCellSetChangeAction  | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| TrStSaCellProfileUeCfg.prefUeGroupList                | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| TrStSaCellProfileUeCfg.rsrpSCellCandidate             | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| TrStSaCellProfileUeCfg.rsrqSCellCandidate             | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| TrStSaCellProfileUeCfg.sinrSCellCandidate             | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| TrStSaCellProfileUeCfg.ueConfGroupList                | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| TrStSaCellProfileUeCfg.ueGroupList                    | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| TrStSaNrFreqRelProfile.ueConfGroupType                | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| TrStSaNrFreqRelProfileUeCfg.prefUeGroupList           | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| TrStSaNrFreqRelProfileUeCfg.rsrpSCellCandidateOffset  | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| TrStSaNrFreqRelProfileUeCfg.rsrqSCellCandidateOffset  | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| TrStSaNrFreqRelProfileUeCfg.sinrSCellCandidateOffset  | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| TrStSaNrFreqRelProfileUeCfg.ueConfGroupList           | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| TrStSaNrFreqRelProfileUeCfg.ueGroupList               | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| UeMCNrFreqRelProfileUeCfg.connModeAllowedPCell        | Affecting  | Only those NR frequencies for which this attribute is set to                                     true are taken into account when an A5                                 measurement is started during PCell candidate selection.                                                                                                      |
| CaCellProfileUeCfg.blockedSCellFreqList               | Affecting  | This attribute helps filtering the SCell candidates based on UE                                 groups.                                                                                                                                                                                                                               |
| CaCellProfileUeCfg.maxDlCcAllowed                     | Affecting  | This attribute controls the number of downlink component carriers in                                 carrier aggregation. If set to 1, downlink carrier                                 aggregation is not allowed.                                                                                                                   |
| CaCellProfileUeCfg.maxUlCcAllowed                     | Affecting  | This attribute controls the number of uplink component carriers in                                 carrier aggregation. If set to 1, uplink carrier                                 aggregation is not allowed.                                                                                                                       |
| CaCellProfileUeCfg.servingCellSelectionPolicy         | Affecting  | Selecting thePRIORITIZE_DL_THP or                                     PRIORITIZE_UL_THP configuration option controls                                 the serving cell selection policy in prioritizing downlink or uplink                                 throughput.                                                                |
| CaCellProfileUeCfg.ulTxSwitchingAllowed               | Affecting  | This attribute controls the selection of uplink 1TX-2TX switching                                 configuration. If the value of the attribute is set to                                     false, uplink 1TX-2TX configuration is not                                 allowed.                                                      |
| TrStSaCellProfileUeCfg.maxReportCells                 | Affecting  | This attribute is used to define the maximum number of the                                 non-serving cells to be included in the A5 measurement report.                                                                                                                                                                             |
| TrStSaNrFreqRelProfileUeCfg.rsrpUl2lCoverageThrOffset | Affecting  | This attribute is used as an offset to determine uplink two-layer                                 coverage in the following measurements during the evaluations of the                                 Multi-Layer Coordination procedure:  MLC Current PCell Coverage A1 measurement     MLC PCell Candidate Coverage A5 measurement |

(1)

The attribute replaces the deprecated

TrStSaCellProfileUeCfg.capAwarePCellSelEnabled

attribute.

Table 11   Parameters for the Dynamic Cell Set Change during Mobility Function

![Image](../images/144_22104-LZA7016017_1Uen.ES33D/additional_3_CP.png)

![Image](../images/144_22104-LZA7016017_1Uen.ES33D/additional_3_CP.png)

| Parameter                                                   | Type       | Description                                                                                                                                                                                                                                                                                                                           |
|-------------------------------------------------------------|------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| TrStSaCellProfileUeCfg.mlcPeriodicEnabled                   | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| TrStSaCellProfileUeCfg.mlcPeriodicInterval                  | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| TrStSaCellProfileUeCfg.mlcTriggerQuantity                   | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                  |
| EUtranFreqRelation.trStSaEUtranFreqRelProfileRef            | Affecting  | This attribute is used in the Bandwidth-Triggered Inter-System                                 Handover function.                                                                                                                                                                                                                     |
| TrStSaCellProfile.ueConfGroupType                           | Affecting  | This attribute is used in the Bandwidth-Triggered Inter-System                                 Handover function.                                                                                                                                                                                                                     |
| TrStSaCellProfileUeCfg.bwTrigISHoEnabled                    | Affecting  | This attribute is used in the Bandwidth-Triggered Inter-System                                 Handover function.                                                                                                                                                                                                                     |
| TrStSaCellProfileUeCfg.rsrpPCellCandidateB2                 | Affecting  | This attribute is used in the Bandwidth-Triggered Inter-System                                 Handover function.                                                                                                                                                                                                                     |
| TrStSaCellProfileUeCfg.rsrqPCellCandidateB2                 | Affecting  | This attribute is used in the Bandwidth-Triggered Inter-System                                 Handover function.                                                                                                                                                                                                                     |
| TrStSaCellProfileUeCfg.sinrPCellCandidateB2                 | Affecting  | This attribute is used in the Bandwidth-Triggered Inter-System                                 Handover function.                                                                                                                                                                                                                     |
| TrStSaCellProfileUeCfg.aggregatedBwThreshold                | Affecting  | This attribute is used in the Bandwidth-Triggered Inter-System                                 Handover function.                                                                                                                                                                                                                     |
| TrStSaCellProfileUeCfg.prefUeGroupList                      | Affecting  | This attribute is used in the Bandwidth-Triggered Inter-System                                 Handover function.                                                                                                                                                                                                                     |
| TrStSaCellProfileUeCfg.ueGroupList                          | Affecting  | This attribute is used in the Bandwidth-Triggered Inter-System                                 Handover function.                                                                                                                                                                                                                     |
| TrStSaCellProfileUeCfg.ueConfGroupList                      | Affecting  | This attribute is used in the Bandwidth-Triggered Inter-System                                 Handover function.                                                                                                                                                                                                                     |
| TrStSaEUtranFreqRelProfile.ueConfGroupType                  | Affecting  | This attribute is used in the Bandwidth-Triggered Inter-System                                 Handover function.                                                                                                                                                                                                                     |
| TrStSaEUtranFreqRelProfileUeCfg.prefUeGroupList             | Affecting  | This attribute is used in the Bandwidth-Triggered Inter-System                                 Handover function.                                                                                                                                                                                                                     |
| TrStSaEUtranFreqRelProfileUeCfg.rsrpPCellCandidateB2Offsets | Affecting  | This attribute is used in the Bandwidth-Triggered Inter-System                                 Handover function.                                                                                                                                                                                                                     |
| TrStSaEUtranFreqRelProfileUeCfg.rsrqPCellCandidateB2Offsets | Affecting  | This attribute is used in the Bandwidth-Triggered Inter-System                                 Handover function.                                                                                                                                                                                                                     |
| TrStSaEUtranFreqRelProfileUeCfg.sinrPCellCandidateB2Offsets | Affecting  | This attribute is used in the Bandwidth-Triggered Inter-System                                 Handover function.                                                                                                                                                                                                                     |
| TrStSaEUtranFreqRelProfileUeCfg.ueGroupList                 | Affecting  | This attribute is used in the Bandwidth-Triggered Inter-System                                 Handover function.                                                                                                                                                                                                                     |
| TrStSaEUtranFreqRelProfileUeCfg.ueConfGroupList             | Affecting  | This attribute is used in the Bandwidth-Triggered Inter-System                                 Handover function.                                                                                                                                                                                                                     |
| NRCellCU.trStSaCellProfileRef                               | Affecting  | This attribute must be set to reference the corresponding                                     TrStSaCellProfile MO profile.                                                                                                                                                                                                           |
| EUtranFreqRelation.ueMCEUtranFreqRelProfileRef              | Affecting  | This attribute must be set to reference the corresponding                                     UeMCEUtranFreqRelProfile MO profile.                                                                                                                                                                                                    |
| UeMCEUtranFreqRelProfile.ueConfGroupType                    | Affecting  | This attribute is used in the UE group adaptation of the                                 Bandwidth-Triggered Inter-System Handover function.                                                                                                                                                                                          |
| UeMCEUtranFreqRelProfileUeCfg.connModeAllowedPCell          | Affecting  | Only those E-UTRAN frequencies for which this attribute is set to                                     true are taken into account when a B1                                 measurement is started.                                                                                                                                   |
| UeMCEUtranFreqRelProfileUeCfg.connModePrioPCell             | Affecting  | The E-UTRAN cells that are reported in B1 measurement reports are                                 prioritized according to the value of this attribute.                                                                                                                                                                               |
| UeMCEUtranFreqRelProfileUeCfg.prefUeGroupList               | Affecting  | This attribute is used in the UE group adaptation of the                                 Bandwidth-Triggered Inter-System Handover function.                                                                                                                                                                                          |
| UeMCEUtranFreqRelProfileUeCfg.ueGroupList                   | Affecting  | This attribute is used in the UE group adaptation of the                                 Bandwidth-Triggered Inter-System Handover function.                                                                                                                                                                                          |
| UeMCEUtranFreqRelProfileUeCfg.ueConfGroupList               | Affecting  | This attribute is used in the UE group adaptation of the                                 Bandwidth-Triggered Inter-System Handover function.                                                                                                                                                                                          |
| EUtranCellRelation.cellIndividualOffset                     | Affecting  | This attribute is part of the conditions that trigger a B1 event. For                                 more information about the conditions that trigger a B1 event, see                                     3GPP TS 38.331; NR; Radio Resource Control (RRC); Protocol                                     specification.            |
| EUtranCellRelation.isHoAllowed                              | Affecting  | Handover is allowed to E-UTRAN cells only if this attribute is set to                                     true for the E-UTRAN cell relation.                                                                                                                                                                                         |
| NRCellCU.trStSaCellProfileRef                               | Affecting  | This attribute is used in the Multi-Layer Coordination function.                                                                                                                                                                                                                                                                      |
| NRCellDU.cellSelectionWeightFactor                          | Affecting  | This attribute is used in the Multi-Layer Coordination function.                                                                                                                                                                                                                                                                      |
| NRFreqRelation.trStSaNrFreqRelProfileRef                    | Affecting  | This attribute is used in the Multi-Layer Coordination function.                                                                                                                                                                                                                                                                      |
| TrStSaCellProfileUeCfg.criterionBetterUeConfig              | Affecting  | This attribute is used in the Multi-Layer Coordination function.                                                                                                                                                                                                                                                                      |
| TrStSaCellProfileUeCfg.rsrpPCellCandidate                   | Affecting  | This attribute is used in the Multi-Layer Coordination function.                                                                                                                                                                                                                                                                      |
| TrStSaCellProfileUeCfg.rsrqPCellCandidate                   | Affecting  | This attribute is used in the Multi-Layer Coordination function.                                                                                                                                                                                                                                                                      |
| TrStSaCellProfileUeCfg.sinrPCellCandidate                   | Affecting  | This attribute is used in the Multi-Layer Coordination function.                                                                                                                                                                                                                                                                      |
| TrStSaCellProfileUeCfg.rsrpPCellCandidatePcOffset           | Affecting  | This attribute is used in the Multi-Layer Coordination function.                                                                                                                                                                                                                                                                      |
| TrStSaNrFreqRelProfileUeCfg.pCellAllowed                    | Affecting  | This attribute is used in the Multi-Layer Coordination function.                                                                                                                                                                                                                                                                      |
| TrStSaNrFreqRelProfileUeCfg.rsrpPCellCandidateOffset        | Affecting  | This attribute is used in the Multi-Layer Coordination function.                                                                                                                                                                                                                                                                      |
| TrStSaNrFreqRelProfileUeCfg.rsrqPCellCandidateOffset        | Affecting  | This attribute is used in the Multi-Layer Coordination function.                                                                                                                                                                                                                                                                      |
| TrStSaNrFreqRelProfileUeCfg.sinrPCellCandidateOffset        | Affecting  | This attribute is used in the Multi-Layer Coordination function.                                                                                                                                                                                                                                                                      |
| TrStSaCellProfile.ueConfGroupType                           | Affecting  | This attribute is used in the Multi-Layer Coordination function.                                                                                                                                                                                                                                                                      |
| TrStSaCellProfileUeCfg.mlcAllowedCellSetChangeAction        | Affecting  | This attribute is used in the Multi-Layer Coordination function.                                                                                                                                                                                                                                                                      |
| TrStSaCellProfileUeCfg.prefUeGroupList                      | Affecting  | This attribute is used in the Multi-Layer Coordination function.                                                                                                                                                                                                                                                                      |
| TrStSaCellProfileUeCfg.rsrpSCellCandidate                   | Affecting  | This attribute is used in the Multi-Layer Coordination function.                                                                                                                                                                                                                                                                      |
| TrStSaCellProfileUeCfg.rsrqSCellCandidate                   | Affecting  | This attribute is used in the Multi-Layer Coordination function.                                                                                                                                                                                                                                                                      |
| TrStSaCellProfileUeCfg.sinrSCellCandidate                   | Affecting  | This attribute is used in the Multi-Layer Coordination function.                                                                                                                                                                                                                                                                      |
| TrStSaCellProfileUeCfg.ueConfGroupList                      | Affecting  | This attribute is used in the Multi-Layer Coordination function.                                                                                                                                                                                                                                                                      |
| TrStSaCellProfileUeCfg.ueGroupList                          | Affecting  | This attribute is used in the Multi-Layer Coordination function.                                                                                                                                                                                                                                                                      |
| TrStSaNrFreqRelProfile.ueConfGroupType                      | Affecting  | This attribute is used in the Multi-Layer Coordination function.                                                                                                                                                                                                                                                                      |
| TrStSaNrFreqRelProfileUeCfg.prefUeGroupList                 | Affecting  | This attribute is used in the Multi-Layer Coordination function.                                                                                                                                                                                                                                                                      |
| TrStSaNrFreqRelProfileUeCfg.rsrpSCellCandidateOffset        | Affecting  | This attribute is used in the Multi-Layer Coordination function.                                                                                                                                                                                                                                                                      |
| TrStSaNrFreqRelProfileUeCfg.rsrqSCellCandidateOffset        | Affecting  | This attribute is used in the Multi-Layer Coordination function.                                                                                                                                                                                                                                                                      |
| TrStSaNrFreqRelProfileUeCfg.sinrSCellCandidateOffset        | Affecting  | This attribute is used in the Multi-Layer Coordination function.                                                                                                                                                                                                                                                                      |
| TrStSaNrFreqRelProfileUeCfg.ueConfGroupList                 | Affecting  | This attribute is used in the Multi-Layer Coordination function.                                                                                                                                                                                                                                                                      |
| TrStSaNrFreqRelProfileUeCfg.ueGroupList                     | Affecting  | This attribute is used in the Multi-Layer Coordination function.                                                                                                                                                                                                                                                                      |
| TrStSaCellProfileUeCfg.maxReportCells                       | Affecting  | This attribute is used to define the maximum number of the                                 non-serving cells to be included in the A5 and B2 measurement                                 reports.                                                                                                                                     |
| UeMCNrFreqRelProfileUeCfg.connModeAllowedPCell              | Affecting  | Only those NR frequencies for which this attribute is set to                                     true are taken into account when an A5                                 measurement is started during PCell candidate selection.                                                                                                      |
| CaCellProfileUeCfg.servingCellSelectionPolicy               | Affecting  | Selecting the PRIORITIZE_DL_THP or                                     PRIORITIZE_UL_THP configuration option controls                                 the serving cell selection policy in prioritizing downlink or uplink                                 throughput.                                                               |
| CaCellProfileUeCfg.ulTxSwitchingAllowed                     | Affecting  | This attribute controls the selection of uplink 1TX-2TX switching                                 configuration. If the value of the attribute is set to                                     false, uplink 1TX-2TX configuration is not                                 allowed.                                                      |
| TrStSaNrFreqRelProfileUeCfg.rsrpUl2lCoverageThrOffset       | Affecting  | This attribute is used as an offset to determine uplink two-layer                                 coverage in the following measurements during the evaluations of the                                 Multi-Layer Coordination procedure:  MLC Current PCell Coverage A1 measurement     MLC PCell Candidate Coverage A5 measurement |

Table 12   Parameters for the

Traffic

Steering Cell Reselection Priority at UE Release Function

![Image](../images/144_22104-LZA7016017_1Uen.ES33D/additional_3_CP.png)

![Image](../images/144_22104-LZA7016017_1Uen.ES33D/additional_3_CP.png)

| Parameter                              | Type       | Description                                                                                     |
|----------------------------------------|------------|-------------------------------------------------------------------------------------------------|
| TrStSaCellProfileUeCfg.actionAtRelease | Introduced | See MOM description.                                                                            |
| TrStSaCellProfileUeCfg.t320            | Introduced | See MOM description.                                                                            |
| TrStSaCellProfileUeCfg.mlcEnabled      | Affecting  | This attribute must be set to true to enable CRP at                                 UE release. |

# 6 Performance of NR Traffic Steering

The performance of the NR Traffic Steering feature can be observed with a performance

indicator and PM counters.

In

addition, the feature performance can be observed with the PM entities of its included

functions.

Performance Indicators

Counters

The following PM counters are used to monitor the functions of the feature:

- NRCellCU.pmHoPrepAttOutInterGnbTs
- NRCellCU.pmHoPrepSuccOutInterGnbTs
- NRCellCU.pmHoPrepAttOutIntraGnbTs
- NRCellCU.pmHoPrepSuccOutIntraGnbTs
- NRCellCU.pmHoExeAttOutInterGnbTs
- NRCellCU.pmHoExeSuccOutInterGnbTs
- NRCellCU.pmHoExeAttOutIntraGnbTs
- NRCellCU.pmHoExeSuccOutIntraGnbTs

## 6.1 Performance of Multi-Layer Coordination

This function can be observed with KPIs, PM counters, and PM events.

KPIs

Table 13   KPIs for the

Multi-Layer

Coordination Function

| KPI                                                                                                                  | Impact                                                                                                                                                    |
|----------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------|
| NR Handover success rate captured in source gNodeB                                                                   | The increased number of handovers in good coverage might affect                                     the KPI.                                              |
| Average DL MAC Cell Throughput                                                                                       | The improved frequency resource utilization provided by the                                     Multi-Layer Coordination function increases the KPI.      |
| Average DL MAC DRB Throughput                                                                                        | The improved frequency resource utilization provided by the                                     Multi-Layer Coordination function increases the KPI.      |
| Average UL MAC UE Throughput                                                                                         | The improved frequency resource utilization provided by the                                     Multi-Layer Coordination function might increase the KPI. |
| Normalized Average UL MAC Cell Throughput considering successful                                     PUSCH slot only | The improved frequency resource utilization provided by the                                     Multi-Layer Coordination function might increase the KPI. |

For more information on the KPIs, see Key Performance Indicators.

Counters

The following EBS counters associated with the NRCellCU and the

NRCellRelation MOs can be used to monitor

the

handover procedures that are triggered by the Multi-Layer

Coordination function, with the TrafficSteeringType filter set

to TRAFFIC\_STEERING\_TYPE\_MULTI\_LAYER\_COORDINATION:

- pmEbsHoPrepAttOutIntraGnb
- pmEbsHoPrepSuccOutIntraGnb
- pmEbsHoExeAttOutIntraGnb
- pmEbsHoExeSuccOutIntraGnb
- pmEbsHoPrepAttOutInterGnb
- pmEbsHoPrepSuccOutInterGnb
- pmEbsHoExeAttOutInterGnb
- pmEbsHoExeSuccOutInterGnb

The following EBS counters associated with the NRCellCU MO can be

used to monitor the performed SCell Reselections with the

SCellReselectionType filter set to

TRAFFIC\_STEERING\_TYPE\_MULTI\_LAYER\_COORDINATION:

- pmEbsCaSCellReselectionAttTs
- pmEbsCaSCellReselectionSuccTs

For information on the EBS counters, see Lists and Delta Lists - Referral Document.

By using the flexible counter framework for EBS counters, operators can define

differentiated counters for different UE groups. For more information on defining

differentiated counters for different UE groups, see UE Grouping Framework.

For detailed information about the use of filters for flexible counters, see the

Flexible Counter Management (FCM) chapter of the Network

Impact Report in the Ericsson Network Manager CPI library

and Flexible Counter Management in the ENM Online Help CPI

Library.

The following PM counters can be used to monitor the performed SCell Reselection procedures:

- NRCellCU.pmCaSCellReselectionAttTs
- NRCellCU.pmCaSCellReselectionSuccTs

The following PM counters can be used to monitor the handover procedures that are

triggered by the Multi-Layer Coordination function:

- NRCellCU.pmHoPrepAttOutInterGnbTs
- NRCellCU.pmHoPrepSuccOutInterGnbTs
- NRCellCU.pmHoPrepAttOutIntraGnbTs
- NRCellCU.pmHoPrepSuccOutIntraGnbTs
- NRCellCU.pmHoExeAttOutInterGnbTs
- NRCellCU.pmHoExeSuccOutInterGnbTs
- NRCellCU.pmHoExeAttOutIntraGnbTs
- NRCellCU.pmHoExeSuccOutIntraGnbTs

The

following EBS counters can be used to monitor the additional target evaluations

performed for the Multi-Layer Coordination PCell A5 measurement reports:

- pmEbsMeasRepAddTargetEvalFailSa
- pmEbsMeasRepAddTargetEvalSuccSa

Events

The CuCpProcNrHoExeOut and the

CuCpProcNrHoPrepOut PM events can be used to monitor the

handover procedures that are triggered by the Multi-Layer Coordination function.

The CuCpProcNrScellUpdate PM event can be used to monitor the

SCell Reselection updates on the SCells.

The UE group IDs are provided as filter attributes in these PM events. The EBS

flexible counter framework can use filter attributes to generate differentiated EBS

counter statistics on UE group level. For more information on generating

differentiated EBS counter statistics on UE group level, see UE Grouping Framework.

The CuCpMeasurementReportSaEval PM event is used for the

reception of the Multi-Layer Coordination measurement reports.

For more information on the PM events, see Lists and Delta Lists - Referral Document.

Related Information

Lists and Delta Lists - Referral Document

Key Performance Indicators

## 6.2 Performance of Dynamic Cell Set Change during Mobility

This function can be observed with performance indicators, PM counters, EBS counters,

and PM events. In addition, this function can be observed with the same PM entities as the

Bandwidth-Triggered Inter-System Handover and the Multi-Layer Coordination

functions.

KPIs

The function can be observed with the KPIs that are used to observe the

Bandwidth-Triggered Inter-System Handover and the Multi-Layer Coordination

functions.

Performance Indicators

| Periodic Traffic Steering                         E-UTRAN                         Handover Ratio   |    |    |
|----------------------------------------------------------------------------------------------------|----|----|
|                                                                                                    |    |    |
| Periodic Traffic Steering SCell Reselection Ratio                                                  |    |    |
|                                                                                                    |    |    |
| Periodic Traffic Steering Ratio                                                                    |    |    |

In addition to these performance indicators, the function can be observed with the

performance indicators that are used to observe the Bandwidth-Triggered Inter-System

Handover function.

Counters

The function can be observed with the counters that are used to observe the

Bandwidth-Triggered Inter-System Handover and the Multi-Layer Coordination

functions.

The NRCellCU.pmCaSCellReselectionAttTs and the

NRCellCU.pmCaSCellReselectionSuccTs PM counters can be used

to monitor the Dynamic Cell Set Change during Mobility function.

To observe the traffic steering evaluations that are done periodically when the

configured interval elapses, EBS counters associated with the following MOs can be

used to monitor the function:

- EUtranCellRelation
- NRCellCU
- NRCellRelation

For

handovers performed in NR, the function can be monitored with the

flexible EBS counters that are used to observe the Multi-Layer Coordination

function, with the

TrafficSteeringType

filter set to the following values:

- If the filter is set to TRAFFIC\_STEERING\_TYPE\_MULTI\_LAYER\_COORDINATION, handovers that are performed immediately when the UE Setup or the RRC Resume procedure is completed can be monitored.
- If the filter is set to TRAFFIC\_STEERING\_TYPE\_PERIODIC\_MULTI\_LAYER\_COORDINATION, handovers that are performed when the periodic interval timer elapses can be monitored.

For IRAT handovers performed to LTE, the function can be monitored with the flexible

EBS counters that are used to observe the Bandwidth-Triggered Inter-System Handover

function, with the TrafficSteeringType filter set to the

following values:

- If the filter is set to TRAFFIC\_STEERING\_TYPE\_MULTI\_LAYER\_COORDINATION, handovers that are performed immediately when the UE Setup or the RRC Resume procedure is completed can be monitored.
- If the filter is set to TRAFFIC\_STEERING\_TYPE\_BW\_TRIGGERED\_INTER\_SYSTEM\_HANDOVER, handovers that are performed when the periodic interval timer elapses can be monitored.

For SCell Reselections performed, the function can be monitored with the

pmEbsCaSCellReselectionAttTs and the

pmEbsCaSCellReselectionSuccTs flexible EBS counters, which

are associated with the NRCellCU MO, with the

TrafficSteeringType filter set to the following values:

- If the filter is set to SCELL\_RESELECTION\_TYPE\_MULTI\_LAYER\_COORDINATION, SCell Reselections that are performed immediately when the UE Setup or the RRC Resume procedure is completed can be monitored.
- If the filter is set to SCELL\_RESELECTION\_TYPE\_PERIODIC\_MULTI\_LAYER\_COORDINATION, SCell Reselections that are performed when the periodic interval timer elapses can be monitored.

The number of the periodic intervals that elapse can be monitored with the

pmEbsPeriodicTsInit EBS counter, which is associated with the

NRCellCU MO.

For information on the EBS counters and flexible counters, see Lists and Delta Lists.

By using the flexible counter framework for EBS counters, operators can define

differentiated counters for different UE groups. For more information on defining

differentiated counters for different UE groups,

see

UE Grouping Framework.

For detailed information about the use of filters for flexible counters, see the

Flexible Counter Management (FCM) chapter of the Network Impact

Report in the Ericsson Network Manager CPI library and

Flexible Counter Management in the ENM Online Help CPI

Library.

Events

The CuCpPerTsPeriodEnd PM event can be used to monitor the

periodic timeouts that are triggered by the function.

The CuCpProcNrHoExeOut and the

CuCpProcNrHoPrepOut PM events can be used to monitor the

handovers that are performed as a result of the function.

The CuCpMeasurementReportSaEval PM event can be used to monitor

the procedures that are initiated by the function as a result of the received

measurement report.

The CuCpProcNrScellUpdate PM event can be used to monitor the

SCell Reselection updates on the SCells.

The UE group IDs are provided as filter attributes in these PM events. The EBS

flexible counter framework can use filter attributes to generate differentiated EBS

counter statistics on UE group level. For more information on generating

differentiated EBS counter statistics on UE group level, see UE Grouping Framework.

For more information on the PM events, see Lists and Delta Lists - Referral Document.

In addition to these events, the function can be observed with the events that are

used to

observe

the Bandwidth-Triggered Inter-System Handover and the Multi-Layer

Coordination functions.

Related reference

Performance of Multi-Layer Coordination

Performance of Bandwidth-Triggered Inter-System Handover

Related Information

Lists and Delta Lists - Referral Document

Key Performance Indicators

UE Grouping Framework

## 6.3 Performance of Traffic Steering Cell Reselection Priority at UE Release

This function can be observed with an EBS counter and a PM event.

KPIs

This function has no associated KPIs.

Counters

The pmEbsUeCtxtRelNormalTsCaConf EBS counter can be used to

observe how often traffic steering is performed at UE release.

The flexible EBS counter is associated with the NRCellCU MO class.

For more information on EBS counters, see Lists and Delta Lists - Referral Document.

Events

The CuCpProcUeCtxtRel event is updated with a parameter to

support the pmEbsUeCtxtRelNormalTsCaConf EBS counter.

Related Information

Lists and Delta Lists - Referral Document

## 6.4 Performance of Bandwidth-Triggered Inter-System Handover

This function can be observed with a KPI, a PI, PM counters, EBS counters, and PM

events.

KPIs

Table 14   KPIs for the Bandwidth-Triggered Inter-System Handover Function

| KPI                                                                                                     | Impact                                                                                                       |
|---------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------|
| NR-to-LTE Inter-RAT Handover success rate captured in source                                     gNodeB | The increased number of handovers in good coverage might affect                                     the KPI. |

For more information on the KPIs, see Key Performance Indicators

Performance Indicators for the Bandwidth-Triggered Inter-System Handover

Function

Counters for the Bandwidth-Triggered Inter-System Handover Function

The following PM counters can be used to monitor the Bandwidth-Triggered Inter-System

Handover function:

- NRCellCU.pmHoExeAttOutEutranTs
- NRCellCU.pmHoExeSuccOutEutranTs
- NRCellCU.pmHoPrepAttOutEutranTs
- NRCellCU.pmHoPrepSuccOutEutranTs
- NRCellCU.pmRwrEutranUeSuccTs

The following flexible EBS counters associated with the

EUtranCellRelation and the NRCellCU MOs

can be used to monitor the Bandwidth-Triggered Inter-System Handover function, with

the TrafficSteeringType filter set to

TRAFFIC\_STEERING\_TYPE\_BW\_TRIGGERED\_INTER\_SYSTEM\_HANDOVER:

- pmEbsHoPrepAttOutEutran
- pmEbsHoPrepSuccOutEutran
- pmEbsHoExeAttOutEutran
- pmEbsHoExeSuccOutEutran

For information on the EBS counters and flexible counters, see Lists and Delta Lists - Referral Document.

By using the flexible counter framework for EBS counters, operators can define

differentiated counters for different UE groups. For more information on defining

differentiated counters for different UE groups, see UE Grouping Framework.

For detailed information about the use of filters for flexible counters, see the

Flexible Counter Management (FCM) chapter of the Network

Impact Report in the Ericsson Network Manager CPI library

and Flexible Counter Management in the ENM Online Help CPI

Library.

Enabling the Bandwidth-Triggered Inter-System Handover function is expected to

increase the following PM counters:

- NRCellCU.pmHoExeAttOutEutran
- NRCellCU.pmHoExeSuccOutEutran
- NRCellCU.pmHoPrepAttOutEutran
- NRCellCU.pmHoPrepSuccOutEutran

The Bandwidth.Triggered Inter-System Handover function can also increase the

NRCellCU.pmUeCtxtRelNormal PM counter if mobility procedures

are triggered for UEs that do not support IRAT inter-system handover.

The following EBS counters can be used to monitor the additional target evaluations

performed for the B2 measurement reports by the Bandwidth-Triggered Inter-System

Handover

function:

- pmEbsMeasRepAddTargetEvalFailSa
- pmEbsMeasRepAddTargetEvalSuccSa

Events for the Bandwidth-Triggered Inter-System Handover Function

The CuCpProcNrHoExeOut and the

CuCpProcNrHoPrepOut PM events can be used to monitor the

handover procedures that are triggered by the Bandwidth-Triggered Inter-System

Handover function.

The

CuCpRwrMobilityDecision PM event can be used to

monitor

the number of measurement-based RwR procedures that are triggered

by the Bandwidth-Triggered Inter-System Handover function.

The CuCpMeasurementReportSaEval PM event is used for the

reception of the LTE B1 measurement reports.

The UE group IDs are provided as filter attributes in these PM events. The EBS

flexible counter framework can use filter attributes to generate differentiated EBS

counter statistics on UE group level. For more information on generating

differentiated EBS counter statistics on UE group level, see UE Grouping Framework.

For more information on the PM events, see Lists and Delta Lists - Referral Document.

Related Information

Lists and Delta Lists - Referral Document

Key Performance Indicators

UE Grouping Framework

# 7 Activate Non-License-Controlled Features

Non-license-controlled features do not require manual activation and cannot be

deactivated.

While license-controlled features need to be activated, non-license-controlled features

are activated automatically during node integration. They also do not

have

a software license key associated, which means that they have no

entries in the LKF that is installed on the node.

In some cases, non-license-controlled features need to be configured

manually or have some of

their

subfunctions enabled to work properly.

# 8 Engineering Guidelines for NR Traffic Steering

## 8.1 Configure Multi-Layer Coordination

The Multi-Layer Coordination function is based on the cell and frequency relations

configured in the given network.

Prerequisites

- All of the following MO classes for the configuration of carrier aggregation traffic steering are created: NRCellCU NRCellDU NRCellRelation NRFrequency NRFreqRelation TrStSaCellProfile TrStSaNrFreqRelProfile
- Frequency and cell relations are configured for mobility.
- The cells are configured for carrier aggregation through one of the NR downlink carrier aggregation features, and if needed, for uplink carrier aggregation through the NR Uplink Carrier Aggregation feature.
- If the NR Uplink Carrier Aggregation feature is enabled, the CaCellProfileUeCfg.servingCellSelectionPolicy attribute is configured to prioritize downlink or uplink throughput for each UE group.
- The UeMCCellProfile.sMeasure and the UeMCNRFreqRelProfileUeCfg.connModeAllowedPCell attributes are configured in a way that it does not interfere with the measurement used by the Multi-Layer Coordination function.

Steps

1. Set the TrStSaCellProfileUeCfg.mlcAllowedCellSetChangeAction attribute to one of the following values:
    - HANDOVER to allow for the evaluation of PCell candidates based only on the neighbor cells. With this setting, SCell reselection is disabled.
    - HO\_AND\_SCELL\_RESELECTION to allow for the evaluation of PCell candidates based on the current PCell and the neighbor cells.
    - SCELL\_RESELECTION to allow for the evaluation of PCell candidates based only on the current PCell. With this setting, handover to a PCell is disabled.
2. Configure the requirement for the comparison between the available cell set and candidate cell set through the TrStSaCellProfileUeCfg.criterionBetterUeConfig attribute.
3. Configure the trigger quantity to be used by the A5 measurement reports for the PCell and the SCell through the TrStSaCellProfileUeCfg.mlcTriggerQuantity attribute. Note: The trigger quantity for measurements used by the Multi-Layer Coordination function is recommended to be set to the same value as the trigger quantity used by the NR DL Carrier Aggregation feature. This can be achieved through setting the following attributes to the same value: CaCellMeasProfileUeCfg.betterSCellTriggerQuantity CaCellMeasProfileUeCfg.sCellCoverageTriggerQuantity TrStSaCellProfileUeCfg.mlcTriggerQuantity
4. Configure the Better PCell Candidate measurement according to the given network requirement with the following attributes corresponding to the trigger quantity chosen in the TrStSaCellProfileUeCfg.mlcTriggerQuantity attribute: TrStSaCellProfileUeCfg.rsrpPCellCandidate TrStSaCellProfileUeCfg.rsrqPCellCandidate TrStSaCellProfileUeCfg.sinrPCellCandidate TrStSaNrFreqRelProfileUeCfg.rsrpPCellCandidateOffset TrStSaNrFreqRelProfileUeCfg.rsrqPCellCandidateOffset TrStSaNrFreqRelProfileUeCfg.sinrPCellCandidateOffset If the SINR\_FALLBACK\_RSRP or the SINR\_FALLBACK\_RSRQ value is used, measurements must be configured for SINR, and the other trigger quantity to be used as fallback.
5. Configure the Better SCell Candidate measurement according to the given network requirement with the following attributes corresponding to the trigger quantity chosen in the TrStSaCellProfileUeCfg.mlcTriggerQuantity attribute: TrStSaCellProfileUeCfg.rsrpSCellCandidate TrStSaCellProfileUeCfg.rsrqSCellCandidate TrStSaCellProfileUeCfg.sinrSCellCandidate TrStSaNrFreqRelProfileUeCfg.rsrpSCellCandidateOffset TrStSaNrFreqRelProfileUeCfg.rsrqSCellCandidateOffset TrStSaNrFreqRelProfileUeCfg.sinrSCellCandidateOffset Note: The RSRP, RSRQ, or SINR of the SCell must be lower than the RSRP, RSRQ, or SINR of the PCell. If the SINR\_FALLBACK\_RSRP or the SINR\_FALLBACK\_RSRQ value is used, measurements must be configured for SINR and the other trigger quantity to be used as fallback.
6. Optional: Configure additional target evaluation of a reported quantity for the A5 measurement reports for the PCell:
    1. Configure the reported quantity to be evaluated. One of the following attributes that corresponds to the trigger quantity chosen in the TrStSaCellProfileUeCfg.mlcTriggerQuantity attribute must be used to configure the reported quantity to be evaluated: TrStSaCellProfileUeCfg.rsrpPCellCandidateAddTargEval TrStSaCellProfileUeCfg.rsrqPCellCandidateAddTargEval TrStSaCellProfileUeCfg.sinrPCellCandidateAddTargEval If the TrStSaCellProfileUeCfg.mlcTriggerQuantity attribute is configured with a different trigger quantity than it is configured for the Mobility Control at Poor Coverage function of the NR Mobility feature in any neighboring cell, it is recommended to configure additional target evaluation for that other quantity. This reduces the risk of the Multi-Layer Coordination function moving the UE to a cell where it immediately appears in the search zone of the Mobility Control at Poor Coverage function. Example If the Multi-Layer Coordination function is configured to use RSRP as the trigger quantity for the PCell measurement reports, and the Mobility Control at Poor Coverage function in neighboring cells is configured to use RSRQ as the trigger quantity, set the TrStSaCellProfileUeCfg.rsrpPCellCandidateAddTargEval attribute to RSRQ.
    2. Configure the threshold for the evaluation of the reported quantity. The evaluation threshold must be configured for the reported quantity to be evaluated. This evaluation uses the same threshold that is used by the UE in cases when this quantity is configured as the trigger quantity. For RSRP, the threshold is calculated in the following way: The following values are summed up: The value of the threshold2 struct member in the TrStSaCellProfileUeCfg.rsrpPCellCandidate attribute The value of the hysteresis struct member in the TrStSaCellProfileUeCfg.rsrpPCellCandidate attribute The value of the TrStSaNrFreqRelProfileUeCfg.rsrpPCellCandidateOffset attribute The value of the threshold2Offset struct member in the TrStSaCellProfileUeCfg.rsrpPCellCandidatePcOffset attribute for the power class of the UE The value of the NRCellRelation.cellIndividualOffsetNR attribute is subtracted. For RSRQ, the threshold is calculated by summing up the following values: The value of the threshold2 struct member in the TrStSaCellProfileUeCfg.rsrqPCellCandidate attribute The value of the hysteresis struct member in the TrStSaCellProfileUeCfg.rsrqPCellCandidate attribute The value of the TrStSaNrFreqRelProfileUeCfg.rsrqPCellCandidateOffset attribute For SINR, the threshold is calculated by summing up the following values: The value of the threshold2 struct member in the TrStSaCellProfileUeCfg.sinrPCellCandidate attribute The value of the hysteresis struct member in the TrStSaCellProfileUeCfg.sinrPCellCandidate attribute The value of the TrStSaNrFreqRelProfileUeCfg.sinrPCellCandidateOffset attribute Note: If the reported quantity to be evaluated is configured as SINR\_FALLBACK\_RSRQ, the evaluation threshold must be configured for both SINR and RSRQ.
7. Define a frequency relation where the UE is allowed to search for a PCell candidate:
    1. Set the NRFreqRelation.trStSaNrFreqRelProfileRef attribute to refer to the given TrStSaNrFreqRelProfile MO instance. Note: At least one intra-frequency NRFreqRelation and one inter-frequency NRFreqRelation MO instance must be configured under the NRCellCU MO class for the Multi-Layer Coordination function.
    2. Set the TrStSaNrFreqRelProfileUeCfg.pCellAllowed attribute that is associated with the TrStSaNrFreqRelProfile MO instance to true.
    3. Set the NRFreqRelation.ueMCNrFreqRelProfileRef attribute to refer to the given UeMCNrFreqRelProfile MO instance.
    4. Set the UeMCNrFreqRelProfileUeCfg.connModeAllowedPCell attribute that is associated with the UeMCNrFreqRelProfile MO instance to true.
8. Set the following attributes to reference the corresponding MO profiles, if not set already: Table 15 MO References for Multi-Layer Coordination Reference Attribute MO Profile NRCellCU.trStSaCellProfileRef TrStSaCellProfile NRFreqRelation.trStSaNrFreqRelProfileRef TrStSaNrFreqRelProfile NRFreqRelation.ueMCNrFreqRelProfileRef UeMCNrFreqRelProfile Note: For more information on using MO profiles and references, see 5G Mobility and Traffic Management Guideline.
9. Set the TrStSaCellProfileUeCfg.mlcEnabled attribute to true.

Results

By using UE measurements, the gNodeB can evaluate if a handover or an SCell

reselection procedure

must

be performed to obtain a better cell set for the UE at connection setup or RRC

Resume.

Related concepts

Multi-Layer Coordination

Related tasks

Configure Traffic Steering Cell Reselection Priority at UE Release

Configure Dynamic Cell Set Change during Mobility

### 8.1.1 Configuration Management of Multi-Layer Coordination

The configuration of this function is based on

various

MO attributes, including attributes that reference MO profiles.

Figure 10   MO Relations for Multi-Layer Coordination

## 8.2 Configure Dynamic Cell Set Change during Mobility

The Dynamic Cell Set Change during Mobility function is based on the cell and

frequency relations configured in the given network.

Prerequisites

- All of the following MO classes for the configuration of the Dynamic Cell Set Change during Mobility function are created: EUtranCellRelation EUtranFreqRelation EUtranFrequency NRCellCU TrStSaCellProfileUeCfg TrStSaEUtranFreqRelProfile TrStSaEUtranFreqRelProfileUeCfg TrStSaNrFreqRelProfileUeCfg UeMCEUtranFreqRelProfile UeMCEUtranFreqRelProfileUeCfg UeMCNrFreqRelProfileUeCfg Note: The E-UTRAN MO classes are required if the Bandwidth-Triggered Inter-System Handover function is used together with the Dynamic Cell Set Change during Mobility function.
- Frequency and cell relations are configured for mobility.
- The cells are configured for carrier aggregation through one of the NR downlink carrier aggregation features, and if needed, for uplink carrier aggregation through the NR Uplink Carrier Aggregation feature.
- If the NR Uplink Carrier Aggregation feature is enabled, the CaCellProfileUeCfg.servingCellSelectionPolicy attribute is configured to prioritize downlink or uplink throughput for each UE group.

Steps

1. Set the TrStSaCellProfileUeCfg.mlcAllowedCellSetChangeAction attribute to one of the following values:
    - HANDOVER to allow for the evaluation of PCell candidates based only on the neighbor cells. With this setting, SCell Reselection is disabled.
    - HO\_AND\_SCELL\_RESELECTION to allow for the evaluation of PCell candidates based on the current PCell and the neighbor cells.
    - SCELL\_RESELECTION to allow for the evaluation of PCell candidates based only on the current PCell. With this setting, handover to a PCell is disabled.
2. Configure the requirement for the comparison between the available cell set and candidate cell set through the TrStSaCellProfileUeCfg.criterionBetterUeConfig attribute.
3. Configure the trigger quantity to be used by the A5 measurement reports for the PCell and the SCell through the TrStSaCellProfileUeCfg.mlcTriggerQuantity attribute.
4. Configure the Better PCell Candidate measurement according to the given network requirements with the following attributes corresponding to the trigger quantity chosen in the TrStSaCellProfileUeCfg.mlcTriggerQuantity attribute: TrStSaCellProfileUeCfg.rsrpPCellCandidate TrStSaCellProfileUeCfg.rsrqPCellCandidate TrStSaCellProfileUeCfg.sinrPCellCandidate TrStSaNrFreqRelProfileUeCfg.rsrpPCellCandidateOffset TrStSaNrFreqRelProfileUeCfg.rsrqPCellCandidateOffset TrStSaNrFreqRelProfileUeCfg.sinrPCellCandidateOffset
5. Configure the Better SCell Candidate measurement according to the network requirements with the following attributes corresponding to the trigger quantity chosen in the TrStSaCellProfileUeCfg.mlcTriggerQuantity attribute: TrStSaCellProfileUeCfg.rsrpSCellCandidate TrStSaCellProfileUeCfg.rsrqSCellCandidate TrStSaCellProfileUeCfg.sinrSCellCandidate TrStSaNrFreqRelProfileUeCfg.rsrpSCellCandidateOffset TrStSaNrFreqRelProfileUeCfg.rsrqSCellCandidateOffset TrStSaNrFreqRelProfileUeCfg.sinrSCellCandidateOffset Note: The RSRP, RSRQ, or SINR of the SCell must be lower than the RSRP, RSRQ, or SINR of the PCell.
6. Optional: Configure additional target evaluation of a reported quantity for the A5 measurement reports for the PCell:
    1. Configure the reported quantity to be evaluated. One of the following attributes that corresponds to the trigger quantity chosen in the TrStSaCellProfileUeCfg.mlcTriggerQuantity attribute must be used to configure the reported quantity to be evaluated: TrStSaCellProfileUeCfg.rsrpPCellCandidateAddTargEval TrStSaCellProfileUeCfg.rsrqPCellCandidateAddTargEval TrStSaCellProfileUeCfg.sinrPCellCandidateAddTargEval If the TrStSaCellProfileUeCfg.mlcTriggerQuantity attribute is configured with a different trigger quantity than it is configured for the Mobility Control at Poor Coverage function of the NR Mobility feature in any neighboring cell, it is recommended to configure additional target evaluation for that other quantity. This reduces the risk of the Multi-Layer Coordination function moving the UE to a cell where it immediately appears in the search zone of the Mobility Control at Poor Coverage function. Example If the Multi-Layer Coordination function is configured to use RSRP as the trigger quantity for the PCell measurement reports, and the Mobility Control at Poor Coverage function in neighboring cells is configured to use RSRQ as the trigger quantity, set the TrStSaCellProfileUeCfg.rsrpPCellCandidateAddTargEval attribute to RSRQ.
    2. Configure the threshold for the evaluation of the reported quantity. The evaluation threshold must be configured for the reported quantity to be evaluated. This evaluation uses the same threshold that is used by the UE in cases when this quantity is configured as the trigger quantity. For RSRP, the threshold is calculated in the following way: The following values are summed up: The value of the threshold2 struct member in the TrStSaCellProfileUeCfg.rsrpPCellCandidate attribute The value of the hysteresis struct member in the TrStSaCellProfileUeCfg.rsrpPCellCandidate attribute The value of the TrStSaNrFreqRelProfileUeCfg.rsrpPCellCandidateOffset attribute The value of the threshold2Offset struct member in the TrStSaCellProfileUeCfg.rsrpPCellCandidatePCOffset attribute for the power class of the UE The value of the NRCellRelation.cellIndividualOffsetNR attribute is subtracted. For RSRQ, the threshold is calculated by summing up the following values: The value of the threshold2 struct member in the TrStSaCellProfileUeCfg.rsrqPCellCandidate attribute The value of the hysteresis struct member in the TrStSaCellProfileUeCfg.rsrqPCellCandidate attribute The value of the TrStSaNrFreqRelProfileUeCfg.rsrqPCellCandidateOffset attribute For SINR, the threshold is calculated by summing up the following values: The value of the threshold2 struct member in the TrStSaCellProfileUeCfg.sinrPCellCandidate attribute The value of the hysteresis struct member in the TrStSaCellProfileUeCfg.sinrPCellCandidate attribute The value of the TrStSaNrFreqRelProfileUeCfg.sinrPCellCandidateOffset attribute Note: If the reported value to be evaluated is set to SINR\_FALLBACK\_RSRQ, the evaluation threshold must be configured for both SINR and RSRQ.
7. Define a frequency relation where the UE is allowed to search for a PCell candidate.
    1. Set the NRFreqRelation.trStSaNrFreqRelProfileRef attribute to refer to the TrStSaNrFreqRelProfile MO instance.
    2. Set the TrStSaNrFreqRelProfileUeCfg.pCellAllowed attribute that is associated with the TrStSaNrFreqRelProfile MO instance to true.
    3. Set the NRFreqRelation.ueMCNrFreqRelProfileRef attribute to refer to the given UeMCNrFreqRelProfile MO instance.
    4. Set the UeMCNrFreqRelProfileUeCfg.connModeAllowedPCell attribute that is associated with the UeMCNrFreqRelProfile MO instance to true.
8. Ensure that the following attributes are set to reference the corresponding MO profiles: Table 16 MO References for Dynamic Cell Set Change during Mobility Reference Attribute MO Profile NRCellCU.trStSaCellProfileRef TrStSaCellProfile NRFreqRelation.trStSaNrFreqRelProfileRef TrStSaNrFreqRelProfile NRFreqRelation.ueMCNrFreqRelProfileRef UeMCNrFreqRelProfile Note: For more information on using MO profiles and references, see 5G Mobility and Traffic Management Guideline.
9. Optional: Configure the Bandwidth-Triggered Inter-System Handover function to allow for the periodic evaluation of the Bandwidth-Triggered Inter-System Handover procedure. For more information on the Bandwidth-Triggered Inter-System Handover function, see Operation of Bandwidth-Triggered Inter-System Handover.
10. Optional: Set the TrStSaCellProfileUeCfg.mlcEnabled attribute to true to enable an initial Multi-Layer Coordination evaluation at UE Setup and RRC Resume.
11. Set the TrStSaCellProfileUeCfg.mlcPeriodicInterval attribute to configure the periodic interval.
12. Set the TrStSaCellProfileUeCfg.mlcPeriodicEnabled attribute to true.

Results

By using UE measurements, the gNodeB can evaluate periodically if a handover or SCell

reselection must be performed to obtain a better cell set for the UE in

RRC\_CONNECTED state.

Related tasks

Configure Multi-Layer Coordination

### 8.2.1 Configuration Management of Dynamic Cell Set Change during Mobility

The configuration of this function is based on various MO attributes, including

attributes that reference MO profiles.

Figure 11   MO Relations for Dynamic Cell Set Change during Mobility

In addition to these attributes, the function can be configured by using the attributes

that are used for configuring the Bandwidth-Triggered Inter-System Handover function, if

needed. For more information, see Configuration Management of Bandwidth-Triggered

Inter-System Handover.

## 8.3 Configure Traffic Steering Cell Reselection Priority at UE Release

The feature can be configured to send CRP at UE release

or

suspend, together with the t320 validity timer.

Prerequisites

If the value of the TrStSaCellProfileUeCfg.actionAtRelease

attribute is to be set to CA\_CONF, the Multi-Layer Coordination

function is enabled by setting the

TrStSaCellProfileUeCfg.mlcEnabled attribute to

true.

If the value of the TrStSaCellProfileUeCfg.actionAtRelease

attribute is to be set to CRP\_MLC\_CONDITIONAL, one of the following

conditions is met:

- The Dynamic Cell Set Change during Mobility function is enabled by setting the TrStSaCellProfileUeCfg.mlcPeriodicEnabled attribute to true.
- The Multi-Layer Coordination function is enabled by setting the TrStSaCellProfileUeCfg.mlcEnabled attribute to true.

Steps

1. Set the TrStSaCellProfileUeCfg.actionAtRelease attribute to one of the following values:
    - CA\_CONF
    - CRP\_MLC\_CONDITIONAL
2. Optional: Adjust the default value of the validity timer for the CRP information sent to the UE with the TrStSaCellProfileUeCfg.t320 attribute.

Results

The gNodeB is configured to send a CRP IE at UE release or suspend, together with the

t320 validity timer. This CRP IE overrides the SIB priorities that are configured

with the following attributes:

- NRFreqRelation.cellReselectionPriority
- EUtranFreqRelation.cellReselectionPriority

For more information, see 3GPP TS 38.331; NR; Radio Resource Control

(RRC); Protocol specification.

Related concepts

Traffic Steering Cell Reselection Priority at UE Release

Related tasks

Configure Multi-Layer Coordination

## 8.4 Configure Bandwidth-Triggered Inter-System Handover

The Bandwidth-Triggered Inter-System Handover function operates based on the cell and

E-UTRAN frequency relations that are configured in the NR network. After the initial

configuration of the function, the settings can be further optimized for the specific

network environment.

Prerequisites

- All of the following MO classes for the configuration of the Bandwidth-Triggered Inter-System Handover function are created: EUtranCellRelation EUtranFreqRelation EUtranFrequency NRCellCU NRCellDU TrStSaCellProfile TrStSaCellProfileUeCfg TrStSaEUtranFreqRelProfile TrStSaEUtranFreqRelProfileUeCfg UeMCEUtranFreqRelProfile UeMCEUtranFreqRelProfileUeCfg
- E-UTRAN frequency relations and E-UTRAN cell relations are configured for IRAT mobility.
- The Measurement Gap-Aware NR Scheduling feature is active in the node and configured to support LTE measurements.

Steps

1. Configure the trigger quantity to be used for B2 measurements through the TrStSaCellProfileUeCfg.bwTrigISHoTriggerQuantity attribute. Table 17 Supported Trigger Quantities for B2 Measurements Attribute Value Description RSRP RSRP is used as the trigger quantity. RSRQ RSRQ is used as the trigger quantity. SINR\_FALLBACK\_RSRP If the UE supports SINR measurements for NR and E-UTRAN frequencies, SINR is used as the trigger quantity. If the UE does not support SINR measurements for NR and E-UTRAN frequencies, the function falls back to using RSRP as the trigger quantity. SINR\_FALLBACK\_RSRQ If the UE supports SINR measurements for NR and E-UTRAN frequencies, SINR is used as the trigger quantity. If the UE does not support SINR measurements for NR and E-UTRAN frequencies, the function falls back to using RSRQ as the trigger quantity.
2. Configure the E-UTRAN frequency candidate measurement with the following attributes corresponding to the trigger quantity chosen in the TrStSaCellProfileUeCfg.bwTrigISHoTriggerQuantity attribute: TrStSaCellProfileUeCfg.rsrpPCellCandidateB2 TrStSaCellProfileUeCfg.rsrqPCellCandidateB2 TrStSaCellProfileUeCfg.sinrPCellCandidateB2 If the SINR\_FALLBACK\_RSRP or the SINR\_FALLBACK\_RSRQ value is used for the IntraFreqMCCellProfileUeCfg.betterSpCellTriggerQuantity attribute, measurements must be configured for both SINR and the other quantity to be used as fallback. Table 18 Configurable Struct Members for the B2 E-UTRAN Frequency Candidate Measurement Struct Member Description hysteresis The hysteresis value is used to prevent the retriggering of B2 measurements if the trigger quantity fluctuates close to the threshold1 value. threshold1(1) The RSRP, RSRQ, or SINR threshold value for the serving cell during the B2 E-UTRAN frequency candidate measurement. threshold2EUtra(2) The RSRP, RSRQ, or SINR threshold2 value for the E-UTRAN candidate cell during the B2 E-UTRAN frequency candidate measurement. timeToTrigger The timeToTrigger value defines how long the threshold requirements must be fulfilled for before the B2 E-UTRAN frequency candidate measurement report is sent by the UE. maxReportCells The maxReportCells value defines the maximum number of the non-serving cells to be included in the B2 measurement report. (1) The threshold1 struct member can be adjusted through the TrStSaEUtranFreqRelProfileUeCfg.rsrpPCellCandidateB2Offsets, TrStSaEUtranFreqRelProfileUeCfg.rsrqPCellCandidateB2Offsets or TrStSaEUtranFreqRelProfileUeCfg.sinrPCellCandidateB2Offsets attributes. (2) The threshold2EUtra struct member can be adjusted through the TrStSaEUtranFreqRelProfileUeCfg.rsrpPCellCandidateB2Offsets, TrStSaEUtranFreqRelProfileUeCfg.rsrqPCellCandidateB2Offsets or TrStSaEUtranFreqRelProfileUeCfg.sinrPCellCandidateB2Offsets attributes. Note: The cell-specific offset that is configured through the EUtranCellRelation.cellIndividualOffsetEUtran attribute is part of thethreshold2EUtra triggering condition for the B2 measurement reports.
3. Define the E-UTRAN frequency relations where the UE is allowed to search for a PCell candidate.
    1. Set the EUtranFreqRelation.ueMCEUtranFreqRelProfileRef attribute to refer to the given UeMCEUtranFreqRelProfile MO instance.
    2. Set the UeMCEUtranFreqRelProfileUeCfg.connModeAllowedPCell attribute that is associated with the UeMCEUtranFreqRelProfile MO instance to true.
4. Define the aggregated NR bandwidth threshold by configuring the TrStSaCellProfileUeCfg.aggregatedBwThreshold attribute.
5. Optional: Optimize the configuration according to the network requirements with any of the following optimization options: Optimization Option Description Option 1: Prevent Handover to a Specific E-UTRAN Cell Handover can be prevented to specific LTE cells. Option 2: Prevent UE from Reporting an E-UTRAN Cell on a Specific E-UTRAN Frequency The gNodeB can be configured to prevent the UE from reporting an LTE cell on a specific E-UTRAN frequency. Option 3: Configure an E-UTRAN Cell-Specific Measurement Offset The conditions that trigger B2 measurement reports can be adjusted for a specific LTE cell on a given E-UTRAN frequency by applying a cell-specific offset. Option 4: Configure an E-UTRAN Frequency-Specific Measurement Threshold Offset The B2 measurement report threshold values can be adjusted by applying a B2 measurement report threshold offset for a specific E-UTRAN frequency. Option 5: Configure Measurement Priority for an E-UTRAN Frequency E-UTRAN frequency measurement priorities can be configured according to preferences. Option 6: Configure Additional Target Evaluation An additional reported quantity can be configured to be evaluated for B2 measurement reports.
6. Set the following attributes to reference the corresponding MO profiles, if not set already: Table 19 MO Profile References Reference Attribute MO Profile NRCellCU.trStSaCellProfileRef TrStSaCellProfile EUtranFreqRelation.trStSaEUtranFreqRelProfileRef TrStSaEUtranFreqRelProfile EUtranFreqRelation.ueMCEUtranFreqRelProfileRef UeMCEUtranFreqRelProfile
7. Set the value of the TrStSaCellProfileUeCfg.bwTrigISHoEnabled attribute to true to enable the Bandwidth-Triggered Inter-System Handover function in the NR cell.

Results

The gNodeB evaluates the aggregated NR bandwidth, and triggers an inter-system

handover to the

LTE

cell if the available cell set bandwidth is equal to or below the configured

bandwidth threshold.

Related concepts

Optimization Options

### 8.4.1 Configuration Management of Bandwidth-Triggered Inter-System Handover

The configuration of this function is based on a number of MO attributes, including

attributes that reference MO profiles.

Figure 12   MO Relations for Bandwidth-Triggered Inter-System Handover

### 8.4.2 Optimization Options

#### 8.4.2.1 Option 1: Prevent Handover to a Specific E-UTRAN Cell

Handover can be prevented to specific E-UTRAN cells.

Steps

1. Set the EUtranCellRelation.isHoAllowed attribute to false for each E-UTRAN cell relation for which a handover must be prevented. Note: The EUtranCellRelation.isHoAllowed attribute affects all features and functions that trigger handovers to the specific E-UTRAN cell.

#### 8.4.2.2 Option 2: Prevent UE from Reporting an E-UTRAN Cell on a Specific E-UTRAN Frequency

The gNodeB can be configured to ensure that the UE avoids reporting an E-UTRAN cell

on a specific E-UTRAN frequency.

If

triggering

a handover to a specific E-UTRAN

frequency must

be avoided, it is possible to block such an E-UTRAN frequency with

a large B2

measurement

threshold offset. This way, the UE does not report E-UTRAN cells

on the specific E-UTRAN frequency.

Steps

1. Create a TrStSaEUtranFreqRelProfile MO instance for the given E-UTRAN frequency relation, or use the auto-created MO instance.
2. Set the EUtranFreqRelation.trStSaEUtranFreqRelProfileRef attribute to refer to the TrStSaEUtranFreqRelProfile MO instance.
3. Set the threshold2EUtraOffset struct member of the following attributes to the maximum value of 100: TrStSaEUtranFreqRelProfileUeCfg.rsrpPCellCandidateB2Offsets TrStSaEUtranFreqRelProfileUeCfg.rsrqPCellCandidateB2Offsets TrStSaEUtranFreqRelProfileUeCfg.sinrPCellCandidateB2Offsets The B2 measurement threshold that is sent to the UE is calculated through the following formula: TrStSaCellProfileUeCfg.rsrpPCellCandidateB2 + 100 TrStSaCellProfileUeCfg.rsrqPCellCandidateB2 + 100 TrStSaCellProfileUeCfg.sinrPCellCandidateB2 + 100

Results

The UE reports no B2 measurements for E-UTRAN cells on

the given E-UTRAN frequency.

#### 8.4.2.3 Option 3: Configure an E-UTRAN Cell-Specific Measurement Offset

The conditions that trigger B2

measurements

can be adjusted for a specific E-UTRAN cell on a given E-UTRAN frequency

by applying a cell-specific

offset when RSRP is

used as the trigger quantity.

The cell-specific offset is part of the conditions that trigger the

B2

measurement report. The offset is applied for all

features and

functions that use

B1

or

B2

measurements

when RSRP is used as the trigger quantity.

Steps

1. Configure a cell-specific offset for an E-UTRAN cell relation with the EUtranCellRelation.cellIndividualOffset attribute.

#### 8.4.2.4 Option 4: Configure an E-UTRAN Frequency-Specific Measurement Threshold Offset

The

B2

measurement

threshold values can be adjusted by applying a

B2

measurement

threshold offset for a specific E-UTRAN frequency.

Steps

1. Create a TrStSaEUtranFreqRelProfile
2. Set the EUtranFreqRelation.trStSaEUtranFreqRelProfileRef attribute to refer to the TrStSaEUtranFreqRelProfile MO instance. MO instance for the given E-UTRAN frequency relation, or use the auto-created MO instance.
3. Set the TrStSaEUtranFreqRelProfileUeCfg.rsrpPCellCandidateB2Offsets, TrStSaEUtranFreqRelProfileUeCfg.rsrqPCellCandidateB2Offsets, and TrStSaEUtranFreqRelProfileUeCfg.sinrPCellCandidateB2Offsets attributes to a suitable value. The B2 measurement threshold that is sent to the UE is the sum of the following attributes, depending on the configured trigger quantity for the measurement: The TrStSaCellProfileUeCfg.rsrpPCellCandidateB2 and the TrStSaEUtranFreqRelProfileUeCfg.rsrpPCellCandidateB2Offsets attributes The TrStSaCellProfileUeCfg.rsrqPCellCandidateB2 and the TrStSaEUtranFreqRelProfileUeCfg.rsrqPCellCandidateB2Offsets attributes The TrStSaCellProfileUeCfg.sinrPCellCandidateB2 and the TrStSaEUtranFreqRelProfileUeCfg.sinrPCellCandidateB2Offsets attributes

#### 8.4.2.5 Option 5: Configure Measurement Priority for an E-UTRAN Frequency

E-UTRAN frequency measurement priorities can be configured according to

preferences.

Steps

1. Configure the priority for an E-UTRAN frequency relation with the UeMCEUtranFreqRelProfileUeCfg.connModePrioPCell attribute. Note: This attribute affects all features and functions that use E-UTRAN frequency priorities.

Results

A priority value is assigned to the frequency.

#### 8.4.2.6 Option 6: Configure Additional Target Evaluation

The gNodeB can be configured to evaluate a reported quantity that is different from

the configured trigger quantity in the B2 measurement report.

Steps

1. Configure the reported quantity to be evaluated through one of the following attributes corresponding to the trigger quantity configured through the TrStSaCellProfileUeCfg.bwTrigISHoTriggerQuantity attribute: TrStSaCellProfileUeCfg.rsrpPCellCandidateB2AddTargEval TrStSaCellProfileUeCfg.rsrqPCellCandidateB2AddTargEval TrStSaCellProfileUeCfg.sinrPCellCandidateB2AddTargEval If the TrStSaCellProfileUeCfg.bwTrigISHoTriggerQuantity attribute is configured with a different trigger quantity than the trigger quantity configured for the Mobility Control at Poor Coverage feature in any neighboring LTE cell, it is recommended to configure the additional target evaluation for that reported quantity in the cell. This reduces the risk of the Bandwidth-Triggered Inter-System Handover function moving the UE to a cell where the UE is immediately placed in the Search Zone of the Mobility Control at Poor Coverage feature.
2. Configure the threshold for the evaluation of the configured reported quantity. The evaluation uses the same threshold used by the UE if the reported quantity is configured as the trigger quantity. The threshold is calculated as the sum of the other configuration attributes. For RSRP, the threshold is calculated in the following way: The values of the following struct members are added: The threshold2EUtra struct member in the TrStSaCellProfileUeCfg.rsrpPCellCandidateB2 attribute The hysteresis struct member in the TrStSaCellProfileUeCfg.rsrpPCellCandidateB2 attribute The threshold2EUtraOffset struct member in the TrStSaEUtranFreqRelProfileUeCfg.rsrpPCellCandidateB2Offsets attribute The value of the EUtranCellRelation.cellIndividualOffset attribute is subtracted. For RSRQ, the threshold is calculated as the sum of the values of the following struct members: threshold2EUtra in the TrStSaCellProfileUeCfg.rsrqPCellCandidateB2 attribute hysteresis in the TrStSaCellProfileUeCfg.rsrqPCellCandidateB2 attribute threshold2EUtraOffset in the TrStSaEUtranFreqRelProfileUeCfg.rsrqPCellCandidateB2Offsets attribute For SINR, the threshold is calculated as the sum of the values of the following struct members: The threshold2EUtra struct member in the TrStSaCellProfileUeCfg.sinrPCellCandidateB2 attribute The hysteresis struct member in the TrStSaCellProfileUeCfg.sinrPCellCandidateB2 attribute The threshold2EUtraOffset struct member in the TrStSaEUtranFreqRelProfileUeCfg.sinrPCellCandidateB2Offsets attribute Note: If the reported value to be evaluated is set to SINR\_FALLBACK\_RSRQ, the evaluation threshold must be configured for both SINR and RSRQ.

Results

When a B2 measurement report is received, the gNodeB evaluates the reported value of

the specified quantity. The gNodeB only configures the UE to perform handover to the

reported cell if the reported value is above the configured additional target

evaluation threshold for B2 measurements.

# Appendix A: Feature Change History

This section lists changes that affected this feature and the impact it had on the

network.

## Appendix A.a: 22.Q4: Multi-Layer Coordination

With this feature enhancement, traffic steering is supported through the evaluation

of multiple PCell and SCell candidate frequencies.

| Feature Name           | NR Traffic Steering   |
|------------------------|-----------------------|
| Feature Identity       | FAJ 121 5458          |
| Value Package Name     | NR Base Package       |
| Value Package Identity | FAJ 801 4002          |
| Node Type              | Baseband Radio Node   |
| Access Type            | NR                    |
| Impact at Upgrade      | Optional              |

Summary and Benefits

With this feature enhancement, it is possible to initiate a PCell change by

evaluating multiple frequency relations of the PCell and SCell candidates.

This feature enhancement has the following benefits:

- It provides efficient use of the available spectrum by matching the UE capability with the network configuration, as all neighbor cells are evaluated to find the best downlink performance for the UE.
- It increases the probability of higher downlink UE throughput by securing the coverage of the SCells that are selected based on UE measurements.
- It provides predictable traffic steering behavior for UEs that support the RRC Inactive State feature.
- It allows for user- and service-differentiated traffic steering by supporting the UE Grouping Framework.

Capacity and Performance

Traffic is steered towards PCells that are estimated to result in higher downlink UE

throughput.

The following PM counters are expected to increase by enabling the Multi-Layer

Coordination function:

- NRCellCU.pmHoPrepAttOutInterGnb
- NRCellCU.pmHoPrepAttOutInterGnbTs
- NRCellCU.pmHoPrepSuccOutInterGnb
- NRCellCU.pmHoPrepSuccOutInterGnbTs
- NRCellCU.pmHoPrepAttOutIntraGnb
- NRCellCU.pmHoPrepAttOutIntraGnbTs
- NRCellCU.pmHoPrepSuccOutIntraGnb
- NRCellCU.pmHoPrepSuccOutIntraGnbTs
- NRCellCU.pmHoExeAttOutInterGnb
- NRCellCU.pmHoExeAttOutInterGnbTs
- NRCellCU.pmHoExeSuccOutInterGnb
- NRCellCU.pmHoExeSuccOutInterGnbTs
- NRCellCU.pmHoExeAttOutIntraGnb
- NRCellCU.pmHoExeAttOutIntraGnbTs
- NRCellCU.pmHoExeSuccOutIntraGnb
- NRCellCU.pmHoExeSuccOutIntraGnbTs

Operation

This feature enhancement introduces the following attributes:

- NRCellDU.cellSelectionWeightFactor
- TrStSaCellProfileUeCfg.rsrpSCellCandidate
- TrStSaNrFreqRelProfile.ueConfGroupType
- TrStSaNrFreqRelProfileUeCfg.prefUeGroupList
- TrStSaNrFreqRelProfileUeCfg.rsrpSCellCandidateOffset
- TrStSaNrFreqRelProfileUeCfg.ueConfGroupList
- TrStSaNrFreqRelProfileUeCfg.ueGroupList

This feature enhancement updates the following PM events:

- CuCpMeasurementReportSaEval
- CuCpProcNrHoExeOut
- CuCpProcNrHoPrepOut

This feature enhancement introduces the

NR

Traffic Steering Handover Success Rate Captured in Source gNodeB

PI.

Interfaces

This feature enhancement affects the following interfaces:

Hardware

No specific hardware requirements.

Other Network Elements

This feature enhancement requires the following network elements:

- ENM It is recommended to use ENM version 22.4 or later to support the MOM changes introduced by this feature enhancement. If the Release Independence Manager application is used, the MOM changes are supported on earlier ENM versions also.
- gNodeB The gNodeB, to which the UE is connected, must be upgraded to 22.Q4 version for the operation of the Multi-Layer Coordination function. Otherwise, the Capability-Aware PCell Selection function operates if it is enabled on the gNodeB. The neighbor gNodeBs must be upgraded to 22.Q4 version, so that the candidate cells in the neighbor gNodeBs can be evaluated by the Multi-Layer Coordination function. If the Capability-Aware PCell Selection function is enabled on the gNodeB, the Multi-Layer Coordination function can use the same configuration. In this case, the SCell candidate is not limited to the current PCell.

Related Information

NR Traffic Steering

## Appendix A.b: 23.Q2: Dynamic Cell Set Change during Mobility

With this feature enhancement, the cell set can be dynamically changed for the UE

during mobility when the UE is in RRC\_CONNECTED state.

| Feature Name           | NR Traffic Steering   |
|------------------------|-----------------------|
| Feature Identity       | FAJ 121 5458          |
| Value Package Name     | NR Base Package       |
| Value Package Identity | FAJ 801 4002          |
| Node Type              | Baseband Radio Node   |
| Access Type            | NR                    |
| Impact at Upgrade      | Optional              |

Summary and Benefits

This feature enhancement introduces the Dynamic Cell Set Change during Mobility

function, which has the following benefits:

- It supports periodic evaluation to find the best cell set for the UE in NR. It also evaluates if an IRAT Handover to LTE must be initiated if the NR bandwidth is below the configurable threshold. This way, coverage changes can be continuously detected and the UE can be reconfigured with a new cell set through handover or SCell Reselection.
- It allows for the UE to use a better cell set during mobility, which improves the use of the available spectrum in the network.

This feature enhancement provides the following benefits for the Multi-Layer

Coordination function:

- SCell Reselection without PCell change is possible, which reduces the number of handovers that are triggered by the function.
- The evaluation procedure of the Multi-Layer Coordination function can result in a cell set change by performing SCell Reselection. With SCell Reselection, all current SCells or a subset can be removed, and one or multiple SCells can be added.

This feature enhancement introduces the possibility of only applying CRP to UEs for

which a traffic steering criteria evaluation is performed with the Multi-Layer

Coordination or the Dynamic Cell Set Change during Mobility function.

Capacity and Performance

UE throughput is expected to improve for UEs that are moved into better coverage

areas when a better cell set can be obtained.

However, the following factors can have a negative impact on UE throughput:

- A measurement gap is required for inter-frequency measurements for non-serving cells.
- Handovers can decrease UE throughput during the handover procedure.

The number of handovers that are triggered by the NR Traffic Steering feature is

expected to increase.

If SCell Reselection is allowed in the Multi-Layer Coordination function, the number

of handovers that are triggered by the NR Traffic Steering feature might

decrease.

If the Bandwidth-Triggered Inter-System Handover function is enabled, the number of

handovers to LTE is expected to increase because of the periodic evaluation of the

NR bandwidth.

The number of SCell configuration and deconfiguration procedures is expected to

increase.

Operation

This feature enhancement introduces the following attributes:

- TrStSaCellProfileUeCfg.mlcAllowedCellSetChangeAction
- TrStSaCellProfileUeCfg.mlcPeriodicEnabled
- TrStSaCellProfileUeCfg.mlcPeriodicInterval

This feature enhancement deprecates the

TrStSaCellProfileUeCfg.capAwarePCellSelEnabled attribute. The

deprecated attribute is replaced by the

TrStSaCellProfileUeCfg.mlcEnabled attribute.

This feature enhancement introduces the following PM counters:

- NRCellCU.pmCaSCellReselectionAttTs
- NRCellCU.pmCaSCellReselectionSuccTs

This feature enhancement introduces the following EBS counters, which are associated

with the NRCellCU MO:

- pmEbsCaSCellReselectionAttTs
- pmEbsCaSCellReselectionSuccTs
- pmEbsPeriodicTsInit

For information on the EBS counters, see Lists and Delta Lists.

This feature enhancement introduces the CuCpPerTsPeriodEnd PM

event.

This feature enhancement updates the following PM events:

- CuCpMeasurementReportSaEval
- CuCpProcNrHoExeOut
- CuCpProcNrHoPrepOut
- CuCpProcNrScellUpdate

This feature enhancement introduces the following performance indicators:

- Periodic Traffic Steering Intra NR Handover Ratio
- Periodic Traffic Steering Eutran Handover Ratio
- Periodic Traffic Steering SCell Reselection Ratio
- Periodic Traffic Steering Ratio

The CRP IE for the Traffic Steering Cell Reselection Priority at UE Release function

is modified. For CRPs 5 and 6, the sub-CRPs,

such

as .8, .6, .4, and .2, are prioritized in descending order of

ARFCN instead of ascending.

Interfaces

This feature enhancement affects the following interfaces:

Hardware

No specific hardware requirements.

Other Network Elements

- ENM It is recommended to use ENM version 23.2 or later to support the MOM changes introduced by this feature enhancement. If the Release Independence Manager application is used, the MOM changes are supported on earlier ENM versions also.
- UE UE issues might result in the degradation of the NR standalone Retainability KPIs. This degradation can be mitigated by excluding specific UEs by using the UE Grouping Framework feature (FAJ 121 5314). For more information, see the Handling UEs with Hard Limitations section in UE Grouping Framework.

Related Information

NR Traffic Steering

## Appendix A.c: 23.Q3: Release with Redirect during Bandwidth-Triggered Inter-System Handover

This feature enhancement enables the Bandwidth-Triggered Inter-System Handover

function to initiate measurement-based RwR to LTE frequencies for UEs that do not support

IRAT handover.

| Feature Name           | NR Traffic Steering   |
|------------------------|-----------------------|
| Feature Identity       | FAJ 121 5458          |
| Value Package Name     | NR Base Package       |
| Value Package Identity | FAJ 801 4002          |
| Node Type              | Baseband Radio Node   |
| Access Type            | NR                    |
| Impact at Upgrade      | Mandatory             |

Summary and Benefits

This feature enhancement enables the Bandwidth-Triggered Inter-System Handover

function to initiate measurement-based RwR to LTE frequencies if the UE does not

support IRAT handover. Through RwR, UEs that do not support IRAT handover can also

be moved to LTE frequencies that are likely to provide higher downlink throughput

than NR frequencies.

Capacity and Performance

This feature enhancement introduces the

NRCellCU.pmRwrEutranUeSuccTs PM counter used to observe the

number of RwR procedures triggered by the Bandwidth-Triggered Inter-System Handover

function.

This feature enhancement can also increase the value of the

NRCellCU.pmUeCtxtRelNormal PM counter. This PM counter is

used to observe the number of UEs released due to normal causes in the NR

network.

Operation

The

CuCpRwrMobilityDecision PM event is updated to account for

the measurement-based RwR procedures initiated by the Bandwidth-Triggered

Inter-System Handover function.

Interfaces

No impact.

Hardware

No specific hardware requirements.

Other Network Elements

It is recommended to use ENM version 22.2 or later to support the

MOM changes introduced by this feature enhancement. If the Release Independence

Manager application is used, the MOM changes are supported on earlier ENM versions

also.

Related Information

NR Mobility

NR Traffic Steering

## Appendix A.d: 23.Q4: Improved Configuration of Multi-Layer Coordination and Dynamic Cell Set Change during Mobility

This feature enhancement changes the behavior of some functions of the NR Traffic

Steering feature.

| Feature Name           | NR Traffic Steering   |
|------------------------|-----------------------|
| Feature Identity       | FAJ 121 5458          |
| Value Package Name     | NR Base Package       |
| Value Package Identity | FAJ 801 4002          |
| Node Type              | Baseband Radio Node   |
| Access Type            | NR                    |
| Impact at Upgrade      | Mandatory             |

Summary and Benefits

The behavior of the TrStSaCellProfileUeCfg.mlcEnabled and the

TrStSaCellProfileUeCfg.mlcPeriodicEnabled attributes is

changed to allow for more flexible configurations. This results in a change in the

behavior of the following functions of the NR Traffic Steering feature:

- Multi-Layer Coordination
- Dynamic Cell Set Change during Mobility
- Bandwidth-Triggered Inter-System Handover

The feature enhancement results in a change in the interaction between the NR Traffic

Steering and the NR-NR-Dual Connectivity features.

Capacity and Performance

No impact.

Operation

The feature enhancement updates the following attributes:

- TrStSaCellProfileUeCfg.mlcEnabled
- TrStSaCellProfileUeCfg.mlcPeriodicEnabled

With this update, it is possible to set the values of these attributes to

true independently of each other. The

TrStSaCellProfileUeCfg.mlcEnabled attribute enables a

Multi-Layer Coordination evaluation to be performed at UE Setup and RRC Resume. The

TrStSaCellProfileUeCfg.mlcPeriodicEnabled attribute enables a

Multi-Layer Coordination evaluation to be performed if the timer set with the

TrStSaCellProfileUeCfg.mlcPeriodicInterval attribute

expires.

At node upgrade, in cells where the

TrStSaCellProfileUeCfg.mlcPeriodicEnabled attribute is set to

true, the TrStSaCellProfileUeCfg.mlcEnabled

attribute is automatically set to true as well to follow the

behavior from previous releases.

Node integration scripts in which the

TrStSaCellProfileUeCfg.mlcPeriodicEnabled attribute is set to

true must be updated to ensure that the

TrStSaCellProfileUeCfg.mlcEnabled attribute is set to

true as well to follow the behavior from previous releases.

With this feature enhancement, if the NR-NR Dual Connectivity feature is activated

and NR-DC is enabled in the cell, the following functional changes can be

expected:

| Enabled Traffic Steering Function         | Expected Functional Change                                                                                                                                                                                           |
|-------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Multi-Layer Coordination                  | No Multi-Layer Coordination traffic steering evaluation is                                     performed for the NR-DC-capable UE after UE Setup or RRC                                     Resume.                  |
| Bandwidth-Triggered Inter-System Handover | No Bandwidth-Triggered Inter-System Handover traffic steering                                     evaluation is performed for the NR-DC-capable UE after UE Setup                                     or RRC Resume. |

It is recommended to set the

TrStSaCellProfileUeCfg.mlcPeriodicEnabled attribute to

true in networks where NR-DC is enabled.

This feature enhancement affects how the Multi-Layer Coordination or the

Bandwidth-Triggered Inter-System Handover procedures interact with UE groups. If a

UE belongs to a UE group for which a change occurs during these procedures, the

ongoing procedure is stopped and it is not restarted. A new UE group reevaluation

can be done if the TrStSaCellProfileUeCfg.mlcPeriodicInterval

timer elapses and the TrStSaCellProfileUeCfg.mlcPeriodicEnabled

attribute is set to true.

Interfaces

No impact.

Hardware

No specific hardware requirements.

Other Network Elements

It is recommended to use ENM version 23.3 or later to support the

MOM changes introduced by this feature. If the Release Independence Manager

application is used, the MOM changes are supported on earlier ENM versions also.

Related Information

NR Traffic Steering

## Appendix A.e: 24.Q2.0: Downlink Quality Metric Enhancements for NR Traffic Steering

This feature enhancement adds the option to use downlink RSRQ and SINR as possible

trigger quantities for some measurements of the NR Traffic Steering feature.

| Feature Name           | NR Traffic Steering   |
|------------------------|-----------------------|
| Feature Identity       | FAJ 121 5458          |
| Value Package Name     | NR Base Package       |
| Value Package Identity | FAJ 801 4002          |
| Node Type              | Baseband Radio Node   |
| Access Type            | NR                    |
| Impact at Upgrade      | Optional              |

Summary and Benefits

This feature enhancement adds downlink RSRQ and SINR as alternative trigger

quantities to RSRP for the following measurements

used

by the NR Traffic Steering feature:

- A5 downlink SCell measurements
- A5 PCell measurements
- B2 measurements

The

feature enhancement also enables performing an additional evaluation of a reported

candidate PCell through checking a reported quantity other than the trigger

quantity. The following functions of the feature are

affected by

the updated evaluation process:

- Bandwidth-Triggered Inter-System Handover
- Dynamic Cell Set Change during Mobility
- Multi-Layer Coordination

The feature enhancement improves the accuracy of PCell and SCell cell coverage

evaluations and traffic steering decisions.

Capacity and Performance

This feature enhancement can affect downlink throughput,

depending

on the throughput of the cell used before and after mobility

actions triggered by traffic steering decisions.

This feature enhancement can improve the following KPIs:

- NR Handover Success Rate Captured in Source gNodeB
- NR-to-LTE Inter-RAT Handover Success Rate Captured in Source gNodeB

This feature enhancement can also cause the

CuCpMeasurementReportSaEval event to be stepped more

often.

Operation

This feature enhancement introduces the following attributes related to the

Bandwidth-Triggered Inter-System Handover function:

- TrStSaCellProfileUeCfg.bwTrigISHoTriggerQuantity
- TrStSaCellProfileUeCfg.rsrpPCellCandidateB2AddTargEval
- TrStSaCellProfileUeCfg.rsrqPCellCandidateB2
- TrStSaCellProfileUeCfg.rsrqPCellCandidateB2AddTargEval
- TrStSaCellProfileUeCfg.sinrPCellCandidateB2
- TrStSaCellProfileUeCfg.sinrPCellCandidateB2AddTargEval
- TrStSaEUtranFreqRelProfileUeCfg.rsrqPCellCandidateB2Offsets
- TrStSaEUtranFreqRelProfileUeCfg.sinrPCellCandidateB2Offsets

This feature enhancement introduces the following attributes related to the Dynamic

Cell Set Change during Mobility and the Multi-Layer Coordination functions:

- TrStSaCellProfileUeCfg.mlcTriggerQuantity
- TrStSaCellProfileUeCfg.rsrpPCellCandidateAddTargEval
- TrStSaCellProfileUeCfg.rsrqPCellCandidate
- TrStSaCellProfileUeCfg.rsrqPCellCandidateAddTargEval
- TrStSaCellProfileUeCfg.rsrqSCellCandidate
- TrStSaCellProfileUeCfg.sinrPCellCandidate
- TrStSaCellProfileUeCfg.sinrPCellCandidateAddTargEval
- TrStSaCellProfileUeCfg.sinrSCellCandidate
- TrStSaNrFreqRelProfileUeCfg.rsrqPCellCandidateOffset
- TrStSaNrFreqRelProfileUeCfg.rsrqSCellCandidateOffset
- TrStSaNrFreqRelProfileUeCfg.sinrPCellCandidateOffset
- TrStSaNrFreqRelProfileUeCfg.sinrSCellCandidateOffset

Interfaces

This feature enhancement affects the Uu interface by

modifying

the following RRC IEs:

- MeasTriggerQuantity
- MeasTriggerQuantityEUTRA
- ReportConfigInterRAT
- ReportConfigNR

Hardware

No specific hardware requirements.

Other Network Elements

It is recommended to use ENM version 24.2 or later to support the

MOM changes introduced by this feature enhancement. If the Release Independence

Manager application is used, the MOM changes are supported on earlier ENM versions

also.

It is recommended to use UEs that support

downlink

SINR measurements to fully benefit from this feature

enhancement.

Related Information

NR Traffic Steering

## Appendix A.f: 24.Q3.0: Enhanced SCell Time-Out Handling for Multi-Layer Coordination and Carrier Aggregation

This feature enhancement improves the handling of the SCell supervision timer of the

Multi-Layer Coordination function.

| Feature Name           | NR Traffic Steering   |
|------------------------|-----------------------|
| Feature Identity       | FAJ 121 5458          |
| Value Package Name     | NR Base Package       |
| Value Package Identity | FAJ 801 4002          |
| Node Type              | Baseband Radio Node   |
| Access Type            | NR                    |
| Impact at Upgrade      | Mandatory             |

Summary and Benefits

This feature enhancement prolongs the SCell supervision timer to allow for more UEs

to report A1 and A2 measurements before the timer expires. This improves the

coverage information that is used when the Multi-Layer Coordination function starts.

This results in a better initial traffic steering decision by the Multi-Layer

Coordination function.

If the A1 or the A2 measurement reports are not received for the SCells before the

supervision timer expires, the gNodeB considers these cells to be in unknown

coverage and includes them as candidate cells for the Multi-Layer Coordination

function. SCell coverage changes are considered during the Multi-Layer Coordination

function.

This feature enhancement ensures that the Multi-Layer Coordination function takes the

following aspects into consideration for each Multi-Layer Coordination procedure:

- Coverage state
- Available capacity factor

Capacity and Performance

This feature enhancement is expected to improve the cell set for UEs during the

initial Multi-Layer Coordination procedure, and during each following Multi-Layer

Coordination procedure. It is expected to reduce the number of handovers and SCell

reselections for the Multi-Layer Coordination and the Dynamic Cell Set Change during

Mobility functions. This can be observed through the following PM counters:

- NRCellCU.pmCaSCellReselectionAttTs
- NRCellCU.pmHoPrepAttOutInterGnbTs
- NRCellCU.pmHoPrepAttOutIntraGnbTs

An improved cell set might have the following secondary effects in the gNodeB on cell

level:

- Changes in PCell and SCell MAC volume and throughput.
- Changes in the number of SCell configurations and deconfigurations.
- Changes in the number of SCell activations and deactivations.

Operation

No impact.

Interfaces

No impact.

Hardware

No specific hardware requirements.

Other Network Elements

No impact.

Related Information

NR Traffic Steering

## Appendix A.g: 25.Q2.0: Measurement Configuration for Uplink Two-Layer Coverage

The feature enhancement updates the algorithm for the selection of the uplink serving

cell set in Mid-Band and Low-Band component carriers.

| Feature Name           | NR Switched Uplink for Throughput Boost   | NR Traffic Steering   | NR Uplink Carrier Aggregation   | Uplink Single-User MIMO   |
|------------------------|-------------------------------------------|-----------------------|---------------------------------|---------------------------|
| Feature Identity       | FAJ 121 5772                              | FAJ 121 5458          | FAJ 121 5583                    | FAJ 121 5234              |
| Value Package Name     | Peak Rate Evolution                       | NR Base Package       | Peak Rate Evolution             | Peak Rate Evolution       |
| Value Package Identity | FAJ 801 4005                              | FAJ 801 4002          | FAJ 801 4005                    | FAJ 801 4005              |
| Node Type              | Baseband Radio Node                       | Baseband Radio Node   | Baseband Radio Node             | Baseband Radio Node       |
| Access Type            | NR                                        | NR                    | NR                              | NR                        |
| Impact at Upgrade      | Mandatory                                 | Mandatory             | Mandatory                       | Mandatory                 |

Summary and Benefits

The feature enhancement updates the algorithm for the selection of the uplink serving

cell set in Mid-Band and Low-Band to jointly consider cells, bandwidths, MIMO

layers, and uplink 1TX-2TX switching.

The selection algorithm for the serving cell set selects between uplink

MIMO,

uplink carrier

aggregation,

and uplink 1TX-2TX switching based on uplink weights. Uplink

weight depends on uplink layer coverage with the feature enhancement.

The Multi-Layer Coordination function of the NR Traffic Steering feature is updated

to ensure that if the UE is in bad coverage where uplink SU-MIMO is not beneficial,

the UE is reconfigured to use uplink carrier aggregation with a Mid-Band and a

Low-Band component carrier. The feature enhancement enables the Multi-Layer

Coordination function to consider uplink layer coverage along with uplink weights

for the selection of the serving cell set.

The feature enhancement has the following benefits:

- More efficient use of a scattered spectrum
- Improved uplink UE throughput

Capacity and Performance

In a network where both the Uplink Single-User MIMO and the NR Uplink Carrier

Aggregation features are enabled and UEs support both features, the updated

algorithm might lead to the selection of different serving cell sets, which might

impact uplink performance. If the bandwidth of the Mid-Band cell is large enough

compared to the bandwidth of the Low-Band cell, uplink SU-MIMO is initially selected

instead of uplink carrier aggregation with a Mid-Band and a Low-Band component

carrier with the updated algorithm.

The Average UL MAC UE Throughput KPI might improve.

The following PM counters monitoring uplink resource block symbol utilization

entities might be affected:

- NRCellDU.pmMacRBSymUsedPusch1Port1Layer
- NRCellDU.pmMacRBSymUsedPusch2Port1Layer
- NRCellDU.pmMacRBSymUsedPusch2Port2Layer
- NRCellDU.pmRadioSchedUlSuMimoRankDistr
- NRCellDU.pmMacRBSymUsedPuschMimoLayerDistr
- NRCellDU.pmMacRBSymUsedPuschMimoUserDistr

The following PM counters monitoring uplink carrier aggregation might be affected:

- NRCellCU.pmCaConfigAttUl
- NRCellCU.pmCaConfigSuccUl
- NRCellCU.pmCaDeconfigAttUl
- NRCellCU.pmCaDeconfigSuccUl
- NRCellCU.pmCaConfigUlSumSaDistr
- NRCellDU.pmMacVolUlPCellCa
- NRCellDU.pmPuschSchedActivityPCellCa
- NRCellDU.pmMacOffloadVolUlSCell
- NRCellDU.pmMacOffloadVolUlSCellExt
- NRCellDU.pmMacVolUlSCellExt
- NRCellDU.pmMacVolUlSCellExtBwp

Operation

The feature enhancement uses the

TrStSaNrFreqRelProfileUeCfg.rsrpUl2lCoverageThrOffset

attribute for coverage measurements in the current PCell and candidate PCell to

determine uplink two-layer coverage during the evaluations of the Multi-Layer

Coverage function.

The feature enhancement uses the

CaCellProfileUeCfg.ulCaConfigurationMode attribute to select

the configuration mode when the UE is selected with a band combination for uplink

carrier aggregation or uplink 1TX-2TX switching. The configuration mode can be

selected for the uplink aspect of the SCell and PCell.

Interfaces

No impact.

Hardware

The feature enhancement is not supported for RAN Compute units in RAN Compute group

5e.

Other Network Elements

No impact.

Related Information

NR Switched Uplink for Throughput Boost

NR Traffic Steering

NR Uplink Carrier Aggregation

Uplink Single-User MIMO

## Appendix A.h: 25.Q2.0: Improved MLC Cell Set Weight Criteria Evaluation in NR Traffic Steering

Improved MLC Cell Set Weight Criteria Evaluation in NR Traffic Steering

| Feature Name           | NR Traffic Steering   |
|------------------------|-----------------------|
| Feature Identity       | FAJ 121 5458          |
| Value Package Name     | NR Base Package       |
| Value Package Identity | FAJ 801 4002          |
| Node Type              | Baseband Radio Node   |
| Access Type            | NR                    |
| Licensing              | Mandatory             |

Summary and Benefits

The multi-layer coordination function evaluates and compares the estimated weight of

the available cell set and the candidate cell sets to decide if a traffic steering

action might take place.

This includes comparing the complete cell set and the PCell weight in the chosen

direction based on policy chosen in

CACellProfileUeCfg.servingCellSelectionPolicy.

And after that, make a comparison in the opposite direction to optimize throughput

for a UE.

This feature improvement has the following benefits:

- Adds the condition that the candidate PCell weight must be equal or better than the current PCell weight.
- Avoids traffic steering handovers to PCell Candidates where the weight is lower than the current PCell weight.

Capacity and Performance

In some deployments and cases, the number of traffic steering handovers and SCell

reselections can decrease.

This feature improvement is applicable both for downlink and uplink prioritized

serving cell selection policy.

Operation

No impact.

Interfaces

No impact.

Hardware

This system improvement is applicable to the RAN Compute units of the RAN Compute

groups 1, 2, 3, 4, 5, and 6.

Other Network Elements

No impact.

Related Information

NR Traffic Steering

NR Advanced Multi-Layer Coordination