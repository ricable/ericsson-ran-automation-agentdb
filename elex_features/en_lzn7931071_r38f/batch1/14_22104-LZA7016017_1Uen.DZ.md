---
complexity_score: 16.5
converted_at: '2025-08-13T06:56:32.575135Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 2
images_saved: 3
original_path: 14_22104-LZA7016017_1Uen.DZ.html
pictures_extracted: 2
processing_method: docling_multimodal
quality_score: 9.0
source_file: 14_22104-LZA7016017_1Uen.DZ.html
source_zip: en_lzn7931071_r38f.zip
tables_extracted: 19
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 2796
---

# 

LTE-NR Downlink Aggregation

Contents

![Image](../images/14_22104-LZA7016017_1Uen.DZ/additional_3_CP.png)

![Image](../images/14_22104-LZA7016017_1Uen.DZ/additional_3_CP.png)

- Overview
- Dependencies
- Feature Operation
- Network Impact
- Parameters
- Performance
- Activate
- Deactivate
- Engineering Guidelines
    - Temporary Prohibition of LTE-NR Downlink Aggregation When the Age Difference of Packets Exceeds the Threshold
    - Traffic Stabilization
    - Configure Enhanced PDCP Flow Control
    - Configuration Options Related to NR Service-Adaptive User Plane Profile
    - Downlink PDCP Aggregation in RAN Compute Group 6
- Feature Change History
    - 20.Q1: LTE-NR Downlink Aggregation with up to Six LTE Carriers
    - 20.Q1: LTE-NR Downlink Aggregation with up to Six LTE Carriers for Low-Band and High-Band
    - 20.Q4: Enhanced PDCP Flow Control
    - 21.Q2: Configuration of Enhanced PDCP Flow Control and Aggregation
    - 24.Q1.0: DRX and Cell Group Handling for Downlink PDCP Aggregation
    - 24.Q3.0: Enhanced Downlink PDCP Aggregation Activation on RAN Compute Group 6

# 1 LTE-NR Downlink Aggregation Overview

The LTE-NR Downlink Aggregation feature enables sending different user plane data in

downlink on the MCG and SCG radio resources of the Secondary Node terminated split

DRB.

| Feature Name           | LTE-NR Downlink Aggregation                                                |
|------------------------|----------------------------------------------------------------------------|
| Feature Identity       | FAJ 121 4912                                                               |
| Value Package Name     | Peak Rate Evolution                                                        |
| Value Package Identity | FAJ 801 4005                                                               |
| Node Type              | Baseband Radio Node                                                        |
| Access Type            | NR                                                                         |
| Licensing              | License-controlled feature. One license is required for each 								node. |

Summary

With the implementation of the feature, the PDCP flow control function is activated on the MCG

and SCG radio resources of the Secondary Node terminated split DRBs.

Higher peak rate of network data traffic is achieved by aggregating LTE and NR

carriers.

The feature maximizes the coverage and the end user throughput. It also handles

imbalance and variations in capacity and delay on both the MCG and SCG radio

resources.

Downlink data is scheduled on the MCG and SCG radio resources according to PDCP flow control

feedback and aggregation algorithms.

Additional Information

For more information and related topics, see RAN Parameter Recommendations Lists.

# 2 Dependencies of LTE-NR Downlink Aggregation

The feature requires at least one of the LTE-NR Dual Connectivity or the NR-NR Dual

Connectivity features to be activated, as it coordinates the downlink user plane traffic on

both the MCG and SCG radio resources.

Table 1   Feature Dependencies

Hardware

No specific hardware requirements.

Limitations

No limitations for this feature.

Network Requirements

No specific network requirements are expected for this feature.

System Dependencies

The maximum number of available MCG and SCG carrier components for the UE depends on

the following factors:

- Configuration
- Activated licenses of carrier aggregation features on the eNodeB and gNodeB

# 3 Feature Operation of LTE-NR Downlink Aggregation

The feature enables PDCP flow control on and controls the bit rate of both the MCG

and SCG radio resources to coordinate downlink data scheduling.

The LTE-NR Downlink Aggregation feature provides the following functions for UEs capable

of  EN-DC or NR-DC:

- PDCP flow control, which defines the rate of data transmission to the MCG and SCG radio resources of the Secondary Node terminated split DRB.
- Downlink PDCP aggregation, which defines how packets are distributed between the MCG and SCG radio resources of the Secondary Node terminated split DRB.
- Enhanced PDCP flow control, which defines when to activate and when to suspend downlink PDCP aggregation. This minimizes the time difference between packets which are sent over the MCG and SCG radio resources of the Secondary Node terminated split DRB.
- High rate, which defines updated scheduling for improved network performance and efficiency when data rate exceeds high rate threshold for the DRB of the UE. When data rate exceeds the predefined high rate threshold for the first time, the RLC timers are reconfigured in Dual Connectivity mode.

Figure 1   LTE-NR Downlink Aggregation Operation

At Secondary Node-terminated split DRB configuration, data transmission is initiated on

the radio resources of the cell group that is first available for user data

transmission.

When radio resources of both cell groups are available, the

UserPlaneProfileUeCfg.dlPdcpPreferredCg and the

DcDlCfg.dlPdcpPreferredCgOverride attributes define which cell

group is selected for the user data transmission when the LTE-NR Downlink Aggregation

feature is not yet active. However, transmission is only allowed on the SCG radio

resources when the following configuration is used:

- KEEP\_SCG is configured for the applicable UserPlaneProfileUeCfg.dlPdcpPreferredCg and DcDlCfg.dlPdcpPreferredCgOverride attributes.
- The DcDlCfg.dcDlAggAllowed attribute is set to False.

For more information about how to configure the preferred cell group, see LTE-NR Dual Connectivity and NR-NR Dual Connectivity.

The UserPlaneProfileUeCfg.dlPdcpMcgInitialRate and the

UserPlaneProfileUeCfg.dlPdcpScgInitialRate attributes define the

following functions:

- Determining how early the activation of PDCP flow control is performed
- The intensity of the initial transmission to the MCG and SCG radio resources

PDCP PDUs are never scheduled to the SCG radio resources with insufficient radio

link quality unless the UserPlaneProfileUeCfg.dlPdcpPreferredCg and

the DcDlCfg.dlPdcpPreferredCgOverride attributes are set to

KEEP\_SCG. SCG radio link quality is evaluated by comparing it to

the configured values of the CgSwitchCfg.dlScgLowQualThresh and

CgSwitchCfg.dlScgLowQualHyst attributes as follows:

- If the SCG radio link quality is above the value of the CgSwitchCfg.dlScgLowQualThresh attribute at least by the value of the CgSwitchCfg.dlScgLowQualHyst attribute, the SCG radio link quality is sufficient.
- If the SCG radio link quality is below the value of the CgSwitchCfg.dlScgLowQualThresh attribute and outside the value range of the CgSwitchCfg.dlScgLowQualHyst attribute, the SCG radio link quality is insufficient.

For more information on the switching of downlink MCG and SCG radio resources of

the Secondary Node terminated split DRB, see LTE-NR Dual Connectivity and NR-NR Dual Connectivity.

When active, PDCP flow control transmits PDCP PDUs to maintain RLC SDU buffer time. This

buffer time can be configured by using the

UserPlaneProfileUeCfg.dlPdcpMcgSpsTargetTime and the

UserPlaneProfileUeCfg.dlPdcpScgSpsTargetTime attributes. The

packets that are not allowed for transmission are buffered in the PDCP SDU buffer.

For DRBs that exceed the predefined high rate, packets are sent directly

to RLC, so the UserPlaneProfileUeCfg.dlPdcpMcgSpsTargetTime and the

UserPlaneProfileUeCfg.dlPdcpScgSpsTargetTime attributes are not

used.

The LTE-NR Downlink Aggregation feature is applied for bearers where a packet spends

longer time in the PDCP SDU queue than the configured value defined by the

UserPlaneProfileUeCfg.dcDlAggActTime attribute.

The LTE-NR Downlink Aggregation feature is implemented by using both the MCG and SCG radio

resources of the Secondary Node terminated split DRB.

Activating the LTE-NR Downlink

Aggregation feature when the radio resources of one cell group are in connected mode DRX

sleep, is avoided by monitoring the time since the last PDCP PDU transmission to a cell

group. This increases the risk for PDCP SDU reordering in the UE. When the time exceeds

the value of the corresponding

UserPlaneProfileUeCfg.dcDlAggMcgDrxWakeupTime or the

UserPlaneProfileUeCfg.dcDlAggScgDrxWakeupTime attribute, a

duplicated packet precedes the LTE-NR Downlink Aggregation feature activation. This ends

the Connected Mode DRX phase, and concludes that the cell group radio resources are

transmitting properly.

The following attributes can be configured to modify the behavior of the LTE-NR Downlink

Aggregation feature:

- GNBCUUPFunction.dcDlAggActTime Setting the timer to 0 immediately activates the LTE-NR Downlink Aggregation feature for the DRB. This is not recommended for most networks, as it can send packets on both the MCG and SCG radio resources even for short transmissions, which increases the latency for the end user.
- UserPlaneProfileUeCfg.dcDlAggCgPrio and DcDlCfg.dcDlAggCgPrioOverride These parameters affect whether the MCG or SCG radio resources are prioritized when scheduling available packets. By default, the attributes are configured to prioritize the MCG and SCG radio resources equally. For DRBs that exceed the predefined high rate, the UserPlaneProfileUeCfg.dcDlAggCgPrio and the DcDlCfg.dcDlAggCgPrioOverride attributes are not used for resource prioritization. The DcDlCfg.dcDlAggCgPrioOverride attribute is set on DRB level and overrides the UserPlaneProfileUeCfg.dcDlAggCgPrio attribute. On UE-level, the DcDlCfg.dcDlAggCgPrioOverride attribute is optional, and can be configured for specific 5QIs. If empty, the UserPlaneProfileUeCfg.dcDlAggCgPrio attribute is used.
- DcDlCfg.dcDlAggAllowed If this attribute is set to true, the LTE-NR Downlink Aggregation feature is allowed for the DRB. PDCP flow control is not activated when PDCP PDUs are scheduled towards SCG radio resources when the LTE-NR Downlink Aggregation feature is not allowed.

Figure 2   LTE-NR Downlink Aggregation Operation with Enhanced PDCP Flow Control

When the difference in queue time for RLC unacknowledged packets in the MCG and

SCG radio resources exceeds the threshold, the LTE-NR Downlink Aggregation feature can

be temporarily prohibited for either the MCG or the SCG radio resources.

The following attributes can be configured to set the temporary prohibition of

the LTE-NR Downlink Aggregation feature for the MCG or SCG radio resources:

- UserPlaneProfileUeCfg.dcDlAggAgeDiffThresh When the PDU queue age exceeds the threshold configured through this attribute, the LTE-NR Downlink Aggregation feature is temporarily prohibited for either the MCG or the SCG radio resources.
- UserPlaneProfileUeCfg.dcDlAggAgeDiffPreferredCg This attribute is used to select the MCG or SCG radio resources to be used for transmission when the LTE-NR Downlink Aggregation feature is prohibited after exceeding the value of the UserPlaneProfileUeCfg.dcDlAggAgeDiffThresh attribute.
- CUUP5qi.dcDlPdcpAggrTimeDiffProhibit This attribute is used to set the duration of the prohibition of the LTE-NR Downlink Aggregation feature when the age difference of packets exceeds the threshold.

The UserPlaneProfileUeCfg.dcDlAggAgeDiffProhibitTime attribute

limits the size of the PDCP transmission window. When the configured value is reached,

no more packets are transmitted until an acknowledgment for the already transmitted

packets is received. This eliminates packet loss caused by the limited Layer 2 memory

size of the UEs. The attribute is applied to every UE that uses the LTE-NR Downlink

Aggregation

feature.

The LTE-NR Downlink Aggregation feature deactivates and single radio resource

packet scheduling starts in the following cases:

- The SCG radio quality is insufficient.
- All data for the DRB is transmitted and acknowledged, and the guard period defined by the UserPlaneProfileUeCfg.dcDlAggExpiryTimer attribute value expires.

# 4 Network Impact of LTE-NR Downlink Aggregation

This feature improves downlink throughput and throughput variation

handling.

Capacity and Performance

With the combination of the different MCG and SCG component carriers, higher user

data throughput can be achieved in the network when using Secondary Node terminated

split DRBs.

The applicable carrier aggregation feature must be enabled on the

relevant node to get carrier aggregation support.

The feature enables sending distributed downlink data on both the MCG and SCG radio

resources to improve the downlink throughput. By using PDCP flow control on both the

MCG and SCG radio resources, the variation handling and capacity is improved.

The aggregated throughput of the MCG and SCG radio resources can be less than the sum

of the throughput of the two individual types of radio resources.

The following factors impact the total throughput and therefore lower the feature

gain:

- Large and fast variations in radio resource load and radio quality impacting the rates including retransmissions (HARQ and ARQ) for MCG and SCG respectively
- Packet loss, high load, or jitter on the X2-U link between the Master Node and the Secondary Node
- Traffic using the same cells
- Application server and transmission protocol characteristics
- Dimensioning of the L2 buffer in the UE (3GPP TS38.306)
- Large differences in bandwidth between the MCG or SCG radio resources and low packet rate on one or both of them
- Large age differences of the packets that are reassembled in the UE, as a consequence of heavy load in the MCG or SCG radio resources
- Node capacity and load
- Configuration of carrier aggregation

When the traffic is sent simultaneously over both MCG and SCG radio resources the

PDCP reordering in the UE can increase the throughput variations on higher layers.

This can impact application traffic characteristics. Both downlink and uplink

traffic volume and intensity can change. This might introduce additional

requirements on transport links and nodes besides RAN. The result can be that

throughput ramp-up, peak rate, and throughput consistency can be affected.

Interfaces

No impact.

Other Network Elements

No impact.

# 5 Parameters for LTE-NR Downlink Aggregation

The LTE-NR Downlink Aggregation feature introduces attributes to control PDCP flow

control and downlink PDCP aggregation related behaviors.

Table 2   Parameters

| Parameter                                        | Type       | Description                                                                                                                                                                                                                                                                              |
|--------------------------------------------------|------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| DcDlCfg.dcDlAggAllowed                           | Introduced | See MOM description.                                                                                                                                                                                                                                                                     |
| DcDlCfg.dcDlAggCgPrioOverride                    | Introduced | See MOM description.                                                                                                                                                                                                                                                                     |
| GNBCUUPFunction.estimatedUeL2Buffer              | Introduced | See MOM description.                                                                                                                                                                                                                                                                     |
| UserPlaneProfileUeCfg.dcDlAggActTime             | Introduced | See MOM description.                                                                                                                                                                                                                                                                     |
| UserPlaneProfileUeCfg.dcDlAggAgeDiffPreferredCg  | Introduced | See MOM description.                                                                                                                                                                                                                                                                     |
| UserPlaneProfileUeCfg.dcDlAggAgeDiffProhibitTime | Introduced | See MOM description.                                                                                                                                                                                                                                                                     |
| UserPlaneProfileUeCfg.dcDlAggAgeDiffThresh       | Introduced | See MOM description.                                                                                                                                                                                                                                                                     |
| UserPlaneProfileUeCfg.dcDlAggCgPrio              | Introduced | See MOM description.                                                                                                                                                                                                                                                                     |
| UserPlaneProfileUeCfg.dcDlAggExpiryTimer         | Introduced | See MOM description.                                                                                                                                                                                                                                                                     |
| UserPlaneProfileUeCfg.dlPdcpMcgInitialRate       | Introduced | See MOM description.                                                                                                                                                                                                                                                                     |
| UserPlaneProfileUeCfg.dlPdcpMcgSpsTargetTime     | Introduced | See MOM description.                                                                                                                                                                                                                                                                     |
| UserPlaneProfileUeCfg.dlPdcpPreferredCg          | Introduced | See MOM description.                                                                                                                                                                                                                                                                     |
| UserPlaneProfileUeCfg.dlPdcpScgInitialRate       | Introduced | See MOM description.                                                                                                                                                                                                                                                                     |
| UserPlaneProfileUeCfg.dlPdcpScgSpsTargetTime     | Introduced | See MOM description.                                                                                                                                                                                                                                                                     |
| CgSwitchCfg.dlCgSwitchMode                       | Affecting  | See MOM description.                                                                                                                                                                                                                                                                     |
| CgSwitchCfg.dlScgLowQualHyst                     | Affecting  | The feature can only activate if the NR radio quality is above the                                     CgSwitchCfg.dlScgLowQualThresh attribute                                 value by at least the value defined by                                     CgSwitchCfg.dlScgLowQualHyst. |
| CgSwitchCfg.dlScgLowQualThresh                   | Affecting  | The feature can only activate if the NR radio quality is above the                                 attribute value by at least the value defined by                                     CgSwitchCfg.dlScgLowQualHyst.                                                                    |
| UserPlaneProfileUeCfg.dlPdcpScgRetProhibitTime   | Affecting  | The attribute value defines the minimum time between switches of                                 radio resources.                                                                                                                                                                        |

# 6 Performance of LTE-NR Downlink Aggregation

The volume and number of user plane packets transmitted in dual connectivity

aggregation state can be measured by counters.

Key

Performance Indicators

The table lists the KPIs impacted by the feature.

Table 3   Key Performance Indicators

| Key                                     Performance Indicator   | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|-----------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| DL Packet Loss Captured in gNodeB                               | The KPI value might be affected for RAN Compute units in RAN                                     Compute group 6 because of the delayed activation of the                                     downlink PDCP aggregation function.  This causes the value of the                                         RpUserPlaneLink.pmPdcpPktTransDlQos PM                                     counter to increase for the preferred cell group and to decrease                                     for the other cell group. |

For more information, see Key Performance Indicators.

Counters

- RpUserPlaneLink.pmPdcpVolTransDlAggrQos
- RpUserPlaneLink.pmPdcpPktTransDlAggrQos
- RpUserPlaneLink.pmPdcpVolTransDlQos
- RpUserPlaneLink.pmPdcpPktTransDlQos
- RpUserPlaneLink.pmPdcpPktTransDlAckQos

Events

This feature has no associated events.

# 7 Activate LTE-NR Downlink Aggregation

To use the feature, it must be activated following the usual feature activation

procedure.

Prerequisites

- The license key is installed in the node.
- The LTE-NR Dual Connectivity feature is activated.

Steps

1. Set the attribute featureState to ACTIVATED in the FeatureState=CXC4012273 MO instance.

# 8 Deactivate LTE-NR Downlink Aggregation

If the feature is no longer needed, it can be deactivated following the usual

feature deactivation procedure. It must also be deactivated before the activation of any

conflicting feature.

Steps

1. Set the featureState attribute to DEACTIVATED in the FeatureState = CXC4012273 MO instance.

# 9 Engineering Guidelines for LTE-NR Downlink Aggregation

## 9.1 Temporary Prohibition of LTE-NR Downlink Aggregation When the Age Difference of Packets Exceeds the Threshold

The feature has recommended configurations to achieve the best available

performance.

The size of the data bursts is increased when using both MCG and SCG radio resources

because of the increased packet reordering in the UE. Therefore, the X2-U and Xn-U

capacity and data buffer must be correctly dimensioned. The X2-U and Xn-U packet loss

must be avoided because the loss of even a single packet can heavily decrease the

performance. Therefore, the performance can become lower than in the case of single cell

group transmission. If the X2-U Xn-U packet loss cannot be avoided, the following

changes can be beneficial:

- Deactivation of the LTE-NR Downlink Aggregation feature
- Use of the SCG radio resources instead

The performance of LTE-NR Downlink Aggregation can be negatively affected if the air

interface scheduling is not continuous. For example, high interference or poor coverage

on any of the cell groups can have such effects. The increase of the time difference

between the MCG and SCG radio resources leads to the following behavior:

- Temporary prohibition of the delayed transmission
- Transmission of all data packets on the other radio resources

To configure the using of MCG or SCG radio resources when the age difference of packets

exceeds the threshold:

1. Configure the UserPlaneProfileUeCfg.dcDlAggAgeDiffThresh attribute to set the time threshold for the difference in PDU queue age between the MCG and SCG radio resources. It is recommended to avoid setting a too low value for UserPlaneProfileUeCfg.dcDlAggAgeDiffThresh because it can cause the actions to trigger during normal LTE-NR Downlink Aggregation transmission.
2. Configure the UserPlaneProfileUeCfg.dcDlAggAgeDiffPreferredCg attribute to select the MCG or SCG radio resources to be used for transmission when LTE-NR Downlink Aggregation is prohibited after exceeding the value of the UserPlaneProfileUeCfg.dcDlAggAgeDiffThresh attribute. Note: The value configured for the UserPlaneProfileUeCfg.dcDlAggAgeDiffPreferredCg attribute overrides the values configured for the following attributes for the duration set in the UserPlaneProfileUeCfg.dcDlAggAgeDiffProhibitTime attribute: DcDlCfg.dlPdcpPreferredCgOverride UserPlaneProfileUeCfg.dlPdcpPreferredCg If the performance of one of the cell groups is always better, it is possible to configure one of them to be always used when LTE-NR Downlink Aggregation is prohibited.
3. Configure the UserPlaneProfileUeCfg.dcDlAggAgeDiffProhibitTime attribute to set the duration of the prohibition of LTE-NR Downlink Aggregation when the age difference of packets exceeds the threshold. This attribute can be configured to increase the prohibit time during which a cell group is expected to perform worse.

By using these configurations, packet loss can be avoided and latency caused by packet

reordering can be reduced. If these actions are triggered frequently, the end-user

latency is affected. Similar behavior can be observed if the MCG and SCG radio resources

are switched frequently. A more stable SCG radio environment can be achieved by a more

optimized configuration of the switching of MCG and SCG radio resources in the network,

or with the NR coverage-triggered Secondary Node release. This way, the SCG radio

resources are not used in high radio interference or poor coverage areas. For more

information, see LTE-NR Dual Connectivity and NR

Mobility.

LTE-NR Downlink Aggregation requires an increased Layer 2 memory size in the UE for PDCP

packet reordering, compared to single transmission. When the Layer 2 buffer of the UE is

exhausted, the UE ends the reordering process. The missing packets are considered lost.

This can affect the performance negatively. However, configuring the

GNBCUUPFunction.estimatedUeL2Buffer attribute to adapt to the

size of the reordering buffer can cause transmission congestion. This has an even more

negative impact on the performance. Therefore, configuring the

GNBCUUPFunction.estimatedUeL2Buffer attribute is not

recommended.

Packet reordering when using the LTE-NR Downlink Aggregation feature might also be

introduced if the radio resources of one cell group is in connected mode DRX sleep when

receiving PDCP PDUs from PDCP. The

UserPlaneProfileUeCfg.dcDlAggMcgDrxWakeupTime and the

UserPlaneProfileUeCfg.dcDlAggScgDrxWakeupTime attributes secure

that the LTE-NR Downlink Aggregation feature is not activated towards an MCG or SCG that

is in connected mode DRX sleep. The attributes are recommended to be set slightly lower

than the corresponding DrxProfileUeCfg.drxInactivityTimer

attribute.

## 9.2 Traffic Stabilization

Non-continuous traffic can be stabilized with the recommended

configurations.

When the rate difference between the MCG and SCG radio resources is larger than 10 to 1,

or the rates are lower than a few Mbps and in particular during high cell load, the

scheduling can become non-continuous and cause a large time difference between the MCG

and SCG radio resources which has a negative performance impact. The performance

decreases with the amount of UEs in the cell as well as the traffic intensity.

In these scenarios, the performance of the LTE-NR Downlink Aggregation can be improved

with the following methods:

- Setting the QciProfileOperatorDefined.schedulingAlgorithm or the QciProfilePredefined.schedulingAlgorithm attribute to RESOURCE\_FAIR on the eNodeB can improve scheduling, especially at high LTE load, and improve the performance of the LTE-NR Downlink Aggregation for EN-DC capable UEs.
- Configuring the NR UE Throughput Booster feature to prioritize MCG radio resources for EN-DC capable UEs.
- When the UE load and the traffic load is high on the SCG configured with Low-Band or Mid-Band, the switching of downlink MCG and SCG Radio Resources of the Secondary Node Terminated Split DRB can be deactivated using the CgSwitchCfg.dlCgSwitchMode attribute. This reduces the traffic load slightly and can improve the performance of the LTE-NR Downlink Aggregation feature. For more information, see LTE-NR Dual Connectivity.
- If the end user performance with LTE-NR Downlink Aggregation activated is worse compared to only using the SCG radio resources, the LTE-NR Downlink Aggregation feature can be deactivated. PDCP downlink aggregation is deactivated by setting DcDlCfg.dcDlAggAllowed enum to 0.

As PDCP flow control regulates the data volume sent to RLC SDU buffer when LTE-NR

Downlink Aggregation is configured, the

CaSCellHandlingUeCfg.sCellActDeactDataThres attribute needs to be

configured to lower values than recommended in order to allow for SCell activation for

split DRBs. Performance might improve due to more stable SCell activation, if the

CaSCellHandlingUeCfg.sCellDeactDelayTimer attribute is

increased.

When the SCG radio resources are prioritized during LTE-NR Downlink Aggregation, traffic

toward the MCG radio resources in a Secondary Node terminated split DRB can be

non-continuous. Setting the following attributes to the recommended values shown in

RAN Parameter Recommendations can stabilize the use of

component carriers for EN-DC UEs:

- CarrierAggregationFunction.dcSCellActDeactDataThres
- CarrierAggregationFunction.dcSCellActDeactDataThresHyst
- CarrierAggregationFunction.dcSCellDeactDelayTimer

If the SCG radio resources are scarce or heavily loaded, the performance

of the LTE-NR Downlink Aggregation feature might benefit from configuring theDcDlCfg.dlPdcpPreferredCgOverride or the

UserPlaneProfileUeCfg.dlPdcpPreferredCgOverride attributes to

MCG. This way the feature can offload the SCG radio resources.

## 9.3 Configure Enhanced PDCP Flow Control

It is possible to configure the parameters for the initial rate to the SCG and MCG

radio resources while scheduling when LTE-NR Downlink Aggregation is activated.

Steps

1. Configure the UserPlaneProfileUeCfg.dlPdcpMcgInitialRate attribute to set the initial wireless rate for the PDCP flow control of the MCG radio resources. It is recommended to set the UserPlaneProfileUeCfg.dlPdcpMcgInitialRate attribute to the lower range of the expected rate. A lower value sets a lower start value for the scheduling to an empty cell group.
2. Configure the UserPlaneProfileUeCfg.dlPdcpScgInitialRate attribute to set the initial wireless rate for the PDCP flow control of the SCG radio resources. It is recommended to set the UserPlaneProfileUeCfg.dlPdcpScgInitialRate attribute to the lower range of the expected rate. A lower value sets a lower start value for the scheduling to an empty cell group.
3. Configure the UserPlaneProfileUeCfg.dcDlAggCgPrio and the DcDlCfg.dcDlAggCgPrioOverride attributes to use the prioritized radio resources while scheduling when LTE-NR Downlink Aggregation is activated. These parameters affect whether the MCG or SCG radio resources are prioritized when scheduling available packets. By default, the UserPlaneProfileUeCfg.dcDlAggCgPrio attribute is configured to prioritize the MCG and SCG radio resources equally, and the DcDlCfg.dcDlAggCgPrioOverride attribute not to override. For DRBs that exceed the predefined high rate, the UserPlaneProfileUeCfg.dcDlAggCgPrio and the DcDlCfg.dcDlAggCgPrioOverride attributes are not used for resource prioritization. The UserPlaneProfileUeCfg.dcDlAggCgPrio attribute is applied on UE level. The DcDlCfg.dcDlAggCgPrioOverride attribute optionally overrides theUserPlaneProfileUeCfg.dcDlAggCgPrio attribute on DRB level. If the DcDlCfg.dcDlAggCgPrioOverride attribute is empty, the UserPlaneProfileUeCfg.dcDlAggCgPrio attribute is used. The DcDlCfg.dcDlAggAllowed attribute can be used to deactivate the LTE-NR Downlink Aggregation feature, for example, under the following conditions: The performance of the SCG radio resources is strong and aggregation is not needed. The feature is not needed for DRBs, which are sensitive to latency.

## 9.4 Configuration Options Related to NR Service-Adaptive User Plane Profile

The NR Service-Adaptive User Plane Profile feature introduces support for UE

group-differentiated user plane configuration and enhancements for downlink cell group

switching and AQM.

The NR Service-Adaptive User Plane Profile introduces and deprecates attributes, which

affect this feature.

For more information, see NR Service-Adaptive User Plane Profile.

### 9.4.1 Deprecation Handling

The following attributes are introduced for deprecation handling:

- GNBCUUPFunction.altDepHServAdapUPProfEnabled
- GNBDUFunction.altDepHServAdapUPProfEnabled
- GNBDUFunction.servAdapUPProfDepHEnabled

The GNBCUUPFunction.altDepHServAdapUPProfEnabled and the

GNBDUFunction.altDepHServAdapUPProfEnabled attributes control

whether the legacy or the updated MOM configuration is used.

If the following attributes are set to false, legacy attributes are used

with deprecation handling:

- GNBCUUPFunction.altDepHServAdapUPProfEnabled
- GNBDUFunction.altDepHServAdapUPProfEnabled

If the following attributes are set to true, the introduced MOM

configuration is used:

- GNBCUUPFunction.altDepHServAdapUPProfEnabled
- GNBDUFunction.altDepHServAdapUPProfEnabled

Node restart is required after both changes.

Backwards Compatible Changes

For backwards compatibility, the

GNBDUFunction.servAdapUPProfDepHEnabled attribute is used and

by default it is set to true.

All deprecated attribute values are copied from the NRCellDU MO

instances to the replacement attributes in the CgSwitchCfg MO

instances.

When normal deprecation handling is enabled, the MO instance of the introduced MO

class corresponding to the NRCellDU MO instance is automatically

deleted or created.

When normal deprecation handling is enabled, and the operator creates an

NRCellDU MO instance, instances of the following MO classes

must not be created manually:

- CgSwitch
- CgSwitchCfg
- CgSwitchUeCfg
- UeCC

If the operator wants to create instances of these MO classes together with

NRCellDU MO instances in the same transaction, the creation

of the NRCellDU MO instance must be ordered after the creation of

the listed MO classes.

Normal deprecation handling only works for NRCellDU MO instances

that are mapped to one CgSwitch MO instance, and if the number of

CgSwitch MO instances is at most 48. When an

NRCellDU MO instance is created, but there is no

CgSwitch MO instance left, deprecation handling is not

applied for that cell. Therefore, default values are used instead for the following

attributes:

- NRCellDU.endcDlLegSwitchEnabled
- NRCellDU.endcDlNrLowQualThresh
- NRCellDU.endcDlNrQualHyst

It is possible to control which configuration to use for each

NRCellDU instance by setting the

GNBDUFunction.servAdapUPProfDepHEnabled attribute to

false, even when more than 48 NRCellDU MO

instances are created. There is still a limitation of having 48 plus one

CgSwitch MO instances for configuration. Additionally, UE

grouping is only supported when the

GNBDUFunction.servAdapUPProfDepHEnabled attribute is set to

false.

Figure 3 shows normal deprecation

handling.

Figure 3   Normal Deprecation Handling

It is recommended to configure the user plane attributes in the

CgSwitchCfg MO class if the class is available in the

Management System.

It is recommended to update the attribute values in the introduced MO classes first,

when deprecation handling is disabled and the

GNBDUFunction.servAdapUPProfDepHEnabled attribute is set to

false.

Disabling deprecation handling prevents attributes in the

CgSwitchCfg MO instance from being overwritten in the

introduced management system versions. In these use cases, the

CgSwitchCfg MO instance is visible and used instead of the

deprecated attributes.

Non-Backwards Compatible Changes

Changes in the following MO classes are non-backwards compatible because of the

reduced cardinality of the introduced MO classes:

- AqmCfg
- DcDlCfg
- Drb
- DrbUeCfg
- UserPlaneProfile
- UserPlaneProfileUeCfg

Therefore, it is recommended to configure the user plane attributes in these MO

classes if they are available in the Management System.

If the change to the introduced MO classes and attributes is not performed before the

deprecation window ends, default values are applied if no configuration is

provided.

Figure 4 and Figure 5 show alternative deprecation

handling, when the altDepHServAdapUPProfEnabled attribute is set

to true.

Figure 4   Alternative Deprecation Handling in

GNBCUUPFunction

Figure 5   Alternative Deprecation Handling in

GNBDUFunction

It is recommended to migrate as soon as possible to the introduced attributes to

fully realize the benefits of the new configuration management for this feature, and

avoid using the following attributes:

- CUUP5qi.aqmMode
- CUUP5qi.dcDlPdcpAggrPrioCg
- CUUP5qi.dcDlPdcpAggrTimeDiffCg
- CUUP5qi.dcDlPdcpAggrTimeDiffProhibit
- CUUP5qi.dcDlPdcpAggrTimeDiffThresh
- CUUP5qi.estimatedE2ERTT
- CUUP5qi.l4sCfgRef
- CUUP5qi.packetDelayBudget
- CUUP5qi.packetDelayBudgetOffset
- CUUP5qi.tOooUlDelivery
- DU5qi.aqmMode
- DU5qi.estimatedE2ERTT
- DU5qi.packetDelayBudgetOffset
- GNBCUUPFunction.dcDlAggActTime
- GNBCUUPFunction.dcDlAggExpiryTimer
- GNBCUUPFunction.dcDlPdcpInitialMcgRate
- GNBCUUPFunction.dcDlPdcpInitialScgRate
- GNBCUUPFunction.dlPdcpSpsTargetTimeLTE
- GNBCUUPFunction.dlPdcpSpsTargetTimeNR
- GNBCUUPFunction.endcDlNrRetProhibTimer

The following attributes are deprecated:

- NRCellDU.endcDlLegSwitchEnabled
- NRCellDU.endcDlNrLowQualThresh
- NRCellDU.endcDlNrQualHyst

If the GNBCUUPFunction.altDepHServAdapUPProfEnabled attribute is

set to false, the following attributes are used:

- CUUP5qi.aqmMode
- CUUP5qi.dcDlPdcpAggrPrioCg
- CUUP5qi.dcDlPdcpAggrTimeDiffCg
- CUUP5qi.dcDlPdcpAggrTimeDiffProhibit
- CUUP5qi.dcDlPdcpAggrTimeDiffThresh
- CUUP5qi.estimatedE2ERTT
- CUUP5qi.l4sCfgRef
- CUUP5qi.packetDelayBudget
- CUUP5qi.packetDelayBudgetOffset
- CUUP5qi.tOooUlDelivery
- GNBCUUPFunction.dcDlAggActTime
- GNBCUUPFunction.dcDlAggExpiryTimer
- GNBCUUPFunction.dcDlPdcpInitialMcgRate
- GNBCUUPFunction.dcDlPdcpInitialScgRate
- GNBCUUPFunction.dlPdcpSpsTargetTimeLTE
- GNBCUUPFunction.dlPdcpSpsTargetTimeNR
- GNBCUUPFunction.endcDlNrRetProhibTimer

If the GNBCUUPFunction.altDepHServAdapUPProfEnabled attribute is

set to true, the following attributes are used:

- AqmCfg.aqmMode
- AqmCfg.estimatedE2ERTT
- AqmCfg.tDiscardDl
- AqmCfg.tOooUlDelivery
- DcDlCfg.dcDlAggAllowed
- DcDlCfg.dcDlAggCgPrioOverride
- DcDlCfg.dlPdcpPreferredCgOverride
- Drb.ueConfGroupType
- DrbUeCfg.aqmCfgRef
- DrbUeCfg.dcDlCfgRef
- DrbUeCfg.l4sCfgRef
- DrbUeCfg.prefUeGroupList
- DrbUeCfg.ueConfGroupList
- DrbUeCfg.ueGroupList
- UserPlaneProfile.ueConfGroupType
- UserPlaneProfileUeCfg.dcDlAggActTime
- UserPlaneProfileUeCfg.dcDlAggAgeDiffPreferredCg
- UserPlaneProfileUeCfg.dcDlAggAgeDiffProhibitTime
- UserPlaneProfileUeCfg.dcDlAggAgeDiffThresh
- UserPlaneProfileUeCfg.dcDlAggCgPrio
- UserPlaneProfileUeCfg.dcDlAggExpiryTimer
- UserPlaneProfileUeCfg.dcDlAggHighLatencyThresh
- UserPlaneProfileUeCfg.dcDlAggMcgDrxWakeupTime
- UserPlaneProfileUeCfg.dcDlAggScgDrxWakeupTime
- UserPlaneProfileUeCfg.dlPdcpMcgInitialRate
- UserPlaneProfileUeCfg.dlPdcpMcgSpsTargetTime
- UserPlaneProfileUeCfg.dlPdcpPreferredCg
- UserPlaneProfileUeCfg.dlPdcpScgInitialRate
- UserPlaneProfileUeCfg.dlPdcpScgRetProhibitTime
- UserPlaneProfileUeCfg.dlPdcpScgSpsTargetTime
- UserPlaneProfileUeCfg.prefUeGroupList
- UserPlaneProfileUeCfg.ueConfGroupList
- UserPlaneProfileUeCfg.ueGroupList
- UserPlaneProfileUeCfg.ulPdcpScgRetProhibitTime

If the GNBDUFunction.altDepHServAdapUPProfEnabled attribute is set

to false, the following attributes are used:

- DU5qi.aqmMode
- DU5qi.estimatedE2ERTT
- DU5qi.packetDelayBudget
- DU5qi.packetDelayBudgetOffset

If the GNBDUFunction.altDepHServAdapUPProfEnabled attribute is set

to true, the following attributes are used:

- AqmCfg.aqmMode
- AqmCfg.estimatedE2ERTT
- AqmCfg.tDiscardDl
- DrbUp.ueConfGroupType
- DrbUpUeCfg.aqmCfgRef
- DrbUpUeCfg.prefUeGroupList
- DrbUpUeCfg.ueConfGroupList
- DrbUpUeCfg.ueGroupList
- DU5qi.drbUpRef

If the switch to the introduced MO classes and attributes is not performed before the

deprecation window ends and no configuration is provided, the default values are

used for these attributes.

### 9.4.2 Migration Information

The NR Service-Adaptive User Plane Profile feature introduces attributes and MO

classes for UE group-differentiated user plane configuration, for downlink cell group

switching, and for AQM.

MO classes and attributes are introduced under the GNBCUUPFunction and

the GNBDUFunction MO classes to support the introduced

functionalities. These classes and attributes co-exist with deprecated attributes.

Therefore, the migration to the introduced attributes is recommended.

Guidelines for Migration from the GNBCUUPFunction MO Class to

the UserPlaneProfile MO Class

The migration described in this section does not use the UE Grouping Framework and

does not create UE-specific configuration.

The following rules must be considered:

- There is a single instance of the UserPlaneProfile MO class.
- The attribute values defined under the UserPlaneProfileUeCfg=Base MO instance are applied to all 5QIs and QCIs.

Table 4   Mapping between Legacy and Introduced Attributes under the

GNBCUUPFunction MO Class

| Legacy Attribute                       | Introduced Attribute                           |
|----------------------------------------|------------------------------------------------|
| GNBCUUPFunction.dcDlAggActTime         | UserPlaneProfileUeCfg.dcDlAggActTime           |
| GNBCUUPFunction.dcDlAggExpiryTimer     | UserPlaneProfileUeCfg.dcDlAggExpiryTimer       |
| GNBCUUPFunction.dcDlPdcpInitialMcgRate | UserPlaneProfileUeCfg.dlPdcpMcgInitialRate     |
| GNBCUUPFunction.dcDlPdcpInitialScgRate | UserPlaneProfileUeCfg.dlPdcpScgInitialRate     |
| GNBCUUPFunction.dlPdcpSpsTargetTimeLTE | UserPlaneProfileUeCfg.dlPdcpMcgSpsTargetTime   |
| GNBCUUPFunction.dlPdcpSpsTargetTimeNR  | UserPlaneProfileUeCfg.dlPdcpScgSpsTargetTime   |
| GNBCUUPFunction.endcDlNrRetProhibTimer | UserPlaneProfileUeCfg.dlPdcpScgRetProhibitTime |

Guidelines for Migration from the CUUP5qi MO Class to the

Drb and the UserPlaneProfile MO

Classes

The migration described in this section does not use the UE Grouping Framework and

does not create UE-specific configuration.

The following rules must be considered:

- The CUUP5qi.drbRef attribute must reference a Drb MO instance.
- The DrbUeCfg=Base MO instance must reference an AqmCfg MO instance and a DcDlCfg MO instance.
- Two or more CUUP5qi MO instances with the same attribute values can reference a single Drb MO instance. This results in the same AqmCfg and DcDlCfg MO instances being used for such CUUP5qi MO instances.
- Different Drb instances with a child DrbUeCfg=Base MO instance are needed for different AQM and PDCP settings. This results in different AqmCfg and DcDlCfg MO instances.
- Automatically created Drb MO instances can be referenced by any CUUP5qi MO instance.
- Automatically created instances of the following MO classes can be referenced by a Drb MO instance that is referenced by any CUUP5qi MO instance: AqmCfg DcDlCfg DrbUeCfg
- Manually created instances of L4sCfg MO class can be referenced by a Drb MO instance that is referenced by any CUUP5qi instance.

Table 5   Mapping between Legacy and Introduced Attributes under the

CUUP5qi MO Class

| Legacy Attribute                                           | Introduced Attribute                                                                                             | Note                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| CUUP5qi.aqmMode                                            | AqmCfg.aqmMode                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| CUUP5qi.dcDlPdcpAggrPrioCg                                 | DcDlCfg.dcDlAggAllowed                                                                                           | If the CUUP5qi.dcDlPdcpAggrPrioCg                                         attribute is set to NO_AGGREGATION, the                                             DcDlCfg.dcDlAggAllowed attribute is                                         set to false.  Otherwise, the DcDlCfg.dcDlAggAllowed                                         attribute is set to true.                                                                                                                                                                                                                                                                                                          |
| CUUP5qi.dcDlPdcpAggrPrioCg                                 | UserPlaneProfileUeCfg.dcDlAggCgPrio or                                             DcDlCfg.dcDlAggCgPrioOverride | The UserPlaneProfileUeCfg.dcDlAggCgPrio                                         attribute is defined on UE level with, meaning the same                                         value is used for all 5QIs and QCIs.  The DcDlCfg.dcDlAggCgPrioOverride                                         attribute is optionally defined on 5QI and QCI levels, and                                         overrides the value specified in the                                             UserPlaneProfileUeCfg.dcDlAggCgPrio                                         attribute. If the attribute is not needed, leave the value                                         empty. |
| CUUP5qi.dcDlPdcpAggrTimeDiffCg                             | UserPlaneProfileUeCfg.dcDlAggAgeDiffPreferredCg                                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| CUUP5qi.dcDlPdcpAggrTimeDiffProhibit                       | UserPlaneProfileUeCfg.dcDlAggAgeDiffProhibitTime                                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| CUUP5qi.dcDlPdcpAggrTimeDiffThresh                         | UserPlaneProfileUeCfg.dcDlAggAgeDiffThresh                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| CUUP5qi.estimatedE2ERTT                                    | AqmCfg.estimatedE2ERTT                                                                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| CUUP5qi.packetDelayBudget  CUUP5qi.packetDelayBudgetOffset | AqmCfg.tDiscardDl                                                                                                | The AqmCfg.tDiscardDl attribute equals the                                         sum of the CUUP5qi.packetDelayBudget and                                         the CUUP5qi.packetDelayBudgetOffset                                         attributes.                                                                                                                                                                                                                                                                                                                                                                                                               |
| CUUP5qi.tOooUlDelivery                                     | AqmCfg.tOooUlDelivery                                                                                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| CUUP5qi.l4sCfgRef                                          | DrbUeCfg.l4sCfgRef                                                                                               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |

Guidelines for Migration from the DU5qi MO Class to the

DrbUp MO Class

The migration described in this section does not use the UE Grouping Framework and

does not create UE-specific configuration.

The following rules must be considered:

- The DU5qi.drbUpRef attribute must reference a DrbUp MO instance.
- The DrbUpUeCfg=Base MO instance must reference an AqmCfg MO instance.
- Two or more DU5qi MO instances with the same attribute values can reference a single DrbUp MO instance. This results in the same AqmCfg MO instance being used for any DU5qi MO instances.
- Different DrbUp MO instances with a child DrbUpUeCfg=Base MO instance are needed for different AQM settings. Different AqmCfg MO instances are needed.
- Automatically created instances of the following MO classes can be referenced by any DU5qi MO instance: AqmCfg DrbUp DrbUpUeCfg

Table 6   Mapping between Existing and Introduced Attributes under the DU5qi MO

Class

| Existing Attribute                                     | Introduced Attribute   | Note                                                                                                                                                                                                                                                    |
|--------------------------------------------------------|------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| DU5qi.aqmMode                                          | AqmCfg.aqmMode         |                                                                                                                                                                                                                                                         |
| DU5qi.estimatedE2ERTT                                  | AqmCfg.estimatedE2ERTT |                                                                                                                                                                                                                                                         |
| DU5qi.packetDelayBudget  DU5qi.packetDelayBudgetOffset | AqmCfg.tDiscardDl      | The AqmCfg.tDiscardDl attribute equals the                                         sum of the DU5qi.packetDelayBudget and                                         the DU5qi.packetDelayBudgetOffset                                         attributes. |

## 9.5 Downlink PDCP Aggregation in RAN Compute Group 6

This operation

reduces the need for downlink PDCP aggregation for RAN Compute units in RAN Compute group

6.

RAN Compute units in RAN Compute group 6 can calculate the age of the oldest packet among

packets not yet transmitted to the UE in the

RLC

SDU queue.

This allows PDCP flow control activation for RAN Compute units in RAN Compute group 6 to

ignore delays caused by traffic volume in the uplink, which reduces the need for

downlink PDCP aggregation.

# 10 Feature Change History

This section lists changes that affected this feature and the impact it had on the

network.

## 10.1 20.Q1: LTE-NR Downlink Aggregation with up to Six LTE Carriers

For NR Mid-Band, this feature enhancement combines up to six LTE carriers with one NR

carrier.

| Feature Name:           | LTE-NR Downlink Aggregation   |
|-------------------------|-------------------------------|
| Feature Identity:       | FAJ 121 4912                  |
| Value Package Name:     | Peak Rate Evolution           |
| Value Package Identity: | FAJ 801 4005                  |
| Node Type:              | Baseband Radio Node           |
| Access Type:            | NR                            |

Capacity and Performance

This enhancement provides better throughput by increasing the number of the

combinable LTE carriers.

Operation

No impact.

Interfaces

No impact.

Hardware

No special hardware requirements.

Other Network Elements

No impact.

## 10.2 20.Q1: LTE-NR Downlink Aggregation with up to Six LTE Carriers for Low-Band and High-Band

This enhancement supports additional carrier combinations for LTE and NR low-band and

high-band.

| Feature Name:           | LTE-NR Downlink Aggregation   |
|-------------------------|-------------------------------|
| Feature Identity:       | FAJ 121 4912                  |
| Value Package Name:     | Peak Rate Evolution           |
| Value Package Identity: | FAJ 801 4005                  |
| Node Type:              | Baseband Radio Node           |
| Access Type:            | NR                            |

Benefits

The enhancement of the LTE-NR Downlink Aggregation feature increases the number of

combinable LTE and NR carriers. The following carrier combinations are

supported:

- 6 LTE component carriers + 4 NR component carriers on high-band
- 6 LTE component carriers + 1 NR component carrier on low-band

Capacity and Performance

No impact.

Operation

No impact.

Interfaces

No impact.

Hardware

No special hardware requirements.

Other Network Elements

No impact.

## 10.3 20.Q4: Enhanced PDCP Flow Control

This enhancement introduces the option to limit the number of undelivered PDCP

packets that can be in flight towards the UE.

| Feature Name:           | LTE-NR Downlink Aggregation   |
|-------------------------|-------------------------------|
| Feature Identity:       | FAJ 121 4912                  |
| Value Package Name:     | Peak Rate Evolution           |
| Value Package Identity: | FAJ 801 4005                  |
| Node Type:              | Baseband Radio Node           |
| Access Type:            | NR                            |

In EN-DC configurations, the throughput can be different between the MCG and SCG radio

resources. This can cause a packet overflow in the UE reordering buffer. The enhancement

introduces a solution to mitigate and restrict this packet overflow.

Capacity and Performance

No impact.

Operation

The GNBCUUPFunction.estimatedUeL2Buffer attribute is introduced.

The attribute is used to configure the maximum number of undelivered PDCP packets

that can be in flight towards the UE. This ensures that the node does not send more

packets than what the UE reordering buffers can handle.

Interfaces

No impact.

Hardware

No special hardware requirements.

Other Network Elements

This enhancement requires ENM version 20.1 or later to be

used.

## 10.4 21.Q2: Configuration of Enhanced PDCP Flow Control and Aggregation

This enhancement makes it possible to temporarily prohibit the aggregation of MCG and

SCG radio resources to avoid delay or timeout of packet reordering in the UE.

| Feature Name:           | LTE-NR Downlink Aggregation   |
|-------------------------|-------------------------------|
| Feature Identity:       | FAJ 121 4912                  |
| Value Package Name:     | Peak Rate Evolution           |
| Value Package Identity: | FAJ 801 4005                  |
| Node Type:              | Baseband Radio Node           |
| Access Type:            | NR                            |

Benefits

It is possible to configure a temporary prohibition of LTE-NR Downlink Aggregation

when the difference in queue time for RLC unacknowledged packets in the MCG and SCG

radio resources exceeds the configured threshold. This can be used to avoid delay or

timeout of packet reordering in the UE during LTE-NR Downlink Aggregation.

Capacity and Performance

No impact.

Operation

The following MOM parameters are introduced:

- CUUP5qi.dcDlPdcpAggrTimeDiffThresh
- CUUP5qi.dcDlPdcpAggrTimeDiffProhibit
- CUUP5qi.dcDlPdcpAggrTimeDiffCg
- CUUP5qi.dcDlPdcpAggrPrioCg
- GNBCUUPFunction.dcDlPdcpInitialMcgRate
- GNBCUUPFunction.dcDlPdcpInitialScgRate

All parameters for PDCP flow control and aggregation must be configured manually

after the software upgrade.

Interfaces

No impact.

Hardware

No specific hardware requirements.

Other Network Elements

ENM version 21.1 or later is required for this

feature enhancement.

## 10.5 24.Q1.0: DRX and Cell Group Handling for Downlink PDCP Aggregation

This feature enhancement introduces configurable time for DRX wake-up for downlink

PDCP aggregation.

| Feature Name           | LTE-NR Downlink Aggregation   |
|------------------------|-------------------------------|
| Feature Identity       | FAJ 121 4912                  |
| Value Package Name     | Peak Rate Evolution           |
| Value Package Identity | FAJ 801 4005                  |
| Node Type              | Baseband Radio Node           |
| Access Type            | NR                            |
| Impact at Upgrade      | Mandatory                     |

Summary and Benefits

This feature enhancement introduces configurable time for DRX wake-up before the

initiation of downlink PDCP aggregation, which allows for the alignment of DRX

wake-up time and the DRX inactivity timer.

Capacity and Performance

If the default values are used for the relevant attributes, no impact is expected on

capacity and performance.

If the time for DRX wake-up is adjusted according to the DRX inactivity timer, UE

throughput can increase.

Operation

This feature enhancement introduces the following attributes to configure the time

for DRX wake-up for the MCG and the SCG:

- UserPlaneProfileUeCfg.dcDlAggMcgDrxWakeupTime
- UserPlaneProfileUeCfg.dcDlAggScgDrxWakeupTime

The LTE-NR Downlink Aggregation feature is also affected by the introduction of the

configurable switching of downlink MCG and SCG radio resources of the Secondary Node

terminated split DRB. The following attributes are used for the switching of

downlink MCG and SCG radio resources of the Secondary Node terminated split DRB:

- DcDlCfg.dlPdcpPreferredCgOverride
- UserPlaneProfileUeCfg.dlPdcpPreferredCg

Interfaces

No impact.

Hardware

No specific hardware requirements.

Other Network Elements

ENM version 23.4 or later is recommended to support the MOM

changes introduced by this feature enhancement. If the Release Independence Manager

application is used, the MOM changes are supported on earlier ENM versions also.

Related Information

LTE-NR Dual Connectivity

LTE-NR Downlink Aggregation

NR-NR Dual Connectivity

NR Service-Adaptive User Plane Profile

## 10.6 24.Q3.0: Enhanced Downlink PDCP Aggregation Activation on RAN Compute Group 6

This

feature enhancement reduces the need

for downlink PDCP

aggregation for RAN Compute units in RAN Compute group 6.

| Feature Name           | LTE-NR Downlink Aggregation   |
|------------------------|-------------------------------|
| Feature Identity       | FAJ 121 4912                  |
| Value Package Name     | Peak Rate Evolution           |
| Value Package Identity | FAJ 801 4005                  |
| Node Type              | Baseband Radio Node           |
| Access Type            | NR                            |
| Impact at Upgrade      | Mandatory                     |

Summary and Benefits

This feature enhancement allows RAN Compute units in RAN Compute group 6 to calculate

the age of the oldest packet among packets not yet transmitted to the UE in the

RLC

SDU queue.

This feature enhancement provides the following benefits:

- Reduces the need for downlink PDCP aggregation for RAN Compute units in RAN Compute group 6 by allowing the activation trigger of PDCP flow control to ignore delays caused by traffic volume in the uplink
- Increases the traffic volume steered towards the preferred cell group that is configured through the UserPlaneProfileUeCfg.dlPdcpPreferredCg attribute

Capacity and Performance

This feature enhancement affects the DL Packet Loss Captured in gNodeB KPI. The DL

Packet Loss Captured in gNodeB KPI decreases or increases depending on the value of

the RpUserPlaneLink.pmPdcpPktTransDlQos PM counter. When

different DRBs send traffic towards the RpUserPlaneLink MO as the

preferred cell group or as the other cell group, the aggregated value of the

RpUserPlaneLink.pmPdcpPktTransDlQos PM counter determines if

the KPI value increases or decreases.

Downlink PDCP

aggregation

traffic volume might decrease on RAN Compute group

6. Downlink

traffic volume might increase on the preferred cell group and decrease on the other

cell

group.

This can be monitored with the following PM counters:

- RpUserPlaneLink.pmPdcpVolTransDlAggrQos
- RpUserPlaneLink.pmPdcpPktTransDlAggrQoS
- RpUserPlaneLink.pmPdcpVolTransDlQos
- RpUserPlaneLink.pmPdcpPktTransDlQos
- RpUserPlaneLink.pmPdcpPktTransDlAckQos

Operation

No impact.

Interfaces

No impact.

Hardware

This feature enhancement is applicable to the Secondary Node in

EN-DC and NR-DC deployments if it is implemented on a RAN Compute unit in RAN

Compute group

6.

For more information on RAN Compute groups, see DU and Baseband Configurations and Capacity.

Other Network Elements

No impact.

Related Information

LTE-NR Downlink Aggregation