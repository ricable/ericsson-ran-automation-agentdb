---
complexity_score: 10.5
converted_at: '2025-08-13T06:57:42.917581Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 4
images_saved: 3
original_path: 169_22104-LZA7016017_1Uen.S.html
pictures_extracted: 4
processing_method: docling_multimodal
quality_score: 9.0
source_file: 169_22104-LZA7016017_1Uen.S.html
source_zip: en_lzn7931071_r38f.zip
tables_extracted: 5
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 2796
---

# 

NR Advanced UE Location Support

Contents

![Image](../images/169_22104-LZA7016017_1Uen.S/additional_3_CP.png)

![Image](../images/169_22104-LZA7016017_1Uen.S/additional_3_CP.png)

- NR Advanced UE Location Support Overview
- Dependencies of NR Advanced UE Location Support
- Feature Operation of NR Advanced UE Location Support
    - NR Timing Advance as a Means to Measure Distance
    - Procedure for On-Demand E-CID Timing Advance Measurement
- Network Impact of NR Advanced UE Location Support
    - Privacy Implications of NR Advanced UE Location Support
- Parameters for NR Advanced UE Location Support
- Performance of NR Advanced UE Location Support
- Activate NR Advanced UE Location Support
- Deactivate NR Advanced UE Location Support

# 1 NR Advanced UE Location Support Overview

This feature introduces NR Timing Advance support for NRPPa E-CID positioning

procedures.

| Feature Name           | NR Advanced UE Location Support                                    |
|------------------------|--------------------------------------------------------------------|
| Feature Identity       | FAJ 121 5628                                                       |
| Value Package Name     | NR Base Package                                                    |
| Value Package Identity | FAJ 801 4002                                                       |
| Node Type              | Baseband Radio Node                                                |
| Access Type            | NR                                                                 |
| Licensing              | License-controlled feature. One license is required for each node. |

Summary

This feature introduces support for providing NR Timing Advance values by E-CID method over

the NRPPa protocol. The feature allows the LMF to request NR Timing Advance

measurement quantity, on its own, or together with SS-RSRP and Cell-ID, over the

NRPPa protocol. The gNodeB provides the NR Timing Advance value and sends it as a

response to the LMF.

This feature provides the following benefits:

- The LMF can use NR Timing Advance to estimate the distance between the UE and the gNodeB.
- The LMF UE positioning accuracy is enhanced because the feature allows the combination of the SS-RSRP and the cell ID with the NR Timing Advance.

Additional Information

For more information about this feature and related topics, see 3GPP TS38.455 NG-RAN; NR

Positioning Protocol A (NRPPa)

# 2 Dependencies of NR Advanced UE Location Support

The feature has dependencies with features related to triggering the UE to change its

RRC state, and to inter-gNodeB or intra-gNodeB PSCell handover during E-CID measurement

reporting.

Feature Dependencies

Table 1   Feature Dependencies

![Image](../images/169_22104-LZA7016017_1Uen.S/additional_3_CP.png)

![Image](../images/169_22104-LZA7016017_1Uen.S/additional_3_CP.png)

| Feature Name                                                                                 | Feature Identity   | Access Type   | Relationship   | Relationship Scope   | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|----------------------------------------------------------------------------------------------|--------------------|---------------|----------------|----------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| High-Resolution Timing Advance for Macro                                         Positioning | FAJ 121 5768       | NR            | Related        |                      | The High-Resolution Timing Advance for Macro Positioning feature can             only be operational if the following conditions are met:  The NR Advanced UE Location Support feature is activated.     The value of the NRCellCU.advUePosMode attribute is set to                         other than NONE.                                                                                                                                                                                                                                                                        |
| Location Support                                                                             | FAJ 121 5311       | NR            | Related        |                      | The gNodeB returns the E-CID MEASUREMENT         INITIATION RESPONSE message, which contains any E-CID information that is possible       to fetch, if the E-CID MEASUREMENT INITIATION REQUEST message is received with       the Measurement Quantities IE set to any of the following values:  SS-RSRP     Cell-ID     NR Timing Advance     If both the SS-RSRP and the NR Timing Advance values are received, the SS-RSRP       measurements are started first. When the measurement report with SS-RSRP is received, then NR       Timing Advance is fetched from the gNodeB. |
| NR Mobility                                                                                  | FAJ 121 5041       | NR            | Related        |                      | In case of handover during E-CID measurement reporting, the         E-CID MEASUREMENT INITIATION FAILURE NRPPa message is sent to the LMF.                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Periodic Measurements for Macro                                         Positioning          | FAJ 121 5767       | NR            | Related        |                      | The Periodic Measurements for Macro Positioning feature can only be operational if the             following conditions are met:  The NR Advanced UE Location Support feature is activated.     The NRCellCU.advUePosMode attribute is set to a value                         other than NONE.     The LMF requests periodic measurements.                                                                                                                                                                                                                                          |
| Positioning of UEs without PDU                                 Session                       | FAJ 121 5821       | NR            | Related        |                      | NR Timing Advance measurements for UEs without PDU Session                                     configuration can only be performed if the following conditions                                     are met:  The Positioning of UEs without PDU Session and the NR                                                 Advanced UE Location Support features are activated                                                 in the same cell.     The LMF requests NR Timing Advance measurements.                                                                                       |
| RRC Inactive State                                                                           | FAJ 121 5328       | NR            | Related        |                      | If the UE changes state to         RRC_INACTIVE during E-CID measurement reporting, the gNodeB sends the         NRPPa E-CID MEASUREMENT INITIATION FAILURE NRPPa message to the LMF.  When the LMF sends the NRPPa E-CID         MEASUREMENT INITIATION REQUEST message to the gNodeB to request measurement for the       UE in RRC_INACTIVE state, the following actions take place:  The gNodeB pages the UE to switch state to RRC_CONNECTED.     The measurements handling is continued.                                                                                      |
| Uplink Angle of Arrival for Macro                                         Positioning        | FAJ 121 5769       | NR            | Related        |                      | The Uplink Angle of Arrival for Macro Positioning feature can only be             operational if the following conditions are met:  The NR Advanced UE Location Support feature is activated.     The value of the NRCellCU.advUePosMode attribute is set to                             ALL.     The LMF requests both uplink AoA and NR Timing Advance measurements.                                                                                                                                                                                                              |
| NR Combined Cell                                                                             | FAJ 121 5554       | NR            | Conflicting    | Cell-level conflict  | NR timing advance for NRPPa E-CID positioning is not             supported for the NR Combined Cell feature.                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |

Hardware

No specific hardware requirements.

Limitations

- Only standalone deployment is supported.
- Periodic reporting of NR Timing Advance is not supported.
- The measurements are only applicable to Low-Band and Mid-Band and reporting of NR Timing Advance is done only for the PCell.
- NR Timing Advance cannot be reported if the UE context is configured without PDU Session.

Network Requirements

It is recommended to use ENM version 23.3 or later to support the

MOM changes introduced by this feature.

The 5GC needs to support the NRPPa protocol version 17.2.0 or later.

# 3 Feature Operation of NR Advanced UE Location Support

The feature introduces support for NR Timing Advance measurement in the E-CID

positioning procedure.

This feature supports the on-demand reporting of the NR Timing Advance value, which can be

used to calculate the distance between the UE and the gNodeB antenna.

## 3.1 NR Timing Advance as a Means to Measure Distance

The NR Timing Advance information used by the gNodeB and the UE to synchronize uplink

transmissions can also be used to locate the UE within the cell.

Figure 1   NR Timing Advance as a Measure of Distance

NR Timing Advance information is used for the following purposes:

- To ensure that the uplink transmissions from all UEs are synchronized when received by the gNodeB.
- To adjust transmission time when received by the UE.

When a UE is far away from the gNodeB, the signal propagation delay increases,

causing transmissions sent by different UEs at the same time to be received by the

gNodeB at different times. Because of this, the distant UE must send transmissions in

advance, so the gNodeB can receive them at the same time. To achieve this, the Timing

Advance value is calculated and sent by the gNodeB to each UE. The Timing Advance value

is continuously adjusted and updated by the gNodeB as UEs move within the cell and their

distance to the gNodeB changes.

TA information can be used to calculate the distance of the UE with the following

formula:

Equation 1   Calculation of Distance between the UE and the gNodeB

For more information, see 3GPP TS 38.33 Version 17.6.0 Release

17.

## 3.2 Procedure for On-Demand E-CID Timing Advance Measurement

The LMF communicates with the gNodeB and the UE to receive the NR Timing Advance

value.

Figure 2   On-Demand Reporting Procedure

1. The LMF sends the NRPPa E-CID MEASUREMENT INITIATION REQUEST message with the Report CharacteristicsIE set to OnDemand to the gNodeB requesting the NR Timing Advance, indicated in the Measurement Quantities Value IE.
2. If the gNodeB rejects the request, it sends back the E-CID MEASUREMENT INITIATION FAILURE message. This can happen for the following reasons: When only the NR Timing Advance value is requested: The Report Characteristics IE is set to Periodic. The NrAdvancedUeLocationSupport license is deactivated. The advUePosMode attribute is set to NONE. No PDU session exists for the UE, and therefore, Cell ID is not received.
3. If the UE is in RRC\_INACTIVE state, the RAN Paging procedure is performed.
4. The gNodeB calculates the absolute Timing Advance value.
5. The gNodeB sends back the E-CID MEASUREMENT INITIATION RESPONSE message containing the NR Timing Advance value to the LMF.

Related Information

Location Support

# 4 Network Impact of NR Advanced UE Location Support

Depending on the network load, performance can decrease.

Capacity and Performance

Depending on the network load, performance can decrease.

Interfaces

No impact.

Other Network Elements

No impact.

## 4.1 Privacy Implications of NR Advanced UE Location Support

This feature allows the LMF to initiate UE measurements for positioning purposes. The

measurement results are reported to the LMF, where the UE positioning is calculated.

The gNodeB provides measurement data to the LMF with messages that can be used to

estimate the location of the target UE. The UE position is defined based on the NR

Timing Advance information.

# 5 Parameters for NR Advanced UE Location Support

The feature introduces a parameter to activate or deactivate the feature at the cell

level.

Table 2   Parameters

| Parameter             | Type       | Description          |
|-----------------------|------------|----------------------|
| NRCellCu.advUePosMode | Introduced | See MOM description. |

# 6 Performance of NR Advanced UE Location Support

The feature has associated PM events and EBS counters.

KPIs

This feature has no associated KPIs.

Counters

This feature uses the

following

EBS counters in the NRCellCU MO class:

- pmEbsEcidMeasInitReqOnDemand
- pmEbsEcidMeasInitRespOnDemand

Events

This feature uses the following PM events:

- CuCpEcidMeasurementInitiationRequest
- CuCpEcidMeasurementInitiationResponse

# 7 Activate NR Advanced UE Location Support

To use the feature, it must be activated following the usual feature activation

procedure.

Prerequisites

- The license key is installed in the node.
- CCTR is active for at least one week before this procedure to collect enough troubleshooting data.

Steps

1. Set the FeatureState.featureState attribute to ACTIVATED in the FeatureState=CXC4012681 MO instance.
2. Set the NRCellCU.advUePosMode attribute to ALL.

After This Task

Keep CCTR active for at least one week after this procedure for continued collection of troubleshooting data.

Related concepts

Feature Operation of NR Advanced UE Location Support

# 8 Deactivate NR Advanced UE Location Support

If the feature is no longer needed, it can be deactivated following the usual

feature deactivation procedure. It must also be deactivated before the activation of any

conflicting feature.

Prerequisites

- CCTR is active for at least one week before this procedure to collect enough troubleshooting data.

Steps

1. Perform one of the following actions: Option Description To disable the feature on a given cell Set the NRCellCU.advUePosMode attribute to NONE. To deactivate the feature on the node Set the FeatureState.featureState attribute to DEACTIVATED in the FeatureState=CXC4012681 MO instance.

After This Task

Keep CCTR active for at least one week after this procedure for continued collection of troubleshooting data.

Related concepts

Feature Operation of NR Advanced UE Location Support