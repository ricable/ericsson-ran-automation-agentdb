---
complexity_score: 102.0
converted_at: '2025-08-13T06:56:38.406932Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 105
images_saved: 3
original_path: 101_1553-LZA7016014_1Uen.DD.html
pictures_extracted: 105
processing_method: docling_multimodal
quality_score: 9.0
source_file: 101_1553-LZA7016014_1Uen.DD.html
source_zip: en_lzn7931071_r38f.zip
tables_extracted: 87
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 2796
---

# 

Upgrade RAN Software Using Automation Flow in ENM

Contents

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

- Introduction to Automated RAN Software Upgrade
    - First Implementation and Roll-Out
    - Verification
    - Recommended Timing for Upgrade Activities
    - Automated Software Update Application Scope
- Prerequisites for RAN Automated Software Upgrade with ENM
- Prepare for Automated Software Upgrade in ENM
    - Import License Key File into ENM
    - Import Software Package into ENM
    - Create Node Collection in ENM
    - Create and Save Script to ENM
        - Prepare Script Files for Automated Software Upgrade
    - Create Flow Setup File
    - Create Health Check Profile
- Automated Software Upgrade in ENM
    - Automated Software Upgrade Setup
        - Create Automated Software Upgrade Flow Instance
        - Select Setup Type
        - Import Input File
        - Select Upgrade Method
        - Select Phases
        - Select Nodes
        - Configure Groups
        - Select Software Package
        - Select Preparation Activities
        - Select Activation Activities
        - Select Email Configuration
    - Automated Software Upgrade Execution
        - Review and Confirm Execute
        - Monitor Automated Software Upgrade
        - Perform User Task
    - Automated Software Upgrade Setup
- Node Monitoring in ENM
    - Synchronize Nodes for Alarm Monitoring
    - View Alarms in ENM
    - Export Alarms
    - View Node KPI
    - Export KPI
- Fallback Activities in ENM
    - Rollback Node in ENM
- Troubleshooting during Software Installation and Upgrade
    - Perform Troubleshooting During Software Installation
    - Perform Troubleshooting During Software Upgrade
- License Validation Rules
- RAN Software Upgrade Method of Procedure Template

# 1 Introduction to Automated RAN Software Upgrade

In Automated Software Upgrade, the software is installed and activated using the

Automation Flow.

RAN software upgrade is the end-to-end process of upgrading the software on a batch of

nodes in a network. The process can be automated or manually. In the automated method of RAN software upgrade,

the software installation and activation are performed by an automation flow. The setup

and supervision of the automated flow are the only required user actions. These actions

are performed using ENM applications.

Soft Upgrade and Hard Upgrade

A software upgrade can be a soft upgrade or a hard upgrade. A soft upgrade tries to

hand over ongoing traffic to neighbor cells during the upgrade. A hard upgrade does

not try to hand over ongoing traffic to neighbor cells during the upgrade. Soft

upgrade has a longer duration than hard upgrade because of the traffic handover

attempt.

Software Upgrade with System Adaptive Restart

This upgrade method provides shorter service downtime as a result of reduced upgrade

and restart time in cases where the software delta is limited to LTE, NR, or radio

unit, and there is no MOM change.

For more information, see Software Upgrade with System Adaptive Restart.

Feature and MOM Delta

The latest NIR of the applicable Radio Access Technology contains more information

about changes in software and new features. The Compare content with another library

version function in ELEX can be used to track changes in software and features

between current and previous releases.

For detailed information about the delta between different software versions, such as

parameters, alarms, and counters, see Lists and Delta Lists - Referral Document.

## 1.1 First Implementation and Roll-Out

First implementation involves the introduction of new software in a live network, in

a small number of selected nodes to ensure the proper implementation of the software.

Roll-out is the activity of upgrading the software for an entire network.

To make the upgrade as streamlined as possible, parameters and customer specifications

are also refined during first implementation.

The results of a successful first implementation are documented in the Method of

Procedure. This includes information such as known faults, troubleshooting guides, and

parameter changes.

The first implementation also includes the monitoring of KPI and any alarms from the

newly installed software. The duration of monitoring varies from an eight-hour to a

one-week period, based on network requirements.

The roll-out activities are similar procedures as the first implementation. It is

recommended to perform the software preparation and installation activities outside of

the maintenance window and the software activation inside the maintenance window.

## 1.2 Verification

Verification consists of software verification in a lab environment and the

validation of output files such as ROP, parameters differences, alarms, and counters.

Third-party tools must be tested during verification.

The results of verification activities can provide valuable input and experience for

first implementation and rollout. While it is recommended to perform verification

activities during preparation, it is not mandatory.

Ericsson recommends the following verification activities before software upgrade:

- Verification of upgrade activities and the upgrade path
- Verification of hardware configuration with new software
- Functionality, O&amp;M, and robustness regression tests
- Verification of third-party tools and northbound systems
- Validation of system constants and other parameter changes
- Health checks with the appropriately set input and output parameters in the PRE\_INSTALL and PRE\_UPGRADE configuration options.

## 1.3 Recommended Timing for Upgrade Activities

Ericsson recommends specific timing for the upgrade activities.

Table 1   Timing Recommendations for Upgrade Activities

| Activity                              | Recommended Timing                             |
|---------------------------------------|------------------------------------------------|
| Prerequisites                         | Starting day of the upgrade activities         |
| Software preparation and installation | During daytime (outside of maintenance window) |
| Software activation                   | During nighttime                               |
| Node monitoring                       | The day after the completion of the upgrade    |

## 1.4 Automated Software Update Application Scope

Supported hardware and RATs must be verified when planning the automated software

upgrade.

Table 2   Automated Software Upgrade Application Scope

| Hardware            | Supported RATs                                         | Health Checks                                                                       |
|---------------------|--------------------------------------------------------|-------------------------------------------------------------------------------------|
| Baseband Radio Node | NR     LTE     WCDMA     GSM     Multistandard     (1) | For information on Health Checks, see Manage Node Health Check and Manage Software. |

(1)

Minimum supported from state version is 18.Q3 for GSM, WCDMA,

LTE, and Multistandard. Minimum supported from state version is

19.Q3 for NR-NSA.

Minimum supported from state version is 20.Q1 for NR-SA.

# 2 Prerequisites for RAN Automated Software Upgrade with ENM

Specific tools, system requirements, software, and application rights are required to

perform the automated software upgrade in ENM.

Tools for Remote Access

- FTP Client
- RSG access

System Requirements

- ENM version 19.2 or later for Baseband Radio Node Automated Software Upgrade
- ENM version 20.1 or later for Baseband Radio Node soft upgrade using Flow Automation
- ENM access through a client Note: O&amp;M transport network bandwidth of at least 10Mbps is recommended. Lower bandwidth results in increased download time.
- The read and write permissions to the /home/shared/ASU folder Note: Only required for Automated Software Upgrade, if script execution is selected.

Software Requirements

- Software Upgrade Package (for example, 19.Q2) is available in Ericsson Software Gateway.
- Software license key file (for example, 19.Q2) is available and ready to import to ENM.
- The upgrade path is supported.
- The latest versions of supported browsers, that is Firefox and Chrome, are available. For more guidelines on browser and operating systems requirements, see ENM Product Description CPI.

ENM Role Requirements

- AMOS\_Administrator
- Cmedit\_Administrator
- ENodeB\_Application\_Administrator Note: Only required if script execution is selected.
- Flowautomation\_Administrator Note: Only required for Automated Software Upgrade.
- Flowautomation\_Operator Note: Only required for Automated Software Upgrade.
- FM\_Administrator Note: Only required if FM supervision is disabled and enabled in the flow.
- GNodeB\_Application\_ Administrator Note: Only required if script execution is selected.
- Network\_Explorer\_Administrator
- Nhc\_Administrator Note: Only required if Health Check execution is selected.
- NHM\_Administrator
- NodeVersionSupport\_Administrator
- PM\_Operator
- Scripting\_Operator Note: Only required if script execution is selected.
- Shm\_Administrator

ENM Applications

- Alarm monitor
- AMOS
- Collection Management
- Flow Automation
- Network Explorer
- Node Health Check
- Software Hardware Manager
- Shell Terminal on Scripting

# 3 Prepare for Automated Software Upgrade in ENM

A number of preparation activities can be completed in ENM before the Automated

Software Upgrade.

Preparation to Automated Software Upgrade include the following tasks:

Steps

1. Import License Key File into ENM
2. Import Software Package into ENM
3. Create Node Collection in ENM
4. Create and Save Script to ENM
5. Create Flow Setup File
6. Create Health Check Profile

## 3.1 Import License Key File into ENM

Import the License Key File (LKF) to enable new features and functionality on the

node, or to enable increased node capacity.

The LKF can be imported manually or by Upgrade License Keys when Instantaneous

Licensing in connected mode is used. The LKF can be requested during or prior to the

Automated Software Upgrade process depending on the selection of License Request

parameter in the Select Preparation Activities step.

If Instantaneous Licensing in non-connected mode is used, the LKF is manually

imported into ENM. The LKF can be requested using SSP-LKM.

For more information about the LKF handling in the Software Upgrade process, see

Instantaneous Licensing Solution

Guideline.

Steps

1. Launch the Software and Hardware Manager from the Provisioning section of the Application Launcher.
application\_launcher\_shm

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
3. Select License Administration.
license\_administration

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
5. Click Import Key Files.
import\_key\_file

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
7. Click Select and select the license key batch file.
8. Click Import License Key Batch File. Note: The imported license key file can be viewed in the Succeeded drop-down menu.
import\_license\_key\_batch\_file

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

Results

The License Key File is imported into ENM.

## 3.2 Import Software Package into ENM

Verify and import software packages for software upgrade.

Steps

1. Verify the software signature with the steps specified in the manifest file. Note: The manifest file is delivered with the software package. Trust Anchor must be downloaded from the Ericsson Public Key Infrastructure page. Offline software validation is recommended to prevent the installation of software not delivered by Ericsson. If software validation is unsuccessful, contact the next level of maintenance support.
2. Launch the Software and Hardware Manager from the Provisioning section of the Application Launcher.
application\_launcher\_shm

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
4. Select Software Administration.
software\_administration

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
6. Click Import Software Package.
import\_software\_package

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
8. Click Select, and choose the software package.
select\_import\_sw\_package

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
10. Click Import Package.
11. Select View Software Packages. Result: The imported packages are displayed in the Imported Software Packages table.

## 3.3 Create Node Collection in ENM

Select the nodes that are to be upgraded and create a collection that contains

them.

Steps

1. Create a text file with the list of nodes. List the nodes based on their NetworkElement values. Example NetworkElement=ieatnetsimv6080-01\_LTE02ERBS00003 NetworkElement=ieatnetsimv6080-01\_LTE02ERBS00004 NetworkElement=ieatnetsimv6080-01\_LTE02ERBS00009
2. Save the file.
3. Launch the Network Explorer from the Provisioning section of the Application Launcher.
application\_launcher\_networkexplorer

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
5. Select Collection Management.
collection\_management

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
7. Click Create a Collection. Note: The limitation on the number of nodes in one collection is 250.
create\_collection2

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
9. Enter the collection name and select permissions. This can be private (visible only to the user) or public (visible to all users) permission.
enter\_collection\_name.png

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

If the collection name exists, enter a unique collection name.

7. Click Create. Result: The new collection is displayed in the Collections table.
8. Add nodes to the newly created collection by doing one of the following:
    - Click Add Objects from a file... and upload the text file with the list of nodes.
    - Click Add Topology Data and select objects to add from the list of nodes.
Add objects to the collection

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
10. Select the new collection.
11. Click View Contents. Result: This redirects to the Network Explorer and displays the list of nodes in the collection.
collection\_management\_view\_contents

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
13. Verify that the nodes are synchronized. This is indicated in the Sync Status (CM) column of the Results table.
sync\_status\_CM

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

If the nodes are not synchronized, see How to Start Configuration

Management Supervision and Synchronize a Node in ENM Help.

12. Click Close Collection.

## 3.4 Create and Save Script to ENM

Create a script file to be used later in the Automated Software Upgrade

process.

Steps

1. Launch Shell Terminal on Scripting.
Shell Terminal on Scripting

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
3. Create script file in /home/shared/ASU.
Create Script

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
5. Set file access permission to readable and executable.
Set Permission

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

### 3.4.1 Prepare Script Files for Automated Software Upgrade

Script Building Blocks in ASU enable users to perform supplementary tasks that are

not yet covered by other building blocks.

Using input from user scripts, Script Building Blocks perform, for example, the

following tasks:

- Read or write parameter
- Enable or disable feature
- Check alarm
- Create or modify CV
- Lock or unlock MO

The following script types are available in a Script Building Block setup:

- Bash script to interact with ASU
- AMOS script to specify the actual tasks

The scripts used in the Script Building Blocks must be prepared by the user and

saved to the Scripting Terminal before ASU setup.

Steps

1. Create a bash script for the dedicated SBB of an ASU flow instance in the ASU folder. Use a text editor, such as vi, to generate the file with .sh file extension. A bash script can perform the following tasks: Call the AMOS script Execute the AMOS script Log the execution Set the file permission level to executable with the chmod 777 command. This allows users with different accounts to execute and update the script. Example CPI\_example\_bash\_script.sh amos $1 /home/shared/ASU/amos\_script\_example.sh | tee /home/shared/ejandol/log/$1\_200123\_CPI\_demo.log In this example, the bash script calls an AMOS script (amos\_script\_example.sh) under the /home/shared/ASU/ path. The bash script also generates and saves the execution process to a log file. Note: $1 in the command stands for all nodes in the flow instance. The bash script executes the AMOS script on the nodes at the same time. The absolute path to the AMOS script and to the log file must be specified in the bash script.
![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
3. Create an AMOS script under the ASU folder to perform designated AMOS-based tasks on a node. Use .sh file extension. Set the file permission level to executable with the chmod 777 command Example CPI\_sample\_amos\_script.sh lt all confb+ $date = `date +%y%m%d-%H%M l+ /home/shared/ejandol/log/$date\_$nodename\_sample\_CPI\_amos\_script\_execution.log cvmk before\_reboot\_$date ejandol validate reboot time cvls cvre before\_reboot\_$date lt all cvls l- confb- In this example, the AMOS script conducts tasks through AMOS. The l+ command is used to log the procedure.Note: The path must be specified to save the log.
![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
5. Ensure that the user permissions for all the files and directories in the previous steps are set to 777 or (d)rwxrwxrwx.
6. Housekeep the /home/shared/ASU/ directory and its subfolders regularly to ensure that they do not contain more than 100 files before ASU instance setup.

#### 3.4.1.1 Logging Options for Script Execution

The script execution log is used for review purposes. The logging can be done through

user scripts and by ASU.

User-Defined Logging

Save the logs in a private folder instead of the ASU directory to avoid size

limitation.

Default Logging

The script execution log is saved by ASU under

/home/shared/flowautomation for each node for each Script

Building Block.

Each log is represented by a link, which is temporarily targeted in a contextual link

on the report page when the script is executed.

The link can be found in event of script execution as below example shows:

event\_details

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

## 3.5 Create Flow Setup File

To create an input file that can be used in the Automated Software Upgrade, an

individual .json flow setup file must be made. It is prepared according to a file template

matching the ENM release.

Normally, the flow setup file is generated on the basis of setup configuration from

an existing ASU flow instance.

Steps

1. From the Flow Automation page, select the existing ASU instance which consists of the options the new setup requires.
2. Click View Instance Details. Note: Select such an existing ASU instance that as all options required by new setup, as only these later appear in the setup file.
3. Apply Export and select Setup Configuration.
4. Locate the downloaded .zip file with a setup folder containing only one file, that is flow-input.json.
5. Use a text editor to update flow-input.json according to the new ASU instance.
    - If ENM version is 23.Q3 or later, it is recommend to update the name of the .json file which can be imported directly to set up the ASU instance.
    - If ENM version is older than 23.Q3, .zip file is needed to set up the ASU instance. Go to Step 6 and Step 7 to generate the .zip file.
6. Save the change to a new file which is also named as flow-input.json, put it in a new folder named setup.
7. Compress the new setup folder into a .zip file named based on wish. Result: This .zip file is to be selected during the new ASU instance setup, if File Input option is chosen.

Related Information

Import Input File

## 3.6 Create Health Check Profile

Customize the health checks by creating health check profiles.

Creating a health check profile is optional.

Health checks are classified into two groups, that is Node Health

Checks and Alarm Checks. Alarm

Checks can be customized to ignore specific alarms, based on

information provided in the text box.

Steps

1. Open theNode Health Check ENM application.
2. Select Health Check Profiles tab and click Create Health Check Profile.
3. Provide at least the mandatory profile details, that is Name, Node Type, and Software Version.

For each health check, an info icon is displayed. When the icon is clicked, a

pop-up window appears in which health check details like health check name,

description and default values for input parameters are displayed.

4. Choose health checks to be executed.
5. Customize the health checks by modifying the input and output parameters. It is recommended to use the default parameter value for Threshold, and change Severity. Note: Threshold is not displayed among the input parameters if it is set to the default value. The default value is visible in the rule list during the creation of the profile.
6. If needed, customize the Alarm Checks with specific alarms to be ignored. Provide the alarm Specific Problem in the text box.
7. Click Save and Save Changes.

# 4 Automated Software Upgrade in ENM

Two main phases of the Automated Software Upgrade are setup and execution. The setup

includes software preparation and activation.

Optional Activities in Automated Software Upgrade

- Delete Upgrade Packages and Related Backups
- Perform Backup Housekeeping
- Install License
- Create Node Backups
- Execute Node Health Checks
- Execute External Scripts
- Toggle FM Supervision

Activities during the Preparation Phase of the Automated Software Upgrade

Setup

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

Activities during Activation Phase of the Automated Software Upgrade

Setup

## 4.1 Automated Software Upgrade Setup

To complete the setup, the user can upload the input file or go through a procedure

in a wizard.

Automated Software Upgrade setup consists of the following activities:

- Creating Automated Software Upgrade flow instance
- Choosing the setup type
- Providing input for the setup in an input file or through a wizard

Related Information

Create Automated Software Upgrade Flow Instance

Select Setup Type

Import Input File

Select Upgrade Method

Select Phases

Select Nodes

Configure Groups

Select Software Package

Select Preparation Activities

Select Activation Activities

### 4.1.1 Create Automated Software Upgrade Flow Instance

Start the software upgrade setup by creating a flow instance in the Flow Automation

application.

Prerequisites

- Software packages are imported.
- On the required nodes, at least one of the following options is made: LKFs are imported. Instantaneous Licensing is configured and enabled.

Steps

1. Select Flow Automation in the System section of the ENM Application Launcher.
SelectFlowAutomation

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
3. Select Automated Software Upgrade from the list of imported flows, then click Start.
flow\_automation\_asu

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
5. Specify a name for the flow instance, then click Continue. Result: The Flow Instance Details screen is displayed.
NameASUIinstance

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

### 4.1.2 Select Setup Type

Choose between Interactive and File Input setup types.

Prerequisites

- The Flow Instance Details screen is open.

Steps

1. Select setup type.
    - Select Interactive to provide input through user tasks provided in the ASU.
    - Select File Input to provide all required input in a JSON file. For more information, see File Input Template Guidelines in the ENM online help.
ChooseSetup

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
3. Click Continue. Result:

Results

- If Interactive is chosen in Step 1, the Select Upgrade Method screen is displayed. For instructions, see Select Upgrade Method.
- If File Input is chosen in Step 1, the Import Input File screen is displayed. For instructions, see Import Input Files.

Related Information

Import Input File

Select Upgrade Method

### 4.1.3 Import Input File

Importing an input file is one the possible set up types in the automated software

upgrade.

For information on the format and content of the input file, refer to File

Input Template Guidelines in the ENM Online Help.

Prerequisites

- The Flow Instance Details screen is open.

Steps

1. Click Select File, then click Browse, and locate the .json file or the .zip file containing the JSON file. For more information, refer to ENM Online Help.
2. Click Open.
3. Click Continue. Result: The Review and Confirm user task is displayed on the User Tasks tab.

### 4.1.4 Select Upgrade Method

Enable the parallel upgrade.

Automated Software Upgrade allows parallel upgrade of multiple

Baseband Radio Nodes based on system resources.

The Topology Aware method is to be used for Site Transport

Nodes only.

Steps

1. Select Upgrade in Parallel.
select\_upgrade\_method

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
3. Click Continue.

Results

The Select Nodes screen is displayed.

### 4.1.5 Select Phases

Select appropriate phases to perform scripts and activities executed for a

Preparation and Activation Phase.

Prerequisites

- The Flow Instance Details display is open.
- The following user tasks are done: Select Setup Type. Select Upgrade Method.

Steps

1. Select phase from the list to execute the Preparation Phase, Activation Phase, or both. The selected phase type determines which scripts and activities that the user can later execute. Note: In activation phase, if the Upgrade Package on a node is not in a valid state for activation, the user can take an appropriate action from the following: Exclude node from flow Continue with next activity Retry Upgrade package validation
selectphaseASU

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
User\_task\_example

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
4. Click Set maximum number of Nodes activated in parallel. This parameter applies to each running group. Set up to this number of nodes to be activated in parallel. The default value is 1 000.
5. Click Create Groups. This allows user to distribute nodes under upgrade to multiple groups.
6. Select Manually or Automatically. Note: Number of nodes in all groups, cannot be more than 2000.
    - Manually create groups to select nodes for each group. Click Continue and go to Configure Groups.
    - Automatically create groups. Select Number of Nodes per group, click Continue, and go to Select Nodes. The groups are created automatically, but can be configured, see Configure Groups.
creategroups\_ASU

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

### 4.1.6 Select Nodes

Select individual nodes or node collection for upgrade.

Support is available for a mixed

batch of Baseband Radio Nodes in one ASU flow.

Prerequisites

- The Flow Instance Details screen is open.
- The user tasks Select Setup Type and Select Upgrade Method are done.

Steps

1. Select Add Topology Data.
SelectNodes

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
3. Select the node to upgrade, and select Add. Note: Individual node selection is supported in Topology. Retrieving node information might take several minutes, depending on batch size and transport network capacity.
    - Select individual nodes on the Topology tab.
    - Select previously prepared node collection on the Collections tab.
add\_network\_objects

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
5. Click one of the following: Continue to proceed, Check Previous Task Inputs to see what has been selected so far, Modify Previous Task to edit the previous task. Note: Choosing this option will remove all the information on the selected nodes.

Results

The Select Software Package screen is displayed.

### 4.1.7 Configure Groups

Configure groups are done as part of creating groups manually or automatically.

Groups are activated sequentially following the order in creation. Nodes in a group

are activated in parallel.

Prerequisites

- The Flow Instance Details display is open.
- The following user tasks are done: Select Setup Type. Select Upgrade Method. Select Phases and Create Groups is selected.

Steps

1. Click New Group to add a new group.
2. Click Add Topology Data in each group to select nodes from the scoping panel.
    - Delete a group by clicking the Delete Group icon on the far right of the group.
    - Delete all groups by clicking the Delete All Groups icon on the far right of New Group.
    - Move nodes from a source group to a target group by selecting the nodes to be moved, then select the target group from the Move to Group drop-down at the top of the source group.
    - Remove a node in a group by clicking the bin icon on the far right of the node.
    - Edit the label for a group by clicking the pencil icon on the right of the Group name. The group label is optional and supports maximum 50 characters.
addtopologydata\_ASU

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

Results

The Select Software Package display is displayed.

### 4.1.8 Select Software Package

Select Upgrade Packages for different node types in one user task.

Prerequisites

- The Flow Instance Details screen is open.
- The user tasks Choose Setup and Select Nodes are done.

Steps

1. Select a package from the list of software packages to use for the upgrade. Selected nodes are grouped based on the active software product numbers. For RadioNode, the software package can be selected for each product number.
Task-SelectSWPackage

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
List of Software Packages

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
4. Click one of the following: Continue to proceed, Check Previous Task Inputs to see what has been selected so far, Modify Previous Task to edit the previous task.
back\_buttons

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

Results

The Select Preparation Activities screen is displayed.

### 4.1.9 Select Preparation Activities

Schedule the preparation start time, the housekeeping, pre-install health checks and

backups, install and validate licenses, and schedule the post-install backup.

Prerequisites

- The Flow Instance Details screen is open.
- The user tasks Choose Setup , Select Nodes, Select Software Package, and Select Scripts are done.

Steps

In the Preparation Schedule section:

1. Select one of the options under After initialization is complete, Preparation phase should. Note: The default option is Start Immediately.
    - Select Start Immediately to proceed to the preparation phase after the initialization phase.
    - Select Prompt for user decision to create a user task to continue or stop the flow execution after the initialization phase.
    - Select Start at a specific time to proceed to the preparation phase after the initialization phase at a set server time.
preparationschedule

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

If Start at a specific time is selected, go to

2. Set the time in the calendar widget of the Schedule Time field. If the time selected is earlier than the current time, Start Immediately is selected automatically.

In the Housekeeping section:

3. Select Perform Delete Upgrade Packages to delete inactive upgrade packages during software upgrade. Note: If only one active upgrade package is on the node, the deletion of the upgrade packages is skipped. For Baseband Radio Node, all the inactive upgrade packages are deleted except for the system-protected upgrade packages. Result: The In the event of Delete Upgrade Packages failure option is displayed.
housekeeping

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
5. Select one of the options under In the event of Delete Upgrade Packages failure. Note: The default option is Prompt for user decision.
    - Select Continue with next activity to continue flow execution on nodes that failed the task.
    - Select Exclude node from flow to stop flow execution on nodes that failed the task.
6. Select Perform Delete Node Backups to delete backups and clean up space on the node. Result: The Number of Node Backups to retain option is displayed.
7. Specify the value of Number of Node Backups to retain. Default value is 5. Note: For Baseband Radio Nodes, the maximum number of backups can be configured.
8. Select one of the options under In the event of Delete Node Backups failure. Note: The default option is Prompt for user decision.
    - Select Prompt for user decision to create a user task to continue or fail the flow on task failure.
    - Select Continue with next activity to continue flow execution on nodes that failed the task.
    - Select Exclude node from flow to stop flow execution on nodes that failed the task.

In the Pre-Install Health Check section:

8. Select Perform Pre-Install Health Check to perform Node Health Check before the Install activity of the Upgrade. Result: Additional options are displayed.
Pre-Install Health Check

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
10. Select applicable options under Perform Pre-Install Health Check.
    - Select Predefined to choose from the following health check types with pre-defined rules: A Node Health Check for pre-install configuration An Additional Health Check with the following options available: Select Critical Alarm Check, to check whether any critical alarms are raised on the node. Select Major Alarm Check, to check if any major alarms are raised on the node. Select Configuration Management Sync Status, to check the Configuration Management Sync Status of the node.
    - Select Custom to perform health check with user defined profiles Select the required profile from the Select Health Check Profile table. For more information about creating a Health Check Profile, see Node Health Check in ENM online help.
11. Select one of the options from the drop-down menu of In the event of Health Check Failure. Note: The default option is Prompt for decision. The Node Health Check application can be used for checking the output parameters either in the application or in the logs. Note: Threshold is not displayed in the application if it is set to the default value. The default value is visible in the rule list during node health check profile creation.
    - Select Prompt for user decision to create a user task to continue or fail the flow on task failure.
    - Select Continue with next activity to continue flow execution on nodes that failed the task.
    - Select Exclude node from flow to stop flow execution on nodes that failed the task.

In the Pre-Install Script section:

11. Provide a script file for execution by selecting one of the following options:
    - Select Provide Script File Path to specify path to the script file. Note: The available file paths are /home/shared/ASU and /home/shared/&lt;signum&gt;.
    - Select Select Script File to select the script file from a list. Note: The list contains all script files located in /home/shared/ASU. This folder must contain only script files, and it cannot contain more than 100 files.
12. Specify value for Timeout for execution in seconds. Note: The default value is 600. Script execution is terminated when the timer runs out.
13. Select one of the options from the drop-down menu under In the event of script failure.
    - Select Prompt for user decision to create a user task to continue or fail the flow on task failure.
    - Select Do not exclude node from Upgrade to continue flow execution on nodes that failed the task.
    - Select Exclude node from Upgrade to stop flow execution on nodes that failed the task.

In the Pre-Install Backup section:

14. Select Perform Pre-Install Backup to make a backup of the node before the Installation activity of the Upgrade. Result: Additional options are displayed.
pre-install backup

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
16. Specify custom file name under Backup File Name. Placeholders can be used in the backup names. The placeholders are replaced by values at backup creation. The following placeholders are available: $productnumber Product number of the active software package. $productrevision Product revision of the active software package. $timestamp Time of backup creation. $nodename Name of the node.
17. Select Upload Backup to ENM to upload the backup to ENM.
18. Select one of the options from the drop-down menu under In the event of Pre-install Backup Failure. Note: The default option is Continue with next activity.
    - Select Prompt for user decision to create a user task to continue or fail the flow on task failure.
    - Select Continue with next activity to continue flow execution on nodes that failed the task.
    - Select Exclude node from flow to stop flow execution on nodes that failed the task.

In the License Request section:

18. Select Perform License Request to request and import licenses for the nodes. Note: Instantaneous licensing related parameters must be configured on the selected nodes to avoid failure. In order to receive the LKF boosted by Improved LKF Delivery Time during Software Upgrade, the user must perform LKM upgrade for all nodes in ASU batch prior to ASU. For more information about Improved LKF Delivery Time during Software Upgrade, see Instantaneous Licensing Solution Guideline. Note: This option is displayed when: License Request is supported in ENM. Nodes with supported node type "RadioNode" are selected in Select Nodes User Task Note: If license request failed to deliver new LKF within the waiting time, the post-install LKF installation tries to install a new LKF available on ENM, if it exists. Otherwise no LKF is installed at all. Note: ENM generates the error message "request" activity is failed. Failure Reason: File already imported if the requested LKF is already imported to SHM. It is recommended to ignore the error and continue the upgrade process. The error is no longer reported since the ENM 25.2 release.
    - Select RadioNode.
19. Select Timeout for waiting in minutes. This configures the timeout value for waiting to request the License Key files from ELIS. Users can set this value between 60 and 160. The default value is set according to the number of Baseband Radio Nodes. When the number is less than or equal to 500, the default value is 60. When the number is greater than 500 but less than or equal to 1000, the default value is 120.
20. Select one of the options from the drop-down menu under In the event of License Request Failure:.
    - Select Prompt for user decision, to be able to choose between excluding the node from the flow and continuing with the next activity when the License Request activity fails. When the event of failure is from timeout, an extra option appears to wait more for the result. This is the default option.
    - Select Continue with next activity, to continue with the next activity, even when the License Request activity fails.
    - Select Exclude node from flow, to stop the flow execution when the License Request activity fails.

In the Post-Install License Installation section:

21. Select Perform Post-Install License Installation to install the latest key file imported in ENM. If the latest key file is not present, the installation is skipped.
22. Select Perform License Validation to validate the latest key file imported to ENM.
23. Select Consider Warning As Failure to consider warnings during license validation as task failure. For more information, see License Validation Rules.
24. Select one of the options from the drop-down menu under In the event of License Validation Failure Note: The default option is Prompt for user decision.
    - Select Prompt for user decision to create a user task to continue or fail the flow on task failure.
    - Select Continue with License Install to continue flow execution on nodes that failed the task.
    - Select Exclude node from License Install to stop license installation on nodes that failed the task.
    - Select Exclude node from flow to stop flow execution on nodes that failed the task.
25. Select one of the options from the drop-down menu under In the event of Post-Install License Installation Failure. Note: The default option is Prompt for user decision.
    - Select Prompt for user decision to create a user task to continue or fail the flow on task failure.
    - Select Continue with next activity to continue flow execution on nodes that failed the task.
    - Select Exclude node from flow to stop flow execution on nodes that failed the task.

In the Post-Install Backup section:

26. Select Perform Post-Install Backup to make a backup of the node after the installation activity of the upgrade.
postinstallbackup

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
28. Specify custom file name under Backup File Name. Placeholders can be used in the backup names. The placeholders are replaced by values at backup creation. The following placeholders are available: $productnumber Product number of the active software package. $productrevision Product revision of the active software package. $timestamp Time of backup creation. $nodename Name of the node.

28. Select Upload Backup to ENM to upload the backup to ENM.
29. Select one of the options from the drop-down menu under In the event of Post-Install Backup Failure. Note: The default option is Continue with next activity.
    - Select Prompt for user decision to create a user task to continue or fail the flow on task failure.
    - Select Continue with next activity to continue flow execution on nodes that failed the task.
    - Select Exclude node from flow to stop flow execution on nodes that failed the task.

In the Post-Install Script section:

select post install script

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

30. Provide a script file for execution by selecting one of the following options:
    - Select Provide Script File Path to specify path to the script file. Note: The available file paths are /home/shared/ASU and /home/shared/&lt;signum&gt;.
    - Select Select Script File to select the script file from a list. Note: The list contains all script files located in /home/shared/ASU. This folder must contain only script files, and it cannot contain more than 100 files.
31. Specify value for Timeout for execution in seconds. Note: The default value is 600. Script execution is terminated when the timer runs out.
32. Select one of the options from the drop-down menu under In the event of script failure.
    - Select Prompt for user decision to create a user task to continue or fail the flow on task failure.
    - Select Do not exclude node from Upgrade to continue flow execution on nodes that failed the task.
    - Select Exclude node from Upgrade to stop flow execution on nodes that failed the task.
33. Click one of the following: Continue to proceed, Check Previous Task Inputsto see what has been selected so far, Modify Previous Task to edit the previous task. The Continue button is active after the user has scrolled down through all preparation activities.
back\_button

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

Results

The Select Activation Activities screen is displayed.

Related Information

License Validation Rules

### 4.1.10 Select Activation Activities

Schedule the activation start time, toggle alarm supervision during the upgrade, run

pre-upgrade health checks, install and validate licenses, perform pre-upgrade backup, select

upgrade type, run post-upgrade health checks and post-upgrade backups.

Prerequisites

- The Flow Instance Details screen is open.
- The user tasks Get Setup Type, Select Nodes, and Select Preparation Activities are done.

Steps

In the Activation Schedule section:

1. Select the activation start time. Note: The default option is Prompt for user decision.
    - Select Immediately for the flow to continue automatically after the preparation phase.
    - Select Prompt for user decision to halt the flow after the preparation phase, and generate a user task to continue the flow.
    - Select Start at a specific time to proceed to the activation phase after the preparation phase at a set server time.
activationschedule2

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

If Start at a specific time is selected, go to Step 2.

2. Set the time in the calendar widget of the Schedule Time field. If the time selected is earlier than current time, Start Immediately is selected automatically.

In the FM Alarm Supervision section:

3. Select Disable alarm supervision before Upgrade and enable after Upgrade to avoid raising alarms during upgrade due to upgrade activities.
FMAlarmSupervision

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
5. Select on of the options from the drop-down menu under In the event of Disable/Enable Alarm Supervision failure. The default option is Prompt for Confirmation.
    - Select Prompt for Confirmation to create a user task to continue or fail the flow on task failure.
    - Select Do not exclude node from Upgrade to continue flow execution on nodes that failed the task.
    - Select Exclude node from Upgrade to stop flow execution on nodes that failed the task.

In the Pre-Upgrade Health Check section:

5. Select Perform Pre-Upgrade Node Health Check to verify Node Health Check before the Upgrade. Result: Additional options are displayed.
Pre-Upgrade Health Check

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
7. Select applicable options under Perform Pre-Upgrade Health Check. Note: If the PRE\_UPGRADE health check option fails, additional information is displayed on the files that are failed to download from the SMRS server.
    - Select Predefined to choose from the following health check types with pre-defined rules: A Node Health Check for pre-install configuration An Additional Health Check with the following options available: Select Critical Alarm Check, to check whether any critical alarms are raised on the node. Select Major Alarm Check, to check if any major alarms are raised on the node. Select Configuration Management Sync Status, to check the Configuration Management Sync Status of the node.
    - Select Custom to perform health check with user defined profiles Select the required profile from the Select Health Check Profile table. For more information about creating a Health Check Profile, see Node Health Check in ENM online help.
8. Select one of the options from the drop-down menu of In the event of Health Check Failure. Note: The default option is Prompt for user decision. For more information on setting the input and output parameters for health checks, see Manage Software.
    - Select Prompt for user decision to create a user task to continue or fail the flow on task failure.
    - Select Continue with next activity to continue flow execution on nodes that failed the task.
    - Select Exclude node from flow to stop flow execution on nodes that failed the task.

In the Pre-Upgrade Script section:

8. Provide a script file for execution by selecting one of the following options:
    - Select Provide Script File Path to specify path to the script file. Note: The available file paths are /home/shared/ASU and /home/shared/&lt;signum&gt;.
    - Select Select Script File to select the script file from a list. Note: The list contains all script files located in /home/shared/ASU. This folder must contain only script files, and it cannot contain more than 100 files.
9. Specify value for Timeout for execution in seconds. Note: The default value is 600. Script execution is terminated when the timer runs out.
10. Select one of the options from the drop-down menu under In the event of script failure.
    - Select Prompt for user decision to create a user task to continue or fail the flow on task failure.
    - Select Exclude node from Upgrade to stop flow execution on nodes that failed the task.
    - Select Do not exclude node from Upgrade to continue flow execution on nodes that failed the task.

In the Pre-Upgrade License Installation section:

11. If not done already during the preparation phase, select Perform Pre-Upgrade License Installation to enable installing the latest key file imported to ENM. Note: If the latest key file is not available, installation is skipped.
preupgradelicenseinstall

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
13. Select Perform License Validation to validate the latest key file imported to ENM.
14. Select Consider Warning As Failure to consider warnings during license validation as task failure. For more information, see License Validation Rules.
15. Select one of the options from the drop-down menu under In the event of License Validation Failure Note: The default option is Prompt for user decision.
    - Select Prompt for user decision to create a user task to continue or fail the flow on task failure.
    - Select Continue with License Install to continue flow execution on nodes that failed the task.
    - Select Exclude node from License Install to stop license installation on nodes that failed the task.
    - Select Exclude node from flow to stop flow execution on nodes that failed the task.
16. Select one of the options from the drop-down menu under In the event of License Installation Failure. Note: The default option is Prompt for user decision.
    - Select Prompt for user decision to create a user task to continue or fail the flow on task failure.
    - Select Continue with next activity to continue flow execution on nodes that failed the task.
    - Select Exclude node from flow to stop flow execution on nodes that failed the task.

In the Pre-Upgrade Backup section:

16. Select Perform Pre-Upgrade Backup to make a backup of the node before the Upgrade. Result: Additional options are displayed.
Pre-Upgrade Backup

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
18. Specify custom file name under Backup File Name. Placeholders can be used in the backup names. The placeholders are replaced by values at backup creation. The following placeholders are available: $productnumber Product number of the active software package. $productrevision Product revision of the active software package. $timestamp Time of backup creation. $nodename Name of the node.
19. Select Upload Backup to ENM to upload the backup to ENM.
20. Select one of the options from the drop-down menu under In the event of Pre-Upgrade Backup Failure.
    - Select Prompt for user decision to create a user task to continue or fail the flow on task failure.
    - Select Continue with next activity to continue flow execution on nodes that failed the task.
    - Select Exclude node from flow to stop flow execution on nodes that failed the task.

In the Activate Software Package section:

Activate SW package

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

20. Select one of the options from the drop-down menu under Upgrade Type. Note: Soft upgrade is available in NR, LTE, and WCDMA RATs. To perform a soft upgrade in LTE, the Cell Soft Lock feature must be activated on the node. For more information, see Cell Soft Lock. To perform a soft upgrade in NR, the NR Cell Soft Lock feature must be activated on the node. For more information, see NR Cell Soft Lock and NR Soft Upgrade.
    - Select Soft to perform a soft software upgrade.
    - Select Hard to perform a hard software upgrade.
Upgrade type

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
22. Select one of the options from the drop-down menu under Restart Type. Note: Restart Type is considered only for Baseband Radio Nodes. For more information on Adaptive restart, refer to Software Upgrade with System Adaptive Restart.
    - Select Cold to ensure cold restart.
    - Select Adaptive to have the node determine restart type.
Restart type

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

In the Post-Upgrade Script section:

22. Provide a script file for execution by selecting one of the options from the Post-Upgrade Script section:
    - Set time in Delay Post Upgrade script execution in Minutes. Delay is set to 5 minutes by default. Note: Post-upgrade script execution does not start after restarting the node to run on the new software package until the delay elapses.
    - Select Provide Script File Path to specify path to the script file. Note: The available file paths are /home/shared/ASU and /home/shared/&lt;signum&gt;.
    - Select Select Script File to select the script file from a list. Note: The list contains all script files located in /home/shared/ASU. This folder must contain only script files, and it cannot contain more than 100 files.
23. Specify value for Timeout for execution in seconds. Note: The default value is 600. Script execution is terminated when the timer runs out.
24. Select one of the options from the drop-down menu under In the event of script failure.
    - Select Prompt for user decision to create a user task to continue or fail the flow on task failure.
    - Select Do not exclude node from Upgrade to continue flow execution on nodes that failed the task.
    - Select Exclude node from Upgrade to stop flow execution on nodes that failed the task.

In the Post-Upgrade Health Check section:

25. Select Perform Post-Upgrade Node Health Check to verify Node Health Check after the Upgrade. Note: Post-Upgrade Health Check does not start after the previous task until the delay is elapsed. Result: Additional options are displayed.
26. Select applicable options under Perform Post-Upgrade Health Check.
    - Select Predefined to choose from the following health check types with pre-defined rules: Select Node Health Check to perform Node Health Check for post-upgrade configuration. Node Health check (NHC) is verified after software package upgrade An Additional Health Check, verified after the software package upgrade, with the following options available: Select Critical Alarm Check, to check whether any critical alarms are raised on the node. Select Major Alarm Check to check whether any major alarms are raised on the node. Select Configuration Management Sync Status, to check the Configuration Management Sync Status of the node.
    - Select Custom to perform health check with user defined profiles Select the required profile from the Select Health Check Profile table. For more information about creating a Health Check Profile, see Node Health Check in ENM online help.
    - Select Delay Health Check in Minutes option.
27. Select one of the options from the drop-down menu of In the event of Health Check Failure. The default option is Prompt for user decision.
    - Select Prompt for user decision to create a user task to continue or fail the flow on task failure.
    - Select Continue with next activity to continue flow execution on nodes that failed the task.
    - Select Exclude node from flow to stop flow execution on nodes that failed the task.
28. Select Perform Node Health Degradation Check to verify node health status. This is done by comparing the pre-upgrade and post-upgrade health check results. Choose one of the available options from In the event of degradation menu.
    - Select Exclude node from flow, to stop the flow execution when the node is degraded.
    - Select Continue with next activity, to proceed with the next activity.
    - Select Prompt for user decision, to decide whether to exclude the node from the flow or to proceed, when the node health check status is degraded. This is the default option.
node degradation health check

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

In the Post-Upgrade Backup section:

29. Select Perform Post-Upgrade Backup to make a backup of the node after the Upgrade. Result: Additional options are displayed.
PostupgradeBackup

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
31. Specify custom file name under Backup File Name. Placeholders can be used in the backup names. The placeholders are replaced by values at backup creation. The following placeholders are available: $productnumber Product number of the active software package. $productrevision Product revision of the active software package. $timestamp Time of backup creation. $nodename Name of the node.
32. Select Upload Backup to ENM to upload the backup to ENM.
33. Select one of the options from the drop-down menu under In the event of Post-Upgrade Backup Failure. Note: The default option is Prompt for user decision.
    - Select Prompt for user decision to create a user task to continue or fail the flow on task failure.
    - Select Continue with next activity to continue flow execution on nodes that failed the task.
    - Select Exclude node from flow to stop flow execution on nodes that failed the task.

In the Clean-up Script section:

33. Provide a script file for execution by selecting one of the following options:
    - Select Provide Script File Path to specify path to the script file. Note: The available file paths are /home/shared/ASU and /home/shared/&lt;signum&gt;.
    - Select Select Script File to select the script file from a list. Note: The list contains all script files located in /home/shared/ASU. This folder must contain only script files, and it cannot contain more than 100 files.
34. Specify value for Timeout for execution in seconds. Note: The default value is 600. Script execution is terminated when the timer runs out.
35. Click one of the following: Continue to proceed, Check Previous Task Inputsto see what has been selected so far, Modify Previous Task to edit the previous task. The Continue button is active after the user has scrolled down through all activation activities.
back\_buttons

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

Related Information

License Validation Rules

### 4.1.11 Select Email Configuration

Request an email report after the completion of the Preparation Phase and Activation

Phase.

The email contains the summary of the flow execution and failed node

details.

Prerequisites

Make sure that the customer domain-specific EMAIL\_FROM\_ADDRESS is configured

correctly. This can be checked by running the following command in

/ericsson/pib-scripts/etc folder:

./config.py read --app\_server\_address=&lt;fmhistory server name or IP&gt;:8080

--name=EMAIL\_FROM\_ADDRESS.

If the setup needs to be changed, use the following command:

./config.py update --app\_server\_address=&lt; fmhistory server name or IP

&gt;:8080 --name=EMAIL\_FROM\_ADDRESS

--value=&lt;valid-customer-domain-from-address&gt;.

Steps

1. Select Send Email notification.
2. Specify email address in the Email addresses field. Note: Refer to the email subject for the flow instance name. Refer to the email address for ENM details.
3. Click Continue.

Results

The Review and Confirm screen is displayed.

Task-Review-Confirm-page

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

## 4.2 Automated Software Upgrade Execution

Automated Software Upgrade execution phase consists of initiating and supervising the

execution of the automated software upgrade flow, and performing user actions, when

necessary.

Figure 1   Phases of Automated Software Upgrade Execution

The activities in software activation are performed during maintenance periods.

The automated software upgrade is complete after the tasks in this phase are done.

Flow Instance Details

The Flow Instance Details screen displays the following tabs:

| Report          |    | The Report tab shows the status and setup data                                 of the flow.                                                                                                  |
|-----------------|----|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                 |    |                                                                                                                                                                                              |
| User Tasks      |    | The User Tasks                                                                                                                                                                               |
|                 |    |                                                                                                                                                                                              |
| Process Diagram |    | The Process Diagram tab shows the status of                                 the flow in a diagram. tab shows the user tasks                                 required for the flow execution. |
|                 |    |                                                                                                                                                                                              |
| Events          |    | The Events tab displays the events that are                                 logged during the flow execution.                                                                                |

### 4.2.1 Review and Confirm Execute

Review the input information selected during the flow configuration and execute the

Automated Software Upgrade.

Prerequisites

- The Flow Instance Details screen is open.
- The user tasks Choose Setup Type, Select Preparation Activities, and Select Activation Activities are done.

Steps

1. Verify the input information selected during the Automated Software Upgrade Flow Instance. Result: The Number of Nodes is the number of valid nodes given by the user.
Review and Confirm Execute

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
3. Scroll down to the bottom of the inputs list to activate the Execute button.
4. Click Execute. Result: The Automated Software Upgrade begins execution.
    - Click Restart to restart providing the inputs.
    - Click Discard Setup to delete the instance and navigate back to the Flow Automation screen.

### 4.2.2 Monitor Automated Software Upgrade

Monitor the upgrade by viewing the details of each job report.

When the Automated Software Upgrade begins, the

Flow Instance Details screen is displayed.

This screen provides live update information on batch and node levels.

Prerequisites

- The Execute button is selected in the Task: Review and Confirm Execute screen of the flow instance configuration.

Steps

1. Monitor the software upgrade on the Flow Instance Details screen. It is possible to execute Add to a Collection and Monitor Alarms actions from the Flow Instance Details screen.
    - The Report tab displays the number of nodes under each phase and the node level statuses. Clicking View on the Report tab displays more details of each individual node when a job is being executed. The link points to the Job Logs screen of the current job. Note: To see the log of a completed job, find it in the job list of its respective application. The name of any job begins with FAand ends with the name of the Automated Software Upgrade instance. An example job name is FA\_POSTUPGRADE\_BACKUP\_ASU1, where ASU1 is as the name of the instance. The Progress on the Report tab shows the progress percentage of all the flow activities executed on the specific node.
    - Total Nodes = Node Success + Node Failed + Node Completed with WarningsThe Nodes Completed with Warnings field shows the number of nodes which have completed the upgrade successfully but failed in some of the optional selected activities. It includes also the number of Nodes with Degraded Health.
    - The number under Nodes Prepared shows only the nodes prepared without any warnings, therefore, it does not include the number from Nodes Prepared with Warnings field.
    - Similarly, the number under Nodes Activated shows only the nodes activated without any warnings, therefore, it does not include the number from Nodes Activated with Warnings.
    - If any node health degradation is found between the pre-upgrade and post-upgrade executions, the link to a degradation report is provided in the View Degradation Report field. Otherwise, no link is provided.
    - The Process Diagram tab displays the status of the software upgrade on a flow diagram.
    - The Event tab displays the events that are logged during the flow execution. Clicking an event displays event details on the right panel. Note: Events can be filtered based on severity, as well as time and date. Refreshing the event list clears all applied filters.
    Event Tab

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
    - Maintenance Window Summary shows the maintenance window level information. This table is displayed only when there are maintenance window(s) configured in activation phase. The report shows maintenance window level information as follows: Sequence Order: Sequence order of this maintenance window. Start Time: Start time of this maintenance window. Duration: Duration of this maintenance window. Start a group when remaining time is more than (minutes): Start a group when remaining time in current maintenance window is long enough. Flow will not start a new group but wait for next maintenance window when the time left in this maintenance window is less than this time.
    mainenanceWindowsSummary

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
    - Group Status shows the group level information. This table is displayed only when there are groups executed in activation phase. The report shows group level information as follows: Sequence Order: Sequence order of this group. Group: Name of this group. Total Nodes: Number of nodes in this group. Nodes Activated: Number of activated nodes in this group. Nodes Failed: Number of failed nodes in this group. Nodes Activated with Warnings: Number of nodes activated successfully but have failures at optional activity(s) in this group. Started in Maintenance Window: The sequence order of a maintenance window where this group is started. Start Time: Time at which group execution started. End Time: Time at which group execution ended. Duration: Time taken to execute group in activation phase.
    groupStatus

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
Flow\_instance\_details3

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
Event Tab

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
mainenanceWindowsSummary

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
groupStatus

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
6. Click Export to save the report describing the upgrade flow to the client. The exported json file can be used as the template of the input file during the next SW upgrade.
Exported\_report

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

### 4.2.3 Perform User Task

Pause the Automated Software Upgrade flow execution on the nodes in task list, if

needed, and provide input.

When the Automated Software Upgrade begins, the

Flow Instance Details screen is displayed.

This screen provides live update information on batch and node levels.

Steps

1. Select the User Tasks tab when the Summary Report field displays Waiting for User Input.
2. Click Submit to complete user task.
UserTask

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

Results

The software upgrade flow continues automatically or is stopped on the selected

nodes.

## 4.3 Automated Software Upgrade Setup

To complete the setup, the user can upload the input file or go through a procedure

in a wizard.

Automated Software Upgrade setup consists of the following activities:

- Creating Automated Software Upgrade flow instance
- Choosing the setup type
- Providing input for the setup in an input file or through a wizard

The activities in Automated Software Upgrade setup are performed outside of the

maintenance periods.

# 5 Node Monitoring in ENM

The purpose of the node monitoring is to supervise the node status for alarms, load,

or KPI after software upgrade.

Node monitoring includes the following tasks:

- Synchronize Nodes for Alarm Monitoring
- View Alarms in ENM
- Export Alarms
- View Node KPI
- Export KPI
- Perform health checks

To ensure that the network operates properly, a monitoring period of at least eight hours

is recommended. This can be increased to 16-24 hours based on network requirements.

## 5.1 Synchronize Nodes for Alarm Monitoring

Make sure that the alarms are synchronized from the node to the Alarm Monitor

application.

Steps

1. Launch the Alarm Monitor application.
application\_launcher\_alarmmonitoring

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

To import network elements into ENM:

2. Click Add Topology Data in the Network pane.
3. Select Network Elements:
    - Select elements under subnetworks in the Topology tab.
    - Select elements by entering search criteria in the Search tab.
    - Select a collection in the Collections tab.
    - Select a saved search in the Saved Searches tab.
4. Click Add.
add\_network\_objects

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

To view network elements that are added to alarm monitoring:

5. Click the Show All Objects or Show Applied Objects list.
6. Select node with the keyboard shortcuts:
    - Select a node with CTRL+Click.
    - Select multiple nodes with SHIFT+Click.
7. Initiate alarm synchronization with one of the following options:
    - Click the context menu icon and select Initiate Alarm Synchronization.
    - Right-click on the name of the node.
initiate\_alarm\_synchronization.png

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

## 5.2 View Alarms in ENM

Check if there are any active alarms on the node.

Steps

1. Launch the Alarm Monitor application.
application\_launcher\_alarmmonitoring

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
3. Click Add Topology Data in the Network pane.
4. Select Network Elements:
    - Select elements under subnetworks in the Topology tab.
    - Select elements by entering search criteria in the Search tab.
    - Select a collection in the Collections tab.
    - Select a saved search in the Saved Searches tab.
5. Click Add.
add\_network\_objects\_panel

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

To view alarms:

5. Select a node from the Network Elements list.
6. Click Apply. Result: The Alarms table is updated with all alarms on the Network Element.
alarm\_monitor\_untitled\_workspace

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

To view alarm details:

7. Select an alarm in the Alarms table.
8. Click Go To... in the action bar and select Alarm Details.
Alarm Monitor\_View Alarm Details

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

To view the operational instructions for a specific alarm:

9. Click the Operational Instructions - OPI link in the Troubleshooting this Alarm section.
alarm\_monitor\_opi

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

## 5.3 Export Alarms

Save and download the alarm results to a CSV file.

Steps

1. Launch the Alarm Monitor application.
application\_launcher\_alarmmonitoring

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
3. Click Add Topology Data in the Network pane.
4. Select Network Elements:
    - Select elements under subnetworks in the Topology tab.
    - Select elements by entering search criteria in the Search tab.
    - Select a collection in the Collections tab.
    - Select a saved search in the Saved Searches tab.
5. Click Add.
add\_network\_objects\_panel

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
7. Select a node from the Network Elements list.
8. Click Apply.
alarm\_monitor\_untitled\_workspace

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
10. Select alarm with the following keyboard shortcuts: If no alarms are selected, then all alarms in the table are imported.
    - Select an alarm with CTRL+Click.
    - Select multiple alarms with SHIFT+Click.
11. Click Export. Result: The export is initiated and the file is downloaded.
alarm\_monitor\_untitled\_workspace\_export

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
13. Select the location to save the file.
export\_alarms\_save.png

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

## 5.4 View Node KPI

Verify the KPI data for a node.

Steps

1. Launch the Node Monitor from the Monitoring section of the Application Launcher..
application\_launcher\_nodemonitoring

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
3. Click Add Topology Data.
4. Select Network Element in the Add Network Objects panel.
5. Click Add.
add\_network\_objects\_KPI

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
7. Select the KPI Viewer widget.
select\_kpi\_viewer.png

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

To select KPIs to be monitored:

6. Click the settings button.
KPI\_Viewer\_Settings

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
8. Select KPI. If the selected KPI calculates the results as an array, an index must be added.
widget\_settings

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
10. Click Save.

## 5.5 Export KPI

Save and download the KPI results to a CSV file.

Steps

1. Launch the Node Monitor application.
application\_launcher\_nodemonitoring

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
3. Click Add Topology Data.
4. Select Network Element in the Add Network Objects panel.
5. Click Add.
add\_network\_objects\_KPI

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
7. Select the KPI Viewer widget.
select\_kpi\_viewer.png

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
9. Click the context menu and select Export Data from the drop-down list. The exported data is based on all active KPIs in the KPI Viewer. Depending on the browser, the file is either saved automatically, or must be saved manually. Result: The exported file contains the last 8 ROPs of data for each reporting object. The ROP column indicates in which ROP the value is recorded. For example, ROP-0 indicates that value is reported at the most recent ROP. ROP-1 indicates that the value is reported one ROP before ROP-0.
node\_monitor\_untitled\_workspace

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

# 6 Fallback Activities in ENM

The fallback plan is a set of actions and tasks that are available if the software

upgrade is not successful.

During the first implementation the fallback plan contains the following fallback

criteria:

- The software upgrade activities cannot be completed within the maintenance window.
- Basic node functions (such as call handling and handover) are not operational. The fault remains and cannot be resolved by troubleshooting in the maintenance window.
- The node is not synchronized to ENM after the software upgrade is completed. The fault remains and cannot be resolved by troubleshooting in the maintenance window.

Multiple attempts are allowed for software upgrade within the maintenance window. If any

of the attempts succeed, the first implementation is considered successful.

When a fault is encountered on a basic function, the first recommended action is

troubleshooting instead of immediate fallback.

## 6.1 Rollback Node in ENM

The purpose of this activity is to perform a rollback on a node to a backup created

before software installation. This activity is only required, if KPI degradation is observed

during node monitoring.

Prerequisites

A node collection for the nodes that are selected for rollback must be created. For

more information, see Create Node Collection in ENM.

Steps

1. Launch the Software and Hardware Manager from the Provisioning section of the Application Launcher.
application\_launcher\_shm

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
3. Select Backup Administration.
4. Click Create Restore Job.
backup\_administration\_create\_restore\_job

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
6. Enter a new Job Name or verify an existing one.
7. Enter a Job Description.
create\_restore\_job

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
9. Click Add Topology Data.
10. Select the Collections tab.
11. Select the node collection that contains the nodes selected for rollback.
12. Click Add.
add\_network\_objects\_panel

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
14. Click Next on the Job Details &amp; Node Selection page.
15. Choose the backup created before software installation from the Backup drop-down menu.
16. Click Next.
create\_restore\_job\_select\_backup.png

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
18. Select restore activities.
19. Click Next.
create\_restore\_job\_activities

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
21. Select Define job and execute immediately from the Start drop-down list in the Select Your Schedule page.
22. Click Next.
create\_restore\_job\_summary

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
24. Review the configuration in the Summary page and click Finish.
create\_restore\_job\_summary.png

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
26. Click Create.
create\_restore\_job\_confirm.png

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
28. Select the restore job in SHM.
29. Click View Job Details.
30. Select the backup job and click Continue.
continue\_restore\_job\_shm

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

# 7 Troubleshooting during Software Installation and Upgrade

Troubleshooting activities are applicable if a fault occurs during or after software

installation or upgrade on the node.

## 7.1 Perform Troubleshooting During Software Installation

If a fault occurs during the software installation, delete and reinstall the specific

Upgrade Package.

The following faults can be encountered during software installation:

- The Baseband unit does not have enough free disk space.
- The Baseband unit is restarted during the installation.
- The FTP server cannot be accessed.
- The path name to the upgrade package is incorrect.

Steps

1. Launch the Software and Hardware Manager from the Provisioning section of the Application Launcher.
application\_launcher\_shm

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
3. Select Software Administration.
software\_administration

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
5. Click the Upgrade Packages on nodes tab.
shm\_add\_topology\_data

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
7. Click Add Topology Data in the Network panel.
8. Select the Collections tab.
9. Select the node from which to delete the upgrade package.
10. Click Add.
add\_network\_objects\_panel

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
12. Select the upgrade package from the Upgrade Packages table.
13. Click Delete Upgrade Packages in the action bar.
shm\_delete\_upgrade\_packages

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
15. Enter a Job Name.
16. Add a Job Description.
17. Select Delete all referred backup in Additional Options.
18. Click Delete.
confirm\_delete.png

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
20. Reinstall the upgrade package and continue the upgrade activities. For more information, see Software Preparation and Installation in ENM.

If the installation is unsuccessful, do the following:

15. Perform health check for disk space. For more information, see Perform Pre-Install Node Health Check.

If the fault remains, do the following:

16. Contact the next level of maintenance support.

## 7.2 Perform Troubleshooting During Software Upgrade

If a fault occurs during the software upgrade, restore the node from the

backup.

The following faults can be encountered during software upgrade:

- The Baseband unit does not have enough free disk space
- The Baseband unit does not have enough memory
- Checksum error
- Other hardware or software errors

Steps

1. Launch the Software and Hardware Manager from the Provisioning section of the Application Launcher.
application\_launcher\_shm

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)
3. Check the upgrade status of the node in the System Hardware Manager.
view\_upgrade\_job\_status.png

![Image](../images/101_1553-LZA7016014_1Uen.DD/additional_3_CP.png)

If the upgrade status of the node is not WAIT\_FOR\_USER\_INPUT or

COMPLETED, do the following:

3. Restore the node to the backup created before the upgrade. For more information, see Restore Node from Backup in ENM.

If the fault remains, do the following:

4. Contact the next level of maintenance support.

# 8 License Validation Rules

Detailed descriptions of validation rules.

Table 3   License Validation Rules

# 9 RAN Software Upgrade Method of Procedure Template

This is an example Method of Procedure for LTE Baseband radio node software upgrade

from 18.Q4 onward for the manual methods, and from 19.Q2 onward for the automated method.

The content of this appendix can be copied into a local document and adapted to local

use.

Purpose

The purpose of this Method of Procedure (MOP) is to identify and communicate the key

steps and actions required as part of Baseband 19.Q2 Software Preparation and

Activation procedures using ENM or AMOS.

Document History

Table 4   Document History

| Revision   | Date     | Responsible   | Comments      |
|------------|----------|---------------|---------------|
| PA1        | yy/mm/dd |               | First draft.  |
| PA2        | yy/mm/dd |               | Second draft. |

Known Issues, Restrictions, and Limitations

Refer to NIR or PLM descriptions, TRs or CSRs, or other known incident management

sources.

ENM and EPC Dependency

Refer to the RAN Software Upgrade user guide in the 19.Q2 CPI libraries.

RAN Upgrade Path

Refer to release notes for supported upgrade path.

For information regarding upgrade paths, refer to release notes, and the LTE

Upgrade Information and LTE RAN Roadmap PLM pages.

Activity Details

Description of activities.

Reporting

Aligned with the customer. For report templates and rules use the BNET

report website.

Disturbance during Upgrade

List of expected O&amp;M connection disturbances and node restart disturbances.

Restrictions while Upgrade

No other maintenance activities are allowed on target upgrade node and related core,

IP, and transport network. Other activities in ENM impact the software upgrade

process.

Prerequisites

Refer to the Prerequisites for RAN Software Upgrade chapter in the RAN

Software Upgrade user guide in the 19.Q2 CPI libraries.

Implementation Plan

For more information on the manual upgrade method, refer to the Manual Software

Upgrade in ENM in the RAN Software Upgrade user guide in the 19.Q2 CPI

libraries.

For more information on the automated upgrade method, refer to the Automated

Software Upgrade in ENM in the RAN Software Upgrade user guide in the

19.Q2 CPI libraries.

Fallback Plan

Refer to the Fallback Activities in ENM chapter in the RAN Software

Upgrade user guide in the 19.Q2 CPI libraries.

Basic Troubleshooting

Refer to the Perform Troubleshooting during Software Installation and

Perform Troubleshooting during Software Upgrade chapters in the RAN

Software Upgrade user guide in the 19.Q2 CPI libraries.

References

List of references for this document.