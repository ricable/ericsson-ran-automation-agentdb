---
complexity_score: 16.5
converted_at: '2025-08-13T06:59:10.087020Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 4
images_saved: 3
original_path: 185_22104-LZA7016017_1Uen.AN.html
pictures_extracted: 4
processing_method: docling_multimodal
quality_score: 9.0
source_file: 185_22104-LZA7016017_1Uen.AN.html
source_zip: en_lzn7931071_r38f.zip
tables_extracted: 17
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 2796
---

# 

NR Cell Soft Lock

Contents

![Image](../images/185_22104-LZA7016017_1Uen.AN/additional_3_CP.png)

![Image](../images/185_22104-LZA7016017_1Uen.AN/additional_3_CP.png)

- NR Cell Soft Lock Overview
- Dependencies of NR Cell Soft Lock
- Feature Operation of NR Cell Soft Lock
    - Cell Handling for NR Cell Soft Lock
    - Preventing UEs from Connecting to the Shutting down Cell
        - Preventing SA UEs
        - Preventing EN-DC UEs
    - Moving Connected UEs through Handover
    - Service Protection during NR Cell Soft Lock
    - UE Group Support for Cell Offload and Service Protection
    - Supported Trigger Quantities for A5 and B1 Measurements
    - Additional Target Evaluation of Reported Quantities for A5 and B1 Measurements
- Network Impact of NR Cell Soft Lock
- Parameters for NR Cell Soft Lock
- Performance of NR Cell Soft Lock
- Activate Non-License-Controlled Features
    - Enable NR Cell Soft Lock
- Engineering Guidelines for NR Cell Soft Lock
- Appendix: Feature Change History
    - Appendix: 24.Q4.0: Downlink Quality Metric Enhancements for Traffic Offload Features

# 1 NR Cell Soft Lock Overview

This feature introduces cell soft

lock procedures to minimize impact on traffic.

| Feature Name           | NR Cell Soft Lock                                       |
|------------------------|---------------------------------------------------------|
| Feature Identity       | FAJ 121 5575                                            |
| Value Package Name     | NR Base Package                                         |
| Value Package Identity | FAJ 801 4002                                            |
| Node Type              | Baseband Radio Node                                     |
| Access Type            | NR                                                      |
| Licensing              | Non-license-controlled feature. No license is required. |

Summary

This feature reduces traffic impact by handing over, if possible, the served

standalone (SA) UEs to other cells, and by preventing new UEs from accessing the

cell for NG, Xn, and inter-RAT handover, and EN-DC. New UEs are not prevented from

accessing the shutting down cell for NR-DC.

To minimize the traffic impact at SW upgrade, it is possible to do a soft upgrade.

The soft upgrade includes a soft lock to remove the traffic before the restart. For

more information on the soft upgrade, see NR Soft Upgrade.

For Baseband Radio Nodes, in response to the soft upgrade trigger, the system

triggers the NR Cell Soft Lock feature for a maximum duration of 500 seconds, and

then the upgrade procedure continues.

The cell offload function is not applicable for NSA traffic.

# 2 Dependencies of NR Cell Soft Lock

The feature has dependencies with other features that have an impact on NR Cell Soft

Lock procedures.

Features

Table 1   Feature Dependencies

![Image](../images/185_22104-LZA7016017_1Uen.AN/additional_3_CP.png)

![Image](../images/185_22104-LZA7016017_1Uen.AN/additional_3_CP.png)

| Feature                                                                                         | Feature Identity   | Access Type         | Relationship   | Relationship Scope   | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|-------------------------------------------------------------------------------------------------|--------------------|---------------------|----------------|----------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Site Diagnostics                                                                                | FAJ 121 5297       | LTE  NR  WCDMA  GSM | Related        |                      | Health check rules for when the                                         NRCellDU.administrativeState attribute is                                     set to SHUTTINGDOWN are introduced.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| NR Mobility                                                                                     | FAJ 121 5041       | NR                  | Related        |                      | If the value of the NRCellDU.serviceState attribute in the target                 cell is in IN_SERVICE after the value of                     NRCellDU.administrativeState attribute changes to                     SHUTTINGDOWN, the following can occur:  In case of inter-gNodeB handover, handover toward the shutting down                             target NR cell is rejected with the cause value                             handover-target-not-allowed for Xn or ho-target-not-allowed for NG.     In case of intra-gNodeB handover, the target cell is not considered a                             valid handover target.     The NR Mobility feature can evaluate the uplink quality in the target                             cell during the incoming handover procedure to avoid handover back to                             the source cell if uplink quality is poor in the target cell.                                                                                                                                                                                                                     |
| NR Traffic Steering                                                                             | FAJ 121 5458       | NR                  | Related        |                      | If the value of the NRCellDU.serviceState                                     attribute in the target cell is in IN_SERVICE                                     after the value of                                         NRCellDU.administrativeState attribute                                     changes to SHUTTINGDOWN, the following can                                         occur:  In case of inter-gNodeB handover, handover for                                                 traffic steering toward the shutting down target NR                                                 cell is rejected with the cause value                                                 handover-target-not-allowed for Xn or                                                 ho-target-not-allowed for NG.     In case of intra-gNodeB handover, the target cell is                                                 not considered a valid handover target.      Carrier aggregation with the shutting down cell is allowed                                     because severe service degradation is not expected.              |
| Outgoing NR IRAT Handover                                                                       | FAJ 121 5377       | LTE                 | Related        |                      | If the value of the NRCellDU.serviceState                                     attribute in the target cell is in IN_SERVICE                                     after the value of                                         NRCellDU.administrativeState attribute                                     changes to SHUTTINGDOWN, outgoing IRAT handover                                     toward the shutting down target NR cell is rejected with the                                     cause value cell-not-available. If the target cell is in the NR                                     cell denylist due to EN-DC procedures, the source eNodeB does                                     not consider the cell as a valid handover target.                                                                                                                                                                                                                                                                                                                                                                                  |
| LTE-NR Dual Connectivity                                                                        | FAJ 121 4908       | NR                  | Related        |                      | If the value of the NRCellDU.serviceState                                     attribute in the target cell is in IN_SERVICE                                     after the value of                                         NRCellDU.administrativeState attribute                                     changes to SHUTTINGDOWN, the candidate PSCell                                     is considered invalid, and the SgNB Addition                                         Request or SgNB Modification Request                                     message for SCG addition is rejected with cause value                                     cell-not-available. In this case, the source eNodeB adds the                                     cell to the NR cell denylist. If the target cell is in the NR                                     cell denylist, the source eNodeB does not consider the cell as a                                     valid PSCell candidate.                                                                                                                                                     |
| Basic Intelligent Connectivity                                                                  | FAJ 121 4843       | LTE                 | Related        |                      | If the Master Node receives the X2AP SGNB ADDITION REQUEST REJECT or                 the X2AP SGNB MODIFICATION REQUEST REJECT message from the Secondary                 Node with the cell-not-available cause value, the target NR cell is                 added to the denylist.  The target NR cell can also be added to the denylist if the Master Node receives the                     X2AP SGNB ADDITION REQUEST REJECT or the X2AP SGNB                     MODIFICATION REQUEST REJECT message from the Secondary Node with the                 cause value indicating cell overload.  If a cell is added to the denylist by the NR Cell Soft Lock feature or the Basic                 Intelligent Connectivity feature, the same cell cannot be added to the denylist                 again. If the denylist is triggered once more, the denylist period is overwritten                 instead with the latest applicable value.  While the target cell is in the denylist, the Master Node does not consider the cell                 a candidate PSCell. As a result, the NR cell is excluded from EN-DC procedure. |
| EN-DC-Triggered Handover during                                         Setup                   | FAJ 121 5097       | LTE                 | Related        |                      | Whenever the eNodeB receives A5 and B1 measurement reports for                                     EN-DC-triggered handover, if intra-eNodeB handover is to be                                     performed and the target ExternalGUtranCell                                     is in the NR cell denylist, the eNodeB ignores the B1                                     measurement report and does not initiate intra-eNodeB handover.                                     At the incoming X2 handover with forwarded B1 measurement, if                                     the target ExternalGUtranCell is in the NR                                     cell denylist, the target eNodeB ignores the forwarded B1                                     measurement results.                                                                                                                                                                                                                                                                                                                                                |
| EN-DC-Triggered Handover during Connected                                         Mode Mobility | FAJ 121 5243       | LTE                 | Related        |                      | Whenever eNodeB receives A5 and B1 measurement reports for                                     EN-DC-triggered handover, if intra-eNodeB handover is to be                                     performed and the target ExternalGUtranCell                                     is in the NR cell denylist, eNodeB ignores the B1 measurement                                     report and does not initiate intra-eNodeB handover. If the                                     target ExternalGUtranCell is in the NR cell                                     denylist at the incoming X2 handover with forwarded B1                                     measurement, the target eNodeB ignores the forwarded B1                                     measurement results.                                                                                                                                                                                                                                                                                                                                                         |
| NR Extended N77 Band Support                                                                    | FAJ 121 5480       | NR                  | Related        |                      | If the following two conditions are met,                                         extendedBand-n77-r16 or                                         extendedBand-n77-2-r17 can be                                     configured for A5 inter-frequency measurement:  The                                                   GNBCUCPFunction.extendedBandN77Supported                                                 attribute is set to true or the                                                   GNBCUCPFunction.extendedBandN77TwoSupported                                                 attribute is set to true.     The UE has indicated corresponding                                                   extendedBand-n77-r16 or                                                   extendedBand-n77-2-r17.                                                                                                                                                                                                                                                                                                                |
| EPS Fallback for IMS Voice                                                                      | FAJ 121 5059       | NR                  | Related        |                      | If EPS Fallback is performed for a UE, the measurement for cell                                     offload must not be configured. If measurement for cell offload                                     is already configured for the UE, and EPS fallback is decided                                     after that, the already configured measurement needs to be                                     removed from the UE when EPS Fallback measurement is                                     configured.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| NR Minimization of Drive Tests                                                                  | FAJ 121 5348       | NR                  | Related        |                      | When A5 or B1 measurement for cell offload is configured,                                     requesting location information IE, which is                                         includeCommonLocationInfo, can be                                     included depending on the                                         MdtCellProfileUeCfg.m1IncludeCommonLocationInfo                                     attribute.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| UE Grouping Framework                                                                           | FAJ 121 5314       | NR                  | Related        |                      | The NR Cell Soft Lock feature is adapted to the UE Grouping                                     Framework in NR.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| NR RRC Connection                                     Re-establishment                          | FAJ 121 5346       | NR                  | Related        |                      | During the intra-gNodeB or inter-gNodeB RRC Connection                                     Re-establishment procedure, if the value of the                                         NRCellDU.serviceState attribute in the                                     target cell is in IN_SERVICE after the value of                                         NRCellDU.administrativeState attribute                                     changes to SHUTTINGDOWN, fallback to RRC                                     Connection Establishment procedure is performed.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| RRC Inactive State                                                                              | FAJ 121 5328       | NR                  | Related        |                      | The RRC Connection Resume fallback to RRC Establishment procedure                                     is triggered when the value of the                                         NRCellDU.serviceState attribute in the                                     target cell is in IN_SERVICE after the value of                                         NRCellDU.administrativeState attribute                                     changes to SHUTTINGDOWN.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| User- and Service-Specific                                     Mobility                         | FAJ 121 5399       | NR                  | Related        |                      | The User- and Service-Specific Mobility feature enables                                     differentiated configuration of the attributes on                                         OffloadCellProfileUeCfg,                                         OffloadNrFreqRelProfileUeCfg, and                                         OffloadEUtranFreqRelProfileUeCfg, which                                     are used by the NR Cell Soft Lock feature.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| NR Traffic Offload                                                                              | FAJ 121 5680       | NR                  | Related        |                      | The NR Traffic Offload feature uses the same MO classes for observability and                   configuration as the NR Cell Soft Lock feature.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| NR Booster Carrier Sleep                                                                        | FAJ 121 5625       | NR                  | Related        |                      | The offloading functionality of the NR                                                 Booster Carrier Sleep feature is configured through                                                 the same MOM attributes as the NR Cell Soft Lock                                                 feature.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| LTE Service-Triggered Outgoing NR IRAT                                         Mobility         | FAJ 121 5744       | NR                  | Conflicting    | Cell-level conflict  | Outgoing IRAT handover towards the NR cell that shuts down is                                     rejected with the cause value                                         cell-not-available if the following                                     conditions are fulfilled:  The cellBarred value of the MIB for                                                 the target cell is set to                                                 barred.     The NRCellCU.serviceState                                                 attribute associated with the target cell is set to                                                   IN_SERVICE.      If the target cell is in the NR cell denylist because of EN-DC                                     procedures, the source eNodeB does not consider the cell as a                                     valid handover target.                                                                                                                                                                                                                                                   |
| NR PCI Conflict Reporting                                                                       | FAJ 121 5621       | NR                  | Related        |                      | When an A5 or a B1 measurement report generated by the NR Cell Soft Lock feature that contains a cell potentially in PCI conflict is received, ECGI and NCGI measurements can be triggered to find other PCI conflicted cells.  When an A5 or a B1 measurement report generated by the Cell Soft Lock feature that contains a cell in PCI conflict is received, the following types of handover can be triggered:  CGI hit rate-based handover     ECGI measurement-based handover     NCGI measurement-based handover     Manual configuration-based handover                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| NR Booster Carrier Sleep                                                                        | FAJ 121 5583       | NR                  | Related        |                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |

Hardware

No specific hardware requirements.

Limitations

If the NRCellDU.administrativeState attribute is set to

SHUTTINGDOWN, any later attempts to set the

NRCellDU.administrativeState attribute to

UNLOCKED are rejected, and the cell ends up in the

locked

state after the

cell

offload

is finalized.

After the cell offload, any remaining ongoing calls in the shutting down cell are

dropped when the NRCellDU.administrativeState attribute of the

cell transits to LOCKED. This includes emergency calls, high

priority access, Mobile Cross-talk Control, and Voice Over NR.

Network Requirements

It is required to use ENM version 23.4 or later to support the

MOM changes introduced by this

feature.

# 3 Feature Operation of NR Cell Soft Lock

The feature hands over the served SA

UEs to other cells and prevents new UEs from accessing the cell.

The feature hands over the served SA UEs to other cells and prevents new UEs from

accessing the cell for NG, Xn, or Inter-RAT handover and EN-DC. It is used to reduce

impact on end-user experience when locking cells.

Operational Process

Figure 1   Operational Sequence

Diagram

The feature operation can be divided into the following subprocesses:

1. Cell handling for NR Cell Soft Lock It includes the functions required for the triggering of NR Cell Soft Lock, the signaling between DU and CU, the triggering of dynamic MIB update, and the finalization of the NR Cell Soft Lock procedure.
2. Preventing UEs from connecting to the shutting down cell It includes the functions for rejecting new attempts to the shutting down cell when the cell is barred to secure the moving of already connected UEs to other cells and provide service opportunities in other cells.
3. Moving already connected UEs through handover It includes the functions required for moving the already connected UEs to other cells, inter-frequency A5 or inter-RAT B1 measurement configuration, and handover based on the received measurement report and pacing mechanism. Traffic impact can be reduced by configuring service protection for UE groups during NR cell soft lock. Emergency call is one example of a service that can be protected.

## 3.1 Cell Handling for NR Cell Soft Lock

The cell handing process consists of the following steps:

1. The cell is barred with updated MIB and updated MIB is informed.
2. Incoming handovers and EN-DC attempts are rejected as described in Preventing UEs from Connecting to the Shutting down Cell.
3. Cell offload request is sent and confirmed. Service protection can be configured as described in Service Protection during NR Cell Soft Lock.
4. Offload is performed for already connected UEs as described in Moving Connected UEs through Handover.
5. The DU is notified that cell offload is finalized.
6. The cell is locked.

Cell Barring with Updated MIB and Informing Updated MIB to CU

Cell Soft Lock is triggered when the NRCellDU.administrativeState

attribute is changed from UNLOCKED to

SHUTTINGDOWN.

After NR Cell Soft Lock is triggered, the DU determines whether NR Cell Soft Lock can

be performed based on the following conditions:

- The value of the NRCellDU.administrativeState attribute is UNLOCKED.
- The value of the NRCellCU.serviceState attribute is IN\_SERVICE.

If any of those conditions are not fulfilled, Cell Lock is triggered with the

NRCellDU.administrativeState attribute being set to

LOCKED.

If all the conditions are fulfilled, the DU builds a new MIB with the cellBarred

field being set to be barred for the cell. MIB is dynamically updated to force

RRC\_IDLE, RRC\_INACTIVE UEs and UE in RRC\_CONNECTED state while T311 is running to

read and react on the new MIB.

The cellBarred cannot have its value updated to BARRED, because the

original value is needed to build the MIB the next time the cell is unlocked. The

operator can check if the cell is barred by looking at the value of the

NRCellDU.administrativeState attribute. If it is set to

SHUTTINGDOWN, the cell is barred.

Then DU sends a gNB-DU Configuration Update message to the CU over

F1AP with the updated MIB. Upon reception of the message, the CU replies with a

gNB-DU Configuration Update Acknowledge message.

Notification to DU of Cell Offload Finalization

The cell offload procedure is finished when one of the following conditions is

fulfilled:

- The cell offload timer has expired.
- There are no more SA UEs to be offloaded and no more EN-DC UEs on the NR cell.

If at least one of these conditions is fulfilled, the CU sends a gNB-CU

Configuration Update message to the DU. This signal includes an

extension conveyor with a new list IE called Cell Offload Finished List. This

indicates to the DU that the cell offload procedure has been completed for the cell

in the list.

Cell Locking

The DU sets NRCellDU.administrativeState to

LOCKED, which triggers the Cell Lock procedure. The Cell Lock

procedure releases all remaining UEs and deactivates and releases the cell.

## 3.2 Preventing UEs from Connecting to the Shutting down Cell

After cell

handling for NR Cell Soft Lock, UEs are prevented from connecting to the shutting down

cell.

Preventing UEs from connecting to the shutting down cell consists of the following three

aspects:

- The target gNodeB rejects the incoming attempts.
- The source node adds the rejected target cell into the NR cell denylist.
- The source node does not try new attempts to the rejected target cell if the target cell is in the NR cell denylist.

Maintaining

the NR cell denylist and not trying new attempts to the rejected target cell aspects are

only applicable to the source eNodeB. The source gNodeB only checks the cellBarred value

of MIB for intra-gNodeB handover or PSCell change.

The target gNodeB rejects new attempts for NG, Xn, or Inter-RAT handover and EN-DC if the

value of the NRCellDU.serviceState attribute in the target cell is in

IN\_SERVICE after the value of

NRCellDU.administrativeState attribute changes to

SHUTTINGDOWN.

Upon receiving the rejecting message with cause value cell-not-available, the

neighboring eNodeB adds the target cell into the NR cell

denylist.

The eNodeB does not try new attempts to the target cell for all UEs in the neighboring

node while the target cell is in the NR cell denylist.

NR-DC

with the shutting down cell is allowed, because without MN behaviors for blocking NR-DC

attempts to the shutting down cell, accessibility and mobility KPI

degradation can be expected if NR-DC attempts are rejected by the node including the

shutting down cell.

Carrier aggregation with the shutting down cell is allowed since there is no expectation

of severe service degradation.

### 3.2.1 Preventing SA UEs

Target gNodeB Behavior and NR Cell Denylist Handling

Different node behavior is expected in different handover cases.

Table 2   Target gNodeB Behavior and NR Cell Denylist Handling

| Case                              | Source Node                                                                                                                                                                                                                  | Target Node                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|-----------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Xn handover                       | Does nothing.                                                                                                                                                                                                                | If the value of the NRCellDU.serviceState                                     attribute in the target cell is in IN_SERVICE                                     after the value of                                         NRCellDU.administrativeState attribute                                     changes to SHUTTINGDOWN, the target gNodeB                                     rejects requested incoming Xn handover with cause value                                     handover-target-not-allowed. |
| NG handover                       | Does nothing.                                                                                                                                                                                                                | If the value of the NRCellDU.serviceState                                     attribute in the target cell is in IN_SERVICE                                     after the value of                                         NRCellDU.administrativeState attribute                                     changes to SHUTTINGDOWN, the target gNodeB                                     rejects requested incoming NG handover with cause value                                     ho-target-not-allowed.       |
| Inter-RAT handover from LTE to NR | When the cell is in the NR cell denylist due to EN-DC, the source                                     eNodeB does not make new attempts to the target NR cell for all                                     UEs in the eNodeB. | If the value of the NRCellDU.serviceState                                     attribute in the target cell is in IN_SERVICE                                     after the value of                                         NRCellDU.administrativeState attribute                                     changes to SHUTTINGDOWN, the target gNodeB                                     rejects requested incoming inter-RAT handover with cause value                                     cell-not-available.   |

Evaluation of Cell for Handover on gNodeB and eNodeB

Whenever the gNodeB receives a measurement report on a cell, it is evaluated whether

the target PCI is a valid handover target or not. In case of intra-gNodeB handover,

if the value of the NRCellDU.serviceState attribute in the target

cell is in IN\_SERVICE after the value of

NRCellDU.administrativeState attribute changes to

SHUTTINGDOWN, the target PCI is considered as invalid handover

target. In case of inter-gNB handover, there is no added

behavior.

Whenever the eNodeB receives a measurement report, the eNodeB evaluates the

measurement report and decides whether to hand over the UE to NR SA. As part of the

evaluation, it is checked whether the target PCI is in the NR cell denylist. If the

PCI is in the NR cell denylist, outgoing NR IRAT Handover to the target PCI cannot

be initiated, and the eNodeB checks whether Release with Redirect can be performed

instead.

Preventing RRC\_IDLE, RRC\_INACTIVE or RRE UEs

If a cell is barred, after reading the cellBarred information, the UE considers that

the cell is barred and reselects another cell. However, it is possible that the UE

tries to connect to the barred cell based on the old MIB information, which means

that the cellBarred value is notBarred. In this case, new connection attempts from

RRC\_IDLE, RRC\_INACTIVE or UE in RRC\_CONNECTED state while T311 is running are

released right after the RRC connection is successfully established.

### 3.2.2 Preventing EN-DC UEs

Target

Secondary

gNodeB

behavior and NR Cell Denylist Handling at

Master

eNodeB

| Case                                | Source                                     Master                                     eNodeB                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Target                                     Secondary                                     gNodeB                                                                                                                                                                                                                                                                                                                                 |
|-------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| EN-DC setup                         | When                                     Master                                     eNodeB                                     receives the SGNB ADDITION REQUEST REJECT message                                     with cause value cell-not-available, the source                                     Master                                     eNodeB                                     adds the target PSCell into the NR cell denylist during the                                     time, which ranges from 75 seconds to 90 seconds.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | If the value of the NRCellDU.serviceState                                     attribute in the target cell is in IN_SERVICE                                     after the value of                                         NRCellDU.administrativeState attribute                                     changes to SHUTTINGDOWN, the request is                                     rejected with cause value cell-not-available. |
| EN-DC modification for SCG addition | When                                     Master                                     eNodeB                                     receives the SGNB MODIFICATION REQUEST REJECT                                     message with cause value cell-not-available, the source                                     Master                                     eNodeB                                     adds the target PSCell into the NR cell denylist during the                                     time, which ranges from 75 seconds to 90 seconds.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | If the value of the NRCellDU.serviceState                                     attribute in the target cell is in IN_SERVICE                                     after the value of                                         NRCellDU.administrativeState attribute                                     changes to SHUTTINGDOWN, the request is                                     rejected with cause value cell-not-available. |
| SgNB change                         | Though                                     Master                                     eNodeB                                     receives the SGNB ADDITION REQUEST REJECT message                                     with cause value cell-not-available, the source                                     Master                                     eNodeB                                     does not add the target PSCell into the NR cell denylist as it                                     cannot identify the CGI associated with the PCI of the target                                     PSCell.   Master                                     eNodeB                                     sends the SGNB CHANGE REFUSE message with cause                                     value cell-not-available to the source                                     Secondary                                     gNodeB.                                     Note that there is no added behavior on the source                                     Secondary                                     gNodeB. | If the value of the NRCellDU.serviceState                                     attribute in the target cell is in IN_SERVICE                                     after the value of                                         NRCellDU.administrativeState attribute                                     changes to SHUTTINGDOWN, the request is                                     rejected with cause value cell-not-available. |

Checking NR Cell Denylist on

Master

eNodeB

On Master

eNodeB,

there are the following cases where it is checked whether the target cell is in the

NR cell denylist:

- Upon receiving NR B1 measurement, if the reported PCI is in the NR cell denylist, the measurement report is discarded without action.
- In case of configuration-based EN-DC setup, if the configured PSCell is in the NR cell denylist, configuration-based EN-DC setup is not continued. Instead, it falls back to measurement-based EN-DC setup so that the EN-DC measurement timer is started.
- In case of LTE mobility without a PSCell change, if the target PSCell is in the NR cell denylist, LTE handover without a PSCell change is not performed.
- In case of EN-DC triggered handovers, if the target PSCell is in the NR cell denylist, the EN-DC setup procedure is not performed to the PSCell in B1 measurement.

Evaluation of Cell for PSCell change on Source Secondary gNodeB

In case of intra-gNodeB PSCell change, it is checked if the value of the

NRCellDU.serviceState attribute in the target cell is in

IN\_SERVICE after the value of

NRCellDU.administrativeState attribute changes to

SHUTTINGDOWN. If the value of the

NRCellDU.serviceState attribute in the target cell is in

IN\_SERVICE after the value of

NRCellDU.administrativeState attribute changes to

SHUTTINGDOWN, the target PSCell is considered as invalid PSCell

change target.

## 3.3 Moving Connected UEs through Handover

After cell handling for the NR Cell Soft Lock feature and the initiation of

preventing UEs from connecting to the shutting down cell, cell offload is performed. It

moves already connected UEs to empty the cell.

The DU sends a gNB-DU Configuration Update message with the private

IE Cells to Offload List to the CU IE over the F1

interface to trigger offloading for the shutting down NR cell. The F1 message also

includes the private maxDuration IE, which includes the value of the

NRCellDU.maxOffloadDurationShutDown attribute to indicate the

duration of the maximum cell offload.

When the CU receives this F1 message, it starts the timer for the duration of cell

offload, and the following functions are executed while the timer is running:

- The CU selects the standalone UEs to cell offload from the NR cell listed in the Cells to Offload List IE. The UE with the OffloadCellProfileUeCfg.cellOffloadPriority attribute set to a value greater than 0 is only considered as a candidate for the UEs to be offloaded. Only one NR cell is included in the IE.
- For the selected standalone UEs, the CU configures the cell offload measurements based on the configuration associated with the UE group at the time of the cell offload measurement configuration. To avoid too much signaling at a time, a pacing mechanism is used to control the number of UEs to be configured for A5 and B1 measurements for cell offload every 2 seconds. When UE selection is performed, if there are no UEs to newly configure measurements for cell offload, it is considered that there are no more standalone UEs to be offloaded. The new MOM attributes based on the UE grouping framework are introduced for cell offload measurement.
- When the CU receives the A5 or B1 measurement report for cell offload, outgoing handover is performed.Note: More than one neighbor cell can be reported by the UE in the A5 or B1 measurement report through configuring the OffloadCellProfileUeCfg.maxReportCells attribute, however, the gNodeB only examines the first reported cell.

The CU stops selecting UEs and configuring measurements for cell offload in the following

cases:

- The timer for the duration of cell offload expires.
- There is no more standalone UE to be offloaded.
- There are no more EN-DC UEs in the NR cell.

If the service protection is enabled, the operator can serve UEs during NR cell soft

lock. For detailed information about service protection, see Service Protection during NR Cell Soft Lock.

## 3.4 Service Protection during NR Cell Soft Lock

UE groups can be configured to protect services during NR cell soft lock.

The NR Cell Soft Lock feature introduces service protection when shutting down a cell,

the operator can serve UEs during locking a cell while reducing the traffic impact.

Emergency call is one example of a service that can be protected.

The following attributes are used to configure service protection:

- For enabling the functionality, the NRCellCU.checkUeGrpAtCellOffload attribute is set to true to activate checking whether there are UEs belonging to a certain UE group,
- The NRCellDU.maxOffloadDurationShutDown attribute is defined to extend longer offload duration. When the NRCellDU.maxOffloadDurationShutDown attribute is set to -1, it allows the operator to serve the UE until the end of the service of the UE.
- The OffloadCellProfileUeCfg.checkForOffloadEnd is used to mark the UE group which is going to be checked before cell offload completion is declared.

When the NRCellCU.checkUeGrpAtCellOffload and the

OffloadCellProfileUeCfg.checkForOffloadEnd attributes are set to

true, it means that the UEs belonging to the associated UE group

are served until the end of time period defined by the

NRCellDU.maxOffloadDurationShutDown attribute to avoid any loss

of the services because of locking a cell.

## 3.5 UE Group Support for Cell Offload and Service Protection

The attributes used by the cell offload function of this feature belong to MO classes

that are adapted to the UE grouping framework.

The following configuration attributes used by the cell offload functionality and service

protection belong to MO classes that are adapted to the UE grouping framework:

- OffloadCellProfileUeCfg.cellOffloadPriority
- OffloadCellProfileUeCfg.checkForOffloadEnd
- OffloadCellProfileUeCfg.maxReportCells
- OffloadCellProfileUeCfg.pCellCandidateTriggerQuantity
- OffloadCellProfileUeCfg.rsrpPCellCandB1AddTargEval
- OffloadCellProfileUeCfg.rsrpPCellCandAddTargEval
- OffloadCellProfileUeCfg.rsrpPCellCandidate
- OffloadCellProfileUeCfg.rsrpPCellCandidateB1
- OffloadCellProfileUeCfg.rsrqPCellCandB1AddTargEval
- OffloadCellProfileUeCfg.rsrqPCellCandAddTargEval
- OffloadCellProfileUeCfg.rsrqPCellCandidate
- OffloadCellProfileUeCfg.rsrqPCellCandidateB1
- OffloadCellProfileUeCfg.sinrPCellCandB1AddTargEval
- OffloadCellProfileUeCfg.sinrPCellCandAddTargEval
- OffloadCellProfileUeCfg.sinrPCellCandidate
- OffloadCellProfileUeCfg.sinrPCellCandidateB1
- OffloadEUtranFreqRelProfileUeCfg.rsrpPCellCandidateB1Offset
- OffloadEUtranFreqRelProfileUeCfg.rsrqPCellCandidateB1Offset
- OffloadEUtranFreqRelProfileUeCfg.sinrPCellCandidateB1Offset
- OffloadNrFreqRelProfileUeCfg.rsrpPCellCandidateOffset
- OffloadNrFreqRelProfileUeCfg.rsrqPCellCandidateOffset
- OffloadNrFreqRelProfileUeCfg.sinrPCellCandidateOffset

The attributes are read from MO instances that are selected based on the UE groups that

the UE belongs to.

The UE group support for this function is controlled by the User- and Service-Specific

Mobility feature. If the license of this feature is not activated, configuration data is

always taken from the Base instances of the MO classes to which the listed attributes

belong. For more information on the feature license activation, see User- and Service-Specific Mobility.

## 3.6 Supported Trigger Quantities for A5 and B1 Measurements

RSRP, RSRQ, or SINR can be configured as the

trigger quantity for the A5 and B1 measurements used by the feature.

The A5 and B1 measurements used by the feature can be based on one of the following

trigger quantities:

- RSRP
- RSRQ
- SINR Note: UEs indicate support for SINR measurements through the following capabilities: The ss-SINR-Meas capability is used by UEs that support SSB-based SINR measurements on NR frequencies. The rs-SINR-MeasEUTRA capability is used by UEs that support reference signal-based SINR measurements on LTE frequencies.

The OffloadCellProfileUeCfg.pCellCandidateTriggerQuantity

attribute defines the trigger quantity used for A5 and B1 measurements.

Table 3   Possible Trigger Quantities for A5 and B1 Measurements

| Value              | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|--------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| RSRP               | RSRP is used as the trigger quantity.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| RSRQ               | RSRQ is used as the trigger quantity.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| SINR_FALLBACK_RSRP | If the UE supports SINR measurements, SINR is used as the                                         trigger quantity.  If the UE does not support SINR measurements for NR                                         frequencies, the feature falls back to use RSRP as the                                         trigger quantity for the A5 measurements.  If the UE does not support SINR measurements for LTE                                         frequencies, the feature falls back to use RSRP as the                                         trigger quantity for the B1 measurements. |
| SINR_FALLBACK_RSRQ | If the UE supports SINR measurements, SINR is used as the                                         trigger quantity.  If the UE does not support SINR measurements for NR                                         frequencies, the feature falls back to use RSRQ as the                                         trigger quantity for the A5 measurements.  If the UE does not support SINR measurements for LTE                                         frequencies, the feature falls back to use RSRQ as the                                         trigger quantity for the B1 measurements. |

A5 measurements can be configured through one of the following attributes, depending

on the selected trigger quantity for the feature:

- OffloadCellProfileUeCfg.rsrpPCellCandidate
- OffloadCellProfileUeCfg.rsrqPCellCandidate
- OffloadCellProfileUeCfg.sinrPCellCandidate

B1 measurements can be configured through one of the following attributes, depending

on the selected trigger quantity for the feature:

- OffloadCellProfileUeCfg.rsrpPCellCandidateB1
- OffloadCellProfileUeCfg.rsrqPCellCandidateB1
- OffloadCellProfileUeCfg.sinrPCellCandidateB1

## 3.7 Additional Target Evaluation of Reported Quantities for A5 and B1 Measurements

The gNodeB can be configured to evaluate reported quantities other than the

trigger quantity that are included in A5 and B1 measurement reports.

The gNodeB can be configured to evaluate a reported quantity included in

the

A5 and B1 measurement report other than the selected trigger

quantity for that measurement. The additional evaluation ensures that the evaluated

quantity is not poor in the target cell.

The attribute used to define the additional reported quantity to be evaluated depends

on the trigger quantity defined for the

measurements.

Table 4   Possible Additionally Evaluated Quantities for A5 and B1

Measurements

| Trigger Quantity   | Attribute                                                                                            | Possible Additionally Evaluated Quantities   |
|--------------------|------------------------------------------------------------------------------------------------------|----------------------------------------------|
| RSRP               | OffloadCellProfileUeCfg.rsrpPCellCandAddTargEval  OffloadCellProfileUeCfg.rsrpPCellCandB1AddTargEval | None     RSRQ     SINR                       |
| RSRQ               | OffloadCellProfileUeCfg.rsrqPCellCandAddTargEval  OffloadCellProfileUeCfg.rsrqPCellCandB1AddTargEval | None     RSRP                                |
| SINR               | OffloadCellProfileUeCfg.sinrPCellCandAddTargEval  OffloadCellProfileUeCfg.sinrPCellCandB1AddTargEval | None     RSRP     RSRQ     RSRP and RSRQ     |

The reported value of the configured additional quantity included in the measurement

report is evaluated against a threshold. The threshold corresponds to the value

required to trigger A5 and B1 measurements if the reported quantity is used as the

trigger quantity. If the value of the reported quantity is lower than or equal to

the threshold value, the reported cell is treated as a cell out of coverage. If the

value of the reported quantity is higher than the threshold value, the reported cell

is considered to be good enough to be a handover target.

For A5 measurements using RSRP as the trigger quantity, the threshold is calculated

through the following method:

1. The following values are summed up: The value of the threshold2 struct member of the OffloadCellProfileUeCfg.rsrpPCellCandidate attribute The value of the hysteresis struct member of the OffloadCellProfileUeCfg.rsrpPCellCandidate attribute The value of the OffloadNrFreqRelProfileUeCfg.rsrpPCellCandidateOffset attribute
2. The value of the NRCellRelation.cellIndividualOffsetNR attribute is subtracted.

For A5 measurements using RSRQ as the trigger quantity, the threshold is calculated

by summing up the following values:

- The value of the threshold2 struct member of the OffloadCellProfileUeCfg.rsrqPCellCandidate attribute
- The value of the hysteresis struct member of the OffloadCellProfileUeCfg.rsrqPCellCandidate attribute
- The value of the OffloadNrFreqRelProfileUeCfg.rsrqPCellCandidateOffset attribute

For A5 measurements using SINR as the trigger quantity, the threshold is calculated

by summing up the following values:

- The value of the threshold2 struct member of the OffloadCellProfileUeCfg.sinrPCellCandidate attribute
- The value of the hysteresis struct member of the OffloadCellProfileUeCfg.sinrPCellCandidate attribute
- The value of the OffloadNrFreqRelProfileUeCfg.sinrPCellCandidateOffset attribute

For B1 measurements using RSRP as the trigger quantity, the threshold is calculated

through the following method:

1. The following values are summed up: The value of the threshold struct member of the OffloadCellProfileUeCfg.rsrpPCellCandidateB1 attribute The value of the hysteresis struct member of the OffloadCellProfileUeCfg.rsrpPCellCandidateB1 attribute The value of the OffloadEUtranFreqRelProfileUeCfg.rsrpPCellCandidateB1Offset attribute
2. The value of the EUtranCellRelation.cellIndividualOffset attribute is subtracted.

For B1 measurements using RSRQ as the trigger quantity, the threshold is calculated

by summing up the following values:

- The value of the threshold struct member of the OffloadCellProfileUeCfg.rsrqPCellCandidateB1 attribute
- The value of the hysteresis struct member of the OffloadCellProfileUeCfg.rsrqPCellCandidateB1 attribute
- The value of the OffloadEUtranFreqRelProfileUeCfg.rsrqPCellCandidateB1Offset attribute

For B1 measurements using SINR as the trigger quantity, the threshold is calculated

by summing up the following values:

- The value of the threshold struct member of the OffloadCellProfileUeCfg.sinrPCellCandidateB1 attribute
- The value of the hysteresis struct member of the OffloadCellProfileUeCfg.sinrPCellCandidateB1 attribute
- The value of the OffloadEUtranFreqRelProfileUeCfg.sinrPCellCandidateB1Offset attribute

# 4 Network Impact of NR Cell Soft Lock

The cell soft lock

procedures reduce the traffic impact by handing over the served standalone UEs to other

cells, and by preventing new UEs from accessing the cell for NG, Xn, and Inter-RAT handover,

and EN-DC.

Capacity and Performance

Due to the increased number of measurements and handover for this feature, the CPU

load might be affected.

Due to handover of already connected UEs in the shutting down cell and rejecting of

incoming traffic, KPIs might be affected.

The following retainability KPIs for the UEs in the cell being shut down are improved

by this feature compared to hard lock:

- Retainability KPIs for NR standalone due to handover performed for the UEs in the shutting down cell
- Retainability KPIs for EN-DC due to more time provided for normal release in the shutting down cell

When the service protection function is enabled, the retainability KPIs for NR

standalone and EN-DC might be improved.

The following retainability KPIs for the UEs in the cell being shut down might be

impacted negatively compared to normal operations:

- Retainability KPIs for NR standalone because mainly NR standalone UEs are remaining after shutting down
- Retainability KPIs for EN-DC because mainly EN-DC UEs are remaining after shutting down

Due to rejecting incoming traffic, the following KPIs in neighboring nodes might be

impacted negatively compared to normal operation:

- Mobility KPIs in neighboring nodes. Handover preparation failure might increase during the shutting down process.
- Integrity and retainability KPIs in neighboring nodes. During the shutting down process, the cell still provides normal services only that it is not accepting new traffic. Therefore, if not handed over to another frequency, UEs on the intra-frequency neighboring cell borders might experience high-level interference.
- Accessibility and mobility KPIs for EN-DC in neighboring node because EN-DC setup and SgNB modification failure might increase during the shutting down process.
- Integrity and retainability KPIs for EN-DC in neighboring nodes. During the shutting down process, the cell still provides normal services but it is not accepting new traffic. Therefore, if not changed to another frequency, UEs on the intra-frequency neighboring cell borders might experience high-level interference.

The number of RRC measurement reports might increase if

additional target evaluation is enabled for measurement reports for traffic offload.

Interfaces

No impact.

Other Network Elements

No impact.

# 5 Parameters for NR Cell Soft Lock

The NR Cell Soft Lock feature

introduces MO classes and parameters to configure the feature.

Table 5   Parameters

| Parameter                                                   | Type       | Description                                                                                                                                                                                               |
|-------------------------------------------------------------|------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| OffloadCellProfile.ueConfGroupType                          | Introduced | See MOM description.                                                                                                                                                                                      |
| OffloadCellProfileUeCfg.cellOffloadPriority                 | Introduced | See MOM description.                                                                                                                                                                                      |
| OffloadCellProfileUeCfg.checkForOffloadEnd                  | Introduced | See MOM description.                                                                                                                                                                                      |
| OffloadCellProfileUeCfg.pCellCandidateTriggerQuantity       | Introduced | See MOM description.                                                                                                                                                                                      |
| OffloadCellProfileUeCfg.prefUeGroupList                     | Introduced | See MOM description.                                                                                                                                                                                      |
| OffloadCellProfileUeCfg.rsrpPCellCandAddTargEval            | Introduced | See MOM description.                                                                                                                                                                                      |
| OffloadCellProfileUeCfg.rsrpPCellCandB1AddTargEval          | Introduced | See MOM description.                                                                                                                                                                                      |
| OffloadCellProfileUeCfg.rsrpPCellCandidate                  | Introduced | See MOM description.                                                                                                                                                                                      |
| OffloadCellProfileUeCfg.rsrpPCellCandidateB1                | Introduced | See MOM description.                                                                                                                                                                                      |
| OffloadCellProfileUeCfg.rsrqPCellCandB1AddTargEval          | Introduced | See MOM description.                                                                                                                                                                                      |
| OffloadCellProfileUeCfg.rsrqPCellCandAddTargEval            | Introduced | See MOM description.                                                                                                                                                                                      |
| OffloadCellProfileUeCfg.rsrqPCellCandidate                  | Introduced | See MOM description.                                                                                                                                                                                      |
| OffloadCellProfileUeCfg.rsrqPCellCandidateB1                | Introduced | See MOM description.                                                                                                                                                                                      |
| OffloadCellProfileUeCfg.sinrPCellCandB1AddTargEval          | Introduced | See MOM description.                                                                                                                                                                                      |
| OffloadCellProfileUeCfg.sinrPCellCandAddTargEval            | Introduced | See MOM description.                                                                                                                                                                                      |
| OffloadCellProfileUeCfg.sinrPCellCandidate                  | Introduced | See MOM description.                                                                                                                                                                                      |
| OffloadCellProfileUeCfg.sinrPCellCandidateB1                | Introduced | See MOM description.                                                                                                                                                                                      |
| OffloadCellProfileUeCfg.ueConfGroupList                     | Introduced | See MOM description.                                                                                                                                                                                      |
| OffloadCellProfileUeCfg.ueGroupList                         | Introduced | See MOM description.                                                                                                                                                                                      |
| OffloadEUtranFreqRelProfileUeCfg.prefUeGroupList            | Introduced | See MOM description.                                                                                                                                                                                      |
| OffloadEUtranFreqRelProfileUeCfg.rsrpPCellCandidateB1Offset | Introduced | See MOM description.                                                                                                                                                                                      |
| OffloadEUtranFreqRelProfileUeCfg.rsrqPCellCandidateB1Offset | Introduced | See MOM description.                                                                                                                                                                                      |
| OffloadEUtranFreqRelProfileUeCfg.sinrPCellCandidateB1Offset | Introduced | See MOM description.                                                                                                                                                                                      |
| OffloadEUtranFreqRelProfile.ueConfGroupType                 | Introduced | See MOM description.                                                                                                                                                                                      |
| OffloadEUtranFreqRelProfileUeCfg.ueConfGroupList            | Introduced | See MOM description.                                                                                                                                                                                      |
| OffloadEUtranFreqRelProfileUeCfg.ueGroupList                | Introduced | See MOM description.                                                                                                                                                                                      |
| OffloadNrFreqRelProfile.ueConfGroupType                     | Introduced | See MOM description.                                                                                                                                                                                      |
| OffloadNrFreqRelProfileUeCfg.prefUeGroupList                | Introduced | See MOM description.                                                                                                                                                                                      |
| OffloadNrFreqRelProfileUeCfg.rsrpPCellCandidateOffset       | Introduced | See MOM description.                                                                                                                                                                                      |
| OffloadNrFreqRelProfileUeCfg.rsrqPCellCandidateOffset       | Introduced | See MOM description.                                                                                                                                                                                      |
| OffloadNrFreqRelProfileUeCfg.sinrPCellCandidateOffset       | Introduced | See MOM description.                                                                                                                                                                                      |
| OffloadNrFreqRelProfileUeCfg.ueConfGroupList                | Introduced | See MOM description.                                                                                                                                                                                      |
| OffloadNrFreqRelProfileUeCfg.ueGroupList                    | Introduced | See MOM description.                                                                                                                                                                                      |
| NRCellCU.offloadCellProfileRef                              | Introduced | See MOM description.                                                                                                                                                                                      |
| NRFreqRelation.offloadNrFreqRelProfileRef                   | Introduced | See MOM description.                                                                                                                                                                                      |
| EUtranFreqRelation.offloadEUtranFreqRelProfileRef           | Introduced | See MOM description.                                                                                                                                                                                      |
| NRCellDU.maxOffloadDurationShutDown                         | Introduced | See MOM description.                                                                                                                                                                                      |
| NRCellCU.checkUeGrpAtCellOffload                            | Introduced | See MOM description.                                                                                                                                                                                      |
| NRCellDU.administrativeState                                | Affecting  | Set this parameter to SHUTTINGDOWN to enable the                                     NR Cell Soft Lock feature.                                                                                           |
| OffloadCellProfileUeCfg.maxReportCells                      | Affecting  | This attribute is used to define the maximum number of the                                     non-serving cells to be included in the A5 and B1 measurement                                     reports. |

# 6 Performance of NR Cell Soft Lock

The NR Cell Soft Lock feature introduces PM counters, and updates KPIs and

events.

KPIs

Table 6   KPIs

| KPI                                                                                                                     | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|-------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| EN-DC Setup Success Rate Captured in gNodeB                                                                             | The KPI might slightly decrease as a result of rejection of EN_DC                                     setup because of the cell shutting down. The KPI might decrease                                     more when longer offload duration is configured.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| NR Handover success rate captured in source gNodeB                                                                      | The KPI might slightly decrease as a result of rejection of                                     handover because of the cell shutting down. The KPI might                                     decrease more when longer offload duration is configured.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| EN-DC inter-sgNodeB PSCell Change success rate captured in                                     gNodeB                   | The KPI might slightly decrease as a result of rejection of                                     PSCell change because of the cell shutting down. The KPI might                                     decrease more when longer offload duration is configured.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| DRB Retainability - Percentage of Active Lost per mapped 5QI,                                     gNodeB triggered only | Compared to hard lock, the KPI in the shutting down cell might                                     decrease as handover is to be performed for all or part of                                     UEs.  Compared to the normal operation, the KPI in the shutting down                                     cell might increase if there are remaining UEs when transiting                                     to hard lock.  The KPI in the shutting down cell might decrease more when longer                                     offload duration is configured. If offloading duration is set to                                         -1, the KPI is similar to the normal                                     option.                                                                                                                                                                                                                                |
| SCG Active Radio Resource Retainability, captured in gNodeB                                                             | Compared to hard lock, the KPI might decrease as the SCG is to be                                     released normally during the shutting down period. The KPI might                                     decrease more when longer offload duration is configured.   Compared to the normal operation, the KPI might increase if the                                     EN-DC UEs are remaining after the shutting down period and                                     released abnormally during hard lock.  If offload duration is set to -1, the KPI is                                     similar to the normal operation.                                                                                                                                                                                                                                                                                                                          |
| DL Packet Loss in gNodeB-CU-UP                                                                                          | For NR SA, compared to the normal operation, the KPI in                                     neighboring cells might increase because of packet loss or drop                                     rate increase, as UEs in other cells that are close to the cell                                     border measure and report this cell. However, the handover is                                     rejected when they stay in the previous cell, probably in a                                     high-interference situation.  For EN-DC, compared to the normal operation, DL Packet Loss in                                     gNodeB-CU-UP in neighboring cells might increase due to packet                                     loss or drop rate increase caused by high level of                                     interference.  The KPI might increase more when longer offload duration is                                     configured. |
| Mobility Success Rate                                                                                                   | This KPI is used for eNodeB.  The KPI might slightly decrease as a result of rejection of                                     handover because of the NR target cell shutting down. The KPI                                     might decrease more when longer offload duration is                                     configured.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| Handover Success Rate                                                                                                   | This KPI is used for eNodeB.  The KPI might slightly decrease as a result of rejection of                                     handover because of the NR target cell shutting down. The KPI                                     might decrease more when longer offload duration is                                     configured.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |

Counters

The NR Cell Soft Lock feature introduces the following counters:

- NRCellCU.pmHoPrepAttOutEutranOffload
- NRCellCU.pmHoPrepAttOutInterGnbOffload
- NRCellCU.pmHoPrepAttOutIntraGnbOffload
- NRCellCU.pmHoPrepSuccOutEutranOffload
- NRCellCU.pmHoPrepSuccOutInterGnbOffload
- NRCellCU.pmHoPrepSuccOutIntraGnbOffload
- NRCellCU.pmHoExeAttOutEutranOffload
- NRCellCU.pmHoExeAttOutInterGnbOffload
- NRCellCU.pmHoExeAttOutIntraGnbOffload
- NRCellCU.pmHoExeSuccOutEutranOffload
- NRCellCU.pmHoExeSuccOutInterGnbOffload
- NRCellCU.pmHoExeSuccOutIntraGnbOffload

The following PM counters are associated with this feature:

- NRCellCU.pmEndcSetupUeRejCellInvalid
- NRCellCU.pmHoPrepRejCellInvalid
- NRCellCU.pmNrdcSetupUeRejCellInvalid

The following EBS counters are associated with this feature:

- pmEbsMeasRepAddTargetEvalFailSa
- pmEbsMeasRepAddTargetEvalSuccSa

For more information on EBS counters, see Lists and Delta Lists.

Events

The following filters are added to the existing PM events by this feature:

- TrafficOffloadType is added to CuCpProcNrHoPrepOut.
- TrafficOffloadType is added to CuCpProcNrHoExeOut.

# 7 Activate Non-License-Controlled Features

Non-license-controlled features do not require manual activation and cannot be

deactivated.

While license-controlled features need to be activated, non-license-controlled features

are activated automatically during node integration. They also do not

have

a software license key associated, which means that they have no

entries in the LKF that is installed on the node.

In some cases, non-license-controlled features need to be configured

manually or have some of

their

subfunctions enabled to work properly.

## 7.1 Enable NR Cell Soft Lock

The feature can be enabled by

changing

the value

of

the NRCellDU.administrativeState

attribute

from UNLOCKED to SHUTTINGDOWN.

# 8 Engineering Guidelines for NR Cell Soft Lock

The NR Cell Soft Lock feature can only be activated manually by setting the

NRCellDU.administrativeState attribute to

SHUTTINGDOWN.

The following table shows how different actions are performed based on different values

of the NRCellDU.administrativeState attribute:

Table 7   State Transitions Based on NRCellDU.administrativeState Values

| From         | To           | Action                                                 |
|--------------|--------------|--------------------------------------------------------|
| UNLOCKED     | LOCKED       | Cell Lock is triggered.                                |
| UNLOCKED     | SHUTTINGDOWN | Cell Soft Lock is triggered.                           |
| SHUTTINGDOWN | LOCKED       | Ongoing cell offload is ended and Cell Lock triggered. |
| SHUTTINGDOWN | UNLOCKED     | Not supported.                                         |
| LOCKED       | SHUTTINGDOWN | Not supported.                                         |
| LOCKED       | UNLOCKED     | Cell Unlock is triggered.                              |

# Appendix A: Feature Change History

This section lists changes that affected this feature and the impact it had on the

network.

## Appendix A.a: 24.Q4.0: Downlink Quality Metric Enhancements for Traffic Offload Features

This feature enhancement

introduces

the option to use downlink RSRQ and SINR as

possible

trigger quantities for the mobility actions triggered by traffic offload

features.

| Feature Name           | NR Booster Carrier Sleep   | NR Cell Soft Lock   | NR Mobility         | NR Traffic Offload   |
|------------------------|----------------------------|---------------------|---------------------|----------------------|
| Feature Identity       | FAJ 121 5625               | FAJ 121 5575        | FAJ 121 5041        | FAJ 121 5680         |
| Value Package Name     | NR Base Package            | NR Base Package     | NR Base Package     | NR Base Package      |
| Value Package Identity | FAJ 801 4002               | FAJ 801 4002        | FAJ 801 4002        | FAJ 801 4002         |
| Node Type              | Baseband Radio Node        | Baseband Radio Node | Baseband Radio Node | Baseband Radio Node  |
| Access Type            | NR                         | NR                  | NR                  | NR                   |
| Impact at Upgrade      | Optional                   | Optional            | Optional            | Optional             |

Summary and Benefits

This feature enhancement introduces the use of RSRQ or SINR as

a

trigger quantity for A5 and B1 measurements used by the

Prohibited

Cell-Triggered Mobility function of

the NR Mobility feature, and the following traffic offload features:

- NR Booster Carrier Sleep
- NR Cell Soft Lock
- NR Traffic Offload

This feature enhancement

enables

performing an additional evaluation of

a reported candidate PCell

through

checking a reported quantity other than the trigger quantity. The additional

evaluation is performed when measurement reports are received for A5 and B1 traffic

offload measurements.

Capacity and

Performance

The number of RRC measurements can increase if the additional target evaluation is

enabled for traffic offload measurement reports.

This feature enhancement might

improve

the following

KPIs:

- NR Handover Execution success rate captured in source gNodeB
- NR-to-LTE Inter-RAT Handover Execution success rate captured in source gNodeB

For more information on KPIs, see Key Performance Indicators.

This feature enhancement

affects

the following EBS counters:

- pmEbsMeasRepAddTargetEvalFailSa
- pmEbsMeasRepAddTargetEvalSuccSa

For more information on EBS counters, see Lists and Delta Lists.

Operation

This feature enhancement introduces the following attributes:

- OffloadCellProfileUeCfg.pCellCandidateTriggerQuantity
- OffloadCellProfileUeCfg.rsrpPCellCandB1AddTargEval
- OffloadCellProfileUeCfg.rsrpPCellCandAddTargEval
- OffloadCellProfileUeCfg.rsrqPCellCandB1AddTargEval
- OffloadCellProfileUeCfg.rsrqPCellCandAddTargEval
- OffloadCellProfileUeCfg.rsrqPCellCandidate
- OffloadCellProfileUeCfg.rsrqPCellCandidateB1
- OffloadCellProfileUeCfg.sinrPCellCandB1AddTargEval
- OffloadCellProfileUeCfg.sinrPCellCandAddTargEval
- OffloadCellProfileUeCfg.sinrPCellCandidate
- OffloadCellProfileUeCfg.sinrPCellCandidateB1
- OffloadEUtranFreqRelProfileUeCfg.rsrqPCellCandidateB1Offset
- OffloadEUtranFreqRelProfileUeCfg.sinrPCellCandidateB1Offset
- OffloadNrFreqRelProfileUeCfg.rsrqPCellCandidateOffset
- OffloadNrFreqRelProfileUeCfg.sinrPCellCandidateOffset

This feature enhancement

modifies

the descriptions of the following attributes:

- OffloadCellProfileUeCfg.rsrpPCellCandidate
- OffloadCellProfileUeCfg.rsrpPCellCandidateB1
- OffloadEUtranFreqRelProfileUeCfg.rsrpPCellCandidateB1Offset
- OffloadNrFreqRelProfileUeCfg.rsrpPCellCandidateOffset

Interfaces

This feature enhancement affects the RRC interface by modifying the

ReportConfig IE for A5 and B1 traffic offload measurements.

Hardware

No specific hardware requirements.

Other Network Elements

It is recommended to use ENM version 24.4 or later to support the

MOM changes introduced by this feature enhancement. If the Release Independence

Manager application is used, the MOM changes are supported on earlier ENM versions

also.

UE support for performing downlink SINR measurements is required to fully benefit

from this feature enhancement.

Related Information

NR Booster Carrier Sleep

NR Cell Soft Lock

NR Mobility

NR Traffic Offload