---
complexity_score: 9.5
converted_at: '2025-08-13T06:58:43.295655Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 2
images_saved: 3
original_path: 152_22104-LZA7016017_1Uen.S.html
pictures_extracted: 2
processing_method: docling_multimodal
quality_score: 9.0
source_file: 152_22104-LZA7016017_1Uen.S.html
source_zip: en_lzn7931071_r38f.zip
tables_extracted: 5
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 2796
---

# 

NR Uplink RRC Message Segmentation

Contents

![Image](../images/152_22104-LZA7016017_1Uen.S/additional_3_CP.png)

![Image](../images/152_22104-LZA7016017_1Uen.S/additional_3_CP.png)

- Overview
- Dependencies
- Feature Operation
- Network Impact
- Parameters
- Performance
- Activate Basic Feature
- Appendix: Feature Change History
    - Appendix: 23.Q4: NR Uplink RRC Message Segmentation UE Grouping Framework Configuration Changes

# 1 NR Uplink RRC Message Segmentation Overview

The feature allows UEs to send capability information larger than the supported size

through uplink RRC message segmentation.

| Feature Name           | NR Uplink RRC Message Segmentation                      |
|------------------------|---------------------------------------------------------|
| Feature Identity       | FAJ 121 5446                                            |
| Value Package Name     | NR Base Package                                         |
| Value Package Identity | FAJ 801 4002                                            |
| Node Type              | Baseband Radio Node                                     |
| Access Type            | NR                                                      |
| Licensing              | Non-license-controlled feature. No license is required. |

Summary

The feature allows UEs capable of RRC message segmentation in uplink to send the RRC

UECapabilityInformation message in segments to the network. Uplink RRC

message segmentation for UE capability information is used if the message size is

larger than the maximum supported PDCP SDU size.

If the encoded RRC UECapabilityInformation message exceeds the maximum

supported size, it is split into segments and sent to the gNodeB as RRC

ULDedicatedMessageSegment messages. When received, the gNodeB decodes

and combines the segmented messages into one RRC

UECapabilityInformation entity.

The benefit of the feature is that the RRC UECapabilityInformation message is

not limited by the underlying PDCP SDU size. This way, more UE capability

information can be reported to the network to use.

Additional Information

More information about related topics can be found in the following

documentation:

3GPP TS 38.331; NR; Radio Resource Control (RRC); Protocol specification

# 2 Dependencies of NR Uplink RRC Message Segmentation

This feature has dependencies with other features related to mobility, services, and

bearers.

Table 1   Feature Dependencies

| Feature Identity                   | Feature Identity   | Access Type   | Relationship   | Relationship Scope   | Description                                                                                                                                                                                                                                                                                                                                                                     |
|------------------------------------|--------------------|---------------|----------------|----------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| NR Standalone                      | (FAJ 121 5060)     | NR            | Related        |                      | With the NR Standalone feature, the UE can send the segmented  RRC UECapabilityInformation message through RRC                                     ULDedicatedMessageSegment messages to the gNodeB at                                 Initial Context Setup or at UE Radio Capability Check.                                                                                   |
| NR Mobility                        | (FAJ 121 5041)     | NR            | Related        |                      | With the NR Mobility feature, the UE can send the segmented                                     RRC UECapabilityInformation message through                                     RRC ULDedicatedMessageSegment messages to the                                 gNodeB at Xn-based or NG-based handovers.                                                                         |
| NR RRC Connection Re-establishment | (FAJ 121 5346)     | NR            | Related        |                      | With the NR RRC Connection Re-establishment feature, in case of                                 inter-gNodeB RRC connection re-establishment, the target gNodeB                                 requires the UE capability information. In this case, the UE can                                 signal the capability information in segments.                                 |
| RRC Inactive State                 | (FAJ 121 5328)     | NR            | Related        |                      | With the RRC Inactive State feature, the UE can send the segmented                                     RRC UECapabilityInformation message through                                     RRC ULDedicatedMessageSegment messages to the                                 gNodeB when the UE switches to RRC_CONNECTED mode from RRC_INACTIVE                                 state. |

Hardware

No specific hardware requirements.

Limitations

The gNodeB supports a maximum of six uplink segments.

Network Requirements

To fully benefit from the feature, the gNodeB requires support from the following

network elements:

- The UE must be capable of RRC message segmentation in the uplink and be compliant with the 16.0.0 or later version of the RRC protocol.
- It is recommended to use ENM version 22.3 or later to support the MOM changes introduced by this feature. If the Release Independence Manager application is used, the MOM changes are supported on earlier ENM versions also.

# 3 Feature Operation of NR Uplink RRC Message Segmentation

The feature allows UEs to send capability information in message segments to the

gNodeB.

The gNodeB encodes the RRC UECapabilityEnquiry message according to UE

group configuration and sends it to the UE.

The UE can send capability information as RRC ULDedicatedMessageSegment

messages to the gNodeB if all of the following conditions apply:

- The gNodeB signals through the RRC UECapabilityEnquiry message that uplink RRC message segmentation is allowed for the UE.
- The UE is capable of uplink RRC message segmentation.
- The encoded RRC UECapabilityInformation message exceeds the maximum supported PDCP SDU size.

Operational Process

Figure 1   UE Capability Transfer Procedure

1. The gNodeB sends the RRC UECapabilityEnquiry message to the UE. If the rrc-SegAllowed-r16 information element is present in the RRC UECapabilityEnquiry message, the UE is allowed to report UE capability information in uplink segments. The UE group configuration shows if the rrc-SegAllowed-r16 information element is encoded in the RRC UECapabilityEnquiry message.
    1. The UE responds with the RRC UECapabilityInformation message if one of the following conditions apply: The size of the encoded RRC UECapabilityInformation message is equal to or smaller than the maximum supported PDCP SDU size. The UE is not capable of uplink RRC message segmentation.
    2. The UE responds with a minimized number of RRC ULDedicatedMessageSegment messages if all the following conditions apply: The size of the encoded RRC UECapabilityInformation message is bigger than the maximum supported PDCP SDU size. The UE is capable of uplink RRC message segmentation.
3. To ensure that the message segments are decoded successfully, each RRC ULDedicatedMessageSegment message is set with a segmentNumber-r16 parameter and an rrc-MessageSegmentType parameter. The starting value of the segmentNumber-r16 parameter is 0. The value increases by one for each message segment, and the maximum value of the parameter is 5. The rrc-MessageSegmentType parameter is set to the value lastSegment if the message is the last segment. For the preceding messages, the parameter is set to the value notLastSegment. The UE sends all segments at once in ascending order to the PDCP layer for transmission.
4. When message segments are received, the gNodeB saves and decodes each segment and combines them back to the original RRC UECapabilityInformation message for decoding.

# 4 Network Impact of NR Uplink RRC Message Segmentation

The feature affects the Initial Context Setup procedure and the Uu

interface.

Capacity and Performance

Minimal CPU load increase can be expected, caused by the decoding and reassembly of

message segments in the gNodeB.

Minimal latency impact can be expected, as the Initial Context Setup procedure might

take longer time to complete.

In poor radio conditions, the risk of dropping the UE connection might increase. This

can be observed as a slight degradation in the UE Context Setup Success Rate

KPI.

Interfaces

Because of the message segmentation used for UE capability information, signaling

over the Uu interface increases.

The feature introduces the RRC ULDedicatedMessageSegment message on

the Uu interface. Each message is set with a segmentNumber-r16

parameter. The starting value of this parameter is 0. The value increases by one for

each message. The maximum value of the parameter is 5. If the message is the last

segment the UE sends, the rrc-MessageSegmentType parameter is

set to lastSegment. For the preceding messages this parameter

is set to notLastSegment.

The RRC UECapabilityEnquiry message is updated with the

rrc-segAllowed-r16 parameter. If the information element is present

in the RRC UECapabilityEnquiry message, the UE is allowed to send UE

capability information in uplink message segments if the encoded RRC

UECapabilityInformation is larger than maximum supported PDCP SDU

size.

Other Network Elements

No impact.

# 5 Parameters for NR Uplink RRC Message Segmentation

This feature introduces MOM attributes to control the enabling and disabling of the

feature for different UE groups.

Table 2   Parameters

| Parameter                                           | Type       | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|-----------------------------------------------------|------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| CapabilityHandling.capabilityHandlingId             | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| CapabilityHandling.ueConfGroupType                  | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| CapabilityHandlingUeCfg.capabilityHandlingUeCfgId   | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| CapabilityHandlingUeCfg.prefUeGroupList             | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| CapabilityHandlingUeCfg.ueConfGroupList             | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| CapabilityHandlingUeCfg.ueGroupList                 | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| CapabilityHandlingUeCfg.ulRrcSegAllowedForUeCapInfo | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| CapabilityHandlingUeCfg.userLabel                   | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| NRFrequency.bandListManual                          | Affecting  | This attribute is used in the UE Capability Enquiry                                 message. The attribute reduces the number of bands requested in the                                     UE Capability Enquiry message by only including                                 specified bands in case of overlapping bands.                                 This reduces the                                 risk to exceed the PDU size limit of RRC uplink                                 segmentation in the UE Capability Information                                 message. |

# 6 Performance of NR Uplink RRC Message Segmentation

The feature introduces PM events and PM counters.

KPIs

This feature has no associated KPIs.

Counters

The following PM counters are introduced to monitor the reception and successful

assembly of the RRC UECapabilityInformation message:

- NRCellCU.pmUeCapabilityInfo
- NRCellCU.pmUeCapabilityInfoSegmented

Events

The feature introduces the following PM events that can be used to monitor the RRC

messaging about UE capability information and the UE capability enquiry

procedure:

- CuCpProcUeCapabilityEnquiry
- CuCpRrcUlDedicatedMessageSegment
- CuCpUlRrcSegmentationEval

The following PM events are used to monitor the RRC messages:

- CuCpRrcUeCapabilityEnquiry
- CuCpRrcUeCapabilityInformation

# 7 Activate Non-License-Controlled Features

Non-license-controlled features do not require manual activation and cannot be

deactivated.

While license-controlled features need to be activated, non-license-controlled features

are activated automatically during node integration. They also do not

have

a software license key associated, which means that they have no

entries in the LKF that is installed on the node.

In some cases, non-license-controlled features need to be configured

manually or have some of

their

subfunctions enabled to work properly.

# Appendix A: Feature Change History

This section lists changes that affected this feature and the impact it had on the

network.

## Appendix A.a: 23.Q4: NR Uplink RRC Message Segmentation UE Grouping Framework Configuration Changes

The CapabilityHandlingUeCfg.ulRrcSegAllowedForUeCapInfo attribute

is deprecated.

| Feature Name           | NR Uplink RRC Message Segmentation   |
|------------------------|--------------------------------------|
| Feature Identity       | FAJ 121 5446                         |
| Value Package Name     | NR Base Package                      |
| Value Package Identity | FAJ 801 4002                         |
| Node Type              | Baseband Radio Node                  |
| Access Type            | NR                                   |
| Impact at Upgrade      | Mandatory                            |

Description of Change

Starting with MTR 23.35 and 23.Q4, the

CapabilityHandlingUeCfg.ulRrcSegAllowedForUeCapInfo attribute

is deprecated. The configuration in the base instance of the

CapabilityHandlingUeCfg MO applies to all instances, even if

those instances have a different setting configured.

Related Information

NR Uplink RRC Message Segmentation