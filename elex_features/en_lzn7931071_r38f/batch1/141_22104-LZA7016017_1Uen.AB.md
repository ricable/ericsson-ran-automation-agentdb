---
complexity_score: 10.5
converted_at: '2025-08-13T06:57:15.606595Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 2
images_saved: 3
original_path: 141_22104-LZA7016017_1Uen.AB.html
pictures_extracted: 2
processing_method: docling_multimodal
quality_score: 9.0
source_file: 141_22104-LZA7016017_1Uen.AB.html
source_zip: en_lzn7931071_r38f.zip
tables_extracted: 7
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 2796
---

# 

NR UE-Assisted Precoding Optimization

Contents

![Image](../images/141_22104-LZA7016017_1Uen.AB/additional_3_CP.png)

![Image](../images/141_22104-LZA7016017_1Uen.AB/additional_3_CP.png)

- Overview
- Dependencies
- Feature Operation
- Network Impact
- Parameters
- Performance
- Activate the Feature
- Deactivate the Feature
- Appendix: Feature Change History
    - Appendix: 24.Q2.0: Additional Radio Support for UE-Assisted Precoding Optimization

# 1 NR UE-Assisted Precoding Optimization Overview

The feature mitigates NR performance degradation by compensating antenna phase

distortion and time delay.

| Feature Name           | NR UE-Assisted Precoding Optimization                              |
|------------------------|--------------------------------------------------------------------|
| Feature Identity       | FAJ 121 5465                                                       |
| Value Package Name     | Performance Boost                                                  |
| Value Package Identity | FAJ 801 4021                                                       |
| Node Type              | Baseband Radio Node                                                |
| Access Type            | NR                                                                 |
| Licensing              | License-controlled feature. One license is required for each node. |

Summary

Among the four antennas in a 4TX/4RX radio, two antennas are of one polarization and the other

two antennas are of the other polarization. The beams of these two polarizations are

generally not aligned. The feature estimates and compensates antenna phase

distortion and time delay for 4TX/4RX radios providing NR services, so that the two

beams of different polarizations are aligned. This mitigates NR performance

degradation caused by phase distortion and time delay in uncalibrated antennas.

An assistant UE is chosen periodically and reconfigured for PMI collection.

# 2 Dependencies of NR UE-Assisted Precoding Optimization

The feature is applicable for 4TX/4RX radios and has limitations.

Table 1   Feature Dependencies

| Feature Name                                                                              | Feature Identity   | Access Type   | Relationship   | Relationship Scope   | Description                                                                                                                                                                                                                                                                                                                                                                                         |
|-------------------------------------------------------------------------------------------|--------------------|---------------|----------------|----------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| NR Downlink-Only Cell Support for Carrier                                     Aggregation | FAJ 121 5783       | NR            | Conflicting    | Cell-level conflict  | The NR UE-Assisted Precoding Optimization feature                             is not supported in downlink-only cells. The                                 NrSectorCarrier.ueAssistedPrecodingOptEnabled                             attribute must be set to false for low-band cells if                             the NrSectorCarrier.txDirection is set to                                 DL. |
| NR Combined Cell                                                                          | FAJ 121 5554       | NR            | Conflicting    | Cell-level conflict  | The NR UE-Assisted Precoding Optimization and the NR Combined             Cell features cannot be used together because multiple radios transmit CSI-RS             simultaneously in combined cells.                                                                                                                                                                                               |

Hardware

The feature only supports 4TX/4RX radios and does not support omnidirectional

antennas.

The feature does not support combining two 4TX/4RX FDD radio units as a 4TX/8RX FDD

configuration.

Limitations

- The feature does not support CSI-RS periodicity above 40 ms.
- The feature does not support CSI-RS periodicity below 20 slots in TDD cells.
- The feature does not support CSI-RS shifting.
- The feature might not improve system performance if the antenna time delay is higher than 43 ns in the following types of cells: Mid-Band cells with bandwidths larger than or equal to 60 MHz
- The feature does not support antenna muting.
- The feature does not support Radio Gateway configurations.

Network Requirements

It is required to use ENM version 23.04 or later to support the MOM changes

introduced by this feature.

# 3 Feature Operation of NR UE-Assisted Precoding Optimization

This feature introduces UE-assisted precoding optimization for 4TX/4RX radios to avoid

degraded performance caused by unequal phase distortions in uncalibrated antennas. The

feature estimates the phase distortions and time delays, and performs phase offset

compensation accordingly.

Antenna Calibration Event

1. An assistant UE is chosen by the network and configured to use two-port CSI-RS and to report rank 1 subband PMIs.
2. The gNodeB transmits two-port CSI-RS.
3. The assistant UE reports subband PMI.
4. Phase distortions and time delays are estimated from the reports.
5. The assistant UE is reconfigured to four-port CSI-RS.
6. Phase offset compensation is performed.

Figure 1   Antenna Calibration Event

The time gap between two NR UE-Assisted Precoding Optimization events is configurable

through the NRSectorCarrier.ueAssistedPrecodingOptTimeGap

attribute. The antenna calibration event estimates and compensates for the antenna

phase difference and time delay. Based on measurements performed by the assistant

UE, precoding optimization is used to avoid performance degradation caused by

unequal phase distortions in uncalibrated antennas.

Assistant UE Selection

The assistant UE must be in a PCell and it must be configured in the following way to

avoid unexpected service quality issues:

- NR-UE assisted precoding is disabled for VoNR UEs.
- NR-UE assisted precoding is disabled for Critical Communication services UEs.

The assistant UE is reconfigured with two-port CSI-RS and limited to rank 1, so its

performance is degraded during the PMI collection process.

VoNR and Critical Communication services UEs must be configured with NR UE-Assisted

Precoding Optimization disabled through UE Grouping Framework,

SoftAcAssistUeCfg MO.

# 4 Network Impact of NR UE-Assisted Precoding Optimization

The feature can improve throughput and spectral efficiency by compensating antenna

phase distortion and time delay.

Capacity and Performance

The feature compensates gNodeB antenna phase distortion and time delay, and aligns

the two beams from the two pairs of antennas that have different polarizations. This

improves NR performance, including throughput and spectral efficiency, especially in

poor to medium channel quality.

CQI might improve, and as a consequence, downlink BLER might also increase

marginally.

The assistant UE is reconfigured with two-port CSI-RS and limited to rank 1, so its

performance is degraded during the PMI collection process. The performance change of

the assistant UE is related to the overall cell performance, and it has less impact

on the network when there are more NR UEs in the cell.

Interfaces

No impact.

Other Network Elements

No impact.

# 5 Parameters for NR UE-Assisted Precoding Optimization

The feature introduces attributes to enable or disable the feature and to check the

status of the feature. CSI-RS periodicity must be set to a specific value to avoid longer

antenna calibration cycles.

Table 2   Parameters

# 6 Performance of NR UE-Assisted Precoding Optimization

This feature introduces PM counters to observe the feature performance.

KPIs

This feature has no associated KPIs.

Counters

The feature introduces the following PM counters:

- NRSectorCarrier.pmUeAssistedPrecodingOptCalibrated
- NRSectorCarrier.pmUeAssistedPrecodingOptCalibratedUpdating
- NRSectorCarrier.pmUeAssistedPrecodingOptNoUpdate

Events

This feature has no associated events.

# 7 Activate NR UE-Assisted Precoding Optimization

To use the feature, it must be activated following the usual feature activation

procedure.

Prerequisites

- The license key is installed in the node.
- CCTR is active for at least one week before this procedure to collect enough troubleshooting data.
- Two-port CSI-RS and four-port CSI-RS are configured on the node.

Steps

1. Set the FeatureState.featureState attribute to ACTIVATED in the FeatureState=CXC4012610 MO instance.
2. Set the NRCellDU.administrativeState attribute to LOCKED.
3. Set the NRSectorCarrier.administrativeState attribute to LOCKED.
4. Set the NRSectorCarrier.ueAssistedPrecodingOptEnabled attribute to TRUE.
5. Set the NRSectorCarrier.administrativeState attribute to UNLOCKED.
6. Set the NRCellDU.administrativeState attribute to UNLOCKED.

Results

The value of the NRSectorCarrier.ueAssistedPrecodingOptStatus

attribute is ACTIVE\_NO\_UPDATE.

After This Task

Keep CCTR active for at least one week after this procedure for continued collection of troubleshooting data.

# 8 Deactivate NR UE-Assisted Precoding Optimization

If the feature is no longer needed, it can be deactivated following the usual

feature deactivation procedure. It must also be deactivated before the activation of any

conflicting feature.

Prerequisites

- CCTR is active for at least one week before this procedure to collect enough troubleshooting data.

Steps

1. Set the NRSectorCarrier.administrativeState attribute to LOCKED.
2. Set the NRSectorCarrier.ueAssistedPrecodingOptEnabled attribute to FALSE.
3. Set the NRSectorCarrier.administrativeState attribute to UNLOCKED.
4. Set the FeatureState.featureState attribute to DEACTIVATED in the FeatureState=CXC4012610 MO instance.

Results

The value of the NRSectorCarrier.ueAssistedPrecodingOptStatus

attribute is INACTIVE.

After This Task

Keep CCTR active for at least one week after this procedure for continued collection of troubleshooting data.

# Appendix A: Feature Change History

This section lists changes that affected this feature and the impact it had on the

network.

## Appendix A.a: 24.Q2.0: Additional Radio Support for UE-Assisted Precoding Optimization

This feature enhancement improves observability, provides additional support for

8TX/8RX radio units and 2x2TX/2RX cascading radio units, as well as optimization for

assistant UE.

| Feature Name           | NR UE-Assisted Precoding Optimization   |
|------------------------|-----------------------------------------|
| Feature Identity       | FAJ 121 5465                            |
| Value Package Name     | Performance Boost                       |
| Value Package Identity | FAJ 801 4021                            |
| Node Type              | Baseband Radio Node                     |
| Access Type            | NR                                      |
| Impact at Upgrade      | Optional                                |

Summary and Benefits

This feature enhancement provides the following benefits:

- Support for cascaded and non-cascaded 2x4TX/4RX radio units in non-Radio Gateway configurations
- Support for 2x2TX/2RX cascaded radio unit used as 4TX/4RX cells in cascade
- Support for 2x2TX/2RX cascaded radio unit used as 4TX/4RX cells in a non-Radio Gateway configuration
- Additional antenna calibration mode
- Observability and optimization for assistant UE

Radio Gateway is not supported.

The additional antenna calibration mode estimates and compensates the antenna phase

difference and time delay. Based on measurements performed by the assistant UE,

precoding optimization is used to avoid degraded performance caused by unequal phase

distortions in uncalibrated antennas.

This feature enhancement refines assistant UE selection procedure to improve the

accuracy of the calibration.

Capacity and Performance

The feature enhancement improves performance by refining assistant UE selection.

Operation

With this feature enhancement, an additional antenna calibration event mode is added

to identify normal and abnormal estimation and apply different compensation

strategies.

The number of PMI reports collected from assistant UE is increased to reduce

estimation error. Collected PMI reports are used to generate the estimated phase

difference and time delay. The generated estimates are used for antenna calibration

compensation.

The following attributes are updated to account for 2TX/2RX and 4TX/4RX radios:

- AntennaSubunit.customComChBeamfrmWtsAmplitude
- AntennaSubunit.customComChBeamfrmWtsPhase

The following PM counters are updated:

- NRSectorCarrier.pmUeAssistedPrecodingOptCalibrated
- NRSectorCarrier.pmUeAssistedPrecodingOptCalibratedUpdating
- NRSectorCarrier.pmUeAssistedPrecodingOptNoUpdate

Interfaces

No impact.

Hardware

No specific hardware requirements.

Other Network Elements

No impact.

Related Information

Additional Radio Support for UE-Assisted Precoding Optimization