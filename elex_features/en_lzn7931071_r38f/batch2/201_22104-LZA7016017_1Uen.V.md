---
complexity_score: 18.5
converted_at: '2025-08-13T06:57:55.149281Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 4
images_saved: 3
original_path: 201_22104-LZA7016017_1Uen.V.html
pictures_extracted: 4
processing_method: docling_multimodal
quality_score: 9.0
source_file: 201_22104-LZA7016017_1Uen.V.html
source_zip: en_lzn7931071_r38f.zip
tables_extracted: 21
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 2796
---

# 

NR Data-Aware Mobility

Contents

![Image](../images/201_22104-LZA7016017_1Uen.V/additional_3_CP.png)

![Image](../images/201_22104-LZA7016017_1Uen.V/additional_3_CP.png)

- Overview
- Dependencies
- Feature Operation
    - Operation of Downlink RLC Buffer Monitoring for NR Data-Aware Mobility
    - Operation of Throughput Monitoring
    - UE Group Handling in NR Data-Aware Mobility
    - Interaction with Other Features
- Network Impact
- Parameters
- Performance
- Activate the Feature
- Deactivate the Feature
- Engineering Guidelines
    - Configure NR Data-Aware Mobility
        - Configuration Management of NR Data-Aware Mobility
        - Optimization Options
    - Recommended Configuration for Downlink RLC Buffer Monitoring
    - Recommended Configuration for Throughput Monitoring
    - Recommended Configuration for Data-Aware Carrier Management

# 1 NR Data-Aware Mobility Overview

This feature enables mobility actions from NR standalone to LTE for UEs that experience

low performance.

| Feature Name           | NR Data-Aware Mobility                                             |
|------------------------|--------------------------------------------------------------------|
| Feature Identity       | FAJ 121 5696                                                       |
| Value Package Name     | Intelligent Traffic Management and Mobility                        |
| Value Package Identity | FAJ 801 4022                                                       |
| Node Type              | Baseband Radio Node                                                |
| Access Type            | NR                                                                 |
| Licensing              | License-controlled feature. One license is required for each node. |

Summary

This feature allows for mobility actions to be triggered for UEs that experience low

performance. UEs that experience low performance are moved from the NR standalone

network to the LTE network, which can increase UE performance and decrease load in

the NR cell.

UE mobility is triggered if one of the following conditions is fulfilled:

- High downlink RLC buffer age or packet volume
- Low downlink and uplink restricted Medium Access Control (MAC) throughput

This feature works together with the Bandwidth-Triggered Inter-System Handover function of the

NR Traffic Steering feature. If the Bandwidth-Triggered Inter-System Handover

function is enabled in the node, the aggregated bandwidth threshold provided by the

function is used for this feature.

Additional Information

For more information on the Bandwidth-Triggered Inter-System Handover function, see NR Traffic Steering.

Handover procedures through the N26 interface are described in 3GPP TS

23.502.

# 2 Dependencies of NR Data-Aware Mobility

This feature has dependencies to other features and requirements for other network

elements.

Feature Dependencies

Table 1   Feature Dependencies

![Image](../images/201_22104-LZA7016017_1Uen.V/additional_3_CP.png)

![Image](../images/201_22104-LZA7016017_1Uen.V/additional_3_CP.png)

| Feature                                                                             | Feature Identity   | Access Type   | Relationship   | Relationship Scope      | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|-------------------------------------------------------------------------------------|--------------------|---------------|----------------|-------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Incoming NR IRAT Handover                                                           | FAJ 121 5118       | LTE           | Prerequisite   | Node-level prerequisite | The Incoming NR IRAT Handover feature must be active in the             target LTE cell for mobility actions to that LTE cell to be successful.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Basic Voice over NR                                                                 | FAJ 121 5219       | NR            | Related        |                         | It is recommended to avoid using NR Data-Aware Mobility for             VoNR. However, the NR Data-Aware Mobility feature can be configured specifically for             VoNR users with support from the UE Grouping Framework feature.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| Data-Aware Carrier Management                                                       | FAJ 121 5410       | NR            | Related        |                         | It is recommended to configure the Data-Aware Carrier             Management feature to activate the SCells before the NR Data-Aware Mobility feature             triggers mobility actions for the UE.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| EPS Fallback for IMS Voice                                                          | FAJ 121 5059       | NR            | Related        |                         | When the UE is configured with the measurements for EPS fallback in the EPS             Fallback for IMS Voice feature, all other existing measurement configurations are             removed from the UE.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| NR-NR Dual Connectivity                                                             | FAJ 121 5380       | NR            | Related        |                         | If both the NR Data-Aware Mobility and the NR-NR Dual                 Connectivity features are active in the same node with downlink RLC buffer                 monitoring enabled, the buffer monitoring of the NR Data-Aware Mobility feature can                 be blocked by the buffer monitoring of the NR-NR Dual Connectivity feature. To avoid                 this, it is required to configure lower buffer monitoring thresholds for the NR-NR                 Dual Connectivity feature than for the NR Data-Aware Mobility feature.  If NR-DC is enabled in the PCell, the Dynamic Cell Set Change during Mobility                 function of the NR Traffic Steering feature must also be enabled to allow the                 evaluation of the NR-DC-capable UE performed by the NR Data-Aware Mobility feature.                 The evaluation occurs at the expiry of the periodic interval for the Dynamic Cell                 Set Change during Mobility function. If the UE is already configured with a                 Secondary Node in NR-DC the evaluation for the NR Data-Aware Mobility feature is not                 performed. |
| NR Booster Carrier Sleep                                                            | FAJ 121 5625       | NR            | Related        |                         | If the NR Data-Aware Mobility feature and the NR Booster             Carrier Sleep feature are both active, there is an increased probability for UEs to be             moved to LTE when the booster carrier is in sleep mode.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| NR Coverage-Triggered NR Session                                         Continuity | FAJ 121 4983       | LTE           | Related        |                         | The NR Data-Aware Mobility feature moves the UE from                     NR to LTE. When the UE is moved to LTE from NR Standalone by the NR Data-Aware                     Mobility feature and the                         ENodeBFunction.mobilityBackToNrFreqDisabled attribute is                     set to a value other than 0, the affected NR frequency is                     blocked from connected mode and idle mode mobility. If the                         ENodeBFunction.mobilityBackToNrFreqDisabled attribute is                     set to 0, to avoid an immediate RwR or handover from LTE to NR,                     it is preferred that the UE establishes EN-DC instead. The                         UeMeasControl.waitForStartNRMeas attribute must be set to                     a value that gives the UE enough time to establish EN-DC before measurements                     that are used to trigger RwR from LTE to NR are started on NR frequencies.                                                                                                                                                                           |
| NR DL Carrier Aggregation                                                           | FAJ 121 5201       | NR            | Related        |                         | If the configuration of the NR DL Carrier Aggregation feature             changes because of a UE group change, and B2 measurements triggered by the NR Data-Aware             Mobility feature are             ongoing,             the B2 measurements are removed from the UE.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| NR Massive MIMO Sleep Mode                                                          | FAJ 121 5094       | NR            | Related        |                         | If the NR Data-Aware Mobility feature and the NR Massive MIMO             Sleep Mode feature are both active, there is an increased probability for UEs to be             moved to LTE when the booster carrier is in MIMO sleep mode.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| NR Mobility                                                                         | FAJ 121 5041       | NR            | Related        |                         | The NR Data-Aware Mobility feature does not perform any             mobility to LTE when the UE is in the Search Zone of the Mobility Control at Poor             Coverage function. While in the Search Zone, no new monitoring for downlink RLC buffer             or throughput is started for the UE.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| NR Remote Interference                                     Management               | FAJ 121 5514       | NR            | Related        |                         | If the NR Data-Aware Mobility feature and the NR Remote             Interference Management feature are used for the same carrier, the NR Data-Aware             Mobility feature can trigger a mobility action for the UE to LTE frequencies before the             NR Remote Interference Management feature.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| NR Traffic Steering                                                                 | FAJ 121 5458       | NR            | Related        |                         | To prioritize NR over LTE, monitoring by the NR Data-Aware             Mobility feature is triggered after the MLC procedure during the Multi-Layer             Coordination and the Dynamic Cell Set Change during Mobility functions. The NR             Data-Aware Mobility feature can be used with or without the Bandwidth-Triggered             Inter-System Handover function being active in the node.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| NR Uplink Carrier Aggregation                                                       | FAJ 121 5583       | NR            | Related        |                         | If the configuration of the NR Uplink Carrier Aggregation             feature changes because of a UE group change, and B2 measurements triggered by the NR             Data-Aware Mobility feature are             ongoing,             the B2 measurements are removed from the UE.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Outgoing NR IRAT Handover                                                           | FAJ 121 5377       | LTE           | Related        |                         | The NR Data-Aware Mobility feature moves the UE from NR                 to LTE. When the UE is moved to LTE from NR Standalone by the NR Data-Aware Mobility                 feature and                 the ENodeBFunction.mobilityBackToNrFreqDisabled attribute is set                 to a value other than 0, the affected NR frequency is blocked from                 connected mode and idle mode mobility. If                     the ENodeBFunction.mobilityBackToNrFreqDisabled attribute is                 set to 0, to avoid an immediate RwR from LTE to NR, it is preferred                 that the UE establishes EN-DC instead.                     The UeMeasControl.waitForStartNRMeas attribute must be set to                 a value that gives the UE enough time to establish EN-DC before measurements that                 are used to trigger RwR from LTE to NR are started on NR frequencies.                                                                                                                                                                                                                                       |
| User- and Service-Specific                                     Mobility             | FAJ 121 5399       | NR            | Related        |                         | The User- and Service-Specific Mobility feature provides UE grouping support for the                 NR Data-Aware Mobility feature. The User- and Service-Specific Mobility feature                 allows for the application of the configuration data, which is defined in UE                 group-specific instances of the following MO classes, specifically for the NR                 Data-Aware Mobility feature:  TrStSaCellProfileUeCfg     TrStSaEUtranFreqRelProfileUeCfg     UeMCEUtranFreqRelProfileUeCfg     If the User- and Service-Specific Mobility feature is not active, the                 configuration data is applied as defined in the Base instance of                 the MO classes.                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| NR Massive MIMO Eco Mode                                                            | FAJ 121 5724       | NR            | Related        |                         | If the NR Data-Aware Mobility feature and the NR Massive MIMO             Eco Mode feature are actived at the same time, there is an increased probability for UEs             to be moved to LTE when the booster carrier is in sleep mode.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| NR Flexible Channel Bandwidth                                                       | FAJ 121 5264       | NR            | Conflicting    | Partially impaired      | If the NR Data-Aware Mobility feature is used together with the Bandwidth-Triggered             Inter-System Handover function of the NR Traffic Steering feature, the available cell             set bandwidth calculation does not consider the bandwidth reduction due to blanked             CRBs.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| NR Reduced UE Bandwidth Support                                                     | FAJ 121 5442       | NR            | Conflicting    | Partially impaired      | If the NR Data-Aware Mobility feature is used together with the Bandwidth-Triggered             Inter-System Handover function of the NR Traffic Steering feature, the available cell             set bandwidth calculated by the Bandwidth-Triggered Inter-System Handover function             considers the full carrier bandwidth for the UE, regardless of the UE using F-BWP or             P-BWP.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| NR PCI Conflict Reporting                                                           | FAJ 121 5621       | NR            | Related        |                         | When a B2 measurement report generated by the NR Data-Aware Mobility feature that contains a cell potentially in PCI conflict is received, an ECGI measurement can be triggered to find other PCI conflicted cells.  When a B2 measurement report generated by the NR Data-Aware Mobility feature that contains a cell in PCI conflict is received, the following types of handover can be triggered:  CGI hit rate-based handover     ECGI measurement-based handover     Manual configuration-based handover                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |

Hardware

No specific hardware requirements.

Limitations

No known limitations.

Network Requirements

This feature requires support from the following Network Elements:

# 3 Feature Operation of NR Data-Aware Mobility

This feature triggers handover to LTE networks for UEs that report low performance in

the NR standalone network.

NR Data-Aware Mobility

The NR Data-Aware Mobility feature is intended to be used in locations where NR

Standalone and LTE coexist. The feature provides configurable triggers that can be

used both separately and together for flexible UE mobility from NR Standalone to LTE

if the UE experiences poor performance in the NR standalone network. UE performance

can be affected by the distance from the antenna or the amount of traffic in the

cell.

The feature introduces the following triggers for UE mobility:

- High downlink RLC buffer age or packet volume
- Low downlink and uplink restricted Medium Access Control (MAC) throughput

The triggers can be combined with the available cell set bandwidth threshold and the

configurable B2 IRAT traffic steering measurement thresholds. These thresholds are

provided by the Bandwidth-Triggered Inter-System Mobility function of the NR Traffic

Steering feature to target UEs selectively for mobility to LTE. The NR Data-Aware

Mobility feature does not consider the capacity of the layers in the LTE network.

However, the available frequencies can be prioritized to prefer mobility to a

specific layer if the layer is in coverage.

When the traffic load increases in the cells used by the UE, the downlink RLC buffer

and the throughput for the UE can be affected, which results in reaching the

threshold for UE mobility. The UE moving away from the antenna can also cause higher

downlink RLC buffer packet volumes and reduced throughput.

Figure 1   Operating Conditions of NR Data-Aware Mobility

The NR Data-Aware Mobility feature is intended to be used on NR coverage layers, as

UEs on the coverage layers can experience poor performance. However, it is possible

to use the feature in other conditions as well. UEs on NR capacity layers that have

high load can also benefit from mobility to LTE networks. The feature can also be

used to offload coverage layers selectively to allow more capacity for other UEs

intended to stay in the NR standalone network on the coverage layer.

Evaluation to Start NR Data-Aware Mobility

When the UE connects to the cell from idle or inactive state, the gNodeB triggers the

NR Data-Aware Mobility feature after the Multi-Layer Coordination function of the NR

Traffic Steering feature finishes. The feature is also triggered periodically if

periodic Multi-Layer Coordination is enabled in the Dynamic Cell Set Change during

Mobility function.

If downlink RLC or uplink buffer monitoring is enabled for NR-DC, the NR Data-Aware

Mobility feature is not triggered for the UE capable of NR-DC.

When the NR Data-Aware Mobility feature is triggered, the monitoring procedure starts

with the configured thresholds, and mobility actions are considered if a monitoring

report is received.

Operational Process of NR Data-Aware Mobility

Figure 2   Operational Sequence Diagram of NR Data-Aware Mobility

1. When the Multi-Layer Coordination procedure finishes, the gNodeB triggers the NR Data-Aware Mobility feature. For more information on the Multi-Layer Coordination function, see NR Traffic Steering.
2. The gNodeB evaluates if monitoring for the UE can be started by the feature. The following conditions must be fulfilled to start the monitoring procedure: The NR Data-Aware Mobility feature is activated. At least one type of monitoring by the NR Data-Aware Mobility feature is configured for the UE. NR-DC is not established for the UE. The UE is not in the Search Zone of the Mobility Control at Poor Coverage function of the NR Mobility feature. No IRAT traffic steering inter-system mobility measurements are configured for the UE. If the Bandwidth-Triggered Inter-System Handover function of the NR Traffic Steering feature is enabled, the available bandwidth must be equal to or below the configured threshold. For more information on the Bandwidth-Triggered Inter-System Handover function, see NR Traffic Steering.
3. The gNodeB checks and starts the types of monitoring configured for the UE. The following types of monitoring can be configured: Downlink Radio Link Control (RLC) buffer Downlink throughput Uplink throughput Note: It is possible to configure all monitoring types to run simultaneously for the UE.
4. If downlink RLC or uplink buffer monitoring is ongoing for the UE in NR-DC, the buffer monitoring function of the NR Data-Aware Mobility feature is not started. If downlink RLC or uplink buffer monitoring is enabled for NR-DC, the NR Data-Aware Mobility feature is not triggered for the UE capable of NR-DC. For more information about NR-DC downlink RLC buffer monitoring, see NR-NR Dual Connectivity.
5. If any of the monitored buffer values exceeds the configured threshold, or if any of the monitored downlink or uplink throughput values are below the defined throughput threshold, the gNodeB performs the following actions: The gNodeB stops the monitoring type corresponding to the threshold. The gNodeB initiates the IRAT traffic steering measurement procedure for the UE. For more information about the IRAT traffic steering measurement procedure, see NR Traffic Steering. The following conditions are checked before the IRAT traffic steering measurement procedure starts: No IRAT traffic steering inter-system mobility measurements are configured for the UE. NR-DC is not established for the UE. The UE is not in the Search Zone of the Mobility Control at Poor Coverage function of the NR Mobility feature. If the Bandwidth-Triggered Inter-System Handover function of the NR Traffic Steering feature is enabled, the available bandwidth must be equal to or below the configured threshold. For more information on the Bandwidth-Triggered Inter-System Handover function, see NR Traffic Steering.
6. The IRAT traffic steering evaluation to start monitoring is repeated periodically for UEs connected to the cell if the Dynamic Cell Set Change during Mobility function of the NR Traffic Steering feature is enabled in the cell. For more information on the Dynamic Cell Set Change during Mobility function, see NR Traffic Steering.

## 3.1 Operation of Downlink RLC Buffer Monitoring for NR Data-Aware Mobility

The NR Data-Aware Mobility feature monitors downlink RLC buffer use to trigger

mobility actions for UEs.

The feature monitors downlink RLC buffer use by the UE based on the following

thresholds:

- The age of the oldest SDU packet in the RLC queue. This threshold can be configured through the TrStSaCellProfileUeCfg.dataAwareMobDlPktAgeThr attribute.
- The volume of the packets in the RLC queue. This threshold can be configured through the TrStSaCellProfileUeCfg.dataAwareMobDlPktVolThr attribute.

If only one of the threshold attributes is configured to have a value higher than

0, the downlink RLC buffer monitoring procedure is started. When

the configured threshold is exceeded, the IRAT traffic steering measurement procedure is

triggered.

If both threshold attributes are configured to have a value higher than

0, the downlink RLC buffer monitoring procedure is started. When

both configured thresholds are exceeded, the IRAT traffic steering measurement procedure

is triggered.

Downlink RLC buffer monitoring applies to all DRBs of the UE. If the downlink RLC buffer

monitoring threshold is reached for one DRB of the UE, the monitoring process is stopped

for all other DRBs for that UE, and the IRAT traffic steering measurement procedure is

triggered.

## 3.2 Operation of Throughput Monitoring

The throughput monitoring procedure, consisting of throughput filtering and

throughput monitoring, is triggered every second.

Adjustable Parameters of Throughput Filtering

Throughput monitoring by the NR Data-Aware Mobility feature uses PM event data for

Medium Access Control (MAC) throughput restricted by the air interface. The time and

volume data in the gNodeB for the restricted MAC throughput is sampled every second.

Downlink throughput data is sampled for each DRB, and uplink throughput data is

sampled for the UE. The following calculations are used for downlink time and volume

samples:

- DlTime=MacTimeDlDrb-MacOverlapTimeDlDrbExtSCell
- DlVol=MacVolDlDrb+MacVolDlDrbOverlapLastSlot

The following calculations are used for uplink time and volume samples:

- UlTime=MacTimeUlResUe
- UlVol=MacVolUlResUe

The time and volume samples are also used by the following PM counters:

- NRCellDU.pmMacOverlapTimeDlDrbExtSCell
- NRCellDU.pmMacTimeDlDrb
- NRCellDU.pmMacTimeUlResUe
- NRCellDU.pmMacVolDlDrb
- NRCellDU.pmMacVolDlDrbOverlapLastSlot
- NRCellDU.pmMacVolUlResUe

The PM event data is processed through a throughput filtering algorithm to reduce the

impact from data bursts. This improves the reliability of the throughput data.

The throughput filtering algorithm is configured separately for downlink and uplink

throughput. The following attributes are used to configure the algorithm:

- The TrStSaCellProfile.dataAwareMobDlThpFilterCoeff and the TrStSaCellProfile.dataAwareMobUlThpFilterCoeff attributes are used to configure the filter coefficient.
- The TrStSaCellProfile.dataAwareMobDlThpFilterTime and the TrStSaCellProfile.dataAwareMobUlThpFilterTime attributes are used to configure the filter time.
- The TrStSaCellProfile.dataAwareMobDlLowThpDuration and the TrStSaCellProfile.dataAwareMobUlLowThpDuration attributes are used to configure the filter duration.

The filter coefficient defines a smoothing factor in the exponential filtering of the

downlink and uplink throughput samples. The filtered throughput is calculated as the

filtered volume divided by the filtered time. A high value set for the filter

coefficient introduces inertia for quick changes in the throughput samples.

Figure 3 shows an example of filtered

throughput values calculated using different filter coefficient values.

Figure 3   Example of Filtered Throughput

The filter time is defined as the time period that must be exceeded by the filtered

time data for a throughput calculation to be performed. The filter time is used to

ensure that the air interface is the bottleneck for the UE performance. A higher

value configured for the filter time results in improved accuracy of the throughput

monitoring procedure for the UE.

If the filter time is set to 1,000 ms, the throughput buffer is

continuously full during the one-second evaluation period. If the filter time is set

to 0 ms, the throughput calculation is performed independently from

the filtered time value, which can increase the probability of triggering

unnecessary IRAT inter-system mobility.

The filter duration is defined as the number of consecutive one-second samples

required for throughput monitoring if the threshold for low throughput is exceeded.

The filter duration can be set to a value of 1-10 s to mitigate

data bursts with lower frequencies.

Configuration of Throughput Monitoring

Throughput filtering is started when the UE connects to the cell to allow enough time

for the exponential filtering algorithm to smooth the data before throughput

monitoring starts for the UE. This improves the accuracy of the throughput

monitoring results, especially when throughput monitoring is started for the UE

after the Multi-Layer Coordination procedure ends.

The throughput monitoring evaluation is performed after the throughput filtering

algorithm smooths the data, with the same one-second periodicity used by the

throughput filtering algorithm. To consider the threshold value exceeded, the

following conditions must be met:

- The filtered throughput must be less than the value configured for the corresponding throughput threshold attribute.
- The filtered throughput must fulfill the conditions defined by the filter duration configured for the gNodeB.

The thresholds for low throughput in both downlink and uplink throughput can be

configured through the following attributes:

- TrStSaCellProfileUeCfg.dataAwareMobLowDlThpThr
- TrStSaCellProfileUeCfg.dataAwareMobLowUlThpThr

The thresholds for both downlink and uplink throughput can be used at the same

time, but it is sufficient for only one of the thresholds to be exceeded to trigger

the IRAT traffic steering measurement procedure.

## 3.3 UE Group Handling in NR Data-Aware Mobility

The feature supports the UE grouping framework.

The following configuration attributes used by the NR Data-Aware Mobility feature are

adapted to the UE grouping framework:

- TrStSaCellProfileUeCfg.aggregatedBwThreshold
- TrStSaCellProfileUeCfg.bwTrigISHoEnabled
- TrStSaCellProfileUeCfg.bwTrigISHoTriggerQuantity
- TrStSaCellProfileUeCfg.dataAwareMobDlPktAgeThr
- TrStSaCellProfileUeCfg.dataAwareMobDlPktVolThr
- TrStSaCellProfileUeCfg.dataAwareMobLowDlThpThr
- TrStSaCellProfileUeCfg.dataAwareMobLowUlThpThr
- TrStSaCellProfileUeCfg.rsrpPCellCandidateB2
- TrStSaCellProfileUeCfg.rsrpPCellCandidateB2AddTargEval
- TrStSaCellProfileUeCfg.rsrqPCellCandidateB2
- TrStSaCellProfileUeCfg.rsrqPCellCandidateB2AddTargEval
- TrStSaCellProfileUeCfg.sinrPCellCandidateB2
- TrStSaCellProfileUeCfg.sinrPCellCandidateB2AddTargEval
- TrStSaEUtranFreqRelProfileUeCfg.rsrpPCellCandidateB2Offsets
- TrStSaEUtranFreqRelProfileUeCfg.rsrqPCellCandidateB2Offsets
- TrStSaEUtranFreqRelProfileUeCfg.sinrPCellCandidateB2Offsets
- UeMCEUtranFreqRelProfileUeCfg.connModeAllowedPCell
- UeMCEUtranFreqRelProfileUeCfg.connModePrioPCell

The attributes

are

read from the MO instances based on the UE groups the UE belongs

to.

When the UE groups that the UE belongs to change, the change can result in the selection

of a new instance of one or more MO classes that contain the listed attributes. The

following results are possible:

- If the UE is configured with an ongoing B2 measurement, and any of the listed attributes has a different value because of the selection of another MO instance, the B2 measurement is removed from the UE.
- If downlink RLC buffer or throughput monitoring is ongoing in the gNodeB when the UE groups that the UE belongs to change, the monitoring procedure is stopped. The evaluation to start monitoring the downlink RLC buffer or the throughput can be triggered when the periodic interval timer for the Dynamic Cell Set Change during Mobility function of the NR Traffic Steering feature ends. For more information, see NR Traffic Steering.

The UE group support for this feature is controlled by the User- and Service-Specific

Mobility feature. If the User- and Service-Specific Mobility feature is not activated,

configuration data is taken from the Base instances of the following MO

classes:

- TrStSaCellProfileUeCfg
- TrStSaEUtranFreqRelProfileUeCfg
- UeMCEUtranFreqRelProfileUeCfg

For more information, see User- and Service-Specific Mobility.

## 3.4 Interaction with Other Features

B2 measurements are removed from the UE if ongoing B2 measurements exist

and

the UE group support-related configuration data of one or more of the following features

changes because of a UE group change:

- UE Group Support for NR DL Carrier Aggregation
- UE Group Support for NR Uplink Carrier Aggregation
- UE Group Support for Multi-Layer Coordination

Related Information

NR DL Carrier Aggregation

NR Uplink Carrier Aggregation

NR Traffic Steering

# 4 Network Impact of NR Data-Aware Mobility

This feature can affect the number of connected UEs and the number of handover

attempts and RwRs.

Capacity and Performance

This feature might impact the number of connected UEs configured in the NR standalone

deployment, depending on the used

configuration,

and whether the Bandwidth-Triggered Inter-System Handover function of the NR Traffic

Steering feature is enabled in the node.

If the Bandwidth-Triggered Inter-System Handover function is enabled in the node when

the NR Data-Aware Mobility feature is activated, the following impact can be

expected:

- The number of connected UEs might increase in the NR standalone network.
- The number of handover attempts and RwRs to the LTE network might decrease.

If the Bandwidth-Triggered Inter-System Handover function is disabled in the node

when the NR Data-Aware Mobility feature is activated, the following impact can be

expected:

- The number of connected UEs might decrease in the NR standalone network.
- The number of handover attempts and RwRs to the LTE network might increase.

Interfaces

The feature affects the following interfaces:

| NG   |    | The feature uses NGAP control signaling for handover procedures.                                            |
|------|----|-------------------------------------------------------------------------------------------------------------|
|      |    |                                                                                                             |
| Uu   |    | The feature uses RRC signaling for B2 measurements and RRC                                 Reconfiguration. |

Other Network Elements

No impact.

# 5 Parameters for NR Data-Aware Mobility

This feature uses attributes also used by the Bandwidth-Triggered Inter-System

Handover function of the NR Traffic Steering feature.

Table 2   Parameters

| Parameter                                                   | Type       | Description                                                                                                                                                                                                                                                                                                                       |
|-------------------------------------------------------------|------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| TrStSaCellProfile.dataAwareMobDlLowThpDuration              | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                              |
| TrStSaCellProfile.dataAwareMobDlThpFilterCoeff              | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                              |
| TrStSaCellProfile.dataAwareMobDlThpFilterTime               | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                              |
| TrStSaCellProfile.dataAwareMobUlLowThpDuration              | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                              |
| TrStSaCellProfile.dataAwareMobUlThpFilterCoeff              | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                              |
| TrStSaCellProfile.dataAwareMobUlThpFilterTime               | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                              |
| TrStSaCellProfileUeCfg.dataAwareMobDlPktAgeThr              | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                              |
| TrStSaCellProfileUeCfg.dataAwareMobDlPktVolThr              | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                              |
| TrStSaCellProfileUeCfg.dataAwareMobLowDlThpThr              | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                              |
| TrStSaCellProfileUeCfg.dataAwareMobLowUlThpThr              | Introduced | See MOM description.                                                                                                                                                                                                                                                                                                              |
| EUtranCellRelation.cellIndividualOffset                     | Affecting  | This attribute is used for the conditions that trigger B2                                 measurements. For more information about the conditions that trigger                                 B2 measurements, see 3GPP TS 38.331; NR; Radio Resource                                     Control (RRC); Protocol specification. |
| EUtranCellRelation.isHoAllowed                              | Affecting  | Handover is allowed to E-UTRAN cells only if this attribute is set to                                     true for the E-UTRAN cell relation.                                                                                                                                                                                     |
| EUtranFreqRelation.trStSaEUtranFreqRelProfileRef            | Affecting  | This attribute must be set to reference the corresponding                                     TrStSaEutranFreqRelProfile MO instance.                                                                                                                                                                                             |
| EUtranFreqRelation.ueMCEUtranFreqRelProfileRef              | Affecting  | This attribute must be set to reference the corresponding                                     UeMCEUtranFreqRelProfile MO instance.                                                                                                                                                                                               |
| NRCellCU.trStSaCellProfileRef                               | Affecting  | This attribute must be set to reference the corresponding                                     TrStSaCellProfile MO instance.                                                                                                                                                                                                      |
| TrStSaCellProfileUeCfg.aggregatedBwThreshold                | Affecting  | See MOM description.                                                                                                                                                                                                                                                                                                              |
| TrStSaCellProfileUeCfg.bwTrigISHoEnabled                    | Affecting  | See MOM description.                                                                                                                                                                                                                                                                                                              |
| TrStSaCellProfileUeCfg.bwTrigISHoTriggerQuantity            | Affecting  | See MOM description.                                                                                                                                                                                                                                                                                                              |
| TrStSaCellProfileUeCfg.rsrpPCellCandidateB2                 | Affecting  | See MOM description.                                                                                                                                                                                                                                                                                                              |
| TrStSaCellProfileUeCfg.rsrpPCellCandidateB2AddTargEval      | Affecting  | See MOM description.                                                                                                                                                                                                                                                                                                              |
| TrStSaCellProfileUeCfg.rsrqPCellCandidateB2                 | Affecting  | See MOM description.                                                                                                                                                                                                                                                                                                              |
| TrStSaCellProfileUeCfg.rsrqPCellCandidateB2AddTargEval      | Affecting  | See MOM description.                                                                                                                                                                                                                                                                                                              |
| TrStSaCellProfileUeCfg.sinrPCellCandidateB2                 | Affecting  | See MOM description.                                                                                                                                                                                                                                                                                                              |
| TrStSaCellProfileUeCfg.sinrPCellCandidateB2AddTargEval      | Affecting  | See MOM description.                                                                                                                                                                                                                                                                                                              |
| TrStSaCellProfile.ueConfGroupType                           | Affecting  | See MOM description.                                                                                                                                                                                                                                                                                                              |
| TrStSaCellProfileUeCfg.mlcPeriodicEnabled                   | Affecting  | This attribute enables periodic evaluations for traffic steering                                 functions, including the NR Data-Aware Mobility feature.                                                                                                                                                                         |
| TrStSaCellProfileUeCfg.mlcPeriodicInterval                  | Affecting  | See MOM description.                                                                                                                                                                                                                                                                                                              |
| TrStSaCellProfileUeCfg.prefUeGroupList                      | Affecting  | See MOM description.                                                                                                                                                                                                                                                                                                              |
| TrStSaCellProfileUeCfg.ueConfGroupList                      | Affecting  | See MOM description.                                                                                                                                                                                                                                                                                                              |
| TrStSaCellProfileUeCfg.ueGroupList                          | Affecting  | See MOM description.                                                                                                                                                                                                                                                                                                              |
| TrStSaEUtranFreqRelProfile.ueConfGroupType                  | Affecting  | See MOM description.                                                                                                                                                                                                                                                                                                              |
| TrStSaEUtranFreqRelProfileUeCfg.prefUeGroupList             | Affecting  | See MOM description.                                                                                                                                                                                                                                                                                                              |
| TrStSaEUtranFreqRelProfileUeCfg.rsrpPCellCandidateB2Offsets | Affecting  | See MOM description.                                                                                                                                                                                                                                                                                                              |
| TrStSaEUtranFreqRelProfileUeCfg.rsrqPCellCandidateB2Offsets | Affecting  | See MOM description.                                                                                                                                                                                                                                                                                                              |
| TrStSaEUtranFreqRelProfileUeCfg.sinrPCellCandidateB2Offsets | Affecting  | See MOM description.                                                                                                                                                                                                                                                                                                              |
| TrStSaEUtranFreqRelProfileUeCfg.ueGroupList                 | Affecting  | See MOM description.                                                                                                                                                                                                                                                                                                              |
| TrStSaEUtranFreqRelProfileUeCfg.ueConfGroupList             | Affecting  | See MOM description.                                                                                                                                                                                                                                                                                                              |
| UeMCEUtranFreqRelProfile.ueConfGroupType                    | Affecting  | This attribute is used in the UE group adaptation of the NR                                 Data-Aware Mobility feature.                                                                                                                                                                                                          |
| UeMCEUtranFreqRelProfileUeCfg.connModeAllowedPCell          | Affecting  | If this attribute is set to true for E-UTRAN                                 frequencies, the frequencies are included in B2 measurements.                                                                                                                                                                                        |
| UeMCEUtranFreqRelProfileUeCfg.connModePrioPCell             | Affecting  | The value of this attribute is used to prioritize the E-UTRAN cells                                 reported in the B2 measurement reports.                                                                                                                                                                                       |
| UeMCEUtranFreqRelProfileUeCfg.prefUeGroupList               | Affecting  | See MOM description.                                                                                                                                                                                                                                                                                                              |
| UeMCEUtranFreqRelProfileUeCfg.ueConfGroupList               | Affecting  | See MOM description.                                                                                                                                                                                                                                                                                                              |
| UeMCEUtranFreqRelProfileUeCfg.ueGroupList                   | Affecting  | See MOM description.                                                                                                                                                                                                                                                                                                              |

# 6 Performance of NR Data-Aware Mobility

This feature introduces counters and events to observe downlink RLC buffer and

throughput monitoring.

KPIs

The feature has no associated KPIs.

PIs

The feature introduces the following

PIs:

Table 3   PIs

| Performance Indicator                                        | Description                                                                                                                                                     |
|--------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------|
| NR Data-Aware Mobility Downlink RLC Buffer Fulfillment Ratio | pmEbsDataAwareMobilityBufMonReport /                                         pmEbsDataAwareMobilityBufMonConfig × 100                                     %     |
| NR Data-Aware Mobility DL Throughput Fulfillment Ratio       | pmEbsDataAwareMobilityThpMonReportDl /                                         pmEbsDataAwareMobilityThpMonConfigDl ×                                     100 % |
| NR Data-Aware Mobility UL Throughput Fulfillment Ratio       | pmEbsDataAwareMobilityThpMonReportUl /                                         pmEbsDataAwareMobilityThpMonConfigUl ×                                     100 % |

Counters

This feature introduces the following EBS counters to observe downlink RLC buffer and

throughput monitoring:

- pmEbsDataAwareMobilityBufMonConfig
- pmEbsDataAwareMobilityBufMonReport
- pmEbsDataAwareMobilityThpMonConfigDl
- pmEbsDataAwareMobilityThpMonConfigUl
- pmEbsDataAwareMobilityThpMonReportDl
- pmEbsDataAwareMobilityThpMonReportUl

The following flexible EBS counters associated with the

EUtranCellRelation and the NRCellCU MO

classes can be used to monitor the handovers triggered by the feature with the

TrafficSteeringType filter:

- pmEbsHoExeAttOutEutran
- pmEbsHoExeSuccOutEutran
- pmEbsHoPrepAttOutEutran
- pmEbsHoPrepSuccOutEutran

The following filter options are applicable for the feature:

- TRAFFIC\_STEERING\_TYPE\_DATA\_AWARE\_MOBILITY\_LOW\_DL\_THP
- TRAFFIC\_STEERING\_TYPE\_DATA\_AWARE\_MOBILITY\_LOW\_UL\_THP
- TRAFFIC\_STEERING\_TYPE\_DATA\_AWARE\_MOBILITY\_LOW\_DL\_UL\_THP
- TRAFFIC\_STEERING\_TYPE\_DATA\_AWARE\_MOBILITY\_HIGH\_DL\_BUFFER

The pmEbsRwrEutranUeSuccTrigger$ parameter-separated EBS counter

can be used to monitor the triggered RwRs, with the following options applicable for

the feature:

Table 4   Applicable EBS Counter Options

| EBS Counter                   | Option                                         |
|-------------------------------|------------------------------------------------|
| pmEbsRwrEutranUeSuccTrigger14 | RWR_TRIGGER_NR_TRAFFIC_STEERING_LOW_DL_THP     |
| pmEbsRwrEutranUeSuccTrigger15 | RWR_TRIGGER_NR_TRAFFIC_STEERING_LOW_UL_THP     |
| pmEbsRwrEutranUeSuccTrigger16 | RWR_TRIGGER_NR_TRAFFIC_STEERING_LOW_DL_UL_THP  |
| pmEbsRwrEutranUeSuccTrigger17 | RWR_TRIGGER_NR_TRAFFIC_STEERING_HIGH_DL_BUFFER |

For more information on parameter-separated EBS counters, see Manage Performance NR.

For more information on EBS counters, see Lists and Delta Lists.

Events

This feature introduces the following PM events related to downlink RLC buffer and

throughput monitoring:

- CuCpDataAwareMobilityBufMonConfig
- CuCpDataAwareMobilityBufMonReport
- CuCpDataAwareMobilityThpMonConfig
- CuCpDataAwareMobilityThpMonReport

The CuCpProcNrHoExeOut and the CuCpProcNrHoPrepOut PM events can be used to monitor

the handover procedures that are triggered by the feature.

The CuCpRwrMobilityDecision PM event can be used to monitor the number of

measurement-based RwR procedures that are triggered by the

feature.

# 7 Activate NR Data-Aware Mobility

To use the feature, it must be activated following the usual feature activation

procedure.

Prerequisites

- The license key is installed in the node.
- CCTR is active for at least one week before this procedure to collect enough troubleshooting data.

Steps

1. Set the FeatureState.featureState attribute to ACTIVATED in the FeatureState=CXC4012736 MO instance.
2. Configure the feature. For more information, see Configure NR Data-Aware Mobility.

After This Task

Keep CCTR active for at least one week after this procedure for continued collection of troubleshooting data.

Related tasks

Configure NR Data-Aware Mobility

# 8 Deactivate NR Data-Aware Mobility

If the feature is no longer needed, it can be deactivated following the usual

feature deactivation procedure. It must also be deactivated before the activation of any

conflicting feature.

Prerequisites

- CCTR is active for at least one week before this procedure to collect enough troubleshooting data.

Steps

1. Set the FeatureState.featureState attribute to DEACTIVATED in the FeatureState=CXC4012736 MO instance.

After This Task

Keep CCTR active for at least one week after this procedure for continued collection of troubleshooting data.

# 9 Engineering Guidelines for NR Data-Aware Mobility

## 9.1 Configure NR Data-Aware Mobility

The NR Data-Aware Mobility feature is based on the cell and E-UTRAN frequency

relations that are configured in the network. After initial configuration, the feature can

be further optimized for the specific network environment.

Prerequisites

- All of the following MOs relevant for the configuration of the NR Data-Aware Mobility feature are created: EUtranCellRelation EUtranFreqRelation EUtranFrequency NRCellCU NRCellDU TrStSaCellProfile TrStSaCellProfileUeCfg TrStSaEUtranFreqRelProfile TrStSaEUtranFreqRelProfileUeCfg UeMCEUtranFreqRelProfile UeMCEUtranFreqRelProfileUeCfg
- E-UTRAN frequency relations and E-UTRAN cell relations are configured for IRAT mobility.
- The Measurement Gap-Aware NR Scheduling feature is active in the node and configured to support LTE measurements.

Steps

1. Configure the trigger quantity to be used for B2 measurements through the TrStSaCellProfileUeCfg.bwTrigISHoTriggerQuantity attribute. Table 5 Supported Trigger Quantities for B2 Measurements Attribute Value Description RSRP RSRP is used as the trigger quantity. RSRQ RSRQ is used as the trigger quantity. SINR\_FALLBACK\_RSRP If the UE supports SINR measurements for NR and E-UTRAN frequencies, SINR is used as the trigger quantity. If the UE does not support SINR measurements for NR and E-UTRAN frequencies, the function falls back to using RSRP as the trigger quantity. SINR\_FALLBACK\_RSRQ If the UE supports SINR measurements for NR and E-UTRAN frequencies, SINR is used as the trigger quantity. If the UE does not support SINR measurements for NR and E-UTRAN frequencies, the function falls back to using RSRQ as the trigger quantity.
2. Configure the E-UTRAN frequency candidate measurement with the following attributes corresponding to the trigger quantity chosen in the TrStSaCellProfileUeCfg.bwTrigISHoTriggerQuantity attribute: TrStSaCellProfileUeCfg.rsrpPCellCandidateB2 TrStSaCellProfileUeCfg.rsrqPCellCandidateB2 TrStSaCellProfileUeCfg.sinrPCellCandidateB2 If the SINR\_FALLBACK\_RSRP or the SINR\_FALLBACK\_RSRQ value is used for the IntraFreqMCCellProfileUeCfg.betterSpCellTriggerQuantity attribute, measurements must be configured for both SINR and the other quantity to be used as fallback. Table 6 Configurable Struct Members for the B2 E-UTRAN Frequency Candidate Measurement Struct Member Description hysteresis The hysteresis value is used to prevent the retriggering of B2 measurements if the trigger quantity fluctuates close to the threshold1 value. threshold1(1) The RSRP, RSRQ, or SINR threshold value for the serving cell during the B2 E-UTRAN frequency candidate measurement. threshold2EUtra(2) The RSRP, RSRQ, or SINR threshold2 value for the E-UTRAN candidate cell during the B2 E-UTRAN frequency candidate measurement. timeToTrigger The timeToTrigger value defines how long the threshold requirements must be fulfilled for before the B2 E-UTRAN frequency candidate measurement report is sent by the UE. (1) The threshold1 struct member can be adjusted through the TrStSaEUtranFreqRelProfileUeCfg.rsrpPCellCandidateB2Offsets, TrStSaEUtranFreqRelProfileUeCfg.rsrqPCellCandidateB2Offsets or TrStSaEUtranFreqRelProfileUeCfg.sinrPCellCandidateB2Offsets attributes. (2) The threshold2EUtra struct member can be adjusted through the TrStSaEUtranFreqRelProfileUeCfg.rsrpPCellCandidateB2Offsets, TrStSaEUtranFreqRelProfileUeCfg.rsrqPCellCandidateB2Offsets or TrStSaEUtranFreqRelProfileUeCfg.sinrPCellCandidateB2Offsets attributes. Note: The cell-specific offset that is configured through the EUtranCellRelation.cellIndividualOffsetEUtran attribute is part of thethreshold2EUtra triggering condition for the B2 measurement reports.
3. Define the E-UTRAN frequency relations where the UE is allowed to search for a PCell candidate.
    1. Set the EUtranFreqRelation.ueMCEUtranFreqRelProfileRef attribute to refer to the given UeMCEUtranFreqRelProfile MO instance.
    2. Set the UeMCEUtranFreqRelProfileUeCfg.connModeAllowedPCell attribute that is associated with the UeMCEUtranFreqRelProfile MO instance to true.
4. Optional: Optimize the configuration according to the network requirements with any of the following optimization options: Optimization Option Description Option 1: Prevent Handover to a Specific E-UTRAN Cell Handover can be prevented to specific LTE cells. Option 2: Prevent UE from Reporting an E-UTRAN Cell on a Specific E-UTRAN Frequency The gNodeB can be configured to prevent the UE from reporting an LTE cell on a specific E-UTRAN frequency. Option 3: Configure an E-UTRAN Cell-Specific Measurement Offset The conditions that trigger B2 measurement reports can be adjusted for a specific LTE cell on a given E-UTRAN frequency by applying a cell-specific offset. Option 4: Configure an E-UTRAN Frequency-Specific Measurement Threshold Offset The B2 measurement report threshold values can be adjusted by applying a B2 measurement report threshold offset for a specific E-UTRAN frequency. Option 5: Configure Measurement Priority for an E-UTRAN Frequency E-UTRAN frequency measurement priorities can be configured according to preferences. Option 6: Configure Additional Target Evaluation An additional reported quantity can be configured to be evaluated for B2 measurement reports.
5. Set the following attributes to reference the corresponding MO profiles, if not set already: Table 7 MO Profile References Reference Attribute MO Profile NRCellCU.trStSaCellProfileRef TrStSaCellProfile EUtranFreqRelation.trStSaEUtranFreqRelProfileRef TrStSaEUtranFreqRelProfile EUtranFreqRelation.ueMCEUtranFreqRelProfileRef UeMCEUtranFreqRelProfile
6. Optional: Set the value of the TrStSaCellProfileUeCfg.bwTrigISHoEnabled attribute to true, and configure the aggregated NR bandwidth threshold through the TrStSaCellProfileUeCfg.aggregatedBwThreshold attribute.
7. Set at least one of the following attributes to a value larger than 0 to configure downlink RLC buffer monitoring: TrStSaCellProfileUeCfg.dataAwareMobDlPktAgeThr TrStSaCellProfileUeCfg.dataAwareMobDlPktVolThr If only one of the threshold attributes is set to a value larger than 0, downlink RLC buffer monitoring is started when that threshold value is exceeded. If both threshold attributes are set to a value larger than 0, downlink RLC buffer monitoring is started only if both threshold values are exceeded.
8. Set at least one of the following attributes to a value larger than 0 to configure downlink and uplink throughput monitoring: TrStSaCellProfileUeCfg.dataAwareMobLowDlThpThr TrStSaCellProfileUeCfg.dataAwareMobLowUlThpThr Note: Downlink and uplink throughput monitoring can be used together with downlink RLC buffer monitoring.

Results

The gNodeB starts monitoring of the selected quantities, and triggers IRAT mobility

to LTE if the threshold values are reached.

### 9.1.1 Configuration Management of NR Data-Aware Mobility

The configuration of this feature is based on MO attributes, including attributes

that reference MO profiles.

Figure 4   MO Relations for NR Data-Aware Mobility

### 9.1.2 Optimization Options

#### 9.1.2.1 Option 1: Prevent Handover to a Specific E-UTRAN Cell

Handover can be prevented to specific E-UTRAN cells.

Steps

1. Set the EUtranCellRelation.isHoAllowed attribute to false for each E-UTRAN cell relation for which a handover must be prevented. Note: The EUtranCellRelation.isHoAllowed attribute affects all features and functions that trigger handovers to the specific E-UTRAN cell.

#### 9.1.2.2 Option 2: Prevent UE from Reporting an E-UTRAN Cell on a Specific E-UTRAN Frequency

The gNodeB can be configured to ensure that the UE avoids reporting an E-UTRAN cell

on a specific E-UTRAN frequency.

If

triggering

a handover to a specific E-UTRAN

frequency must

be avoided, it is possible to block such an E-UTRAN frequency with

a large B2

measurement

threshold offset. This way, the UE does not report E-UTRAN cells

on the specific E-UTRAN frequency.

Steps

1. Create a TrStSaEUtranFreqRelProfile MO instance for the given E-UTRAN frequency relation, or use the auto-created MO instance.
2. Set the EUtranFreqRelation.trStSaEUtranFreqRelProfileRef attribute to refer to the TrStSaEUtranFreqRelProfile MO instance.
3. Set the threshold2EUtraOffset struct member of the following attributes to the maximum value of 100: TrStSaEUtranFreqRelProfileUeCfg.rsrpPCellCandidateB2Offsets TrStSaEUtranFreqRelProfileUeCfg.rsrqPCellCandidateB2Offsets TrStSaEUtranFreqRelProfileUeCfg.sinrPCellCandidateB2Offsets The B2 measurement threshold that is sent to the UE is calculated through the following formula: TrStSaCellProfileUeCfg.rsrpPCellCandidateB2 + 100 TrStSaCellProfileUeCfg.rsrqPCellCandidateB2 + 100 TrStSaCellProfileUeCfg.sinrPCellCandidateB2 + 100

Results

The UE reports no B2 measurements for E-UTRAN cells on

the given E-UTRAN frequency.

#### 9.1.2.3 Option 3: Configure an E-UTRAN Cell-Specific Measurement Offset

The conditions that trigger B2

measurements

can be adjusted for a specific E-UTRAN cell on a given E-UTRAN frequency

by applying a cell-specific

offset when RSRP is

used as the trigger quantity.

The cell-specific offset is part of the conditions that trigger the

B2

measurement report. The offset is applied for all

features and

functions that use

B1

or

B2

measurements

when RSRP is used as the trigger quantity.

Steps

1. Configure a cell-specific offset for an E-UTRAN cell relation with the EUtranCellRelation.cellIndividualOffset attribute.

#### 9.1.2.4 Option 4: Configure an E-UTRAN Frequency-Specific Measurement Threshold Offset

The

B2

measurement

threshold values can be adjusted by applying a

B2

measurement

threshold offset for a specific E-UTRAN frequency.

Steps

1. Create a TrStSaEUtranFreqRelProfile
2. Set the EUtranFreqRelation.trStSaEUtranFreqRelProfileRef attribute to refer to the TrStSaEUtranFreqRelProfile MO instance. MO instance for the given E-UTRAN frequency relation, or use the auto-created MO instance.
3. Set the TrStSaEUtranFreqRelProfileUeCfg.rsrpPCellCandidateB2Offsets, TrStSaEUtranFreqRelProfileUeCfg.rsrqPCellCandidateB2Offsets, and TrStSaEUtranFreqRelProfileUeCfg.sinrPCellCandidateB2Offsets attributes to a suitable value. The B2 measurement threshold that is sent to the UE is the sum of the following attributes, depending on the configured trigger quantity for the measurement: The TrStSaCellProfileUeCfg.rsrpPCellCandidateB2 and the TrStSaEUtranFreqRelProfileUeCfg.rsrpPCellCandidateB2Offsets attributes The TrStSaCellProfileUeCfg.rsrqPCellCandidateB2 and the TrStSaEUtranFreqRelProfileUeCfg.rsrqPCellCandidateB2Offsets attributes The TrStSaCellProfileUeCfg.sinrPCellCandidateB2 and the TrStSaEUtranFreqRelProfileUeCfg.sinrPCellCandidateB2Offsets attributes

#### 9.1.2.5 Option 5: Configure Measurement Priority for an E-UTRAN Frequency

E-UTRAN frequency measurement priorities can be configured according to

preferences.

Steps

1. Configure the priority for an E-UTRAN frequency relation with the UeMCEUtranFreqRelProfileUeCfg.connModePrioPCell attribute. Note: This attribute affects all features and functions that use E-UTRAN frequency priorities.

Results

A priority value is assigned to the frequency.

#### 9.1.2.6 Option 6: Configure Additional Target Evaluation

The gNodeB can be configured to evaluate a reported quantity that is different from

the configured trigger quantity in the B2 measurement report.

Steps

1. Configure the reported quantity to be evaluated through one of the following attributes corresponding to the trigger quantity configured through the TrStSaCellProfileUeCfg.bwTrigISHoTriggerQuantity attribute: TrStSaCellProfileUeCfg.rsrpPCellCandidateB2AddTargEval TrStSaCellProfileUeCfg.rsrqPCellCandidateB2AddTargEval TrStSaCellProfileUeCfg.sinrPCellCandidateB2AddTargEval If the TrStSaCellProfileUeCfg.bwTrigISHoTriggerQuantity attribute is configured with a different trigger quantity than the trigger quantity configured for the Mobility Control at Poor Coverage feature in any neighboring LTE cell, it is recommended to configure the additional target evaluation for that reported quantity in the cell. This reduces the risk of the Bandwidth-Triggered Inter-System Handover function moving the UE to a cell where the UE is immediately placed in the Search Zone of the Mobility Control at Poor Coverage feature.
2. Configure the threshold for the evaluation of the configured reported quantity. The evaluation uses the same threshold used by the UE if the reported quantity is configured as the trigger quantity. The threshold is calculated as the sum of the other configuration attributes. For RSRP, the threshold is calculated in the following way: The values of the following struct members are added: The threshold2EUtra struct member in the TrStSaCellProfileUeCfg.rsrpPCellCandidateB2 attribute The hysteresis struct member in the TrStSaCellProfileUeCfg.rsrpPCellCandidateB2 attribute The threshold2EUtraOffset struct member in the TrStSaEUtranFreqRelProfileUeCfg.rsrpPCellCandidateB2Offsets attribute The value of the EUtranCellRelation.cellIndividualOffset attribute is subtracted. For RSRQ, the threshold is calculated as the sum of the values of the following struct members: threshold2EUtra in the TrStSaCellProfileUeCfg.rsrqPCellCandidateB2 attribute hysteresis in the TrStSaCellProfileUeCfg.rsrqPCellCandidateB2 attribute threshold2EUtraOffset in the TrStSaEUtranFreqRelProfileUeCfg.rsrqPCellCandidateB2Offsets attribute For SINR, the threshold is calculated as the sum of the values of the following struct members: The threshold2EUtra struct member in the TrStSaCellProfileUeCfg.sinrPCellCandidateB2 attribute The hysteresis struct member in the TrStSaCellProfileUeCfg.sinrPCellCandidateB2 attribute The threshold2EUtraOffset struct member in the TrStSaEUtranFreqRelProfileUeCfg.sinrPCellCandidateB2Offsets attribute Note: If the reported value to be evaluated is set to SINR\_FALLBACK\_RSRQ, the evaluation threshold must be configured for both SINR and RSRQ.

Results

When a B2 measurement report is received, the gNodeB evaluates the reported value of

the specified quantity. The gNodeB only configures the UE to perform handover to the

reported cell if the reported value is above the configured additional target

evaluation threshold for B2 measurements.

## 9.2 Recommended Configuration for Downlink RLC Buffer Monitoring

The Downlink RLC Buffer Monitoring function exists for both the NR-NR Dual

Connectivity feature and the NR Data-Aware Mobility feature.

It is not possible to have the Downlink RLC Buffer monitoring functions of both the NR-NR

Dual Connectivity and the NR Data-Aware Mobility features ongoing in the gNodeB at the

same time for the same UE.

If buffer monitoring is enabled for both features, and they are active in the same node,

the buffer monitoring of the NR Data-Aware Mobility feature might be blocked by the

buffer monitoring of the NR-NR Dual Connectivity feature. To avoid this, the following

configuration is required:

- The TrStSaCellProfileUeCfg.dataAwareMobDlPktAgeThr attribute must be set to a higher value than the value of the NrdcMnCellProfileUeCfg.nrdcSetupDlPktAgeThr attribute.
- The TrStSaCellProfileUeCfg.dataAwareMobDlPktVolThr attribute must be set to a higher value than the value of the NrdcMnCellProfileUeCfg.nrdcSetupDlPktVolThr attribute.

## 9.3 Recommended Configuration for Throughput Monitoring

The feature can be configured to filter out data bursts in the throughput calculation

for more reliable monitoring.

The throughput filtering process of the NR Data-Aware Mobility feature operates the same

way for both downlink and uplink monitoring. The following information can be configured

for the throughput monitoring process:

- Filter coefficient
- Filter time
- Filter duration

The filter coefficient is used to control how quickly changes or noise in the throughput

measurements affect the filtered throughput. The recommended filter coefficient value is

between 0.6-0.8. The following attributes can be used to configure the

filter coefficient for downlink and uplink throughput:

- TrStSaCellProfile.dataAwareMobDlThpFilterCoeff
- TrStSaCellProfile.dataAwareMobUlThpFilterCoeff

The filter time is used to ensure that the air interface is the bottleneck for the UE

performance. A higher configured value for the filter time improves the accuracy of the

throughput monitoring for the UE.

It is not recommended to set the filter time to 0 ms. It is recommended

to set the filter time to 200 ms, and later increase the value to

improve throughput monitoring in cases of higher user impact and larger amounts of sent

data. The following attributes can be used to configure the filter time for downlink and

uplink throughput:

- TrStSaCellProfile.dataAwareMobDlThpFilterTime
- TrStSaCellProfile.dataAwareMobUlThpFilterTime

The filter duration is used to improve flexibility in reducing the sensitivity to short

periods of lower throughput. The recommended starting value for the filter duration is

1 s. The following attributes can be used to configure the filter

duration for downlink and uplink throughput:

- TrStSaCellProfile.dataAwareMobDlLowThpDuration
- TrStSaCellProfile.dataAwareMobUlLowThpDuration

## 9.4 Recommended Configuration for Data-Aware Carrier Management

If the Data-Aware Carrier Management feature is also active in the node, it is

recommended to adjust the configuration used for that feature.

When the NR Data-Aware Mobility feature is used together with the Data-Aware Carrier

Management feature and throughput monitoring is enabled for UEs, the Data-Aware Carrier

Management feature is recommended to be configured in a specific way. The Data-Aware

Carrier Management feature

must

be configured to activate SCells for UEs that either send or receive a large amount of

data. This configuration reduces the chance that UEs are moved to LTE

if

the NR cell can provide better throughput when the SCells are activated.

For more information on configuring the Data-Aware Carrier Management feature, see Data-Aware Carrier Management.