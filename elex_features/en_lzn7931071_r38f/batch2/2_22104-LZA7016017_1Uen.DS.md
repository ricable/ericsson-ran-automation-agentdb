---
complexity_score: 22.5
converted_at: '2025-08-13T06:59:25.696688Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 4
images_saved: 3
original_path: 2_22104-LZA7016017_1Uen.DS.html
pictures_extracted: 4
processing_method: docling_multimodal
quality_score: 9.0
source_file: 2_22104-LZA7016017_1Uen.DS.html
source_zip: en_lzn7931071_r38f.zip
tables_extracted: 29
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 2796
---

# 

Random Access

EN-DC

Contents

![Image](../images/2_22104-LZA7016017_1Uen.DS/additional_3_CP.png)

![Image](../images/2_22104-LZA7016017_1Uen.DS/additional_3_CP.png)

- Overview
- Dependencies
- Feature Operation
    - Random Access Preamble Transmission in Low-Band
    - Random Access Preamble Transmission in Mid-Band
    - Random Access Preamble Transmission in High-Band
    - Random Access Response Message
    - Contention Resolution
- Network Impact
- Parameters
- Performance
- Activate Non-License-Controlled Features
- Engineering Guidelines
    - Cell Range and Root Sequence Index Settings

# 1 Random Access EN-DC Overview

| Feature Name           | Random Access EN-DC                                      |
|------------------------|----------------------------------------------------------|
| Feature Identity       | Basic function                                           |
| Value Package Name     | NR Base Package                                          |
| Value Package Identity | FAJ 801 4002                                             |
| Node Type              | Baseband Radio Node                                      |
| Access Type            | NR                                                       |
| Licensing              | Non-license-controlled function. No license is required. |

Summary

Random Access is one of the basic features in NR RAN. The UE uses the feature for the

following purposes:

- Obtaining access to the NR network when the SCG radio resources are added
- Gaining uplink time alignment
- Requesting an uplink grant without a dedicated scheduling request resource

The following functionalities are supported:

- CBRA for Low-Band, Mid-Band, and High-Band
- Unpaired spectrum, TDD
- Paired spectrum, FDD

The CBRA process is initiated by the UE when trying to gain

access to the network. The UE randomly selects one random access preamble code from the

available list of codes. After its selection, the UE transmits the preamble code in the

uplink through PRACH to gain access to the network.

Contention can occur if the following conditions apply:

- Multiple UEs attempt to access the network through the same PRACH slot.
- The UEs attempting to access the network use the same preamble code.

The CBRA process involves additional signaling to resolve contention.

Additional Information

For more information and related topics, see the following documentation:

- 3GPP TS 38.211; NR; Physical Channels and Modulation
- 3GPP TS 38.213; NR; Physical Layer Procedures for Control
- 3GPP TS 38.214; NR; Physical Layer Procedures for Data
- 3GPP TS 38.300; NR; Overall Description; Stage-2
- 3GPP TS 38.321; NR; Medium Access Control (MAC) Protocol Specification
- 3GPP TS 38.331; NR; Radio Resource Control (RRC)

# 2 Dependencies of Random Access EN-DC

This feature is associated with other features related to coverage

extension.

Table 1   Feature Dependencies

| Feature                                                                                                 | Relationship   | Relationship Scope   | Description                                                                                                                                                                                                                                                                                                                                                                    |
|---------------------------------------------------------------------------------------------------------|----------------|----------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Basic Intelligent Connectivity (FAJ 121                                 4843)                           | Prerequisite   |                      | The feature supports dual connectivity procedures. It allows for                                 setup and release procedures using a distributed PPF.                                                                                                                                                                                                                         |
| Balanced TDD Pattern High-Band                                     for Dedicated RAN (FAJ 121 5483)     | Related        |                      | The balanced TDD pattern influences the maximum cell range             configuration of the Random Access NR NSA feature.                                                                                                                                                                                                                                                      |
| Balanced TDD Pattern High-Band                                     for Public RAN (FAJ 121 5484)        | Related        |                      | The balanced TDD pattern influences the maximum cell range             configuration of the Random Access NR NSA feature.                                                                                                                                                                                                                                                      |
| Downlink Power Boost for Initial Access                                     High-Band (FAJ 121 5424)    | Related        |                      | If the Downlink Power Boost for Initial Access High-Band feature is active,             the following messages can be boosted on the PDCCH, increasing random access success                 rate:  Msg2     Msg3 retransmission grant     Msg4 grant     Initial P2 refinement     The PDSCH transmission power of Msg2 is also boosted.                                      |
| Coverage Extension Low-Band (FAJ 121                                 5080)                              | Related        |                      | The feature allows PRACH format 0 configuration and the extension of                                 the NR Low-Band cell range up to 15 km. It also enables a larger                                 coverage area for the gNodeB.                                                                                                                                            |
| Extended Propagation Delay Support                                     High-Band (FAJ 121 5259)         | Related        |                      | PRACH preamble format A3 is used if the configured cell range         is in the following ranges:  0–1,100 m     6,901–14,000 m     PRACH preamble format C2 is used for cell ranges between 1,101–6,900 m. If the Extended         Propagation Delay Support High-Band feature is activated, PRACH preamble format C2 is         supported for cell ranges between 0–1,100 m. |
| Uplink-Heavy TDD Pattern                                     High-Band for Dedicated RAN (FAJ 121 5486) | Related        |                      | The Uplink-Heavy TDD Pattern High-Band for Dedicated RAN feature can                                 influence the cell range of the Random Access feature.                                                                                                                                                                                                                    |

Hardware

No specific hardware requirements.

Limitations

The Random Access feature does not support the following functionalities:

- CFRA
- Supplementary Uplink
- HARQ
- PUCCH

Initial access from RRC\_IDLE mode is the supported trigger

for random access.

Network Requirements

The feature requires

the

UE

to be capable of EN-DC.

System Functions

The system allows the UE to use CBRA for the following

purposes:

- Network access
- Synchronization for uplink transfers
- Access after radio link failure

# 3 Feature Operation of Random Access EN-DC

Random Access

EN-DC

allows the UE to gain access to the NR network and to obtain uplink timing

synchronization.

Multiple devices that use different random access preamble codes can access the network

at the same time. The preamble codes are transmitted in the uplink on the PRACH channel.

NR can detect multiple random access preambles at the same time.

The node must identify whether the devices in the NR cell are configured for

EN-DC

or

NR

standalone. The configuration of the UE is identified by Msg3, or by

the presence of session data. If the cell is configured for

EN-DC

only,

UEs configured

with EN-DC are able to access it

only.

The PRACH periodicity values are the following:

| Low-Band   |    | 10 ms or one frame                                                                                                                                                                                                                                                                                                                                                                                     |
|------------|----|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|            |    |                                                                                                                                                                                                                                                                                                                                                                                                        |
| Mid-Band   |    | 10 ms or one frame                       In CBRA, the UE randomly selects one random access preamble code from a list of available             codes. Contention can occur when the UE makes multiple attempts to access the cell in             the same PRACH slot with the same preamble code. To resolve contention, CBRA requires             additional signaling at the time of code selection. |
|            |    |                                                                                                                                                                                                                                                                                                                                                                                                        |
| High-Band  |    | 20 ms                                                                                                                                                                                                                                                                                                                                                                                                  |

For improved coverage, the starting symbol within a slot is set to symbol 0 in Low-Band,

Mid-Band and High-Band.

The following requirements must be fulfilled for the random access procedure to

operate:

1. The RACH configuration is applied to the cell.
2. In CBRA, the UE randomly selects one random access preamble code from a list of availableThe NR UE context is set up in preparation of the random access procedure.
3. The UE is configured with NR access configuration through the LTE RRC. NR access includes C-RNTI and RACH configuration.

Feature Operation Sequence Diagram

Process Steps

1. The UE sends a preamble to the gNodeB (Msg1).
2. The gNodeB sends the assigned resources through PDCCH and the random access response through PDSCH (Msg2).
3. The UE sends the RRC connection request message through PUSCH (Msg3).
4. The gNodeB sends the contention resolution message. This is a regular PDCCH transmission addressed to the UE C-RNTI. It contains an uplink grant for a new transmission.

In the RACH procedure, both

NR

standalone

and

EN-DC

can be configured in a cell. In such cases, CORESET#0 is used for Msg 1-4. Before

the RACH procedure, CORESET#0 information must be sent to the UE

capable of

EN-DC in the RRC Reconfiguration message. After RRC setup,

CORESET#1 is used for scheduling the UE.

CBRA is applied to the following random access events:

- Initial network access

Power Ramping

The random access transmission process uses open-loop power

control. The UE estimates the transmission power required to achieve a specified

reception power value for the first random access burst. Power ramping can be used for

subsequent retransmission bursts. The process continues until the following conditions

occur:

- The UE successfully receives a response from the NR system.
- The maximum number of transmission attempts is reached.

Figure 1   Power Ramping

## 3.1 Random Access Preamble Transmission in Low-Band

The network provides the UE information about the PRACH channel before each transmission.

The UE receives the information in an overhead message. In this way, the UE can

determine the following characteristics:

- The SSB configuration
- The scheduling of PRACH channels
- The preamble format
- The code sequence

The overhead message for Low-Band contains a specific PRACH preamble format and a

corresponding subcarrier spacing value.

Table 2   Supported PRACH Preamble Formats and Subcarrier Spacing Values

| PRACH Preamble Format   | Subcarrier Spacing   |
|-------------------------|----------------------|
| B4                      | 15 kHz               |
| 0                       | 1.25 kHz             |
| 1                       | 1.25 kHz             |

The overhead message for Low-Band also contains the following information:

- The BWP that the UE uses. Note: Only one BWP can be active at a given time.
- The unrestricted set of cyclic shifts for preambles that the NR system applies.
- Information on PDCCH and PDSCH, PUCCH and PUSCH configuration.

Table 3   PRACH Configuration Indexes and Maximum Cell Range on Low-Band

| Preamble Format   | PRACH Configuration Index(1)        | Maximum Cell Range Support   | Description                                                                                                                                                                                                                                  |
|-------------------|-------------------------------------|------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| B4                | 209 (slot 1 with starting symbol 0) | 10 km                        | Format B4 is the default preamble format.                                                                                                                                                                                                    |
| B4                | 210 (slot 4 with starting symbol 0) | 10 km                        | Format B4 is the default preamble format.                                                                                                                                                                                                    |
| B4                | 211 (slot 7 with starting symbol 0) | 10 km                        | Format B4 is the default preamble format.                                                                                                                                                                                                    |
| 0                 | 16 (slot 1 with starting symbol 0)  | 15 km                        | Format 0 requires the Coverage Extension Low-Band feature to be                                 activated.                                                                                                                                   |
| 0                 | 17 (slot 4 with starting symbol 0)  | 15 km                        | Format 0 requires the Coverage Extension Low-Band feature to be                                 activated.                                                                                                                                   |
| 0                 | 18 (slot 7 with starting symbol 0)  | 15 km                        | Format 0 requires the Coverage Extension Low-Band feature to be                                 activated.                                                                                                                                   |
| 1                 | 44 (slot 1 with starting symbol 0)  | 100 km                       | PRACH format 1 is not supported in Mid-Band. Format 1 requires the                                 Coverage Extension Low-Band and the Extended Propagation Delay                                 Support Low-Band features to be activated. |
| 1                 | 45 (slot 4 with starting symbol 0)  | 100 km                       | PRACH format 1 is not supported in Mid-Band. Format 1 requires the                                 Coverage Extension Low-Band and the Extended Propagation Delay                                 Support Low-Band features to be activated. |
| 1                 | 46 (slot 7 with starting symbol 0)  | 100 km                       | PRACH format 1 is not supported in Mid-Band. Format 1 requires the                                 Coverage Extension Low-Band and the Extended Propagation Delay                                 Support Low-Band features to be activated. |

(1)

The selection of PRACH configuration indexes that are used

depends on the configuration. For some configurations, not

all available PRACH configuration indexes are used.

Related Information

Supported Capacity and Configurations for NR RAN

Coverage Extension Low-Band

Extended Propagation Delay Support Low-Band

## 3.2 Random Access Preamble Transmission in Mid-Band

The LTE network provides the UE information about the NR

PRACH channel before each transmission. The UE receives the information in an overhead

message. In this way, the UE can determine the following characteristics:

- The SSB configuration
- The scheduling of PRACH channels
- The preamble format
- The code sequence

The overhead message for Mid-Band contains the following information:

- The NR system expects preamble format B4 or 0.
- The NR system uses 30 kHz subcarrier spacing for B4 and 1.25 kHz subcarrier spacing for format 0.
- The NR system allocates one PRACH occurrence in each 10 ms radio frame.
- The NR system uses a TDD pattern specified by the configuration.
- The NR system uses specific PRACH configurations for the different supported TDD patterns. Table 4 PRACH Configurations Indexes and Supported TDD Patterns Preamble Format PRACH Configuration Index(1) Supported TDD Pattern(2) Description B4 158 (slot 15 with starting symbol 0) 4+2+4 Format B4 is the default preamble format. 159 (slot 19 with starting symbol 0) 3+1 4+1 4+1+3+2 0 7 (slot 18-19 with starting symbol 0) 8+2 Format 0 requires the PRACH Enhancements Mid-Band feature to be active. For more information, see PRACH Enhancements Mid-Band. 4+1+3+2 9 (slot 14-15 with starting symbol 0) 4+2+4 (1) The selection of PRACH configuration indexes that are used depends on the configuration. For some configurations, not all available PRACH configuration indexes are used. (2) For more information on the supported TDD patterns, see the Data Transmission section in Scheduler Mid-Band.
- The BWP that the UE uses.Note: Only one BWP can be active at a given time.
- The unrestricted set of cyclic shifts for preambles that the NR system applies.
- Information on PDCCH and PDSCH, PUCCH and PUSCH configuration.

The feature supports preamble format 0, and B4. B4 is the default value.

Specific PRACH preamble format and cell range combinations are supported. These

combinations are determined by the number of available uplink slots in the supported TDD

patterns.

For TDD patterns with two continuous uplink slots, the cell range can increase up to 15

km. The use of TDD patterns with one uplink slot limits the cell range to 5 km, and

format B4 must be used.

Table 5   Cell Range Support for Mid-Band

| Preamble Format   | Maximum Cell Range Support   | Allowed TDD Pattern Configuration               | Description                                                                                                                                                    |
|-------------------|------------------------------|-------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------|
| B4                | 5 km                         | One uplink slot     Two continuous uplink slots | Format B4 is the default preamble format.                                                                                                                      |
| 0                 | 15 km                        | Two continuous uplink slots                     | Format 0 requires the PRACH Enhancements Mid-Band feature to be                                 active. For more information, see PRACH Enhancements Mid-Band. |

## 3.3 Random Access Preamble Transmission in High-Band

The LTE network provides the UE information about the NR

PRACH channel before each transmission. The UE receives the information in an overhead

message. In this way, the UE can determine the following characteristics:

- The SSB configuration
- The scheduling of PRACH channels
- The preamble format
- The code sequence

The overhead message for High-Band contains the following information:

- The NR High-Band system is configured to use 12 SSB beams.
- The NR system expects PRACH preamble format A3 or C2.
- The NR system uses 160 slots for a 120 kHz numerology every 20 ms.
- The BWP that the UE uses. Note: Only one BWP can be active at a given time.
- The unrestricted set of cyclic shifts for preambles that the NR system applies. The NR system uses the four downlink and one uplink (4+1) TDD pattern, with a period of 0.5 ms.
- Information on PDCCH and PDSCH, PUCCH and PUSCH configuration.

Table 6   High-Band

Cell Range Support

| PRACH Preamble Format   | Maximum Cell Range Support                        |
|-------------------------|---------------------------------------------------|
| A3                      | 0–1,100 m(1)                                      |
| A3                      | 6,901–14,000 m                                    |
| C2                      | 1,101–6,900                                     m |

(1)

If the Extended Propagation Delay Support High-Band

feature is activated, PRACH preamble format C2 is

supported for cell ranges between 0-1,100 m.

Preamble Discard

The preamble discard functionality is based on the cell range configured through the

NRCellDU.cellRange attribute. The Random Access Preambles are

ignored for the preambles which are greater than the maximum allowed timing offset

derived as for each configured cell range. The preamble discard functionality and

the NRCellDU.pmRadioRaCbFailMsg1Ooc counter does not work in the

following cases:

- The NRCellDU.cellRange is greater than 1,100 m.
- The NRCellDU.cellRange is less than or equal to 1,100 m and the UE is located beyond 1,175 m.

The preamble discard function can be configured with the

NRCellDU.cellRange attribute. The default value of the

attribute is set on the basis of subcarrier spacing and can be configured

differently in Low-, Mid- and High-Band cells.

## 3.4 Random Access Response Message

The random access response message is transmitted on the PDSCH to a specific RA-RNTI

address. The random access response message can contain responses to more than one

detected random access preamble code. Multiple random access response messages can be

sent within the random access response window. Therefore, the NR system can respond to

random access attempts from multiple UEs, transmitted in the same PRACH subframe.

The UE monitors the PDCCH for its specific RA-RNTI address. The address matches the

subframe number in which the random access preamble burst is transmitted.

The random access response message includes the following information:

- The random access preamble sequence code
- An initial uplink grant for transmitting the subsequent data on the uplink channel
- Time alignment information that ensures the time alignment of subsequent uplink data transmissions at the NR receiver. In this way, uplink data transmissions do not interfere with uplink transmissions by other UEs in adjacent subframes.
- Temporary C-RNTI

The random access message (Msg2) is transmitted using DCI Format 1\_0 on PDCCH. A PDSCH

transmission contains allocation information for Msg3 PUSCH transmission. The random

access response reception is successful on the following conditions:

- It is received within the random access response search window.
- It contains the Random Access Preamble Identifier that matches the transmitted Random Access Preamble Index.

## 3.5 Contention Resolution

The UE transmits Msg3 on the PUSCH. Msg3 contains the C-RNTI received in Msg2.

When Msg3 is sent, the ra-ContentionResolutionTimer begins. HARQ in Msg3

triggers the UE to attempt retransmission during the

ra-ContentionResolutionTimer. In this way, the initial setup

sequence does not have to be restarted.

DCI 0\_0 determines Msg3 HARQ. As the UE can retransmit Msg3 multiple

times, the gNodeB has more possibilities to decode the message

successfully. After the UE transmits Msg3 PUSCH data including a C-RNTI MAC control

element, it expects a contention resolution message.

For

EN-DC,

the contention resolution message is an uplink grant sent on PDCCH. This grant is

referred to as the contention resolution grant or Contention Resolution Message

(CRM).

The reception of the PUSCH transmission signifies the following states:

- The contention resolution message is delivered to the UE.
- The CBRA procedure is completed successfully.

# 4 Network Impact of Random Access EN-DC

Capacity and Performance

| Low-Band   |    | The NR cell can process 100 accesses per second, or one PRACH occurrence                             in each frame.   |
|------------|----|-----------------------------------------------------------------------------------------------------------------------|
|            |    |                                                                                                                       |
| Mid-Band   |    | The NR cell can process 100 accesses per second, or one PRACH occurrence                             in each frame.   |
|            |    |                                                                                                                       |
| High-Band  |    | The NR cell can process 600 accesses per second, or 12 PRACH occurrences                             per 20 ms.       |

Interfaces

No impact.

Other Network Elements

The feature requires an EN-DC-capable UE.

# 5 Parameters for Random Access EN-DC

The Random Access EN-DC feature introduces parameters to set the preamble message and

the cell range.

Table 7   Parameters

| Parameter                   | Type       | Description          |
|-----------------------------|------------|----------------------|
| NRCellDU.cellRange          | Introduced | See MOM description. |
| NRCellDU.rachPreambleFormat | Introduced | See MOM description. |
| NRCellDU.rachRootSequence   | Introduced | See MOM description. |

# 6 Performance of Random Access EN-DC

KPIs

The KPIs associated with Random Access measure the success rate of the feature.

Table 8   Key Performance Indicators

| KPI                                           | Description                                                                                                                         |
|-----------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------|
| Random Access Success Rate Captured in gNodeB | Describes how often a transmitted random access Msg2 results in a                                     successfully received RaMsg3. |

The following PIs are introduced:

| Random Access MSG1 Success Rate     |    | 100 × pmRadioRaCbAttMsg2 /                                 pmRadioRaCbPreambles   |
|-------------------------------------|----|-----------------------------------------------------------------------------------|
|                                     |    |                                                                                   |
| Random Access Performance Indicator |    | 100 × pmRadioRaCbSuccMsg3 /                                 pmRadioRaCbPreambles  |

Counters

- NRCellDU.pmRadioRaAttTaDistr
- NRCellDU.pmRadioRaCbPreambles
- NRCellDU.pmRadioRaCbFailMsg1Ooc
- NRCellDU.pmRadioRaCbAttMsg2
- NRCellDU.pmRadioRaCbFailMsg2Disc
- NRCellDU.pmRadioRaCbSuccMsg3
- NRCellDU.pmRadioRaCbFailMsg3Crnti
- NRCellDU.pmRadioRaCbFailMsg3Crc
- NRCellDU.pmRadioRaCbFailMsg1MaxMsg3Sched
- NRCellDU.pmRadioRaCbFailMsg3Dtx

For the following RACH counters, preamble discard is based on the

NRCellDU.cellRange attribute:

- Beam.pmRadioRaCbFailMsg1Ooc
- Beam.pmRadioRaAttTaDistr

For more information and related topics, see NR Key Performance Indicators.

Events

This feature has no associated events.

# 7 Activate Non-License-Controlled Features

Non-license-controlled features do not require manual activation and cannot be

deactivated.

While license-controlled features need to be activated, non-license-controlled features

are activated automatically during node integration. They also do not

have

a software license key associated, which means that they have no

entries in the LKF that is installed on the node.

In some cases, non-license-controlled features need to be configured

manually or have some of

their

subfunctions enabled to work properly.

# 8 Engineering Guidelines of Random Access EN-DC

## 8.1 Cell Range and Root Sequence Index Settings

The RRC configuration of the UE involves the setting of the

prach-RootSequenceIndex and the

zeroCorrelationZoneConfig attributes. For the settings of these

parameters defined in 3GPP, see 3GPP TS 38.211; NR; Physical Channels and

Modulation.

The NRCellDU.rachRootSequence attribute configures the value of the

prach-RootSequenceIndex attribute and

zeroCorrelationZoneConfig is set by the gNodeB.

### 8.1.1 Cell Range Configuration in Low-Band

The NRCellDU.rachRootSequence attribute configures the value of the

first

prach-RootSequenceIndex

for RACH in the cell. PRACH resources overlap in the network. It is recommended to set

the NRCellDU.rachRootSequence attribute to different values in

neighboring cells to reduce the probability of false RACH detections. Different

preambles can be defined for different cells with the

NRCellDU.rachPreambleFormat attribute.

The number of required RACH root sequences in each cell

depends on the cell range and the total number of RACH preambles set for the cell. The

NRCellDU.cellRange attribute is used to set the cell range unless

it is done automatically. The NRCellDU.totalNoOfRaPreambles attribute

is used to set the total number of RACH preambles for the cell unless it is done

automatically.

NRCellDU.pmRadioRaCbFailMsg1Ooc Counter Range

Calculation

The NRCellDU.pmRadioRaCbFailMsg1Ooc counter measures the number of

CBRA preambles that are discarded because the timing offset of the preambles

corresponds to a distance that is greater than the configured cell range. This

observable distance is limited and depends on

zeroCorrelationZoneConfig, which controls the NCS

cyclic shift value used for the random access preamble generation. For more

information, see Section 6.3.3 in 3GPP TS 38.211 version 16.6.0.

The appropriate value of zeroCorrelationZoneConfig is selected

automatically for the configured cell range. Each value of

zeroCorrelationZoneConfig has a corresponding maximum cell

range, and this is the maximum observable distance of the counter for the given

configuration. The maximum observable distance of the counters is the closest bigger

maximum cell range value to the configured cell range. The timing offset TA of the

preamble can only be correctly calculated if the UE is in the observable

distance.

Unrestricted Set of Cyclic Preamble Shifts

The NR system applies the unrestricted set of cyclic shifts for preambles.

The number of required RACH root sequences for a cell can be calculated using the

following equation:

Where Preambles for each RACH Root Sequences is the number of preambles that can be

created by one RACH root sequence for a given cell range and RACH format. For the

applicable values, see Table 9.

Table 9   Example Configuration for Cell Range and Number of RACH Root Sequences for

Low-Band, Unrestricted Set

| Preamble Format  (1)   |   Value of zeroCorrelationZoneConfig |   NCS Value | Cell Range (m)   |   Preambles for Each RACH Root Sequences |
|------------------------|--------------------------------------|-------------|------------------|------------------------------------------|
| B4                     |                                    1 |           2 | < 91(2)          |                                       64 |
| B4                     |                                    2 |           4 | 91–230(2)        |                                       34 |
| B4                     |                                    3 |           6 | 231–340          |                                       23 |
| B4                     |                                    4 |           8 | 341–480          |                                       17 |
| B4                     |                                    5 |          10 | 481–630          |                                       13 |
| B4                     |                                    6 |          12 | 631–770          |                                       11 |
| B4                     |                                    7 |          13 | 771–840          |                                       10 |
| B4                     |                                    8 |          15 | 841–990          |                                        9 |
| B4                     |                                    9 |          17 | 991–1,130        |                                        8 |
| B4                     |                                   10 |          19 | 1,131–1,270      |                                        7 |
| B4                     |                                   11 |          23 | 1,271–1,560      |                                        6 |
| B4                     |                                   12 |          27 | 1,561–1,850      |                                        5 |
| B4                     |                                   13 |          34 | 1,851–2,350      |                                        4 |
| B4                     |                                   14 |          46 | 2,351–3,320      |                                        3 |
| B4                     |                                   15 |          69 | 3,321–4,870      |                                        2 |
| B4                     |                                    0 |           0 | 4,871–10,000     |                                        1 |
| 0                      |                                    1 |          13 | < 1,701          |                                       64 |
| 0                      |                                    2 |          15 | 1,701–1,980      |                                       55 |
| 0                      |                                    3 |          18 | 1,981–2,410      |                                       46 |
| 0                      |                                    4 |          22 | 2,411–2,980      |                                       38 |
| 0                      |                                    5 |          26 | 2,981–3,560      |                                       32 |
| 0                      |                                    6 |          32 | 3,561–4,410      |                                       26 |
| 0                      |                                    7 |          38 | 4,411–5,270      |                                       22 |
| 0                      |                                    8 |          46 | 5,271–6,420      |                                       18 |
| 0                      |                                    9 |          59 | 6,421–8,280      |                                       14 |
| 0                      |                                   10 |          76 | 8,281–10,710     |                                       11 |
| 0                      |                                   11 |          93 | 10,711–13,140    |                                        9 |
| 0                      |                                   12 |         119 | 13,141–16,860    |                                        7 |
| 0                      |                                   13 |         167 | 16,861–23,720    |                                        5 |
| 0                      |                                   14 |         279 | 23,721–39,740    |                                        3 |
| 0                      |                                   15 |         419 | 39,741–59,770    |                                        2 |
| 1                      |                                    1 |          13 | < 1,701          |                                       64 |
| 1                      |                                    2 |          15 | 1,701–1,980      |                                       55 |
| 1                      |                                    3 |          18 | 1,981–2,410      |                                       46 |
| 1                      |                                    4 |          22 | 2,411–2,980      |                                       38 |
| 1                      |                                    5 |          26 | 2,981–3,560      |                                       32 |
| 1                      |                                    6 |          32 | 3,561–4,410      |                                       26 |
| 1                      |                                    7 |          38 | 4,411–5,270      |                                       22 |
| 1                      |                                    8 |          46 | 5,271–6,420      |                                       18 |
| 1                      |                                    9 |          59 | 6,421–8,280      |                                       14 |
| 1                      |                                   10 |          76 | 8,281–10,710     |                                       11 |
| 1                      |                                   11 |          93 | 10,711–13,140    |                                        9 |
| 1                      |                                   12 |         119 | 13,141–16,860    |                                        7 |
| 1                      |                                   13 |         167 | 16,861–23,720    |                                        5 |
| 1                      |                                   14 |         279 | 23,721–39,740    |                                        3 |
| 1                      |                                   15 |         419 | 39,741–59,770    |                                        2 |
| 1                      |                                    0 |           0 | 59,771–100,000   |                                        1 |

(1)

The number of preambles for each RACH root sequences in each

cell depends on the cell range and the RACH Format B4 is the

default preamble format. For supported Low-Band formats, see

Feature Operation in Coverage Extension Low-Band.

(2)

To avoid high levels of false detection with preamble

format B4, it is not recommended to configure a cell

range that is less than 200

m.

Example 1   Cell Range Configuration with Unrestricted Set and a Total Number of 32 RACH

Preambles

If the value of the NRCellDU.cellRange attribute is set to

1,500 in a cell with preamble format B4, Table 9 shows that six preambles can be

created for each RACH root sequence. The number of required RACH root sequences

equals

. Applying the default value of 1 for the

NRCellDU.rachRootSequence attribute means that sequences 1,

2, 3, 4, 5, and 6 are to be used in that cell. The values of the

NRCellDU.rachRootSequence attributes in adjacent cells must

differ by at least 6 (7-12), and 132 (133-137, 0) at most. The reason for this is a

wrap-around between the first and the last value in the value range.

RACH root sequences numerical equation

![Image](../images/2_22104-LZA7016017_1Uen.DS/additional_3_CP.png)

Example 2   Cell Range Configuration with Unrestricted Set and a Total Number of 17 RACH

Preambles

If the value of the NRCellDU.cellRange attribute is set to

4,000 in a cell with format 0, the configured cell range is

between 4,410 m and 3,560 m. This corresponds to 6 as the value of the

zeroCorrelationZoneConfig, with an NCS value of

32. The maximum observable distance is the maximum cell range, 4,410 m. The range of

the NRCellDU.pmRadioRaCbFailMsg1Ooc PM counter is the difference

between 4,410 m and 4,000 m, which is 410 m.

Restricted Set of Cyclic Preamble Shifts

The High Speed UE Low/Mid-Band feature applies the restricted set of cyclic shifts

for preambles. The restricted set is only supported on PRACH preamble format 0 and

PRACH preamble format 1.

With restricted sets, only 16 CBRA preambles can be used, and the number of required

RACH root sequences is shown in Table 10

and Table 11.

Table 10   Cell Range and Number of RACH Root Sequences for Low-Band, Restricted Set

Type A

| PRACH Preamble Format   |   Value of zeroCorrelationZoneConfig |   NCS Value | Cell Range (m)   |   Number of Required RACH Root Sequences in Each Cell |
|-------------------------|--------------------------------------|-------------|------------------|-------------------------------------------------------|
| 0 or 1                  |                                    0 |          15 | < 1,991          |                                                     2 |
| 0 or 1                  |                                    1 |          18 | 1,992–2,420      |                                                     2 |
| 0 or 1                  |                                    2 |          22 | 2,421–2,990      |                                                     3 |
| 0 or 1                  |                                    3 |          26 | 2,991–3,560      |                                                     4 |
| 0 or 1                  |                                    4 |          32 | 3,561–4,420      |                                                     4 |
| 0 or 1                  |                                    5 |          38 | 4,421–5,280      |                                                     4 |
| 0 or 1                  |                                    6 |          46 | 5,281–6,420      |                                                     6 |
| 0 or 1                  |                                    7 |          55 | 6,421–7,710      |                                                     8 |
| 0 or 1                  |                                    8 |          68 | 7,711–9,570      |                                                     8 |
| 0 or 1                  |                                    9 |          82 | 9,571–11,570     |                                                     8 |
| 0 or 1                  |                                   10 |         100 | 11,571–14,150    |                                                    16 |
| 0 or 1                  |                                   11 |         128 | 14,151–18,150    |                                                    16 |
| 0 or 1                  |                                   12 |         158 | 18,151–22,440    |                                                    16 |
| 0 or 1                  |                                   13 |         202 | 22,441–28,740    |                                                    16 |
| 0 or 1                  |                                   14 |         237 | 28,741–33,740    |                                                    16 |

Table 11   Cell Range and Number of RACH Root Sequences for Low-Band, Restricted Set

Type B

| PRACH Preamble Format   |   Value of zeroCorrelationZoneConfig |   NCS Value | Cell Range (m)   |   Number of Required RACH Root Sequences in Each Cell |
|-------------------------|--------------------------------------|-------------|------------------|-------------------------------------------------------|
| 0 or 1                  |                                    0 |          15 | < 1,991          |                                                     4 |
| 0 or 1                  |                                    1 |          18 | 1,992–2,420      |                                                     4 |
| 0 or 1                  |                                    2 |          22 | 2,421–2,990      |                                                     6 |
| 0 or 1                  |                                    3 |          26 | 2,991–3,560      |                                                     6 |
| 0 or 1                  |                                    4 |          32 | 3,561–4,420      |                                                     8 |
| 0 or 1                  |                                    5 |          38 | 4,421–5,280      |                                                     8 |
| 0 or 1                  |                                    6 |          46 | 5,281–6,420      |                                                     8 |
| 0 or 1                  |                                    7 |          55 | 6,421–7,710      |                                                    16 |
| 0 or 1                  |                                    8 |          68 | 7,711–9,570      |                                                    16 |
| 0 or 1                  |                                    9 |          82 | 9,571–11,570     |                                                    16 |
| 0 or 1                  |                                   10 |         100 | 11,571–14,150    |                                                    16 |
| 0 or 1                  |                                   11 |         118 | 14,151–16,720    |                                                    16 |
| 0 or 1                  |                                   12 |         137 | 16,721–19,440    |                                                    16 |

### 8.1.2 Cell Range Configuration in Mid-Band

The NRCellDU.rachRootSequence attribute

configures the value of the first

prach-RootSequenceIndex

for RACH in the cell. PRACH resources overlap in the network. It is recommended to set

the NRCellDU.rachRootSequence attribute to different values in

neighboring cells to reduce the probability of false RACH detections. Different

preambles can be defined for different cells with the

NRCellDU.rachPreambleFormat attribute.

The number of required RACH root sequences in each cell

depends on the cell range and the total number of RACH preambles set for the cell. The

NRCellDU.cellRange attribute is used to set the cell range unless

it is done automatically. The NRCellDU.totalNoOfRaPreambles attribute

is used to set the total number of RACH preambles for the cell unless it is done

automatically.

NRCellDU.pmRadioRaCbFailMsg1Ooc Counter Range

Calculation

The NRCellDU.pmRadioRaCbFailMsg1Ooc counter measures the number of

CBRA preambles that are discarded because the timing offset of the preambles

corresponds to a distance that is greater than the configured cell range. This

observable distance is limited and depends on

zeroCorrelationZoneConfig, which controls the NCS

cyclic shift value used for the random access preamble generation. For more

information, see Section 6.3.3 in 3GPP TS 38.211 version 16.6.0.

The appropriate value of zeroCorrelationZoneConfig is selected

automatically for the configured cell range. Each value of

zeroCorrelationZoneConfig has a corresponding maximum cell

range, and this is the maximum observable distance of the counter for the given

configuration. The maximum observable distance of the counters is the closest bigger

maximum cell range value to the configured cell range. The timing offset TA of the

preamble can only be correctly calculated if the UE is in the observable

distance.

Unrestricted Set of Cyclic Preamble Shifts

The NR system applies the unrestricted set of cyclic shifts for preambles.

The number of required RACH root sequences for a cell can be calculated using the

following equation:

Where Preambles for each RACH Root Sequences is the number of preambles that can be

created by one RACH root sequence for a given cell range and RACH format. For the

applicable values, see Table 12.

Table 12   Example Configuration for Cell Range and

Number of RACH Root Sequences for Mid-Band, Unrestricted Set

| PRACH Preamble Format   |   Value of zeroCorrelationZoneConfig |   NCS Value | Cell Range (m)   |   Preambles for Each RACH Root Sequences |
|-------------------------|--------------------------------------|-------------|------------------|------------------------------------------|
| B4                      |                                    1 |           2 | < 21(1)          |                                       64 |
| B4                      |                                    2 |           4 | 21–90(1)         |                                       34 |
| B4                      |                                    3 |           6 | 91–160           |                                       23 |
| B4                      |                                    4 |           8 | 161–230          |                                       17 |
| B4                      |                                    5 |          10 | 231–300          |                                       13 |
| B4                      |                                    6 |          12 | 301–380          |                                       11 |
| B4                      |                                    7 |          13 | 381–410          |                                       10 |
| B4                      |                                    8 |          15 | 411–480          |                                        9 |
| B4                      |                                    9 |          17 | 481–560          |                                        8 |
| B4                      |                                   10 |          19 | 561–630          |                                        7 |
| B4                      |                                   11 |          23 | 631–770          |                                        6 |
| B4                      |                                   12 |          27 | 771–920          |                                        5 |
| B4                      |                                   13 |          34 | 921–1,170        |                                        4 |
| B4                      |                                   14 |          46 | 1,171–1,600      |                                        3 |
| B4                      |                                   15 |          69 | 1,601–2,430      |                                        2 |
| B4                      |                                    0 |           0 | 2,431–5,000      |                                        1 |
| 0                       |                                    1 |          13 | < 1,701          |                                       64 |
| 0                       |                                    2 |          15 | 1,701–1,980      |                                       55 |
| 0                       |                                    3 |          18 | 1,981–2,410      |                                       46 |
| 0                       |                                    4 |          22 | 2,411–2,980      |                                       38 |
| 0                       |                                    5 |          26 | 2,981–3,560      |                                       32 |
| 0                       |                                    6 |          32 | 3,561–4,410      |                                       26 |
| 0                       |                                    7 |          38 | 4,411–5,270      |                                       22 |
| 0                       |                                    8 |          46 | 5,271–6,420      |                                       18 |
| 0                       |                                    9 |          59 | 6,421–8,280      |                                       14 |
| 0                       |                                   10 |          76 | 8,281–10,710     |                                       11 |
| 0                       |                                   11 |          93 | 10,711–13,140    |                                        9 |
| 0                       |                                   12 |         119 | 13,141–16,860    |                                        7 |
| 0                       |                                   13 |         167 | 16,861–23,720    |                                        5 |
| 0                       |                                   14 |         279 | 23,721–39,740    |                                        3 |
| 0                       |                                   15 |         419 | 39,741–59,770    |                                        2 |
| 0                       |                                    0 |           0 | 59,771–100,000   |                                        1 |

(1)

To avoid high levels of false detection with preamble

format B4, it is not recommended to configure a cell

range that is less than 90

m.

Example 3   Cell Range Configuration with Unrestricted Set and a Total Number of 32 RACH

Preambles

If the value of the NRCellDU.cellRange attribute is set to

750 in a cell with preamble format B4, Table 12 shows that six preambles can be

created for each RACH root sequence. The required number of RACH root sequences

equals

. Applying the default value of 1 for the

NRCellDU.rachRootSequence attribute means that sequences 1,

2, 3, 4, 5, and 6 are to be used in that cell. The values of the

NRCellDU.rachRootSequence attributes in adjacent cells must

differ by at least 6 (7-12), and 135 (133-137, 0) at most. The reason for this is a

wrap-around between the first and the last value in the value range.

RACH root sequences numerical equation

![Image](../images/2_22104-LZA7016017_1Uen.DS/additional_3_CP.png)

Example 4   Cell Range Configuration with Unrestricted Set and a Total Number of 17 RACH

Preambles

If the value of the NRCellDU.cellRange attribute is set to

4,000 in a cell with format 0, the configured cell range is

between 4,410 m and 3,560 m. This corresponds to 6 as the value of the

zeroCorrelationZoneConfig, with an NCS value of

32. The maximum observable distance is the maximum cell range, 4,410 m. The range of

the NRCellDU.pmRadioRaCbFailMsg1Ooc PM counter is the difference

between 4,410 m and 4,000 m, which is 410 m.

Restricted Set of Cyclic Preamble Shifts

The High Speed UE Low/Mid-Band feature applies the restricted

set of cyclic shifts for preambles. The restricted set is only supported on PRACH

preamble format 0.

With restricted sets, only 16 CBRA preambles can be used, and the number of required

RACH root sequences is shown in Table 13

and Table 14.

Table 13   Cell Range and Number of RACH Root Sequences for Mid-Band, Restricted Set

Type A

|   PRACH Preamble Format |   Value of zeroCorrelationZoneConfig |   NCS Value | Cell Range (m)   |   Number of Required RACH Root Sequences in Each Cell |
|-------------------------|--------------------------------------|-------------|------------------|-------------------------------------------------------|
|                       0 |                                    0 |          15 | < 1,991          |                                                     2 |
|                       0 |                                    1 |          18 | 1,992–2,420      |                                                     2 |
|                       0 |                                    2 |          22 | 2,421–2,990      |                                                     3 |
|                       0 |                                    3 |          26 | 2,991–3,560      |                                                     4 |
|                       0 |                                    4 |          32 | 3,561–4,420      |                                                     4 |
|                       0 |                                    5 |          38 | 4,421–5,280      |                                                     4 |
|                       0 |                                    6 |          46 | 5,281–6,420      |                                                     6 |
|                       0 |                                    7 |          55 | 6,421–7,710      |                                                     8 |
|                       0 |                                    8 |          68 | 7,711–9,570      |                                                     8 |
|                       0 |                                    9 |          82 | 9,571–11,570     |                                                     8 |
|                       0 |                                   10 |         100 | 11,571–14,150    |                                                    16 |
|                       0 |                                   11 |         128 | 14,151–18,150    |                                                    16 |
|                       0 |                                   12 |         158 | 18,151–22,440    |                                                    16 |
|                       0 |                                   13 |         202 | 22,441–28,740    |                                                    16 |
|                       0 |                                   14 |         237 | 28,741–33,740    |                                                    16 |

Table 14   Cell Range and Number of RACH Root Sequences for Mid-Band, Restricted Set

Type B

|   PRACH Preamble Format |   Value of zeroCorrelationZoneConfig |   NCS Value | Cell Range (m)   |   Number of Required RACH Root Sequences in Each Cell |
|-------------------------|--------------------------------------|-------------|------------------|-------------------------------------------------------|
|                       0 |                                    0 |          15 | < 1,991          |                                                     4 |
|                       0 |                                    1 |          18 | 1,992–2,420      |                                                     4 |
|                       0 |                                    2 |          22 | 2,421–2,990      |                                                     6 |
|                       0 |                                    3 |          26 | 2,991–3,560      |                                                     6 |
|                       0 |                                    4 |          32 | 3,561–4,420      |                                                     8 |
|                       0 |                                    5 |          38 | 4,421–5,280      |                                                     8 |
|                       0 |                                    6 |          46 | 5,281–6,420      |                                                     8 |
|                       0 |                                    7 |          55 | 6,421–7,710      |                                                    16 |
|                       0 |                                    8 |          68 | 7,711–9,570      |                                                    16 |
|                       0 |                                    9 |          82 | 9,571–11,570     |                                                    16 |
|                       0 |                                   10 |         100 | 11,571–14,150    |                                                    16 |
|                       0 |                                   11 |         118 | 14,151–16,720    |                                                    16 |
|                       0 |                                   12 |         137 | 16,721–19,440    |                                                    16 |

### 8.1.3 Cell Range Configuration in High-Band

The UE is configured with eight possible preambles in each RACH occasion and cell. The

preamble format is A3 or C2.

The zeroCorrelationZoneConfig attribute is set to 0

in High-Band to maximize the cell range. No cyclic shift is used. Only contention-based

preambles are configured, CFRA preambles are not supported.

The prach-RootSequenceIndex can be set to values from 0 to 137. Each

cell requires eight logical root sequence index instances of the 138 possible values in

High-Band to generate eight preambles. The NRCellDU.rachRootSequence

attribute must be configured in a way that the 138 values are distributed evenly among

the cells. When setting the NRCellDU.rachRootSequence attribute, the

value must increase by eight in each subsequent cell. A

specificprach-RootSequenceIndex instance is reused every 17th

cell.

Table 15   Number of Root Sequences Required in Each High-Band Cell

| Preamble Format   |   Value of zeroCorrelationZoneConfig |   Preamble Sequences in Each Root Sequence |   Root Sequences Required in Each Cell | Root Sequence Reuse Pattern                     | Cell Range                                 (m)   |
|-------------------|--------------------------------------|--------------------------------------------|----------------------------------------|-------------------------------------------------|--------------------------------------------------|
| A3                |                                    0 |                                          1 |                                      8 | Reuse of root sequence index in every 17th cell | 1,250(1) 6,901–14,000(2)                         |
| C2                |                                    0 |                                          1 |                                      8 | Reuse of root sequence index in every 17th cell | 6,900(2)                                         |

(1)

The cell range represents preamble reception with correct

Time of Arrival calculation. It does not consider other cell

range limitations such as the required gap symbols between

downlink and uplink.

(2)

To obtain a cell range of 6.9

km

or above, additional gap symbols between

downlink and uplink must be configured. This can be achieved

through the introduction of new special slot patterns.