---
complexity_score: 14.0
converted_at: '2025-08-13T06:59:11.197897Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 4
images_saved: 3
original_path: 232_22104-LZA7016017_1Uen.S33B.html
pictures_extracted: 4
processing_method: docling_multimodal
quality_score: 9.0
source_file: 232_22104-LZA7016017_1Uen.S33B.html
source_zip: en_lzn7931071_r38f.zip
tables_extracted: 12
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 2796
---

# 

Service-Adaptive Uplink User Plane Profile

Contents

![Image](../images/232_22104-LZA7016017_1Uen.S33B/additional_3_CP.png)

![Image](../images/232_22104-LZA7016017_1Uen.S33B/additional_3_CP.png)

- Overview
- Dependencies
- Feature Operation
    - Coverage-Based Initial Uplink Primary Path
        - PSCell Uplink Measurements Used at Initial Uplink Primary Path Selection
        - Initial Primary Uplink Path Selection at Secondary Node Terminated Split DRB Setup
        - Initial Uplink Primary Path Selection at Secondary Node Terminated Split DRB Addition
        - Initial Primary Uplink Path Selection Without Available Measurements
    - Uplink Primary Path Mode
    - Coverage-Based Uplink PDCP Aggregation Data Split Threshold
    - Default Configuration
    - 5QI-Level Configuration
    - UE-Specific Configuration
- Network Impact
- Parameters
- Performance
- Activate
- Deactivate
- Engineering Guidelines for Service-Adaptive Uplink User Plane Profile
    - Deprecation Handling
- Appendix: Feature Change History
    - Appendix: 25.Q1.2: Coverage-Dependent Bearer-Specific Uplink PDCP Aggregation and Cell Group Switching

# 1 Service-Adaptive Uplink User Plane Profile Overview

This

feature introduces customizable uplink aggregation

configurations

and uplink cell group switching configurations on the 5QI

level.

| Feature Name           | Service-Adaptive Uplink User Plane Profile                                         |
|------------------------|------------------------------------------------------------------------------------|
| Feature Identity       | FAJ 121 5775                                                                       |
| Value Package Name     | 5G Advanced Differentiated Connectivity                                            |
| Value Package Identity | FAJ 801 4030                                                                       |
| Node Type              | Baseband Radio Node                                                                |
| Access Type            | NR                                                                                 |
| Licensing              | License-controlled 								feature. One license is required for each 								node. |

Summary

This

feature allows for improved uplink cell group switching and uplink PDCP aggregation

configuration on the DRB level. Uplink cell group switching and uplink PDCP

aggregation can be

configured

on the UE group level through the UE Grouping Framework

feature.

This feature has the following benefits:

- Customizable properties for uplink cell group switching and uplink PDCP aggregation for each enabled UE group
- Performance impact observability on the UE group level
- Separate configurations for the following parameters: The uplink cell group switching function can be configured for each QCI and 5QI The initial uplink primary path for uplink cell group switching can be selected based on the PSCell coverage in EN-DC and NR-DC deployments The uplink PDCP aggregation function can be configured for each QCI and 5QI The uplink PDCP aggregation threshold can be differentiated when uplink coverage quality is low and the primary path is SCG Low quality threshold for the uplink radio quality SINR measurement Low quality hysteresis for the uplink radio quality SINR measurement
- Customizable optimization for the following aspects of performance: Improved coverage Maximized throughput Reduced latency Stable latency

# 2 Dependencies of Service-Adaptive Uplink User Plane Profile

This

feature has dependencies to features related to dual connectivity.

Feature Dependencies

Table 1   Feature Dependencies

![Image](../images/232_22104-LZA7016017_1Uen.S33B/additional_3_CP.png)

![Image](../images/232_22104-LZA7016017_1Uen.S33B/additional_3_CP.png)

| Feature Name                                                      | Feature Identity   | Access Type   | Relationship   | Relationship Scope      | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|-------------------------------------------------------------------|--------------------|---------------|----------------|-------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| LTE-NR Dual Connectivity                                          | FAJ 121 4908       | NR            | Prerequisite   | Node-level prerequisite | The LTE-NR Dual Connectivity feature is required for                 configuring the following functions of Secondary Node-terminated split DRBs for                 EN-DC UEs:  The initial primary path of uplink user plane data     The switching of uplink MCG and SCG radio resources      If the Service-Adaptive Uplink User Plane Profile feature                 is active, it is possible to define UE-specific and QCI-specific configurations for                 these functions. |
| NR-NR Dual Connectivity                                           | FAJ 121 5380       | NR            | Prerequisite   | Node-level prerequisite | The NR-NR Dual Connectivity feature is required for configuring the following                 functions of Secondary Node-terminated split DRBs for NR-DC UEs:  The initial primary path of uplink user plane data     The switching of uplink MCG and SCG radio resources      If the Service-Adaptive Uplink User Plane Profile feature is active, it is possible                 to define UE-specific and 5QI-specific configurations for these functions.                                  |
| LTE-NR Uplink                                         Aggregation | FAJ 121 5091       | NR            | Related        |                         | If the Service-Adaptive Uplink User                                     Plane Profile feature is active, it is possible to define the                                     following UE-specific configurations and 5QI-level                                     configurations for the following functions:  Inital primary path of uplink user plane data     Uplink cell group switching     Uplink PDPC aggregation                                                                         |
| UE Grouping Framework                                             | FAJ 121 5314       | NR            | Related        |                         | If the UE Grouping Framework feature is active, it is possible to                                     configure the threshold for                                     uplink                                     cell group switching on the UE group                                     level.                                                                                                                                                                                                |

Hardware

This

feature is only supported on RAN compute

units

in RAN Compute groups 4 and 5. The feature must not be activated on RAN compute

units

in RAN Compute group 6 to prevent performance degradation.

The Service-Adaptive Uplink User Plane Profile feature must be disabled on the

Secondary Node if one of the following conditions apply:

- The software version of the Master Node is earlier than 25.Q1.
- The Master Node belongs to RAN Compute groups 1, 2, or 3.

If the feature is not disabled, the Master Node rejects the cell group

configuration requested by the Secondary Node by sending one of the following

messages:

- X2AP SgNB Modification Refuse
- XnAP S-Node Modification Refuse

The cell group configuration request is refused if it does not contain all the

Secondary Node terminated split DRBs.

If the UE is still connected and active for more than 200 ms, the following messages

are sent to attempt to modify the primary uplink path:

- X2AP SgNB Modification Required
- XnAP S-Node Modification Required

The attempts to modify the primary uplink path increases some of the following

EBS counters in the Secondary Node, depending on whether the primary uplink path is

required to switch to MCG or to SCG, respectively:

- pmEbsEndcPrimaryCgSwitchUlMcgTrigger2
- pmEbsEndcPrimaryCgSwitchUlMcgTrigger2Qci
- pmEbsEndcPrimaryCgSwitchUlScgTrigger2
- pmEbsEndcPrimaryCgSwitchUlScgTrigger2Qci
- pmEbsNrdcPrimaryCgSwitchUlMcgTrigger2
- pmEbsNrdcPrimaryCgSwitchUlMcgTrigger25qi
- pmEbsNrdcPrimaryCgSwitchUlScgTrigger2
- pmEbsNrdcPrimaryCgSwitchUlScgTrigger25qi

This process is repeated until the DRB is released.

Limitations

No known limitations.

Network Requirements

It is recommended to use ENM version 24.4 or later to support the

MOM changes introduced by this feature. If the Release Independence Manager

application is used, the MOM changes are supported on earlier ENM versions also.

# 3 Feature Operation of Service-Adaptive Uplink User Plane Profile

The

feature introduces support for UE group-differentiated user plane configuration, uplink cell

group switching, and uplink PDCP

aggregation.

The following attributes control the uplink radio quality SINR measurement:

- The UlCgSwitchCfg.ulScgLowQualHyst attribute controls the low quality hysteresis.
- The UlCgSwitchCfg.ulScgLowQualThresh attribute controls the low quality threshold.
- The UlCgSwitchCfg.ulCgSwitchMode attribute controls the status of uplink cell group switching.

The UE Grouping Framework feature can be used for UE group-level threshold configurations

for the uplink cell group switching on the DRB level.

The

uplink cell group switching and uplink PDCP aggregation functions can also be configured

on the DRB level. If the license for the

Service-Adaptive

Uplink User Plane Profile feature is not present in the node, only

the base configuration is used.

The

following MO classes contain the base configuration

instances:

- DrbUeCfg
- InitialCgUeCfg
- UlCgSwitchUeCfg
- UlDataSplitUeCfg

The following attributes can be used to select the UE group configuration:

- InitialCg.ueConfGroupType
- InitialCgUeCfg.prefUeGroupList
- InitialCgUeCfg.ueConfGroupList
- InitialCgUeCfg.ueGroupList
- UlCgSwitch.ueConfGroupType
- UlCgSwitchUeCfg.prefUeGroupList
- UlCgSwitchUeCfg.ueConfGroupList
- UlCgSwitchUeCfg.ueGroupList
- UlDataSplit.ueConfGroupType
- UlDataSplitUeCfg.prefUeGroupList
- UlDataSplitUeCfg.ueConfGroupList
- UlDataSplitUeCfg.ueGroupList
- UserPlaneProfileUeCfg.ulPdcpScgRetProhibitTime

The feature can use RSRP measurements to determine the threshold for selecting the uplink

primary path and the initial cell group selection between EN-DC and NR-DC. The following

attributes control the configuration of the RSRP threshold:

- DcUlCfg.ulPrimaryPathMode
- InitialCgUeCfg.ulScgInitialLowRsrpThresh
- UlDataSplitUeCfg.initialUlPrimaryPathMode
- UlDataSplitUeCfg.ulDataSplitThreshMcg
- UlDataSplitUeCfg.ulDataSplitThreshScg
- UlDataSplitUeCfg.ulDataSplitThreshScgLow

Operational Process

1. At least one UE group definition is configured.
2. At least one non-default MO instance of one or both of the following MO classes is configured: DcUlCfg UlCgSwitchCfg
3. Optionally, the non-default instances of the following MO instances are created: Drb InitialCg UlCgSwitch UlDataSplit UserPlaneProfile
4. At least one non-base MO instance of one or more of the following MO classes is configured: DrbUeCfg InitialCgUeCfg UlDataSplitUeCfg UlCgSwitchUeCfg UserPlaneProfileUeCfg
5. In one or more instances of the MO classes listed in 4, the target UE group IDs are added to the following attributes: prefUeGroupList ueConfGroupList ueGroupList
6. The following reference attributes are set to the previously created non-default MO instances: DrbUeCfg.dcUlCfgRef UlCgSwitchUeCfg.ulCgSwitchCfgRef
7. Optionally, the following reference attributes are set to the previously created non-default MO instances: CUUP5qi.drbRef CUCP5qi.endcUlDataSplitRef CUCP5qi.nrdcUlDataSplitRef NRCellCU.endcInitialCgRef NRCellCU.nrdcInitialCgRef NRCellDU.endcUlCgSwitchRef NRCellDU.nrdcUlCgSwitchRef
8. The UE Group Evaluation is performed according to the UE Grouping Framework feature.
9. The UE configuration is selected based on the Algorithm for Selection of MO Class Instances Based on UE Groups process. For more information, see UE Grouping Framework. For the UlCgSwitchUeCfg and DrbUeCfg MO classes, the functional configuration is defined in the MO instances referenced by the following attributes: DrbUeCfg.dcUlCfgRef UlCgSwitchUeCfg.ulCgSwitchCfgRef
10. The configuration is applied to the UE or the DRB.

Figure 1 shows the different

UlCgSwitch configurations for different UE groups.

Figure 1   UlCgSwitch Configurations

Figure 2 shows the different

UlDataSplit and InitialCg configurations

for different UE groups.

Figure 2   UlDataSplit and InitialCg Configurations

Figure 3 shows the different

DrbUeCfg configurations for different UE groups.

Figure 3   UlDataSplit and InitialCg Configurations

## 3.1 Coverage-Based Initial Uplink Primary Path

The initial uplink primary path defines which cell group is used for uplink transmission

after a Secondary Node terminated split bearer is set up.

The UlDataSplitUeCfg.initialUlPrimaryPathMode attribute can be used

to

configure the initial uplink primary path. The initial uplink primary

path is determined based on the value of the

UlDataSplitUeCfg.initialUlPrimaryPathMode attribute and the

following conditions:

- When the value is set to MCG, MCG is used as the initial uplink primary path.
- When the value is set to SCG, SCG is used as the initial uplink primary path.
- When the value is set to COVERAGE\_BASED and the Service-Adaptive Uplink User Plane Profile feature is deactivated, SCG is used as the initial uplink primary path.
- When the value is set to COVERAGE\_BASED and the Service-Adaptive Uplink User Plane Profile feature is activated, the initial uplink primary path is selected based on the RSRP or SINR level of the PCell .

### 3.1.1 PSCell Uplink Measurements Used at Initial Uplink Primary Path Selection

If the following conditions are

fulfilled, the initial uplink primary path is selected based on the

RSRP or SINR level of the

PCell:

- The value of the UlDataSplitUeCfg.initialUlPrimaryPathMode attribute is set to COVERAGE\_BASED.
- The Service-Adaptive Uplink User Plane Profile feature is activated.

If available, the uplink SINR of the PSCell

is

used. Otherwise, the PSCell RSRP is used. If neither

measurement

is available, SCG is selected as the initial uplink primary path.

The PSCell uplink SINR is constantly measured for UEs with split DRBs.

The PSCell RSRP is optionally reported by the UE with the following methods:

- In the candidateCellInfoListMN IE or the candidateCellInfoListSN IE, which are included in the CG-ConfigInfo IE
- In an RRC Measurement Report

In an EN-DC setup, the following

procedures

can include the RSRP measurement:

- Secondary gNodeB addition for initial EN-DC setup
- Secondary Node change
- Secondary gNodeB addition at Master eNodeB handover without PSCell change
- Master eNodeB-initiated Secondary gNodeB modification to add SCG

In an NR-DC setup, the following procedures can include the RSRP measurement:

- Secondary Node addition for initial NR-DC setup
- Intra-NR handover with immediate NR-DC setup
- Secondary Node addition for Secondary Node change
- Intra-gNodeB PSCell change

### 3.1.2 Initial Primary Uplink Path Selection at Secondary Node Terminated Split DRB Setup

TheInitialCgUeCfg.ulScgInitialLowRsrpThresh

attribute defines the low RSRP threshold for the RSRP level of the target PSCell. The

threshold is applied for initial uplink primary path selection during the setup of a

Secondary Node terminated split DRB when the following conditions are

fulfilled:

- The value of the UlDataSplitUeCfg.initialUlPrimaryPathMode attribute is set to COVERAGE\_BASED.

- The Service-Adaptive Uplink User Plane Profile feature is activated.

In this case, if the PSCell RSRP level is above the threshold defined through the

InitialCgUeCfg.ulScgInitialLowRsrpThresh

attribute, SCG is selected as the uplink primary path. Otherwise, MCG is selected as the

uplink primary path.

The InitialCgUeCfg.ulScgInitialLowRsrpThresh attribute can be

configured separately for EN-DC and NR-DC with the following attributes:

- NRCellCU.endcInitialCgRef
- NRCellCU.nrdcInitialCgRef

### 3.1.3 Initial Uplink Primary Path Selection at Secondary Node Terminated Split DRB Addition

When

the following conditions are

fulfilled,

the initial uplink primary path is configured according to the uplink SINR of the PSCell

during the addition of a Secondary Node terminated split DRB:

- The value of the UlDataSplitUeCfg.initialUlPrimaryPathMode attribute is set to COVERAGE\_BASED.
- The Service-Adaptive Uplink User Plane Profile feature is activated.

In this case, if the PSCell uplink quality level is above the sum of the value of the

UlCgSwitchCfg.ulScgLowQualThresh and the

UlCgSwitchCfg.ulScgLowQualHyst attributes, SCG is selected as the

uplink primary path. If the PSCell uplink quality is below the

value

of the UlCgSwitchCfg.ulScgLowQualThresh attribute, MCG is selected as

the uplink primary path.

### 3.1.4 Initial Primary Uplink Path Selection Without Available Measurements

When

the following conditions are

fulfilled,

the Secondary Node terminated split DRBs have

the

initial uplink primary path set to SCG:

- The value of the UlDataSplitUeCfg.initialUlPrimaryPathMode attribute is set to COVERAGE\_BASED.
- Neither PSCell RSRP nor PSCell uplink SINR quality measurements are available.
- The Service-Adaptive Uplink User Plane Profile feature is activated.

In EN-DC, the Secondary Node addition procedure can be

performed

in one of the following ways:

- The procedure is configuration-based, which means that a blind setup is performed to a pre-configured NR cell. In this use case, if the value of the UlDataSplitUeCfg.initialUlPrimaryPathMode attribute is set to COVERAGE\_BASED, SCG is used as the initial uplink primary path.
- The procedure is measurement-based, which means that UE measurements detect and report coverage from NR cells.

In NR-DC, the Secondary Node addition procedure is always measurement-based.

The PSCell uplink SINR is not available under the following conditions:

- There are no changes to the PSCell coverage after the Secondary Node terminated split DRB is set up.
- Uplink cell group switching is disabled on the NRCellDU level.

## 3.2 Uplink Primary Path Mode

The uplink primary path mode defines how the Secondary Node terminated split DRB behaves

when

the

uplink quality of the PSCell changes.

When the Service-Adaptive Uplink User Plane Profile feature is activated, the uplink

primary path mode can be configured

through

the DcUlCfg.ulPrimaryPathMode attribute. The following configurations

are possible

through

the attribute:

- When the value of the attribute is set to MCG, MCG is used as the uplink primary path in both good and poor radio conditions.
- When the value of the attribute is set to SCG, the uplink primary path is determined in the following way: SCG is used if the PSCell uplink quality is above the sum of the values of the UlCgSwitchCfg.ulScgLowQualThresh and the UlCgSwitchCfg.ulScgLowQualHyst attributes. MCG is used if the PSCell uplink quality is below the value of the UlCgSwitchCfg.ulScgLowQualThresh attribute.
- When the value of the attribute is KEEP\_SCG, SCG is used as the uplink primary path in both good and poor radio conditions.

When the Service-Adaptive Uplink User Plane Profile feature is deactivated, the uplink

primary path mode

cannot

be configured. In this case, uplink cell group switching occurs

based

on the PSCell uplink quality, regardless of the value of the

DcUlCfg.ulPrimaryPathMode attribute.

## 3.3 Coverage-Based Uplink PDCP Aggregation Data Split Threshold

When

the DcUlCfg.ulPrimaryPathMode attribute is set to

KEEP\_SCG, SCG is used as the uplink primary path in both good and

poor

PSCell uplink quality conditions. In this case, MCG can still be used for uplink PDCP

aggregation if the data buffered in the UE is above the uplink data split threshold.

When the SCG is expected to have approximately the same throughput as the

MCG,

it

can be useful to configure a lower SCG split threshold at

poor

coverage.

When the Service-Adaptive Uplink User Plane Profile feature is activated and the uplink

primary path is SCG, the following uplink data split thresholds are applied:

- The value of the UlDataSplitUeCfg.ulDataSplitThreshScg attribute is used when any of the following conditions is fulfilled: The PSCell uplink quality is above the sum of the value of the UlCgSwitchCfg.ulScgLowQualThresh and the UlCgSwitchCfg.ulScgLowQualHyst attributes. The RSRP level is above the threshold defined by the InitialCgUeCfg.ulScgInitialLowRsrpThresh attribute. Neither the PSCell uplink quality nor the RSRP level measurements are available.
- The value of the UlDataSplitUeCfg.ulDataSplitThreshScgLow attribute is used when any of the following conditions are fulfilled: The PSCell uplink quality is below the value of the UlCgSwitchCfg.ulScgLowQualThresh attribute. The RSRP level is below the threshold defined by the InitialCgUeCfg.ulScgInitialLowRsrpThresh attribute.

When PSCell uplink SINR is not available, RSRP is used instead.

When the Service-Adaptive Uplink User Plane Profile feature is deactivated and the value

of the DcUlCfg.ulPrimaryPathMode attribute

is

set to KEEP\_SCG, only the value of the

UlDataSplitUeCfg.ulDataSplitThreshScg attribute is applied,

regardless of the PSCell coverage level.

## 3.4 Default Configuration

Some

of the MO instances are automatically created, and

the

corresponding reference attributes are automatically set, unless

the

MO instances are manually created and set.

Default Configuration for gNodeB-CU-CP

The following

instances

are automatically created:

- InitialCg=Default
- InitialCgUeCfg=Base
- UlDataSplit=Default\_endc
- UlDataSplit=Default\_nrdc
- UlDataSplitUeCfg=Base under UlDataSplit=Default\_endc
- UlDataSplitUeCfg=Base under UlDataSplit=Default\_nrdc

Figure 4 shows the default values of the

automatically created

instances.

Figure 4   Default Values under the UlDataSplit and InitialCg MO Classes

When

deprecation handling is disabled by setting the

GNBCUCPFunction.servAdapUPProfDepHEnabled attribute to

false, the reference attributes listed in Table 2 are automatically set, unless

the

attributes are manually

configured

to refer to another MO instance.

Table 2   Reference Attributes and MO Instances

| Reference Attribute        | MO Instance That the Reference Attribute Is Automatically Set                                         To   |
|----------------------------|------------------------------------------------------------------------------------------------------------|
| NRCellCU.endcCgSwitchRef   | InitialCg=Default                                                                                          |
| NRCellCU.nrdcCgSwitchRef   | InitialCg=Default                                                                                          |
| CUCP5qi.endcUlDataSplitRef | UlDataSplit=Default_endc                                                                                   |
| CUCP5qi.nrdcUlDataSplitRef | UlDataSplit=Default_nrdc                                                                                   |

Default Configuration for gNodeB-CU-UP

The following instances are automatically created:

- DcUlCfg=Default
- Drb=Default\_application\_signaling
- Drb=Default\_conversational\_media
- Drb=Default\_other
- DrbUeCfg=Base under Drb=Default\_application\_signaling
- DrbUeCfg=Base under Drb=Default\_conversational\_media
- DrbUeCfg=Base under Drb=Default\_other
- UserPlaneProfile=Default
- UserPlaneProfileUeCfg=Base

The reference attributes are automatically set for the following 5QIs if the

CUUP5qi.drbRef attribute is not configured

manually:

- The Default\_application\_signaling parameter 5QI is set for 5 or 69.
- The Default\_conversational\_media parameter 5QI is set for 1, 65, or 66.
- The Default\_other parameter 5QI is set for all other 5QIs.

Figure 5 and Figure 6 show the default values of the

automatically created instances.

Figure 5   Default Values under the UserPlaneProfile MO Class

Figure 6   Default Values under the CUUP5qi MO Class

The

DrbUeCfg.dcUlCfgRef attribute is set to DcUlCfg = Default, unless

the

attribute is configured manually.

For information on

downlink

attributes, see NR Service-Adaptive User Plane Profile.

Default Configuration for gNodeB-DU

The following MO instances are automatically created:

- UlCgSwitch=Default
- UlCgSwitchCfg=Default
- UlCgSwitchUeCfg=Base

Figure 7 shows the default values of the

automatically created instances.

Figure 7   Automatic Setting of Attributes

When deprecation handling is disabled by setting the

GNBDUFunction.servAdapUPProfDepHEnabled attribute to

false, the

reference

attributes listed in Table 3 are

automatically set, unless

the

attributes are manually

configured

to refer to another MO instance.

Table 3   Reference Attributes and MO Instances

| Reference Attribute              | MO Instance That the Reference Attribute Is Automatically Set                                         To   |
|----------------------------------|------------------------------------------------------------------------------------------------------------|
| NRCellDU.endcUlCgSwitchRef       | UlCgSwitch=Default                                                                                         |
| NRCellDU.nrdcUlCgSwitchRef       | UlCgSwitch=Default                                                                                         |
| UlCgSwitchUeCfg.ulCgSwitchCfgRef | UlDataSplit=Default_endc                                                                                   |

## 3.5 5QI-Level Configuration

When the Service-Adaptive Uplink User Plane Profile feature is activated, the initial

uplink primary path and the uplink split threshold can be configured separately on the

5QI level

through

the following attributes:

- The CUCP5qi.endcUlDataSplitRef attribute is used for EN-DC.
- The CUCP5qi.nrdcUlDataSplitRef attribute is used for NR-DC.

When the Service-Adaptive Uplink User Plane Profile feature is deactivated, the

UlDataSplit=Default\_endc

and UlDataSplit=Default\_nrdc instances are applied for all

CUCP5qi MO

instances

for EN-DC and NR-DC, respectively. The CUCP5qi.endcUlDataSplitRef and

the CUCP5qi.nrdcUlDataSplitRef attributes are ignored in this

case.

When the Service-Adaptive Uplink User Plane Profile feature is activated, the uplink

primary path mode is configured on the 5QI level with the following attributes:

- CUUP5qi.drbRef
- DrbUeCfg.dcUlCfgRef

When the Service-Adaptive Uplink User Plane Profile feature is deactivated, the used

uplink primary path mode is SCG for all 5QIs. The referenced DcUlCfg

instance is ignored in this case.

## 3.6 UE-Specific Configuration

This feature implements UE grouping on the following levels to select UE and DRB-level

uplink user-plane configurations:

- gNodeB-CU-CP
- gNodeB-CU-UP
- gNodeB-DU

Different UEs can have different configurations for the same 5QI. In this case, the

following

conditions

must be fulfilled:

- The license is activated.
- Multiple UE configurations must be created.

# 4 Network Impact of Service-Adaptive Uplink User Plane Profile

The

performance of

uplink

cell group

switchinge

can be improved with the UE Grouping Framework

feature.

Capacity and Performance

The feature improves

the

performance of

uplink

cell group

switching

for each UE group configured with the UE Grouping Framework feature.

Interfaces

No impact.

Other Network Elements

No impact.

# 5 Parameters for Service-Adaptive Uplink User Plane Profile

The feature introduces attributes related to

uplink

cell group switching.

Table 4   Parameters

| Parameter                                   | Type       | Description                                              |
|---------------------------------------------|------------|----------------------------------------------------------|
| CUCP5qi.endcUlDataSplitRef                  | Introduced | See MOM description.                                     |
| CUCP5qi.nrdcUlDataSplitRef                  | Introduced | See MOM description.                                     |
| DcUlCfg.dcUlCfgId                           | Introduced | See MOM description.                                     |
| DcUlCfg.reservedBy                          | Introduced | See MOM description.                                     |
| DcUlCfg.ulPrimaryPathMode                   | Introduced | See MOM description.                                     |
| DcUlCfg.userLabel                           | Introduced | See MOM description.                                     |
| GNBCUCPFunction.servAdapUPProfUlDepHEnabled | Introduced | See MOM description.                                     |
| GNBCUUPFunction.servAdapUPProfUlDepHEnabled | Introduced | See MOM description.                                     |
| InitialCg.initialCgId                       | Introduced | See MOM description.                                     |
| InitialCg.reservedBy                        | Introduced | See MOM description.                                     |
| InitialCg.ueConfGroupType                   | Introduced | See MOM description.                                     |
| InitialCg.userLabel                         | Introduced | See MOM description.                                     |
| InitialCgUeCfg.initialCgUeCfgId             | Introduced | See MOM description.                                     |
| InitialCgUeCfg.prefUeGroupList              | Introduced | See MOM description.                                     |
| InitialCgUeCfg.ueConfGroupList              | Introduced | See MOM description.                                     |
| InitialCgUeCfg.ueGroupList                  | Introduced | See MOM description.                                     |
| InitialCgUeCfg.ulScgInitialLowRsrpThresh    | Introduced | See MOM description.                                     |
| InitialCgUeCfg.userLabel                    | Introduced | See MOM description.                                     |
| NRCellCU.endcInitialCgRef                   | Introduced | See MOM description.                                     |
| NRCellCU.nrdcInitialCgRef                   | Introduced | See MOM description.                                     |
| NRCellDU.endcUlCgSwitchRef                  | Introduced | See MOM description.                                     |
| NRCellDU.nrdcUlCgSwitchRef                  | Introduced | See MOM description.                                     |
| UlCgSwitch.reservedBy                       | Introduced | See MOM description.                                     |
| UlCgSwitch.ueConfGroupType                  | Introduced | See MOM description.                                     |
| UlCgSwitch.ulCgSwitchId                     | Introduced | See MOM description.                                     |
| UlCgSwitch.userLabel                        | Introduced | See MOM description.                                     |
| UlCgSwitchCfg.reservedBy                    | Introduced | See MOM description.                                     |
| UlCgSwitchCfg.ulCgSwitchCfgId               | Introduced | See MOM description.                                     |
| UlCgSwitchCfg.ulCgSwitchMode                | Introduced | See MOM description.                                     |
| UlCgSwitchUeCfg.ulCgSwitchUeCfgId           | Introduced | See MOM description.                                     |
| UlCgSwitchCfg.ulScgLowQualHyst              | Introduced | See MOM description.                                     |
| UlCgSwitchCfg.ulScgLowQualThresh            | Introduced | See MOM description.                                     |
| UlCgSwitchCfg.userLabel                     | Introduced | See MOM description.                                     |
| UlCgSwitchUeCfg.prefUeGroupList             | Introduced | See MOM description.                                     |
| UlCgSwitchUeCfg.ueConfGroupList             | Introduced | See MOM description.                                     |
| UlCgSwitchUeCfg.ueGroupList                 | Introduced | See MOM description.                                     |
| UlCgSwitchUeCfg.ulCgSwitchCfgRef            | Introduced | See MOM description.                                     |
| UlCgSwitchUeCfg.userLabel                   | Introduced | See MOM description.                                     |
| UlDataSplitUeCfg.initialUlPrimaryPathMode   | Introduced | See MOM description.                                     |
| UlDataSplit.reservedBy                      | Introduced | See MOM description.                                     |
| UlDataSplit.ueConfGroupType                 | Introduced | See MOM description.                                     |
| UlDataSplit.ulDataSplitId                   | Introduced | See MOM description.                                     |
| UlDataSplit.userLabel                       | Introduced | See MOM description.                                     |
| UlDataSplitUeCfg.prefUeGroupList            | Introduced | See MOM description.                                     |
| UlDataSplitUeCfg.ueConfGroupList            | Introduced | See MOM description.                                     |
| UlDataSplitUeCfg.ueGroupList                | Introduced | See MOM description.                                     |
| UlDataSplitUeCfg.ulDataSplitUeCfgId         | Introduced | See MOM description.                                     |
| UlDataSplitUeCfg.ulDataSplitThreshMcg       | Introduced | See MOM                                     description. |
| UlDataSplitUeCfg.ulDataSplitThreshScg       | Introduced | See MOM description.                                     |
| UlDataSplitUeCfg.ulDataSplitThreshScgLow    | Introduced | See MOM description.                                     |
| UlDataSplitUeCfg.userLabel                  | Introduced | See MOM description.                                     |

# 6 Performance of Service-Adaptive Uplink User Plane Profile

Uplink cell group switching and NR-DC uplink radio resource switching can be

monitored with related PM events.

Key Performance Indicators

This feature has no associated KPIs.

Counters

The following EBS counters are associated with the feature:

- pmEbsEndcPrimaryCgSwitchUlMcgTrigger$
- pmEbsEndcPrimaryCgSwitchUlMcgTrigger$Qci
- pmEbsEndcPrimaryCgSwitchUlScgTrigger$
- pmEbsEndcPrimaryCgSwitchUlScgTrigger$Qci
- pmEbsNrdcPrimaryCgSwitchUlMcgTrigger$
- pmEbsNrdcPrimaryCgSwitchUlMcgTrigger$5qi
- pmEbsNrdcPrimaryCgSwitchUlScgTrigger$
- pmEbsNrdcPrimaryCgSwitchUlScgTrigger$5qi
- pmEbsProhibitTimerRefusePrimaryCgSwitchUl5qi
- pmEbsProhibitTimerRefusePrimaryCgSwitchUlQci

For more information on EBS counters associated with the feature, see Lists and Delta Lists.

Events

The

CuUpProhibitTimerRefuseUlLegSwitch

PM event is used for monitoring the number of rejected uplink

cell group switches to SCG while the prohibit timer is

ongoing.

The following PM events are used for monitoring the NR-DC switching of uplink MCG and

SCG radio resources of the Secondary Node terminated split DRB

procedure:

- CuUpProcSnNrdcUlPrimaryCgSwitch
- CuUpProcEndcNrUlPrimaryCgSwitch

# 7 Activate Service-Adaptive Uplink User Plane Profile

To use the feature, it must be activated following the usual feature activation

procedure.

Prerequisites

- The license key is installed in the node.
- CCTR is active for at least one week before this procedure to collect enough troubleshooting data.

Steps

1. Set the FeatureState.featureState attribute to ACTIVATED in the FeatureState=CXC4012776 MO instance.

After This Task

Keep CCTR active for at least one week after this procedure for continued collection of troubleshooting data.

# 8 Deactivate Service-Adaptive Uplink User Plane Profile

If the feature is no longer needed, it can be deactivated following the usual

feature deactivation procedure. It must also be deactivated before the activation of any

conflicting feature.

Prerequisites

- CCTR is active for at least one week before this procedure to collect enough troubleshooting data.

Steps

1. Set the FeatureState.featureState attribute to DEACTIVATED in the FeatureState=CXC4012776 MO instance.

After This Task

Keep CCTR active for at least one week after this procedure for continued collection of troubleshooting data.

# 9 Engineering Guidelines for Service-Adaptive Uplink User Plane Profile

The Service-Adaptive Uplink User Plane Profile feature must be disabled on the Secondary

Node if one of the following conditions applies:

- The software version of the Master Node is earlier than 25.Q1.
- The Master Node belongs to RAN Compute groups 1, 2, or 3.

If the Master Node has an incorrect software version or if it belongs to an incorrect RAN

Compute group, the following EBS counters might increase:

- pmEbsEndcPrimaryCgSwitchUlMcgTrigger2
- pmEbsEndcPrimaryCgSwitchUlMcgTrigger2Qci
- pmEbsEndcPrimaryCgSwitchUlScgTrigger2
- pmEbsEndcPrimaryCgSwitchUlScgTrigger2Qci
- pmEbsNrdcPrimaryCgSwitchUlMcgTrigger2
- pmEbsNrdcPrimaryCgSwitchUlMcgTrigger25qi
- pmEbsNrdcPrimaryCgSwitchUlScgTrigger2
- pmEbsNrdcPrimaryCgSwitchUlScgTrigger25qi

If the software version of the Master Node cannot be updated, or the RAN Compute group

the Master Node belongs to cannot be changed, the

UlDataSplitUeCfg.initialUlPrimaryPathMode attribute must be set

to COVERAGE\_BASED. This configuration lowers the impact on the related

EBS counters.

Detecting Early RRC Reconfiguration

During the Secondary gNodeB addition procedure in an EN-DC setup, or the Secondary

Node addition procedure in an NR-DC setup, the number of uplink quality-triggered

RRC reconfiguration attempts might increase. This can be observed with the following

EBS counters in EN-DC and NR-DC setups, respectively:

- pmEbsEndcPrimaryCgSwitchUlMcgTrigger1
- pmEbsEndcPrimaryCgSwitchUlMcgTrigger1Qci
- pmEbsEndcPrimaryCgSwitchUlScgTrigger1
- pmEbsEndcPrimaryCgSwitchUlScgTrigger1Qci
- pmEbsNrdcPrimaryCgSwitchUlMcgTrigger1
- pmEbsNrdcPrimaryCgSwitchUlMcgTrigger15qi
- pmEbsNrdcPrimaryCgSwitchUlScgTrigger1
- pmEbsNrdcPrimaryCgSwitchUlScgTrigger15qi

When one of the related EBS counters is significantly higher than the other one, it

can be an indication of early RRC Reconfiguration attempts.

To avoid early RRC Reconfiguration attempts, the

UlDataSplitUeCfg.initialUlPrimaryPathMode attribute must be

set to COVERAGE\_BASED. If the

UlDataSplitUeCfg.initialUlPrimaryPathMode attribute is

already set to COVERAGE\_BASED, the low RSRP threshold must be

changed with the InitialCgUeCfg.ulScgInitialLowRsrpThresh

attribute.

## 9.1 Deprecation Handling

Deprecation handling is enabled by default.

The following backward compatible attributes are introduced to replace deprecated

attributes:

- The UlCgSwitchCfg.ulCgSwitchMode attribute replaces the NRCellDU.endcUlLegSwitchEnabled attribute.
- The UlCgSwitchCfg.ulScgLowQualThresh attribute replaces the NRCellDU.endcUlNrLowQualThresh attribute.
- The UlCgSwitchCfg.ulScgLowQualHyst attribute replaces the NRCellDU.endcUlNrQualHyst attribute.
- The UserPlaneProfileUeCfg.ulPdcpScgRetProhibitTime attribute replaces the GNBCUUPFunction.endcUlNrRetProhibTimer attribute.
- The UlDataSplitUeCfg.initialUlPrimaryPathMode attribute replaces the QciProfileEndcConfigExt.initialUplinkConf attribute.
- The UlDataSplitUeCfg.ulDataSplitThreshScg attribute replaces the QciProfileEndcConfigExt.ulDataSplitThreshold attribute.
- The UlDataSplitUeCfg.ulDataSplitThreshMcg attribute replaces the QciProfileEndcConfigExt.ulDataSplitThresholdMcg attribute.

The following attributes control deprecation handling:

- GNBCUCPFunction.servAapUPProfUlDepHEnabled
- GNBCUUPFunction.servAdapUPProfUlDepHEnabled
- GNBDUFunction.servAdapUPProfUlDepHEnabled

The default value of

the

attributes are

true, which means that deprecation

handling is enabled by default to support the automatic migration of the attributes. All

deprecated attribute values are copied from

the corresponding

attributes under the NRCellDU MO class to the

replacement attributes under the UlCgSwitchCfg MO

instances.

Figure 8   Deprecation Handling

If deprecation handling is enabled, the instance of the introduced MO class that

corresponds

to the NRCellDU MO instance is automatically deleted or created.

If deprecation handling is enabled, and the operator creates an

NRCellDU MO instance, instances of the following MO classes must

not be created manually:

- UlCgSwitch
- UlCgSwitchCfg
- UlCgSwitchUeCfg
- UeCC

To create instances of

the

MO classes together with NRCellDU MO instances in the same

transaction, the creation of the NRCellDU MO instance must be ordered

after the creation of the listed MO classes.

UE grouping is supported only if

the

value of the GNBDUFunction.servAdapUPProfUlDepHEnabled attribute is

set to false.

It is recommended to configure the user plane attributes

under

the UlCgSwitchCfg MO class if the class is available in the

Management System.

It is recommended to update the attribute values in the introduced MO classes first, when

deprecation handling is disabled and

the

value of the GNBDUFunction.servAdapUPProfUlDepHEnabled attribute is

set to false.

Disabling deprecation handling prevents attributes under the

UlCgSwitchCfg MO instance from being overwritten in the

introduced

Management

System versions. In these use cases, the

UlCgSwitchCfg MO instance is visible and used instead of the

deprecated attributes.

A migration script is provided to support an optional automated migration to the

introduced MOM structure of the Service-Adaptive Uplink User Plane Profile feature. The

migration script is a complement to the deprecation handling mechanism that handles the

deprecated attributes

under

the NRCellDU MO class.

Related Information

Information and Script for Migration to Service-Adaptive Uplink User Plane

Profile

# Appendix A: Feature Change History

This section lists changes that affected this feature and the impact it had on the

network.

## Appendix A.a: 25.Q1.2: Coverage-Dependent Bearer-Specific Uplink PDCP Aggregation and Cell Group Switching

This feature enhancement introduces

customizable

configurations for uplink aggregation and uplink cell group switching on

the DRB level.

| Feature Name           | Service-Adaptive Uplink User Plane Profile   |
|------------------------|----------------------------------------------|
| Feature Identity       | FAJ 121 5775                                 |
| Value Package Name     | 5G Advanced Differentiated Connectivity      |
| Value Package Identity | FAJ 801 4030                                 |
| Node Type              | Baseband Radio Node                          |
| Access Type            | NR                                           |
| Impact at Upgrade      | Optional                                     |

Summary and Benefits

This feature enhancement introduces the following UE group-specific

configurations:

- The uplink cell group switching function can be configured for each QCI and 5QI.
- The initial uplink primary path for uplink cell group switching can be selected based on the PSCell coverage in both EN-DC and NR-DC deployments.
- The uplink PDCP aggregation function can be configured for each QCI and 5QI.
- The uplink PDCP aggregation threshold can be differentiated when uplink coverage quality is low and the primary path is SCG.

This feature enhancement has the following

benefits:

- Improved performance for selected services and UEs with reduced impact on the rest of the services and UEs, including the following use cases: Online gaming Video production Benchmark FWA Mobile Broadband
- Customizable performance optimization for the following aspects: Improved coverage Maximized throughput Reduced latency Stable latency

Capacity and Performance

The performance can be optimized independently for different UE groups, according to

their

objectives.

The impact on

KPIs and

Performance Indicators can be observed through existing

EBS-N

counters.

Operation

This feature enhancement introduces attributes to

configure

uplink PDCP aggregation and uplink cell group switching.

The QciProfileEndcConfigEx MO class is deprecated.

The following MO classes are introduced:

- DcUlCfg
- InitialCg
- InitialCgUeCfg
- UlDataSplit
- UlDataSplitUeCfg

Table 5 shows the attributes deprecated by

this feature enhancement and the backward compatible equivalent attributes that

replace

the

deprecated attributes.

Table 5   Deprecated Attributes

| Introduced Attributes                          | Deprecated Attributes                           |
|------------------------------------------------|-------------------------------------------------|
| UserPlaneProfileUeCfg.ulPdcpScgRetProhibitTime | GNBCUUPFunction.endcUlNrRetProhibTimer          |
| UlDataSplitUeCfg.initialUlPrimaryPathMode      | QciProfileEndcConfigExt.initialUplinkConf       |
| UlDataSplitUeCfg.ulDataSplitThreshScg          | QciProfileEndcConfigExt.ulDataSplitThreshold    |
| UlDataSplitUeCfg.ulDataSplitThreshMcg          | QciProfileEndcConfigExt.ulDataSplitThresholdMcg |

The following attributes are introduced for deprecation handling:

- GNBCUCPFunction.servAdapUPProfUlDepHEnabled
- GNBCUUPFunction.servAdapUPProfUlDepHEnabled

The following attributes are introduced for functional configuration:

- DcUlCfg.ulPrimaryPathMode
- InitialCgUeCfg.ulScgInitialLowRsrpThresh
- UlDataSplitUeCfg.initialUlPrimaryPathMode
- UlDataSplitUeCfg.ulDataSplitThreshMcg
- UlDataSplitUeCfg.ulDataSplitThreshScg
- UlDataSplitUeCfg.ulDataSplitThreshScgLow

The following attributes are introduced for UE grouping configuration:

- InitialCg.ueConfGroupType
- InitialCgUeCfg.prefUeGroupList
- InitialCgUeCfg.ueConfGroupList
- InitialCgUeCfg.ueGroupList
- UlDataSplit.ueConfGroupType
- UlDataSplitUeCfg.prefUeGroupList
- UlDataSplitUeCfg.ueConfGroupList
- UlDataSplitUeCfg.ueGroupList

The following auxiliary attributes are introduced:

- CUCP5qi.endcUlDataSplitRef
- CUCP5qi.nrdcUlDataSplitRef
- DcUlCfg.dcUlCfgId
- DcUlCfg.reservedBy
- DcUlCfg.userLabel
- InitialCg.initialCgId
- InitialCg.reservedBy
- InitialCg.userLabel
- InitialCgUeCfg.initialCgUeCfgId
- InitialCgUeCfg.userLabel
- NRCellCU.endcInitialCgRef
- NRCellCU.nrdcInitialCgRef
- UlDataSplit.reservedBy
- UlDataSplit.ulDataSplitId
- UlDataSplit.userLabel
- UlDataSplitUeCfg.ulDataSplitUeCfgId
- UlDataSplitUeCfg.userLabel

This feature enhancement introduces the CuUpProhibitTimerRefuseUlLegSwitch PM

event.

This feature enhancement updates the following PM events:

- CuUpProcEndcNrUlPrimaryCgSwitch
- CuUpProcSnNrdcUlPrimaryCgSwitch

The following EBS counters are

introduced

to track each 5QI that performs uplink cell group

switching:

- pmEbsEndcPrimaryCgSwitchUlMcgTrigger$Qci
- pmEbsEndcPrimaryCgSwitchUlScgTrigger$Qci
- pmEbsNrdcPrimaryCgSwitchUlMcgTrigger$5qi
- pmEbsNrdcPrimaryCgSwitchUlScgTrigger$5qi
- pmEbsProhibitTimerRefusePrimaryCgSwitchUl5qi
- pmEbsProhibitTimerRefusePrimaryCgSwitchUlQci

The UE Grouping Framework feature can be used for UE group-level configurations for

the uplink PDCP aggregation and uplink cell group switching threshold. If the

license for the UE Grouping Framework feature is not present in the node, only the

base configuration is used by the Service-Adaptive Uplink User Plane Profile

feature.

The 5QIs that perform uplink cell group switching can be filtered for each UE

group.

When the Service-Adaptive Uplink User Plane Profile feature is not activated, SCG is

used as the initial uplink primary path when

the

value of the UlDataSplitUeCfg.initialUlPrimaryPathMode attribute

is set to COVERAGE\_BASED. In this case, the uplink primary path is

SCG if the PSCell uplink quality is good enough. Otherwise, MCG is used as the

uplink primary path.

Interfaces

This feature enhancement

affects

the following

interfaces:

| Uu   |    | The RRC protocol is                                 affected,                                 as the primaryPath and                                     ul-DataSplitThreshold IEs can be set to different                                 values for each DRB.   |
|------|----|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|      |    |                                                                                                                                                                                                                                                                   |
| X2   |    | The X2AP protocol is                                 affected,                                 as the UL Configuration IE can be set to a different                                 value for each DRB.                                                           |
|      |    |                                                                                                                                                                                                                                                                   |
| Xn   |    | The XnAP protocol is                                 affected,                                 as the UL Configuration IE can be set to a different                                 value for each DRB.                                                           |

Hardware

This feature enhancement is only supported on radio

units

in RAN Compute groups 4 and 5. The Service-Adaptive Uplink User Plane Profile

feature must not be activated on units in RAN Compute group 6 to prevent performance

degradation.

Other Network Elements

Without the Release Independence Manager application, this feature enhancement

requires ENM version 25.1 or later. The Release Independence

Manager application also supports the feature enhancement on earlier supported ENM

versions.

Related Information

Service-Adaptive Uplink User Plane Profile

UE Grouping Framework