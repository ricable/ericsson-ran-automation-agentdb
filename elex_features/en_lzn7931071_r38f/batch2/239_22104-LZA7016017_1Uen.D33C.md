---
complexity_score: 14.0
converted_at: '2025-08-13T06:59:28.918876Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 4
images_saved: 3
original_path: 239_22104-LZA7016017_1Uen.D33C.html
pictures_extracted: 4
processing_method: docling_multimodal
quality_score: 9.0
source_file: 239_22104-LZA7016017_1Uen.D33C.html
source_zip: en_lzn7931071_r38f.zip
tables_extracted: 12
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 2796
---

# 

NR Switched Uplink for Throughput Boost

Contents

![Image](../images/239_22104-LZA7016017_1Uen.D33C/additional_3_CP.png)

![Image](../images/239_22104-LZA7016017_1Uen.D33C/additional_3_CP.png)

- Overview
- Dependencies
- Feature Operation
- Network Impact
- Parameters
- Performance
- Activate the Feature in Mid-Band PCell
- Activate the Feature in Low-Band SCell
- Deactivate the Feature
- Engineering Guidelines
    - Configure NR Switched Uplink for Throughput Boost for All UE Connections
    - Configure NR Switched Uplink for Throughput Boost for Different UE Groups
    - Interaction with the Uplink Single-User MIMO Feature
    - Interaction with the NR Traffic Steering Feature
    - UE Power Capability Handling
- Appendix: Feature Change History
    - Appendix: 25.Q2.0: Measurement Configuration for Uplink Two-Layer Coverage

# 1 NR Switched Uplink for Throughput Boost Overview

The feature enables uplink 1TX-2TX switching between a Mid-Band and a Low-Band component

carrier.

| Feature Name           | NR Switched Uplink for Throughput Boost                                    |
|------------------------|----------------------------------------------------------------------------|
| Feature Identity       | FAJ 121 5772                                                               |
| Value Package Name     | Peak Rate Evolution                                                        |
| Value Package Identity | FAJ 801 4005                                                               |
| Node Type              | Baseband Radio Node                                                        |
| Access Type            | NR                                                                         |
| Licensing              | License-controlled feature. One license is required for each 								node. |

Summary

The feature enables dynamic uplink 1TX-2TX switching between a Mid-Band PCell and a

Low-Band SCell for 2TX-capable

UEs. The

feature enables the use of the Uplink Single-User MIMO feature on the Mid-Band PCell

with uplink carrier aggregation without requiring three uplink transmitters in

UEs.

The feature is only supported in NR standalone deployments.

The feature provides the following benefits:

- More efficient use of a scattered spectrum
- Increased peak uplink throughput for UEs that are capable of 1TX-2TX switching

Additional Information

For more information and related topics, see the following documentation:

- 3GPP TS 21.916; NR; Release 16 Description; Summary of Rel-16 Work Items
- 3GPP TS 38.101-1; NR; User Equipment (UE) Radio Transmission and Reception; Part 1: Range 1 Standalone
- 3GPP TS 38.104; NR; Base Station (BS) Radio Transmission and Reception
- 3GPP TS 38.133; NR; Requirements for Support of Radio Resource Management
- 3GPP TS 38.211; NR; Physical Channels and Modulation
- 3GPP TS 38.212; NR; Multiplexing and Channel Coding
- 3GPP TS 38.213; NR; Physical Layer Procedures for Control
- 3GPP TS 38.214; NR; Physical Layer Procedures for Data
- 3GPP TS 38.306; NR; User Equipment (UE) Radio Access Capabilities
- 3GPP TS 38.321; NR; Medium Access Control (MAC) Protocol Specification
- 3GPP TS 38.331; NR; Radio Resource Control (RRC) Protocol Specification

# 2 Dependencies of NR Switched Uplink for Throughput Boost

The feature has dependencies to features related to uplink carrier aggregation and

uplink single-user MIMO.

Feature Dependencies

Table 1   Feature Dependencies

![Image](../images/239_22104-LZA7016017_1Uen.D33C/additional_3_CP.png)

![Image](../images/239_22104-LZA7016017_1Uen.D33C/additional_3_CP.png)

| Feature Name                                                                            | Feature Identity   | Access Type   | Relationship   | Relationship Scope      | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|-----------------------------------------------------------------------------------------|--------------------|---------------|----------------|-------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| NR Uplink Carrier Aggregation                                                           | FAJ 121 5583       | NR            | Prerequisite   | Cell-level prerequisite | The NR Uplink Carrier Aggregation feature enables uplink carrier                                     aggregation with two component carriers in NR standalone                                     deployments.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Uplink Single-User                                         MIMO                         | FAJ 121 5234       | NR            | Prerequisite   | Cell-level prerequisite | The Uplink Single-User MIMO feature enables uplink spatial                                     multiplexing in the Mid-Band PCell for UEs that are capable of                                     two-layer uplink transmission.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Advanced Downlink Multi-User MIMO                                         Mid-Band      | FAJ 121 5398       | NR            | Related        |                         | Reciprocity-based beamforming is only supported in a Mid-Band                                     PCell. UEs can be configured with periodic or aperiodic SRS in a                                     Mid-Band cell when the feature is active.  For a UE configured with dual timing advance groups, during                                     PDDCH-ordered random access, SRS transmissions can be blocked                                     more often to avoid potential interruption on the SCell PRACH.                                                                                                                                                                                                                                                                                                                                                                                                                           |
| Advanced Downlink Single-User MIMO                                         Mid-Band     | FAJ 121 5262       | NR            | Related        |                         | Reciprocity-based beamforming is only supported in a Mid-Band                                     PCell. UEs can be configured with periodic or aperiodic SRS in a                                     Mid-Band cell when the feature is active.  For a UE configured with dual timing advance groups, during                                     PDDCH-ordered random access, SRS transmissions can be blocked                                     more often to avoid potential interruption on the SCell PRACH.                                                                                                                                                                                                                                                                                                                                                                                                                           |
| NR Closed-Loop Power Control                                         Low/Mid-Band       | FAJ 121 5587       | NR            | Related        |                         | The gNodeB can adjust the uplink power of the UE when the NR                                     Closed-Loop Power Control Low/Mid-Band feature is activated, by                                     using the total received power spectral density.  For UEs configured with uplink carrier aggregation or with the NR                                     Switched Uplink for Throughput Boost feature, closed-loop power                                     control is performed independently on the PCell and the SCell if                                     the NR Closed-Loop Power Control Low/Mid-Band feature is                                     activated on both the PCell and the SCell.  If the feature is not activated on the PCell, closed-loop power                                     control is not performed on the SCell, even if the feature is                                     activated on the SCell. |
| NR Dynamic Slot Aggregation for                                     VoNR                | FAJ 121 5471       | NR            | Related        |                         | PUSCH repetition is only supported on the PCell. PUSCH repetition                                     is temporarily blocked during a PDCCH-ordered random access                                     procedure to avoid potential interruptions on the SCell PRACH.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| NR Mobility                                                                             | FAJ 121 5041       | NR            | Related        |                         | The NR Switched Uplink for Throughput Boost feature uses the                                     mobility functions provided by the NR Mobility feature.  The NR Switched Uplink for Throughput Boost feature uses counters                                     introduced by the NR Mobility feature to track CFRA preamble                                     resource use and allocation.  The NR Switched Uplink for Throughput Boost feature introduces                                     the NRCellDU.pmRadioRaCfPreambleFailedHoDistr                                     and the                                         NRCellDU.pmRadioRaCfPreambleFailedUlCaDistr PM counters to differentiate preamble allocation failure for                                     uplink carrier aggregation and handover.                                                                                                                    |
| NR Traffic Steering                                                                     | FAJ 121 5458       | NR            | Related        |                         | The NR Switched Uplink for Throughput Boost feature uses the                                     evaluations of the Multi-Layer Coordination function of the NR                                     Traffic Steering feature in the current PCell and candidate                                     PCell to determine uplink two-layer coverage.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| User- and Service-Specific Carrier                                         Aggregation  | FAJ 121 5555       | NR            | Related        |                         | The User- and Service-Specific Carrier Aggregation feature                                     enables the configuration of uplink 1TX-2TX switching on the UE                                     group level.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| High Speed UE Low/Mid-Band                                                              | FAJ 121 5268       | NR            | Conflicting    | Cell-level conflict     | If the High Speed UE Low/Mid-Band feature is configured in the                                     cell, the NR Switched Uplink for Throughput Boost feature cannot                                     be enabled in the cell.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Uplink Configured Grant for URLLC Dedicated                                         RAN | FAJ 121 5408       | NR            | Conflicting    | Partially impaired      | If the Uplink Configured Grant for URLLC Public RAN feature is                                     configured for a UE group, the NR Switched Uplink for Throughput                                     Boost feature must not be allowed for that UE group.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Uplink Configured Grant for URLLC Public                                         RAN    | FAJ 121 5407       | NR            | Conflicting    | Partially impaired      | If the Uplink Configured Grant for URLLC Public RAN feature is                                     configured for a UE group, the NR Switched Uplink for Throughput                                     Boost feature must not be allowed for that UE group.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |

Hardware

The feature is not supported for RAN Compute units in RAN Compute group 5e.

Limitations

The feature is only supported in standalone deployments.

The feature only supports the Mid-Band cell as the PCell and Low-Band cells as

SCells.

The feature only supports the TDD patterns supported by the NR Uplink Carrier

Aggregation feature.

The feature is only supported in colocated cells.

The feature does not support the  dualUL TX switching option.

The feature only supports UEs capable of a switching period of 140 µs or less than

that. The switching realization in the gNodeB assumes that the value of the

switching period is 140 µs regardless of the UE capability.

If the UE reports the uplinkTXSwitching-DL-Interruption-r16 IE and the

NRCellDU.servingCellSelectionPolicy attribute is set to

PRIORITIZE\_DL\_THP, uplink 1TX-2TX switching is not configured

for the UE if any selected downlink cell is affected.

If the UE reports the uplinkTXSwitching-DL-Interruption-r16 IE and the

NRCellDU.servingCellSelectionPolicy attribute is set to

PRIORITIZE\_UL\_THP, the downlink SCells that are affected are

not configured for the UE.

Network Requirements

UEs need to have the capabilities introduced in 3GPP TS 21.916; NR; Release 16

Description; Summary of Rel-16 Work Items for uplink 1TX-2TX

switching.

# 3 Feature Operation of NR Switched Uplink for Throughput Boost

The feature enables uplink single-user MIMO with uplink carrier aggregation in the

Mid-Band PCell without requiring 3TX capability in

UEs.

The feature enables dynamic uplink 1TX-2TX switching between a Mid-Band PCell and a

Low-Band SCell for 2TX-capable UEs.

The gNodeB inquires from the UE if it can support uplink 1TX-2TX switching by sending the

RRC ueCapabilityEnquiry message.

The UE reports the capability to support uplink 1TX-2TX switching through the RRC

ueCapabilityInformation message. If the UE only supports the

dualUL option for the

uplinkTxSwitching-OptionSupport-r16 IE, the feature cannot be

configured for that UE.

Serving cell selection jointly optimizes the outcome of the following selections:

- Uplink cells
- Uplink BWPs
- Uplink layers
- Uplink TX switching

The selection of the uplink serving cell set is based on estimated uplink weights, and

leads to a choice from one of the following candidate configurations:

- Uplink 1TX-2TX switching
- Uplink SU-MIMO
- Uplink carrier aggregation

The estimated uplink weight uses uplink two-layer coverage as a factor to evaluate and

find the best candidate UE configuration.

At initial selection, no UE measurements are available and the value of the

CaCellProfileUeCfg.effectiveBwImpactUl2Layer attribute is used as

the uplink two-layer coverage factor in the weight calculation.

The feature switches uplink transmission dynamically between the Mid-Band PCell and the

Low-Band SCell through the following UE TX states:

- 1TX in Mid-Band PCell and 1TX in Low-Band SCell Note: In this state, the UE only transmits in the SCell, as simultaneous multi-carrier transmission in uplink is not possible in the switchedUL configuration.
- 2TX in Mid-Band PCell and 0TX in Low-Band SCell

The 1TX-2TX switching option supported by the feature does not allow UEs to transmit

simultaneously on both the PCell and the SCell.

UEs require a switching period when they switch transmitting from one carrier to the

other. The feature triggers a transmission switching period when the UE switches the

carrier it is transmitting on.

Figure 1   Uplink 1TX-2TX Switching between the Mid-Band and Low-Band Cell

With the feature enabled, if the gNodeB detects deteriorating channel conditions, dynamic

TX port switching is triggered in the Mid-Band PCell regardless of the configuration of

the UlWfPortSwitchUeCfg.ulPortSwitchFr1Mode attribute, and a serving

cell set evaluation occurs to find a new UE configuration.

The feature introduces an additional threshold to the following measurements by using the

TrStSaNrFreqRelProfileUeCfg.rsrpUl2lCoverageThrOffset attribute

in the current PCell and the candidate PCell. The additional threshold is introduced to

the following measurements to determine uplink two-layer coverage during the evaluations

of the Multi-Layer Coordination function of the NR Traffic Steering feature:

- MLC Current PCell Coverage A1 measurement
- MLC PCell Candidate Coverage A5 measurement

The uplink two-layer coverage evaluation is considered in the evaluation of the serving

cell set.

# 4 Network Impact of NR Switched Uplink for Throughput Boost

The feature improves uplink throughput for UEs that meet the capability requirements

for uplink 1TX-2TX

switching.

Capacity and Performance

The feature enables uplink single-user MIMO on the Mid-Band PCell with uplink carrier

aggregation without requiring three uplink transmitters in UEs.

The feature provides increased peak uplink throughput in UEs capable of uplink

1TX-2TX switching in good channel conditions.

The feature can be configured on the UE group level. For improved VoNR retainability,

it is recommended to deconfigure the feature during VoNR calls. For more information

on how to deconfigure the NR Switched Uplink for Throughput Boost feature for VoNR

calls, see Configure NR Switched Uplink for Throughput Boost for Different UE Groups.

Interfaces

No impact.

Other Network Elements

No impact.

# 5 Parameters for NR Switched Uplink for Throughput Boost

The feature introduces attributes related to uplink 1TX-2TX switching and uplink

carrier

aggregation.

Table 2   Parameters

| Parameter                                             | Type       | Description                                          |
|-------------------------------------------------------|------------|------------------------------------------------------|
| CaCellProfileUeCfg.effectiveBwImpactUl2Layer          | Introduced | See MOM description.                                 |
| CaCellProfileUeCfg.ulTxSwitchingAllowed               | Introduced | See MOM                                 description. |
| CaCellProfileUeCfg.ulCaConfigurationMode              | Introduced | See MOM description.                                 |
| NRCellDU.ulTxSwitchingEnabled                         | Introduced | See MOM description.                                 |
| TrStSaNrFreqRelProfileUeCfg.rsrpUl2lCoverageThrOffset | Introduced | See MOM description.                                 |

# 6 Performance of NR Switched Uplink for Throughput Boost

The performance of the feature can be observed through uplink KPIs, PM counters, and

PM

events.

Key Performance Indicators

Table 3   Key Performance Indicators

| Key Performance Indicator    | Description                                                                                                               |
|------------------------------|---------------------------------------------------------------------------------------------------------------------------|
| Average UL MAC UE Throughput | The KPI is expected to increase for UEs that are capable of                                     uplink 1TX-2TX switching. |

Counters

The successful configuration and deconfiguration of the uplink 1TX-2TX switching can

be observed with the following PM counters:

- NRCellCU.pmCaConfiguredSwitchedUl
- NRCellCU.pmCaDeconfiguredSwitchedUl

The following PM counters can be used to observe scheduled uplink transmissions:

- NRCellDU.pmMacRBSymUsedPusch1Port1Layer
- NRCellDU.pmMacRBSymUsedPusch2Port1Layer
- NRCellDU.pmMacRBSymUsedPusch2Port2Layer

The following PM counters can be used to observe carrier aggregation traffic on the

PCell:

- NRCellDU.pmMacVolUlPCellCa
- NRCellDU.pmPuschSchedActivityPCellCa

The following PM counters can be used to observe failed allocations for uplink

carrier aggregation and handovers:

- NRCellDU.pmRadioRaCfPreambleFailedHoDistr
- NRCellDU.pmRadioRaCfPreambleFailedUlCaDistr
- NRCellDU.pmRadioRaCfPreambleUnusedDistr Note: The NRCellDU.pmRadioRaCfPreambleUnusedDistr PM counter is not pegged if there is a failed allocation for handover, but the PM counter can be pegged if there is a failed allocation for uplink carrier aggregation.

Events

The following PM events can be used to observe the configuration of uplink 1TX-2TX

switching:

- CuCpProcInitialCtxtEstab
- CuCpProcPduSessionResourceSetup
- CuCpProcPduSessionResourceModify
- CuCpProcPduSessionResourceRelease
- CuCpProcNrHoExeIn
- CuCpProcNrScellUpdate
- CuCpProcRrcReestabDrb
- CuCpProcRrcResume
- CuCpProcNrHoExeOut
- CuCpProcUeCtxtRel
- CuCpProcXnRetrieveUeCtxt

The following PM events are updated:

- CuCpMeasurementConfigurationSa
- CuCpMeasurementReportSaEval
- CuCpMlcIteration

# 7 Activate NR Switched Uplink for Throughput Boost in a Mid-Band PCell

Prerequisites

- The license key is installed in the node.
- CCTR is active for at least one week before this procedure to collect enough troubleshooting data.
- The NR Uplink Carrier Aggregation feature is enabled.
- The Uplink Single-User MIMO feature is enabled.

Steps

1. Set the NRCellDU.administrativeState attribute to LOCKED in all NRCellDU MO instances in the gNodeB.
2. Set the FeatureState.featureState attribute to ACTIVATED in the FeatureState=CXC4012786 MO instance.
3. Set the NRCellDU.ulTxSwitchingEnabled attribute to true in all Mid-Band NRCellDU MO instances in the gNodeB.
4. Set the CaCellProfileUeCfg.ulTxSwitchingAllowed attribute to true in all CaCellProfileUeCfg MO instances where the feature needs to be enabled.
5. Set the NRCellDU.administrativeState attribute to UNLOCKED in all NRCellDU MO instances in the gNodeB.
6. Repeat the steps from Step 1 to Step 5 for each node with Mid-Band cells that are used as PCells.

After This Task

Keep CCTR active for at least one week after this procedure for continued collection of troubleshooting data.

# 8 Activate NR Switched Uplink for Throughput Boost in a Low-Band SCell

Prerequisites

- The license key is installed in the node.
- CCTR is active for at least one week before this procedure to collect enough troubleshooting data.
- The NR Uplink Carrier Aggregation feature is enabled.

Steps

1. Set the NRCellDU.administrativeState attribute to LOCKED in all NRCellDU MO instances in the gNodeB.
2. Set the FeatureState.featureState attribute to ACTIVATED in the FeatureState=CXC4012786 MO instance.
3. Set the NRCellDU.ulTxSwitchingEnabled attribute to true.
4. Set the NRCellDU.administrativeState attribute to UNLOCKED in all NRCellDU MO instances in the gNodeB.
5. Repeat the steps from Step 1 to Step 4 for each node with Low-Band cells that are used as uplink SCell.

After This Task

Keep CCTR active for at least one week after this procedure for continued collection of troubleshooting data.

# 9 Deactivate NR Switched Uplink for Throughput Boost

Prerequisites

- CCTR is active for at least one week before this procedure to collect enough troubleshooting data.

Steps

1. Set the NRCellDU.administrativeState attribute to LOCKED in all NRCellDU MO instances in the gNodeB.
2. Set the NRCellDU.ulTxSwitchingEnabled attribute to false in all NRCellDU MO instances in the gNodeB.
3. Set the FeatureState.featureState attribute to DEACTIVATED in the FeatureState=CXC401786 MO instance.
4. Set the NRCellDU.administrativeState attribute to UNLOCKED in all NRCellDU MO instances in the gNodeB.

After This Task

Keep CCTR active for at least one week after this procedure for continued collection of troubleshooting data.

# 10 Engineering Guidelines for NR Switched Uplink for Throughput Boost

The configuration of the feature in the Mid-Band PCell can be UE group-adapted by

using the CaCellProfile and the UlWfPortSwitch MO

instances.

The feature requires manual configuration.

After the NR Switched Uplink for Throughput Boost feature is activated in the gNodeB, the

feature can be enabled for each NRCellDU MO instance by setting the

NRCellDU.ulTxSwitchingEnabled attribute to

true.

The NRCellDU.ulTxSwitchingEnabled attribute must have the same value

in all Mid-Band cells of the same gNodeB.

## 10.1 Configure NR Switched Uplink for Throughput Boost for All UE Connections

The feature requires the NRCellCU.caCellProfileRef attribute to

reference a CaCellProfile MO instance in a Mid-Band PCell.

The configuration below enables all connected UEs to be handled in the same

manner.

Performing the steps below for the configuration for all UE connections is only

required in the Mid-Band PCell of the gNodeB.

Prerequisites

- The GNBCUCPFunction.carrierAggregation MO instance is created in the Mid-Band PCell of the gNodeB.
- The default MO instance of the CarrierAggregation.caCellProfile MO is created in the Mid-Band PCell of the gNodeB.
- The E5 connectivity is established between the Mid-Band PCell and the Low-Band SCell gNodeBs.
- The following configuration settings are required in the Mid-Band PCell: The NRCellRelation.sCellCandidate attribute is set to ALLOWED to define a Low-Band inter-frequency neighbor cell to be referenced as an SCell. This configuration allows the neighbor cells to be uplink and downlink SCell candidates. The NRCellRelation.coverageIndicator attribute is set to a value other than NONE to define cell relations in a given coverage area. The NRCellDU.ueBbProfileRef attribute refers to an MO instance of theUeBb.UeBbProfile MO that has MO instances for the UeBbProfileUeCfg MO with valid settings for the UeBbProfileUeCfg.ulWfPortSwitchUeCfgRef attribute.
- The NRCellDU.ulTxSwitchingEnabled attribute is set to true in both the Mid-Band PCell and the Low-Band SCell.

Steps

1. Create an MO instance of the CaCellProfile attribute.
2. Set the CaCellProfileUeCfg.servingCellSelectionPolicy attribute to PRIORITIZE\_UL\_THP under the CaCellProfileUeCfg base MO instance created in Step 1.
3. Set the CaCellProfileUeCfg.maxUlCcAllowed attribute to 2 under the base CaCellProfileUeCfg MO instance that is in the CaCellProfile MO instance created in Step 1 and Step 2.
4. Set the CaCellProfileUeCfg.ulTxSwitchingAllowed attribute to true under the base CaCellProfileUeCfg MO instance that is in the CaCellProfile MO instance created in Step 1 and Step 2.
5. Set the CaCellProfileUeCfg.effectiveBwImpactUl2Layer attribute to 200 under the base CaCellProfileUeCfg MO instance that is in the CaCellProfile MO instance created in Step 1 and Step 2.
6. Configure the NRCellCU.caCellProfileRef attribute to refer to the CaCellProfile MO instance created in Step 1 and the CarrierAggregation MO instance created by default.

Results

The NR Switched Uplink for Throughput Boost feature configures two component carriers

in uplink with uplink 1TX-2TX switching for UEs that fulfill the following

conditions:

- The UE is capable of using the feature.
- The UE is connected to the NRCellCU MO of the Mid-Band PCell.

## 10.2 Configure NR Switched Uplink for Throughput Boost for Different UE Groups

The feature requires the NRCellCU.caCellProfileRef attribute to

reference a CaCellProfile MO instance in a Mid-Band PCell.

The configuration below enables connected UEs under different UE groups to be treated

differently based on the assigned configuration.

Performing the steps below for the configuration of different UE groups is only

required in the Mid-Band PCell of the gNodeB.

Prerequisites

- The User- and Service-Specific Carrier Aggregation feature is activated in the Mid-Band PCell of the gNodeB.
- The GNBCUCPFunction.carrierAggregation MO instance is created in the Mid-Band PCell of the gNodeB.
- The default MO instance of the CarrierAggregation.caCellProfile MO is created in the Mid-Band PCell of the gNodeB.
- The E5 connectivity is established between the Mid-Band PCell and the Low-Band SCell gNodeBs.
- The following configuration settings are required in the Mid-Band PCell: The NRCellRelation.sCellCandidate attribute is set to ALLOWED to define a Low-Band inter-frequency neighbor cell to be referenced as an SCell. This configuration allows the neighbor cells to be uplink and downlink SCell candidates. The NRCellRelation.coverageIndicator attribute is set to a value other than NONE to define cell relations in a given coverage area. The NRCellDU.ueBbProfileRef attribute refers to an MO instance of theUeBb.UeBbProfile MO that has MO instances for the UeBbProfileUeCfg MO with valid settings for the UeBbProfileUeCfg.ulWfPortSwitchUeCfgRef attribute.
- The NRCellDU.ulTxSwitchingEnabled attribute is set to true in both the Mid-Band PCell and the Low-Band SCell.

Steps

1. Create different UE group selection profiles under the UeGroupSelection MO class. Example One UE group for VoNR can be created by configuring the UeGroupSelectionProfile.selectionCriteria attribute to 5qi == 1. One UE group for Enhanced Mobile Broadband (eMBB) can be created by configuring the UeGroupSelectionProfile.selectionCriteria attribute to 5qi &gt;= 6.
2. Create an MO instance of the CaCellProfile attribute.
3. Create two new MO instances of the CaCellProfileUeCfg attribute under the CaCellProfile MO instance created in Step 2.

Under the MO instance of the CaCellProfileUeCfg attribute

created for VoNR under the MO instance of the CaCellProfile

attribute:

4. Set the following attributes to the following values: CaCellProfileUeCfg.servingCellSelectionPolicy to PRIORITIZE\_DL\_THP CaCellProfileUeCfg.maxUlCcAllowed to 1 CaCellProfileUeCfg.ulTxSwitchingAllowed to false One of the following attributes to the ID of the UE group selection profile created in Step 1: CaCellProfileUeCfg.prefUeGroupList CaCellProfileUeCfg.ueGroupList CaCellProfileUeCfg.ueConfGroupList

Under the MO instance of the CaCellProfileUeCfg attribute

created for eMBB under the MO instance of the CaCellProfile

attribute:

5. Set the following attributes to the following values: CaCellProfileUeCfg.servingCellSelectionPolicy to PRIORITIZE\_UL\_THP CaCellProfileUeCfg.maxUlCcAllowed to 2 CaCellProfileUeCfg.ulTxSwitchingAllowed to true CaCellProfileUeCfg.effectiveBwImpactUl2Layer to 200 One of the following attributes to the ID of the UE group selection profile created in Step 1: CaCellProfileUeCfg.prefUeGroupList CaCellProfileUeCfg.ueGroupList CaCellProfileUeCfg.ueConfGroupList
6. Configure the NRCellCU.caCellProfileRef attribute to refer to the MO instance of the CaCellProfile attribute created in Step 2 and the MO instance of the CarrierAggregation attribute created by default.

Results

By using the framework of the User- and Service-Specific Carrier Aggregation feature,

the NR Switched Uplink for Throughput Boost feature is configured for use with UE

group 5QI differentiation. VoNR sessions are not allowed to be configured with two

component carriers in uplink with uplink 1TX-2TX switching, but eMBB sessions are

allowed to be configured.

## 10.3 Interaction with the Uplink Single-User MIMO Feature

The NR Switched Uplink for Throughput Boost feature reuses the dynamic layer and TX

port switching options of the Uplink Single-User MIMO feature to adapt to changing radio

channel conditions in the Mid-Band PCell.

The layer and port switching configuration options in the

UlWfPortSwitchUeCfg MO instance referenced by the

UeBbProfileUeCfg MO instance in the Mid-Band PCell are commonly

used by the following UEs that belong to the same UE group:

- UEs configured with uplink 1TX-2TX switching
- UEs configured with uplink single-user MIMO

UEs need to be in good coverage to benefit from uplink MIMO two-layer configuration in

the Mid-Band PCell.

It is recommended to configure uplink layer and port switching attributes to values that

allow the Mid-Band PCell scheduler to adapt to uplink SINR changes experienced by the

UE. This can be configured with the attributes under the

UlWfPortSwitchUeCfg MO class.

The Mid-Band PCell is always configured in the 2TX state with two-port transmission in

the Mid-Band PCell. If there is a switch from a two-port to a one-port state in the

Mid-Band PCell, a serving cell set evaluation is triggered immediately.

To avoid overly frequent port switching indications and overly frequent RRC

reconfigurations, it is recommended to do the following:

- The default values of uplink layer and port switch threshold attributes are recommended to be used initially.
- Use of the following PM counters to observe the uplink transmissions in the Mid-Band PCell: NRCellDU.pmMacRBSymUsedPusch2Port2Layer NRCellDU.pmMacRBSymUsedPusch2Port1Layer
- Use of the NRCellCU.CuCpProcNrSCellUpdate PM event to observe reconfigurations of uplink 1TX-2TX switching caused by dynamic port switches in the Mid-Band PCell.
- Avoid setting the UlWfPortSwitchUeCfg.ulLayerSwitchQualThresh attribute to values that are over 3 dB higher than the value of the UlWfPortSwitchUeCfg.ulPortSwitchQualThresh attribute.

## 10.4 Interaction with the NR Traffic Steering Feature

The gNodeB starts the Multi-Layer Coordination function of the NR Traffic Steering

feature by generating a candidate cell set list based on MOM configuration. The gNodeB

finds the best candidate cell set based on the estimated cell set weight and serving

cell selection policy configured through the

CaCellProfileUeCfg.servingCellSelectionPolicy attribute.

If the best candidate cell set is better than the available one, the gNodeB proceeds to

configure different measurements for handover candidates and SCell reselection

candidates.

The gNodeB tracks candidate cell sets and their uplink layer coverage status and uses

one-layer uplink or two-layer uplink coverage information. If the PCell in the best

candidate cell set is selected for two uplink MIMO layers, the PCell measurement is

configured in the UE to check if that PCell has uplink two-layer coverage.

If there is a PCell handover evaluation, the MLC PCell Candidate Coverage measurement is

configured, which is an A5 measurement for the PCell that uses the

TrStSaNrFreqRelProfileUeCfg.rsrpUl2lCoverageThrOffset attribute

as an offset.

If there is a SCell reselection evaluation, the MLC Current PCell Coverage measurement is

configured, which is an A1 measurement for the PCell that uses the

TrStSaNrFreqRelProfileUeCfg.rsrpUl2lCoverageThrOffset attribute

as an offset.

Figure 2   Selection of the Uplink Serving Cell Set with Multi-Layer Coordination

| MLC A5P: 2L   |    | The MLC PCell Candidate Coverage measurement used for PCell handover                         evaluation to evaluate if the UE is in uplink two-layer coverage in the                         candidate PCell.   |
|---------------|----|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|               |    |                                                                                                                                                                                                                 |
| MLC A5P: 1L   |    | The MLC PCell Candidate Coverage measurement used for PCell handover                         evaluation to evaluate if the UE is in uplink one-layer coverage in the                         candidate PCell.   |
|               |    |                                                                                                                                                                                                                 |
| MLC A1: 2L    |    | The MLC Current PCell Coverage measurement used during SCell reselection to                         evaluate if the UE is in uplink two-layer coverage in the current PCell.                                    |

The effective uplink two-layer coverage threshold is calculated as the sum of the value

of the following attributes:

- TrStSaCellProfileUeCfg.rsrpPCellCandidate
- TrStSaNrFreqRelProfileUeCfg.rsrpPCellCandidateOffset
- TrStSaCellProfileUeCfg.rsrpPCellCandidatePcOffset Note: This attribute is indexed by the UE power class measurements for the uplink band combination.
- TrStSaNrFreqRelProfileUeCfg.rsrpUl2lCoverageThrOffset

It is recommended to configure the various offset attributes in a way to get the

effective threshold in a range from -95 dBm to -90

dBm.

## 10.5 UE Power Capability Handling

The CaCellProfileUeCfg.ulCaConfigurationMode attribute controls the

configuration mode for the uplink aspect of the SCell and the configuration of the PCell

coverage power reduction measurement.

The value of the CaCellProfileUeCfg.ulCaConfigurationMode attribute

applies when the UE is selected with a band combination for uplink carrier aggregation

or uplink 1TX-2TX switching.

For more information on the CaCellProfileUeCfg.ulCaConfigurationMode

attribute, see NR Uplink Carrier Aggregation.

# Appendix A: Feature Change History

This section lists changes that affected this feature and the impact it had on the

network.

## Appendix A.a: 25.Q2.0: Measurement Configuration for Uplink Two-Layer Coverage

The feature enhancement updates the algorithm for the selection of the uplink serving

cell set in Mid-Band and Low-Band component carriers.

| Feature Name           | NR Switched Uplink for Throughput Boost   | NR Traffic Steering   | NR Uplink Carrier Aggregation   | Uplink Single-User MIMO   |
|------------------------|-------------------------------------------|-----------------------|---------------------------------|---------------------------|
| Feature Identity       | FAJ 121 5772                              | FAJ 121 5458          | FAJ 121 5583                    | FAJ 121 5234              |
| Value Package Name     | Peak Rate Evolution                       | NR Base Package       | Peak Rate Evolution             | Peak Rate Evolution       |
| Value Package Identity | FAJ 801 4005                              | FAJ 801 4002          | FAJ 801 4005                    | FAJ 801 4005              |
| Node Type              | Baseband Radio Node                       | Baseband Radio Node   | Baseband Radio Node             | Baseband Radio Node       |
| Access Type            | NR                                        | NR                    | NR                              | NR                        |
| Impact at Upgrade      | Mandatory                                 | Mandatory             | Mandatory                       | Mandatory                 |

Summary and Benefits

The feature enhancement updates the algorithm for the selection of the uplink serving

cell set in Mid-Band and Low-Band to jointly consider cells, bandwidths, MIMO

layers, and uplink 1TX-2TX switching.

The selection algorithm for the serving cell set selects between uplink

MIMO,

uplink carrier

aggregation,

and uplink 1TX-2TX switching based on uplink weights. Uplink

weight depends on uplink layer coverage with the feature enhancement.

The Multi-Layer Coordination function of the NR Traffic Steering feature is updated

to ensure that if the UE is in bad coverage where uplink SU-MIMO is not beneficial,

the UE is reconfigured to use uplink carrier aggregation with a Mid-Band and a

Low-Band component carrier. The feature enhancement enables the Multi-Layer

Coordination function to consider uplink layer coverage along with uplink weights

for the selection of the serving cell set.

The feature enhancement has the following benefits:

- More efficient use of a scattered spectrum
- Improved uplink UE throughput

Capacity and Performance

In a network where both the Uplink Single-User MIMO and the NR Uplink Carrier

Aggregation features are enabled and UEs support both features, the updated

algorithm might lead to the selection of different serving cell sets, which might

impact uplink performance. If the bandwidth of the Mid-Band cell is large enough

compared to the bandwidth of the Low-Band cell, uplink SU-MIMO is initially selected

instead of uplink carrier aggregation with a Mid-Band and a Low-Band component

carrier with the updated algorithm.

The Average UL MAC UE Throughput KPI might improve.

The following PM counters monitoring uplink resource block symbol utilization

entities might be affected:

- NRCellDU.pmMacRBSymUsedPusch1Port1Layer
- NRCellDU.pmMacRBSymUsedPusch2Port1Layer
- NRCellDU.pmMacRBSymUsedPusch2Port2Layer
- NRCellDU.pmRadioSchedUlSuMimoRankDistr
- NRCellDU.pmMacRBSymUsedPuschMimoLayerDistr
- NRCellDU.pmMacRBSymUsedPuschMimoUserDistr

The following PM counters monitoring uplink carrier aggregation might be affected:

- NRCellCU.pmCaConfigAttUl
- NRCellCU.pmCaConfigSuccUl
- NRCellCU.pmCaDeconfigAttUl
- NRCellCU.pmCaDeconfigSuccUl
- NRCellCU.pmCaConfigUlSumSaDistr
- NRCellDU.pmMacVolUlPCellCa
- NRCellDU.pmPuschSchedActivityPCellCa
- NRCellDU.pmMacOffloadVolUlSCell
- NRCellDU.pmMacOffloadVolUlSCellExt
- NRCellDU.pmMacVolUlSCellExt
- NRCellDU.pmMacVolUlSCellExtBwp

Operation

The feature enhancement uses the

TrStSaNrFreqRelProfileUeCfg.rsrpUl2lCoverageThrOffset

attribute for coverage measurements in the current PCell and candidate PCell to

determine uplink two-layer coverage during the evaluations of the Multi-Layer

Coverage function.

The feature enhancement uses the

CaCellProfileUeCfg.ulCaConfigurationMode attribute to select

the configuration mode when the UE is selected with a band combination for uplink

carrier aggregation or uplink 1TX-2TX switching. The configuration mode can be

selected for the uplink aspect of the SCell and PCell.

Interfaces

No impact.

Hardware

The feature enhancement is not supported for RAN Compute units in RAN Compute group

5e.

Other Network Elements

No impact.

Related Information

NR Switched Uplink for Throughput Boost

NR Traffic Steering

NR Uplink Carrier Aggregation

Uplink Single-User MIMO