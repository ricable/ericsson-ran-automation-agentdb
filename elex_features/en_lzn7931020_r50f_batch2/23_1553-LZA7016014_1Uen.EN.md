---
complexity_score: 38.5
converted_at: '2025-08-13T06:58:52.944371Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 2
images_saved: 3
original_path: 23_1553-LZA7016014_1Uen.EN.html
pictures_extracted: 2
processing_method: docling_multimodal
quality_score: 9.0
source_file: 23_1553-LZA7016014_1Uen.EN.html
source_zip: en_lzn7931020_r50f.zip
tables_extracted: 63
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 1244
---

# 

Manage Network Synchronization

Contents

![Image](../images/23_1553-LZA7016014_1Uen.EN/additional_3_CP.png)

![Image](../images/23_1553-LZA7016014_1Uen.EN/additional_3_CP.png)

- Introduction
- Network Synchronization Concepts
    - Product View
    - Network View
    - Synchronization in Packet Networks
    - GNSS Receiver Unit as Synchronization Reference
    - Functional View
- Synchronization Configuration Procedures
    - Configuration Flow
    - Configure Basic Network Synchronization Options
    - Configure GNSS Receiver Functionality
    - Configure a GNSS Time Synchronization Reference
    - Configure a 1PPS Frequency Synchronization Reference
    - Configure Synchronous Ethernet
    - Configure NTP
    - Configure a PTP Frequency Synchronization Reference
    - Configure a PTP Time Synchronization Reference
    - Configure PTP over IP G.8275.2 as an Assisting Time Reference (APTS)
    - Configure SyncE as Assisting Time Reference
    - Configure PTP over Ethernet G.8275.1 as an Assisting Time Reference (AFTS)
    - Configure Over-the-Air as an Assisting Time Reference
    - Configure a PTP Grandmaster
    - Configure a PTP Boundary Clock
    - Manage Quality Level
    - Configure Test Signals for Sync Test Interface
    - Configure Time Offset
    - Configure Node Group Synchronization
    - Configure a Fronthaul Reference
    - Configure SLA Monitoring of the BoundaryOrdinaryClock MO

# 1 Introduction

This document describes the basic concepts of network synchronization and the specific

functions supported by the Baseband Radio Node.

Configuring

synchronization is mandatory for the Baseband Radio

Node. For more

information on synchronization concepts and considerations for network planning, see

Network Synchronization Guidelines.

Some synchronization functions use the transport network. For more information on the

transport network, see Manage Transport Network.

Quality of Service (QoS) can affect IP traffic containing synchronization messages. QoS is

described in Manage Quality of Service.

For more information on node group synchronization, see Manage Node Group Synchronization.

# 2 Network Synchronization Concepts

The goal of network synchronization is to ensure the frequency or time and phase alignment of

nodes in a network.

Originally, the nodes require only frequency synchronization. The clock sources are deployed

at designated switching sites, and synchronization information is distributed over physical

links, through PDH, SDH, Synchronous Ethernet (SyncE), or packet-based solutions.

In more advanced RAN and backhaul networks, frequency synchronization is not always enough,

and time and phase synchronization is also required.

A network synchronization network is built up by synchronization sources, synchronization

distribution nodes, and synchronization end application nodes. Only the synchronization end

application nodes use the frequency or time information for their operation. This is typically

the RBS. The other nodes only distribute frequency or time, but do not use the information for

their functional operation. For example, an Ethernet switch can distribute time, but it does

not require time information for its switching functionality.

The

Baseband

radio nodes can also be configured as

synchronization sources and synchronization distribution nodes.

Synchronization distribution can use one or multiple

methods.

The timing reference signals from the clock sources can be distributed in the following

ways:

- Over the physical layer with the following methods: PDH SDH GNSS SyncE for the RAN fronthaul over CPRI.
- In the network layer by packet-based methods, such as PTP.
- Over the air between the neighboring base stations.

In case of a single node, if no external synchronization references are available, the node

cannot start. But if the Node Deployment without External Synchronization Source feature is

activated and the node is restarted with rank COLD, the node can start and carry

traffic.

For more information, see Node Deployment without External Synchronization Source.

## 2.1 Product View

The network synchronization function synchronizes the radio interface and the transmission

outputs of the Baseband Radio Node.

Network synchronization supports the following features and functions:

- Time synchronization using GNSS, including multiple GNSS
- Frequency synchronization using NTP or PTP
- Time synchronization using PTP
- PTP Grandmaster, Boundary Clock, and Slave Only Ordinary Clock
- Frequency synchronization to 1PPS
- Synchronous Ethernet
- Quality level management
- Node Group Synchronization for shared CPRI units
- Assisted time holdover, with the following assisting methods: G.8275.1 AFTS PTP over Ethernet with GNSS as primary reference G.8275.2 APTS PTP over IP with GNSS as primary reference G.8262 ASyncE with GNSS or PTP as primary reference Over-the-air synchronization with GNSS or PTP as primary reference
- Synchronization for isolated nodes using the Node Deployment without External Synchronization Source feature

For more information on GNSS, see the following documents:

- For GSM Radio Node, see GNSS as RAN Synchronization Reference.
- For WCDMA Radio Node, see System Integrated GPS Network Synchronization.

For more information on NTP frequency synchronization, see the following documents:

- For LTE and NR Radio Node, see Clock Source over NTP.
- For WCDMA Radio Node, see Network Synchronization Client for IP transport.
- For GSM Radio Node, see NTP Frequency Synchronization.

For more information on PTP, see the following documents:

- For GSM and NR Radio Nodes, see IEEE 1588 Frequency Synchronization, IEEE 1588 Time and Phase Synchronization, IEEE 1588 Boundary Clock, and PTP Grandmaster.
- For LTE Radio Nodes, see IEEE 1588 Frequency Synchronization, IEEE 1588 Time and Phase Synchronization, IEEE 1588 Boundary Clock Manage LTE RAN Synchronization, and PTP Grandmaster.
- For WCDMA Radio Node, see 1588v2 Frequency Synchronization.

For more information on Synchronous Ethernet, see the following document:

- For LTE Radio Node, WCDMA Radio Node, and GSM Radio Node, see Synchronous Ethernet.

For more information on Node Group Synchronization, see the following document:

- For LTE, NR, WCDMA, and GSM Radio Nodes, see IEEE 1588 BoundarySynchronization in Mixed Mode.

For more information on Assisted Time Holdover, see the following document:

- For LTE, NR, and GSM Radio Node, see Assisted Time Holdover.

For more information on Node Deployment without External Synchronization Source, see the

following document:

- For LTE, NR Radio Nodes, see Node Deployment without External Synchronization Source.

## 2.2 Network View

### 2.2.1 Frequency Synchronization

Frequency synchronization represents the alignment of clocks in terms of their repeating

interval (that is, frequency), but not in terms of phase or time.

Frequency synchronization ensures that frequency accuracy of radio carriers over the air

interface in the radio network meets 3GPP requirements. This requirement is 50 ppb.

In normal operation, clocks are synchronized to a reference signal that is traceable to a

Primary Reference Clock (PRC, based on ITU-T G.811) in the transport network.

This clock state is called frequency-locked mode.

When a fault occurs, a clock input can lose its traceability to the PRC. In this case, the

receiving device tries to remain synchronized based on the synchronization information that it

processed and stored while in locked state. This clock state is called frequency

holdover mode. In frequency holdover mode, accuracy degradation is observed at a different

degree depending on the stability of the internal oscillator.

Connection to the PRC is secured by implementing the synchronization network in redundant

structures. This prevents individual clocks from entering holdover mode, when a network

failure occurs.

### 2.2.2 Time and Phase Synchronization

Phase synchronization is defined as the relative alignment of a set of clock. Time

synchronization is defined as alignment of clocks to a common external time.

An RBS can be time synchronized or frequency synchronized. When the RBS is time

synchronized, it also meets the frequency synchronization requirements.

An RBS must be phase aligned between its components. This applies also when the RBS runs

FDD. For example, if two Baseband units are connected to the same radio unit, these Baseband

units have to be phase aligned, so they do not interfere with each other at the radio

unit.

The purpose of time and phase synchronization of TDD is to eliminate or reduce the

interference of radio carriers over the air interface. When RBS antennas are located close to

each other, signals that are transmitted over the air interface can interfere. This means that

the clocks must have their phases aligned accordingly. If the RBS antennas are located at

large distances from each other, the signals cannot interfere, and the clocks do not have to

be aligned. The maximum allowed error between RBS antennas by 3GPP is 3 microseconds. For

details see 3GPP TS

38.133

and 3GPP TS 36.133. In relation to an absolute time, this

translates to a ±1.5 μs accuracy requirement.

For FDD, functions like MBMS, UE positioning, or handover between NR and

LTE,

benefit from time and phase synchronization. For

example,

MBMS needs an accuracy of around 10 microseconds, while an UE can cope with around 30

microseconds at its antenna for non-contiguous Carrier Aggregation. UE positioning according

to emergency call related requirements has accuracy requirements which can only be met when

the RBS is time

locked

with a high accuracy synchronization reference. But positioning accuracy requirements are

stated as probability to find an UE within a certain area, which cannot be directly translated

into a RAN time synchronization accuracy requirement.

Time alignment is accomplished by synchronizing the clocks to a common time, referred to as

Radio Network Time. Such a source must be leap-second-free and have sufficient accuracy to

meet 3GPP requirements. The continuous availability of Radio Network Time is secured by

implementing the synchronization network in redundant structures. This prevents individual

clocks from entering holdover mode, when network failure occurs.

For NR TDD, the time alignment between Baseband Radio Nodes can be monitored through the

Radio Interface-Based Time Monitoring feature. The feature allows time alignment measurements

at the antenna reference points on mid-band with NR TDD cells. If the node has other cells and

standards, the measurement results provided by the NR TDD mid-band cells can be deduced for

the other cells with a maximum of

±130 ns.

For more information, see Radio Interface-Based Time Monitoring.

Radio Network Time can be acquired through either a GNSS or by time

distribution over packets, such as PTP. The GNSS receiver provides timing to Baseband Radio

Node by synchronizing its time with satellites. In the GNSS case, a satellite receiver is

connected directly to the RAN node.

PTP-based time and phase synchronization uses an IP or Ethernet network that consists of

clocks and synchronization functions. PTP packets use time stamps from the network interfaces

to carry the time information. For time distribution over a packet network, a Grandmaster

clock is the PTP time source, intermediate Boundary or Transparent Clock nodes distribute the

time, and the RBS nodes are the end application Nodes.

For more information, see Manage Network Synchronization.

### 2.2.3 Robustness

Since loss of synchronization of the RAN can cause service degradation and service loss

for TDD, it is important to have synchronization availability strategies.

Ericsson RAN nodes have functions to maintain synchronization and handle interruptions of

synchronization references in the Baseband Radio Nodes.

Frequency Synchronization

For the frequency, the only synchronization case for FDD without additional

functionality requiring time synchronization, backup frequency synchronization can

be configured according to a strict-priority scheme. If there is no working backup

reference, the radio equipment clock enters the frequency holdover state. This state

can be maintained within 3GPP specifications with no KPI degradation for several

months, and with only minor KPI degradation for years.

Time Synchronization

For time synchronization, backup references must not be configured as strict

priority. Instead, the Assisted Time Holdover feature must be used for

synchronization reference backup. By using the Assisted Time Holdover feature, a

smooth shift between the primary synchronization reference and the backup

synchronization reference is assured.

Any difference in the time delivered by the different references is compensated to

follow the time of the primary reference. By this, disruptive time jumps of the air

interface which could result in cell downtime are avoided.

Assisting Reference Types

The following reference types can be applied as assisting references:

- G.8275.1 PTP over Ethernet (AFTS)
- G.8275.2 PTP over IP (APTS)
- Synchronous Ethernet (Assisting SyncE) Note: It is recommended that the Synchronous Ethernet path differs from the G.8275.1 PTP over Ethernet path. This means that to benefit fully from Network Synchronization, the PTP Grandmaster, and the source of the Synchronous Ethernet path cannot be the same equipment.
- OTA (only for NR TDD)

Baseband Radio Nodes can be configured with G.8275.1 PTP over Ethernet and GNSS as

primary references. PTP assisting references are limited only to support GNSS as

primary reference.

In a cascaded setup,

Baseband

nodes that are configured as boundary clocks distribute SyncE to

cascaded Ericsson Baseband nodes within one hop. Cascaded Baseband nodes use the

SyncE source as assisting reference. If the primary reference fails, this keeps

time-dependent services enabled, and allows cascaded Baseband nodes to synchronize

with the Baseband node configured as boundary clock.

Figure 1   Network View of Assisting SyncE in a Cascaded Setup

SLA Monitoring

Measurements for PTP over IP can be performed with the SLA monitoring of APTS

references. The SLA monitoring occurs according to the metrics and network limits

defined in the ITU-T G.8271.2 for reference point C of network reference model. The

SLA monitoring can only be performed when the Baseband Radio Node uses the GNSS as a

primary reference.

Time Holdover Mode

If there is no working assisting reference, or the assisting reference is not

monitored for one hour and qualified for assistance, the radio equipment clock

enters the time holdover mode. The duration for which services can be maintained in

time holdover differs, depending on the service and for how long the time

synchronization algorithm machine learning is trained. It can be expected that a

±1.5 µs accuracy, for example TDD, can be maintained for one to five hours if the

primary time synchronization reference is GNSS. If the primary time synchronization

reference is PTP, the main dependency is the PTP path maximum error from Grandmaster

to Baseband Radio Node. The larger the error in the PTP path, the shorter the

duration of the support of services. With a PTP path error of 1,100 ns or higher,

there is no holdover duration for the ±1.5 µs TDD requirement. If the PTP path error

is close to zero, the duration is comparable to GNSS synchronization.

Configuring a backup priority-controlled frequency reference to a time synchronized

Baseband Radio Node is not required for TDD and FDD.

If the radio clock state shifts from time holdover to frequency holdover, the

frequency stability of the radio clock is sufficient to keep the frequency stability

for basic FDD for several months. Switching to another frequency synchronization

reference only increases the risks for synchronization instabilities.

### 2.2.4 Quality Level Management

The concept of

quality

level

represents information about the quality (for example frequency accuracy) of the source in the

synchronization trail.

In synchronization networks, timing is transferred between clocks in either

primary-secondary

or server-client fashion. Quality Level carries information about the traceability of a

synchronization reference, not the quality. Dedicated test instruments assess the quality.

For Synchronous Ethernet, Quality Level is carried by ESMC, which is one of the Ethernet slow

protocols. A slow protocol is terminated at every Ethernet switch. For PTP, the Quality level

is carried in the PTP messages.

If Quality Level is applied to frequency synchronization networks, it

provides

the following

benefits:

- The best available network synchronization quality can be propagated downstream in a transport network. This is possible because each node can select the synchronization reference with the best Quality Level.
- An end node, for example, a NodeB or eNodeB, can decide whether the Quality Level of network synchronization on an interface is sufficient for its operations. This is achieved by defining a minimum Quality Level for the synchronization reference.
- If the ESMC extended TLV is supported, the Assisted Time Holdover feature using Synchronous Ethernet as assisting reference, can automatically assess the usefulness of the assisting reference.

There are three different sets of Quality Levels based on the ETSI, ANSI, and TTC

standards,

corresponding

to options I, II, and III. A network must use only one of these options.

Quality Levels in PTP are implemented with parameters, for example,

clockClass, clockAccuracy,

timeTraceable. These are combined into a Quality Level to provide a

common reference.

### 2.2.5 Network Synchronization Plan

The Network Synchronization Plan (NSP) consists of a set of documents, tables, and diagrams

that provide the description of the synchronization network.

The NSP is custom-made for each individual network. It is recommended to prepare and maintain

an NSP for the operator. Any changes to the network must be implemented according to the NSP.

Synchronization-related implications can be evaluated before implementation to prevent any

service degradation. After implementation, the NSP

must

be updated to highlight the new network structure.

The NSP describes the topology of the synchronization chain. This includes the locations of

the primary synchronization sources and how the timing signals are distributed throughout the

network to the base stations. The multiplicity of clock sources and path diversity is also

described to highlight redundancy strategies that implement robustness. The NSP indicates the

nodes that are deployed in the network and the properties of the related clock types. On a

node level, the inputs and priorities of synchronization references are also defined.

Furthermore, links and associations that convey synchronization information must also be

detailed.

### 2.2.6 Node Group Synchronization

Node Group Synchronization (NGS) is a synchronization architecture that can be used in

features that share radio resources such as Mixed Mode Radio or Multi-Operator RAN. For

features that share radio resources, the nodes must be synchronized to each other. NGS

can be used to achieve this synchronization. NGS must be used for configurations that

contain baseband and shared radio.

The main benefits of NGS are:

- More robust Mixed Mode Radio and Multi-Operator RAN synchronization solution. This is because the regulation of the phase relationship between two neighbor nodes takes the measurements of the phase difference from the shared radio.
- Redundancy by using several shared radios as possible synchronization interconnect.
- Flexibility in Mixed Mode Radio and Multi-Operator RAN site configurations. DUs, Baseband units, and radios do not need to be at the same site. There can be baseband sites with several managed elements serving several radio sites. Distance is only limited by supported CPRI lengths.
- GPS ports on DUs or sync ports on Baseband units are available to be used for external synchronization reference. Synchronization signals are distributed to radios over the CPRI links.

### 2.2.7 Synchronization for Nodes in Isolated Mode

A node enters isolated mode after the Node Deployment without External

Synchronization Source feature is

activatedand

the node is restarted with rank COLD.

The Node Deployment without External Synchronization Source feature allows the node to

carry traffic when no external synchronization references are available. Other

synchronization-related or position-related features cannot work together with this

feature. For more information, see Node Deployment without External Synchronization Source.

## 2.3 Synchronization in Packet Networks

Network synchronization in a packet-based network is performed by using time stamps that are

inserted in IP packets or in Ethernet frames. There are two protocols that support network

synchronization over packets: the Network Time Protocol (NTP) and the Precision Time Protocol

(PTP).

For the Ericsson RBS, NTP can be used for frequency synchronization, while PTP can be used

for both frequency or time and phase synchronization.

If an application requires only frequency synchronization, the time servers do not require an

absolute time reference such as GPS. An accurate frequency reference, for example, a 2-MHz

signal with PRC quality, is sufficient. When the application needs time and phase

synchronization, the reference must be leap second-free.

The NTP client, or the PTP TimeReceiver, extracts the synchronization information from the

packets by using a Differential Time Method algorithm (DTM). DTM algorithms are based on the

time differences between a time server and a time client. The packet delays are computed from

the time stamps of the server and the client. This allows the client to do the following:

- Calculate the frequency drift of its oscillator.
- Compare the frequency of the oscillator to the frequency of the time server.
- Tune the client clock to the time server.

### 2.3.1 Frequency Synchronization Using NTP Packets

The IP synchronization reference consists of an NTP client in the node and an associated NTP

server in another node.

If an Ericsson RNC is available, the most cost-effective solution is using embedded NTP

servers. The RNC can be synchronized with any frequency references, for example a 2048-kHz

source. Otherwise, any third-party NTP servers can be used. In either case, the solution

requires PRC-quality sources.

Figure 2   Frequency Distribution with NTP

The capability of the base station to recover an accurate frequency reference depends on the

PDV of the NTP packets. PDV is caused by the queueing time in the switches and routers. The

QoS policies are recommended to have the highest priority on NTP packets in the backhaul

network.

### 2.3.2 Synchronization Using PTP Packets

PTP can be used for the frequency synchronization or the time and phase synchronization of an

RBS.

The PTP synchronization reference consists of a PTP TimeReceiver in the RBS and an associated

PTP Grandmaster clock in another node.

A RAN node can also provide a PTP time and phase synchronization source by enabling the RAN Grand Master feature.

A PTP network can operate in two modes: multicast or unicast. In the multicast mode, PTP

packets are sent from the TimeTransmitter clock to all TimeReceiver clocks in the multicast

domain. In the unicast mode, a TimeReceiver clock in the PTP network sets up a subscription

for PTP packets in a Grandmaster clock.

The IEEE 1588v2 standard defines the Best TimeTransmitter Clock Algorithm (BTCA)

algorithm. The algorithm selects the TimeTransmitter clock with the best precision in the PTP

domain by exchanging information between clocks in the network.

PTP Profiles

PTP profiles contain specific selections of attribute values, and PTP features that meet

the requirements of a particular application. These profiles define the Alternate-BTCA

algorithms, configuration management options, path delay mechanism, the range and default

values of PTP attributes, and so on. The following profiles are supported by the Ericsson

Radio System:

| ITU-T G.8265.1              |    | The telecom profile for frequency synchronization. It includes support for IEEE               1588–2008 Frequency Default in PTP over IP unicast mode.                                                                                                                                                                                                                           |
|-----------------------------|----|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                             |    |                                                                                                                                                                                                                                                                                                                                                                                  |
| ITU-T G.8275.1              |    | The telecom profile for time and phase synchronization with full timing support in               PTP over Ethernet multicast mode.                                                                                                                                                                                                                                               |
|                             |    |                                                                                                                                                                                                                                                                                                                                                                                  |
| ITU-T G.8275.2              |    | The telecom profile for time and phase synchronization with partial timing support in               PTP over IP unicast mode.  For the Baseband Radio Node, this profile includes support for a mode that uses more               relaxed network limits than those specified in ITU-T G.8271.2. For more information,               see IEE1588 Time and Phase synchronization. |
|                             |    |                                                                                                                                                                                                                                                                                                                                                                                  |
| IEEE 1588–2008 Time Default |    | The default IEEE 1588–2008 Appendix J.3 profile for time and phase synchronization               with full timing support in PTP over Ethernet multicast mode.                                                                                                                                                                                                                   |
|                             |    |                                                                                                                                                                                                                                                                                                                                                                                  |
| IEEE 1588–2008 Time Slow    |    | The IEEE 1588–2008 Appendix J.3 profile that operates with longer locking time and               higher PDV.                                                                                                                                                                                                                                                                     |
|                             |    |                                                                                                                                                                                                                                                                                                                                                                                  |
| IEEE 1588 Custom            |    | The custom profile for time and phase synchronization with full timing support in PTP               over IP unicast mode.                                                                                                                                                                                                                                                        |
|                             |    |                                                                                                                                                                                                                                                                                                                                                                                  |
| ITU-T G.8275.1 eCPRI Custom |    | The custom profile for time and phase synchronization with full timing support in PTP               over Ethernet multicast mode.                                                                                                                                                                                                                                                |
|                             |    |                                                                                                                                                                                                                                                                                                                                                                                  |
| Local Grandmaster           |    | The custom RAN Grand Master profile with higher time error limit. This profile can be               used in ORAN topologies with small PTP networks to extend the time holdover capability               or to use assisting PTS reference to extend the RAN Grand Master time service               availability.                                                               |

### 2.3.3 PTP for Frequency Synchronization

Frequency synchronization is based on the ITU-T G.8265.1 PTP profile, which

describes the use of UDP over IP in unicast transmission mode. This profile does not

require the application of boundary or transparent clocks. The profile recommends the

use of at least two TimeTransmitter clocks in the network to increase network

reliability. The time budget for this profile is given in ITU-T

G.8261.1.

The ITU-T G.8265.1 profile implementation in the RBS is also compatible with the IEEE 1588-2008

default profiles. This means that both specific ITU-T G.8265.1 and standard IEEE 1588-2008

equipment can be used.

Figure 3   IEEE 1588 Network View for Frequency Synchronization

An RBS can have as many as eight alternative synchronization references. Each

synchronization reference is a TimeReceiver clock and has a corresponding

TimeTransmitter clock. Individual TimeReceiver clocks can be connected to different

TimeTransmitter clocks.

TimeReceiver clocks receive information about the quality of TimeTransmitter clocks

through the PTP protocol. The clock quality includes information about clock class and

clock accuracy. A PTP TimeReceiver chooses the TimeTransmitter with the highest

priority, if the TimeTransmitter provides a clock with sufficiently good quality. This

quality must be in accordance with predefined values for clock class and clock

accuracy.

### 2.3.4 PTP for Time and Phase Synchronization

The PTP network for time and phase synchronization consists of the following elements:

- Grandmaster clocks are mandatory elements of the PTP networks. They act as the time server to provide high-precision time stamps.
- Boundary clocks are optional elements of the PTP network. One PTP port operates as a TimeReceiver clock, while the other ports operate as the TimeTransmitter to all other clocks in the synchronization chain.
- Transparent clocks are optional elements of the PTP network. They calculate the transit time of PTP packets and add the calculated value to the dedicated field in the PTP header. The transparent clock is not a TimeTransmitter clock.
- TimeReceiver-only ordinary clock is the end-node TimeTransmitter clocks in the synchronization trail.

The Ericsson implementation in the RBS of ITU-T G.8275.2 includes support for a mode that

uses more relaxed network limits than those specified in ITU-T G.8271.2. This mode is

intended for synchronization of FDD nodes involved in EN-DC (NR non-standalone

networks). For more information, see IEE 1588 Time and Phase Synchronization.

To implement time synchronization with Full Timing Support, every node along the chain

between the TimeTransmitter and TimeReceiver clocks must support the PTP boundary clock

or transparent clock functions.

Figure 4   IEEE 1588 Network View for Time and Phase Synchronization

For partial timing support, not all nodes have to have the boundary clock or transparent

clock functionality. This results in increased time errors over the network. In this

case, two options are available: Partial Timing Support (PTS) and Assisted Partial

Timing Support (APTS).

In PTS, the RBS establishes a PTP over IP unicast session with ITU-T G.8275.2 compliant

Grandmaster clocks, while the backhaul network is unaware of the PTP. This ITU-T

recommendation puts a strict requirement on accuracy of the time delivered to the RBS,

and it is up to the operator to assure these requirements are met. Practical experience

shows that the requirements are often difficult to fulfill for TDD, but that PTS is

often usable for FDD with carrier aggregation (which has less strict time

synchronization requirements).

In APTS, the RBS is supplied with a local GNSS reference and another PTP input provided

by a Grandmaster clock in the network. When the RBS tracks the GNSS, it can also

evaluate the PTP input and determine the related offset. When a GNSS failure occurs, the

RBS enters holdover and compensates the PTP timing information with the calculated

offset. The assisting APTS time reference can be selected on Baseband Radio Node startup

without the need for the one-hour reevaluation period. This functionality is activated

through the Assisted Time Holdover feature.

## 2.4 GNSS Receiver Unit as Synchronization Reference

A GNSS receiver unit can be used as a synchronization reference. It synchronizes its time

with satellites and provides timing to the Baseband Radio Node.

When the GNSS receiver unit is powered, it uses the factory default satellite system

combination, where the default is different for different versions of GNSS receiver

units. For more information, see Table 2.

The RAN Compute unit can configure the GNSS receiver unit to use any set of primary

wanted and backup satellite system combinations from those supported by the connected

GNSS receiver unit. The same satellite system combinations are available for primary

wanted and backup satellite system combinations.

The following table shows which satellite system combinations are available for each GNSS

receiver unit:

Table 1   Supported Satellite System Combinations for Each GNSS Receiver Unit

|                                                          | GPS 01 and GPS 02   | GPS 03   | GRU 04   | GRU 05   |
|----------------------------------------------------------|---------------------|----------|----------|----------|
| GPS                                                      | Yes                 | Yes      | Yes      | Yes      |
| BDS                                                      | No                  | Yes      | Yes      | Yes      |
| GPS and GLONASS                                          | No                  | Yes      | Yes      | Yes      |
| GPS and BDS                                              | No                  | Yes      | Yes      | Yes      |
| Galileo                                                  | No                  | No       | Yes      | Yes      |
| GPS and Galileo                                          | No                  | No       | Yes      | Yes      |
| GPS and                                 QZSS             | No                  | No       | Yes      | Yes      |
| GPS and BDS and                                 QZSS     | No                  | No       | Yes      | Yes      |
| GPS and Galileo and                                 QZSS | No                  | No       | Yes      | Yes      |
| GPS and GLONASS and                                 QZSS | No                  | No       | Yes      | Yes      |
| NavIC(1)                                                 | No                  | No       | No       | Yes      |
| GPS and NavIC                                            | No                  | No       | No       | Yes      |
| Galileo and NavIC                                        | No                  | No       | No       | Yes      |
| GPS and Galileo and NavIC                                | No                  | No       | No       | Yes      |

(1)  It is not recommended to configure a standalone NavIC as a

synchronization reference source because of insufficient quality

level.

For GPS 03, GRU 04, and GRU 05 in Baseband Radio Nodes, the

GnssInfo.multipleGnssStatus attribute shows

WANTED\_GNSS\_UNSUPPORTED when the satellite system combination set

in the GnssInfo.multipleGnssWanted attribute is not among the

supported satellite system combinations for the GNSS receiver unit.

For GPS 03, GRU 04, and GRU 05 in Baseband Radio Nodes, the

GnssInfo.multipleGnssStatus attribute shows

BACKUP\_GNSS\_UNSUPPORTED if all of the following conditions are

fulfilled:

- The primary wanted satellite system combination has a defect.
- A backup satellite system combination is set in the GnssInfo.multipleGnssBackup attribute by setting a value other than NONE.
- The configured backup satellite system combination is not supported.

Table 2   Factory Default Satellite System Combinations for Each GNSS Receiver

Unit

|                                              | GPS 01 and GPS 02   | GPS 03          | GRU 04 and GRU 05   |
|----------------------------------------------|---------------------|-----------------|---------------------|
| Factory Default Satellite System Combination | GPS                 | GPS and GLONASS | GPS and Galileo     |

If the satellite system combination is changed and the GNSS receiver unit restarts, the

previously configured satellite system combination is applied to the GNSS receiver

unit.

The GNSS receiver unit uses the satellites in the best position from all satellite

systems if the selected satellite system combination contains multiple satellite

systems.

A GNSS antenna that supports the appropriate frequency bands is needed to receive signals

from each configured satellite system in the configured satellite system

combination.

The GNSS receiver periodically indicates its locking status and antenna position

information. The following satellite-related data is indicated:

- Satellites that are tracked, including signal strength
- Satellites that are used for timing output

The timing output by the GNSS receiver unit represents the time at the GNSS antenna. All

cable delays between the GNSS antenna and the sync port on the

RAN Compute unit are compensated by a compensation delay setting in the MOM.

## 2.5 Functional View

Figure 5 shows a functional model of the network

synchronization block of the

Baseband.

Figure 5   Functional Model of Synchronization.

### 2.5.1 Overview

The heart of the network synchronization block is the Radio Equipment Clock. In the Baseband,

it generates to its internal users the following, to generate the Air interface carrier

frequency and Radio frames:

- basic phase
- frame counter
- frequency

If there is one external reference available, the Radio Equipment Clock locks to the selected

reference. If no reference is available, it uses the holdover capability to keep phase and

frequency until a reference becomes available again. When locked to a reference, the holdover

capability is trained by the Radio Equipment Clock.

If no external references are available for a node in isolated areas, the node cannot start.

With the activation of the Node Deployment without External Synchronization Source feature and

the connection to backhaul system, the node enters isolated mode and can carry traffic.

The Synchronization Protocol Termination terminates Synchronization protocols. For the

configured synchronization references, it forwards information to the synchronization

Reference Monitoring. The synchronization Reference Monitoring decides whether a reference is

selectable as synchronization reference. Synchronization Reference selection uses the priority

value configured for each reference and selects the selectable reference with the highest

priority.

### 2.5.2 Synchronization Protocol Termination

Not all types of synchronization reference terminate in a protocol.

The Synchronization Protocol Termination terminates the following

protocols:

- For Synchronous Ethernet, in the input direction, it does the following: Terminates the Ethernet Synchronization Messaging Channel (ESMC). Extracts the Synchronization Status Message (SSM) value. Maps the extracted value to a Quality Level according to the configured Telecom Option, and stores it in the receivedQualityLevel TOOLTIPFLAG attribute of MO RadioEquipmentClockReference TOOLTIPFLAG.
- The GNSS protocol termination detects whether the protocol is supported, and extracts time information, GNSS receiver status, and satellite information. The time information is forwarded to the next functional blocks. The GNSS receiver status and satellite information are represented in the GnssInfo MO Class. If the GNSS receiver is locked, the QL value depends on the standard as set in telecomStandard TOOLTIPFLAG attribute of Synchronization TOOLTIPFLAG MO instance, and is visible in receivedQualityLevel TOOLTIPFLAG attribute of MO RadioEquipmentClockReference TOOLTIPFLAG: PRC for OPTION\_I, that is, ETSI PRS for OPTION\_II, that is, ANSI UNK for OPTION\_III, that is, TTC
- The NTP reference, that is, NTP Client, uses the NTP protocol towards an NTP server in the network. The Quality Level of Radio Equipment Clock, when synchronized to an NTP reference, is set to one of the following values. The value is visible in the receivedQualityLevel TOOLTIPFLAG attribute of MO RadioEquipmentClockReference TOOLTIPFLAG. This depends on the standard as set in telecomStandard TOOLTIPFLAG attribute of Synchronization TOOLTIPFLAG MO instance: PRC for OPTION\_I, that is, ETSI PRS for OPTION\_II, that is, ANSI UNK for OPTION\_III, that is, TTC
- The PTP reference, that is, a PTP Slave, uses the PTP protocol towards a PTP Grandmaster in the network. The Quality Level of Radio Equipment Clock, when synchronized to a PTP reference depends on the standard as set in telecomStandard attribute of Synchronization MO instance.The extracted value is stored in the receivedQualityLevel attribute of MO RadioEquipmentClockReference. The QL is assigned based on the clockClass and clockAccuracy of the PTP Grandmaster.
- For a 1PPS reference, there is no protocol, but the reference can be given an administrative Quality Level. The receivedQualityLevel is UNKNOWN.
- The Over-the-Air assisting reference is using internal protocol. If the reference is applicable, it has an assigned quality level PRTC, shown in the AssistingReference.receivedQualityLevel attribute.

### 2.5.3 GNSS Receiver Control

A standalone GNSS receiver unit can be connected to two nodes. The node in control of the

GNSS receiver unit depends on the GNSS receiver unit version and the type of the

connected nodes.

If a DU Radio Node and a Baseband Radio Node share the GNSS receiver unit that supports

the assignment of control, the Baseband Radio Node has control of the GNSS receiver

unit. The Baseband Radio Node periodically requests control of the GNSS receiver unit

through a priority value in the request.

If two Baseband Radio Nodes share a GNSS receiver unit and the default control priority

settings are used, the Baseband Radio Node that is connected to port 1 on the GNSS

receiver unit takes control of the GNSS receiver unit. However, if one of the Baseband

Radio Nodes runs a software version that is older than 24.Q2, while the other Baseband

Radio Node runs a software version that is from 24.Q2 and onwards, the node that runs

the more recent software version takes control of the GNSS receiver unit.

GRU 04 and GRU 05 assign control of the GNSS receiver unit to the node connected to the

port where the request with the highest priority is received.

It is possible to override the default configuration by increasing the priority of one

Baseband Radio Node through the GnssInfo.getGnssReceiverControl MO

action.

The Baseband Radio Node in control of the GNSS receiver unit keeps control during and

after restart. If the Baseband Radio Node in control of the GNSS receiver is

disconnected, the other Baseband Radio Node receives control of the GNSS receiver

unit.

To allow a Baseband Radio Node to request control of the GNSS receiver unit, the Baseband

Radio Node must be connected to the GNSS receiver unit directly. If the Baseband Radio

Node is connected to the GNSS receiver unit through digital splitters, the node cannot

request control of the GNSS receiver unit.

The GNSS receiver unit control status is visible through the

GnssInfo.gnssReceiverControl attribute.

The GnssInfo.setGnssRecAntSelection action can be used to configure

antenna selection.

The configured antenna selection can be observed through the

GnssInfo.gnssRecAntSelStatus attribute. The attribute shows the

status of the antenna selection configuration. This can be used to confirm if the GNSS

receiver unit uses the configured antenna selection. If the GNSS receiver unit does not

use the configured antenna selection, the attribute shows the reason why it is not

used.

#### 2.5.3.1 Operation with GPS 01, GPS 02, and GPS 03

Operation on Baseband Radio Node

If two RAN Compute units share one GPS 03 and have different settings of the

GnssInfo.multipleGnssWanted attribute or the

GnssInfo.multipleGnssBackup attribute, resolving the

configuration conflict takes more time and more reconfigurations of the GNSS

receiver unit. In such a case, GPS 03 uses the satellite system combination based on

a priority mechanism. The following combinations are available, starting from

highest priority:

1. BDS
2. GPS and BDS
3. GPS
4. GPS and GLONASS

Supported Control Functionalities

The supported control functionalities do not require control of the GNSS receiver

unit.

The following control functionalities are supported for GPS 01:

- The reset of GNSS receiver is available through the GnssInfo.gnssReceiverRestart MO action.
- The Synchronization.fixedPosition attribute defines whether the node has a fixed position. If the node might move, the value must be set to false.

The following control functionalities are supported for GPS 02:

- The reset of GNSS receiver is available through the GnssInfo.gnssReceiverRestart MO action.
- The GPS 02 receiver averages its position again when the position resurvey is set through the GnssInfo.gnssReceiverResurvey MO action.
- The Synchronization.fixedPosition attribute defines whether the node has a fixed position. If the node might move, the value must be set to false.

The following control functionalities are supported for GPS 03:

- The reset of GNSS receiver is available through the GnssInfo.gnssReceiverRestart MO action.
- The GPS 03 receiver averages its position again when position resurvey is set through the GnssInfo.gnssReceiverResurvey MO action.
- The Synchronization.fixedPosition attribute defines whether the node has a fixed position. If the node might move, the value must be set to false.
- The primary wanted satellite system combinations for the GNSS receiver unit can be configured through the GnssInfo.multipleGnssWanted attribute.
- The backup satellite system combinations for the GNSS receiver unit can be configured through the GnssInfo.multipleGnssBackup attribute.

#### 2.5.3.2 Operation with GRU 04 and GRU 05

Operation on Baseband Radio Node

If two connected Baseband Radio Nodes are configured in a way that the GRU 04 or GRU

05 uses different satellite system combinations, the GNSS receiver unit is

configured by the node with the THIS\_NODE\_IN\_CONTROL value in the

GnssInfo.gnssReceiverControl attribute. The value of the

GnssInfo.multipleGnssStatus attribute is

GNSS\_REC\_CONFIG\_FAULT on the other node.

In the GRU 04 or GRU 05, the primary wanted satellite system combination is

configured through the GnssInfo.multipleGnssWanted attribute and

the backup satellite system combination is configured through the

GnssInfo.multipleGnssBackup attribute.

Supported Control Functionalities

The following control functionalities are supported for GRU 04 and GRU 05:

- If the upgrade package contains a later firmware version than the firmware version that currently runs on the GNSS receiver unit, the later firmware is loaded to the GNSS receiver unit as a background activity. The node restarts the GNSS receiver unit. After the firmware is loaded, the GNSS receiver unit uses the new firmware if satellite visibility is sufficient to achieve good locking to the satellites. The firmware upgrade does not require any user action.
- Restart on a specific firmware slot through the GnssInfo.gnssReceiverRestartFromSlot MO action allows users to order GNSS receiver units to run on a different firmware version than the one used after a remote firmware upgrade. GRU 04 and GRU 05 have three firmware slots. Slot 0 contains the firmware version provided from the factory. Slots 1 and 2 can be loaded and reloaded remotely when an upgrade package contains a later GNSS receiver firmware version than the one in any of the firmware slots of the GNSS receiver unit. The firmware in a slot contains full GNSS receiver unit functionality.

### 2.5.4 Synchronization Reference Monitoring

With Synchronization Reference Monitoring, the synchronization references are divided into

selectable or not selectable references. If a reference is not selectable, an alarm is issued.

Selectable synchronization references are transferred to Synchronization Reference Selection

together with their respective Quality Levels.

A synchronization reference is not selectable when the following issues occur:

- Loss of physical signal at the port
- Protocol communication error
- High PDV on synchronization packets
- The operational quality level is lower than the configured minimum quality level set in the RadioEquipmentClock.minQualityLevel attribute.

SLA monitoring for G.8275.2 PTP over IP and G.8275.1 PTP over Ethernet do not divide

references into selectable and not selectable references.

### 2.5.5 Synchronization Reference Selection

From the set of selectable synchronization references, the reference with the highest

priority value that is fault free and has minimum Quality Level (QL), is selected. The

priority value is configured through the MOM. If there is no selectable reference, the

holdover capability is used. The selected reference and the QL of the selected reference are

visible in operQualityLevel and are transferred to the Radio Equipment

Clock.

Additionally to the ordinary reference selection, up to eight assisting references can be set

up to protect a time reference against

a service

outage.

At a time reference outage, the node first tries to use an assisting reference. If none of

the assisting references are qualified, the node will try to synchronize to the next ordinary

reference according to the priority.

The operation of the assisting reference is visible in

AssistingReference,

timeSyncAssistanceState, and

assistedReferenceStatus.

### 2.5.6 Radio Equipment Clock

The network synchronization function is implemented in the Radio Equipment Clock, which

provides reference for air interface synchronization and for internal synchronization users in

the node. It generates the basic 10 ms radio frame tick and the basic radio frame counter.

The radio equipment clock is tailored for radio performance. It is built around a high

stability oscillator and has a synchronization algorithm that adjusts the time and frequency.

This enables it to lock quickly to the selected time or frequency reference, and to withstand

frequency and phase variations once locked. To enable short restart times, the parameters of

the adaptive algorithm are stored in a non-volatile memory.

During frequency synchronization, the high stability oscillator has a frequency within the

3GPP accuracy requirements from start, so when locking to a frequency synchronization

reference, there is no impact to the RAT executing on the node.

For time and phase synchronization, when locking to the reference, it might be required to

jump the basic frame counter of the Radio Equipment Clock to get in sync with the reference.

During the jump, the RAT cells are disabled to avoid network disturbances.

The radio equipment clock can be in the clock states FREQUENCY\_LOCKED,

RNT\_TIME\_LOCKED, or TIME\_OFFSET\_LOCKED when synchronized

to a reference. The TIME\_OFFSET\_LOCKED represents a state where the clock is

locked to the time reference, but waiting for a node internal request to jump the basic frame

counter. When the node synchronizes by jumping the basic frame counter, internal node

communication assures that cells are temporarily disabled during the synchronization

forlopp.

A basic radio frame counter jump can happen in the following events:

- When the node is configured for frequency synchronization, and it is reconfigured to use time synchronization and the applicable feature is enabled.
- When the node is configured for time synchronizationif all time synchronization references fail, the node goes to RNT\_TIME\_HOLDOVER, and then FREQUENCY HOLDOVER. When the failed time reference comes back and the time of the reference differs more than 10 μs from the basic frame counter time, the jump occurs.

### 2.5.7 Configuration of Assisted Time Holdover

The Assisted Time Holdover feature enables the use of assisting references for the

GNSS or PTP over Ethernet G.8275.1 primary time reference.

If the primary time reference is faulty, the RadioEquipmentClock MO

selects a suitable AssistingReference MO instance and continues the

time synchronization service.

The

following functions

can be used

as assisting references for the GNSS or PTP time reference:

For GNSS as primary reference:

- PTP over IP G.8275.2 (APTS)
- SyncE, available from different synchronization source or path
- PTP over Ethernet G.8275.1 (AFTS)
- Over-the-Air synchronization (OTA)

For PTP over Ethernet G.8275.1 as primary reference:

- SyncE, available from different synchronization source or path
- Over-the-Air synchronization (OTA)

Figure 6   Assisting Reference Configurations

Related tasks

Configure PTP over IP G.8275.2 as an Assisting Time Reference (APTS)

Configure SyncE as Assisting Time Reference

Configure PTP over Ethernet G.8275.1 as an Assisting Time Reference (AFTS)

Configure Over-the-Air as an Assisting Time Reference

### 2.5.8 Holdover Capability

When the radio equipment clock is locked to a synchronization reference, the holdover

capability is trained.

If no references are selectable, the holdover capability keeps the latest known properties of

the radio equipment clock algorithm in holdover modes.

If the radio equipment was time locked, the holdover capability can keep a time holdover mode

for a limited time. If a time synchronization reference is not selectable within this time,

the holdover capability goes to the frequency holdover mode. If the holdover capability is

trained, the frequency holdover mode can be kept for the rest of the lifetime of the node.

If the synchronization network fault is not corrected: an additional alarm is sent as a

reminder. This takes place two weeks after all frequency synchronization references became

"not selectable". After this two-week period, there can be a degradation of the

handover-related KPIs. Handover can fail for mobile stations moving at high speed.

The described holdover capability relies on the stability of the oscillator and the training

of the synchronization algorithm.

An assisting reference can provide an alternative way to keep the time during an outage of a

primary time reference using a network connection. Using an assisting reference provides a

virtual holdover with a longer duration.

The FREQUENCY\_HOLDOVER, RNT\_TIME\_HOLDOVER or

TIME\_OFFSET\_HOLDOVER states are reported in the

radioClockState attribute of RadioEquipmentClock

MO.

The freqHoldOverSec PM counter measures the number of seconds that the

radio clock is in FREQUENCY\_HOLDOVER state. The

timeHoldoverSec PM counter measures the number of seconds that the clock

is in RNT\_TIME\_HOLDOVER or TIME\_OFFSET\_HOLDOVER state.

When timeSyncAssistanceState is ASSISTANCE\_ACTIVE, the

timeAssistedHoldoverSec PM counter measures number of seconds that the

clock is in RNT\_TIME\_LOCKED or TIME\_OFFSET\_LOCKED state.

### 2.5.9 Synchronization Protocol Generation with Encoded SSM Value

In the outward direction, the Synchronization Protocol Generation takes the Quality Level

from attribute RadioEquipmentClock.clockSettledQuality.

For SyncE, the Synchronization Protocol Generation takes the Quality

Level from the Radio Equipment Clock and encodes it to a Synchronization

Status Message (SSM) value. The Ethernet Synchronization Message Channel

(ESMC) protocol is generated on all Ethernet ports, including the

SSM value.

An exception is that the Quality Level Do not use

for synchronization is transferred on the Ethernet port

that the Radio Equipment Clock selected for synchronization.

For Time Division Multiplex (TDM) ports, the Synchronization Protocol

Generation takes the Radio Equipment Clock state and encodes it to

an SSM value. The SSM value is sent out on all TDM ports.

### 2.5.10 Monitoring the Frequency Deviation of Synchronization References

Synchronization references must always adhere to frequency accuracy requirements. When faults

occur in the synchronization network, some references that appear as acceptable can have

substantial frequency deviation. To detect such deviations, the base frequency of the Radio

Equipment Clock is used for comparison. If the difference is larger than a configurable

threshold, the synchronization reference is disqualified. This functionality is applicable for

both general network synchronization deployments and

Node

Group Synchronization (NGS).

For NGS, the threshold must be changed from its default value to the minimum value. This

assures the best robustness of the node group. All nodes in the same node group must be

configured to the same threshold value.

For non-NGS deployments, the threshold can be set to a higher value, but this can degrade the

handover-related KPIs.

The deviation tolerance of synchronization references is configured through the

RadioEquipmentClockReference.freqDeviationThreshold attribute.

When the frequency deviation of a synchronization reference is above the

freqDeviationThreshold value, the

RadioEquipmentClockReference.availibiltyStatus attribute

that

indicates the synchronization reference is set to FAILED and the

RadioEquipmentClockReference.referenceStatus attribute is set to

FREQ\_DEVIATION. The value of the freqDeviationThreshold

can be set in the range of 600-5000 PPB. Setting the

freqDeviationThreshold attribute to the upper limit

means that the synchronization reference is used with the maximum allowed amount of frequency

deviation. This can result in degraded handover performance (and node group instability or

node group fragmentation). Setting it to the lower limit means that, when frequency deviation

is detected, the synchronization reference is discarded sooner. This can result in mitigation

of handover performance (and node group instability or node group fragmentation).

A general recommendation is to set the

freqDeviationThreshold attribute to the lower limit.

When the referenceStatus attribute is set to

FREQ\_DEVIATION, the following options must be considered:

- If the freqDeviationThreshold attribute is updated with a lower limit, while the node is running, a node restart with rank warm must be performed. This must be performed on all nodes within the node group. If a warm restart is performed, the node discards the deviated frequency that caused the FREQ\_DEVIATION value in the referenceStatus attribute. The node is reverted to the base frequency of the Radio Equipment Clock to prevent frequency interference.
- For non-NGS deployments, the suggestion is to set the threshold to a higher value. However, this can degrade the handover-related KPIs.
- If the deviation of the reference persists, the configuration of synchronization references must be verified, according to the network synchronization plan.

### 2.5.11 Measuring the PTP G.8275.1 or G.8275.2 Characteristics According to ITU-T G.8271.1 or ITU-T G.8271.2

SLA monitoring of PTP G.8275.1 input according to the ITU-T G.8271.1, or PTP

G.8275.2 input according to the ITU-T G.8271.2 recommendation is possible

on a Baseband Radio Node that is synchronized to the GNSS.  For details about GNSS

installation, see the GNSS Receiver System User Guide.

The Baseband Radio Node can measure the characteristics of PTP sources with G.8275.1 or

G.8275.2 profile. They are measured according to metrics and network limits defined in

the ITU-T G.8271.1 or ITU-T G.8271.2 for reference point C of

network reference model, without using any external measurement equipment. No defect or

alarm is raised for the PTP references with G.8275.1 or G.8275.2 profile if the measured

characteristics exceed the limits defined in ITU-T G.8271.1 or ITU-T

G.8271.2.

These metrics and related network limits need to be fulfilled in all operating conditions

except PTP rearrangement and long holdover periods. They are defined in the following

ITU-T recommendations:

- ITU-T G.8271.1, Network limits for time synchronization in packet networks with full timing support from the network
- ITU-T G.8271.2, Network limits for time synchronization in packet networks with partial timing support from the network
- ITU-T G.8260, Definitions and terminology for synchronization in packet networks

For measuring purposes, the operator creates the PtpProfileMeasurement

MO and all measurement information is logged in it. The

PtpProfileMeasurement MO actions are used for starting and

stopping measurements and its attributes are used for configuring the measurement

duration. After measuring is done and all measurement information is collected, the

PtpProfileMeasurement MO must be deleted.

The following attributes, based on the

PtpProfileMeasurement.pktSelected2WayTE attribute, are

implemented for measuring the PTP references with G.8275.2 profile:

- PtpProfileMeasurement.p2pPktSelected2WayTE
- PtpProfileMeasurement.maxAbsPktSelected2WayTE

The following attributes are implemented for measuring the PTP references with G.8275.1

profile:

- PtpProfileMeasurement.maxAbsLowPassFilterTE
- PtpProfileMeasurement.p2pHighPassFilterTE

Each metric is represented with the following members:

- measuredValue
- limit
- measurementPassed

If measuredValue is larger than limit,

then measurementPassed is set to false indicating

that the limit defined by the ITU-T G.8271.1 or ITU-T G.8271.2 is not fulfilled.

Otherwise, measurementPassed is set to true. The

measurementPassed struct member only shows if measurement result

passed ITU-T limit for the

PtpProfileMeasurement.maxAbsLowPassFilterTE or

PtpProfileMeasurement.maxAbsPktSelected2WayTE attributes. No

relation to PtpBcOcPort.ptpPathTimeError attribute.

For G.8275.2 profile, the measured values have the default value 0 for

the first 200 seconds after the measurements are started. This is because the metrics

are calculated on a 200-second window defined by the ITU-T G.8271.2.

For G.8275.1 profile, the

PtpProfileMeasurement.maskMaxTimeIntervalError attribute shows

whether measured MTIE is under defined mask limit.

The G.8275.1 or G.8275.2 metrics are used only for characteristics measurements, but they

are not used as a reference degradation criterion even if the network limits are not

fulfilled. With respect to the planned deployment, PTS or APTS, different measurements

are applicable, the maximum absolute value or the peak-to-peak value of

PtpProfileMeasurement.pktSelected2wayTE, respectively. If the

deployment is unknown, it is recommended to measure both values.

The following PM counters are implemented to store the measured TE values:

- PtpProfileMeasurement.ptpHighPassFilterTE
- PtpProfileMeasurement.ptpLowPassFilterTE
- PtpProfileMeasurement.ptpMtieLimit
- PtpProfileMeasurement.ptpMtieValue
- PtpProfileMeasurement.ptpPktSelected2wayTE

Measured MTIE values can be compared with limits defined in the

PtpProfileMeasurement.ptpMtieLimit PM counter.

The PM counters are stored in ROP files and can be used by the ENIQ system to visualize

the measurement results. The ROP files can be collected through ENM and counter values

that can be used by ENIQ-customized KPIs to plot the measured Time Error.

### 2.5.12 Sync Test Interface

The user can measure generated frequency and time alignment on

a

Baseband

unit

by connecting test equipment to the synchronization test interface. The synchronization test

interface represents the frequency and time recovered from external reference, and being used

towards radio units and by the PTP Grand Master functionality with the node. For information

on how to configure the synchronization test interface and the test signal, see Sync Test Interface - Test Instruction. For information on how to connect test instruments and evaluate

results, see Configure Test Signals for Sync Test Interface. Sync Test Interface - Test Instruction.

The synchronization test interface is represented by the following two pins on the LMT port

RJ45 connector: Electrically it is an unbalanced 50 Ω signal. The cable and test instrument

provides 50 Ω termination. It corresponds to the "1PPS 50 Ω phase synchronization measurement

interface" defined by ITU-T:

Three test signals can be enabled. For information about these test signals, see OutputSyncTestInterfaceSignal.

The synchronization test interface can be used to measure the following:

- The accuracy of the frequency generated by the Baseband unit by connecting a frequency counter to the interface. To measure this, enable FREQUENCY\_2048KHZ, or FREQUENCY\_1PPS.
- The time accuracy achieved when synchronizing to a time reference by connecting an oscilloscope to the interface and a 1PPS reference signal. To measure this, enable TIME\_LOCKED\_1PPS.

See Figure 7 for an example of a

synchronization test setup.

Figure 7   Example of a Sync Test Interface Test Setup, Super Set

After a power-on and after a restart with rank Cold or rank

Cold with test, no signal is output. The test signal survives a restart

with rank Warm. If attempting to enable a signal not supported by the

field replaceable unit, no signal is output. It is recommended to disable the signal when not

using it for testing.

### 2.5.13 Sync Test Interface - Test Instruction

General

The user can measure generated frequency and time alignment on Baseband units by

connecting test equipment to the synchronization test interface. The synchronization

test interface represents the frequency and time recovered from external reference,

and being used towards radio units and by the PTP Grand Master functionality with

the node. For information on how to configure the synchronization test interface and

the test signal, see Configure Test Signals for Sync Test Interface

The synchronization test interface is represented by the following two pins on the

LMT port RJ45 connector:

- Pin 8: Signal
- Pin 5: GND

Electrically it is an unbalanced 50 Ω signal. The cable and test instrument provides

50 Ω termination. It corresponds to the "1PPS 50 Ω phase synchronization measurement

interface" defined by ITU-T:

Recommendation G.8271/Y.1366 defines the functionality.

Recommendation G.703 defines the characteristics.

Use 0.7 V as threshold on the input of the frequency counter / Oscilloscope as the

amplitude of the signal is about 1.4 V.

Ericsson does not offer any cables or test equipment.

Measuring Frequency Accuracy

Connect a 50 Ω termination to the sync test interface or use a 50 Ω termination on

the frequency counter.

Enable output of FREQUENCY\_2048KHZ on the synchronization test interface.

Figure 8   Frequency Accuracy Measurement Test Setup

Expected result:

- With Synchronous Ethernet as selected reference the frequency accuracy is expected to be better than ±50 ppb. The accuracy is dependent on the frequency accuracy of the far end reference source and wander added by the transport network.
- With NTP or PTP frequency as selected reference the frequency accuracy is expected to be better than ±50 ppb. The accuracy is dependent on the frequency accuracy of the far end reference source and the packet delay variation, PDV, added by the transport network.
- With a time reference (GNSS or PTP time) as selected reference the frequency accuracy is expected to be better than ±1 ppb.
- When all references are lost the frequency error will very slowly start to increase (or possibly to decrease). No features will be interrupted.

Measuring Time Alignment with GNSS Reference

The test setup can be configured in two ways, see Time Alignment with GNSS Reference Test Setup:

- Using a GNSS simulator, connect its RF signal to the GNSS receiver and its 1PPS reference to the oscilloscope respectively.

Connect a 50 Ω termination to the sync test interface.

Connect the sync test interface to the oscilloscope. The rising edge represent

toggling from one second period to another.

Enable output of TIME\_LOCKED\_1PPS on the synchronization test interface according to

2.12 Configure Test Signals for Sync Test Interface. The signal is only output in

clock states RNT\_TIME\_LOCKED, RNT\_TIME\_HOLDOVER, TIME\_OFFSET\_LOCKED and

TIME\_OFFSET\_HOLDOVER, else it is squelched.

Figure 9   Time Alignment with GNSS Reference Test Setup

Expected result:

- With GNSS as selected reference the time alignment is expected to be better than ±100 ns. Bad GNSS antenna sky visibility may cause a less good time alignment. Wrong estimation of GNSS antenna RF feeder and digital cable delays entered in the compensationDelay attribute of the TimeSyncIO MO will appear as an additional time alignment error.
- When the GNSS reference is lost the time alignment error will start to grow. The Baseband unit continuously estimates the error. When the estimated time alignment error exceeds the limits of an individual time critical feature, this feature becomes impacted.

Acceptable time alignment error of time critical features is set by the timePhaseMaxDeviationXxxx attributes in

ENodeBFunction MO.

Measuring Time Alignment with PTP Time Reference

Connect a 50Ω termination to the sync test interface.

Connect the sync test interface to the oscilloscope. The rising edge represent

toggling from one second period to another.

Enable output of TIME\_LOCKED\_1PPS on the synchronization test interface according to

2.12 Configure Test Signals for Sync Test Interface. The signal is only output in

clock states RNT\_TIME\_LOCKED, RNT\_TIME\_HOLDOVER, TIME\_OFFSET\_LOCKED and

TIME\_OFFSET\_HOLDOVER, else it is squelched.

Figure 10   Time Alignment with PTP Time Reference Test Setup

- With PTP Time reference with the ITU-T G.8275.1 profile or IEEE 1588 Custom profile, the time alignment is expected to be better than ±200 ns with a directly connected grandmaster, and ±1200 ns through a transport network. The errors in case of a directly connected grandmaster are dominated by errors originating from the grandmaster. The errors in case of connection to a grandmaster through a transport network are dominated by errors originating from packet delay variation, PDV, and by asymmetries in the transport network.
- When the PTP time reference is lost the time alignment error will start to grow. The Baseband unit estimates continuously the error. When the estimated time alignment error exceeds limits of an individual time critical feature, this feature becomes impacted. Acceptable time alignment error of time critical features is set by thetimePhaseMaxDeviationXxxx attributes in ENodeBFunction MO.

### 2.5.14 Monitoring Time Offset between Time Synchronization References

Time

offset monitoring measures the time offset between GNSS and PTP time synchronization

references.

Use cases for time offset monitoring are summarized in Table 3.

Table 3   Time Offset Monitoring Use Cases

| Primary Reference   | Backup Reference   |
|---------------------|--------------------|
| GNSS                | PTP                |
| PTP                 | GNSS               |

GNSS as Primary Synchronization Reference and PTP as Backup Synchronization

Reference

Static time error might occur when using PTP time synchronization reference. This

might cause time discontinuity

between the

neighboring

nodes after switching from GNSS to PTP reference.

The

static

time error of the backup PTP reference is measured

with

the following PM counters:

- PtpBcOcPort.ptpOffsetFromMasterAvg
- PtpBcOcPort.ptpOffsetFromMasterMax
- PtpBcOcPort.ptpOffsetFromMasterMin
- PtpBcOcPort.ptpOffsetFromMasterStDev

The PtpBcOcPort.ptpValidMeasurement PM counter measures

whether

the

PTP reference

is

active during the data collection period.

PTP as Primary Synchronization Reference and GNSS as Backup Synchronization

Reference

The time offset between

the

PTP

and

the

GNSS is measured

with

the following PM counters:

- TimeSyncIO.gnssTimeOffsetActiveReference
- TimeSyncIO.gnssTimeOffsetAvg
- TimeSyncIO.gnssTimeOffsetMax
- TimeSyncIO.gnssTimeOffsetMin
- TimeSyncIO.gnssTimeOffsetStDev

The

value

of the RadioEquipmentClock.radioClockState

attribute must

be

the value of

RNT\_TIME\_LOCKED on the Baseband Radio Node.

# 3 Synchronization Configuration Procedures

The MO class Synchronization is the starting point for configuring network

synchronization.

A Baseband Radio Node always requires an available instance of the

RadioEquipmentClock

MO.

The Network Synchronization Plan specifies how synchronization must be configured in a

specific node. The configuration procedures described in this document are generic, and cannot

cover all possible value combinations of MO attributes. Whenever the choice of a value is

identified in these procedures as "the desired value", or "the required value", the specific

value to use in an actual configuration procedure must be obtained from the Network

Synchronization Plan.

## 3.1 Configuration Flow

The configuration flow consists of creating the following files:

- A configuration template file that can be reused for multiple nodes
- A site-specific configuration file, which is created by populating the template file with site-specific parameters

Template files can be created in one of the following ways:

- Using the Configuration Generator for automatic template creation with the ECT or a plug-in in the Auto Provisioning application of the ENM.
- Creating new XML NETCONF files.

The preferred procedure is to use the Configuration Generator. Only edit the template file

with an XML editor if the required configuration is not supported by the tool.

When the preferred configuration procedure is used, it is not necessary to understand the MO

structure. However, for maintenance and troubleshooting, the MO structure must be

understood.

For more information on configuration methods, see Manage Equipment Configuration Tool. For more information on

configuration files, see Manage Configuration Files.

### 3.1.1 Description of Synchronization Configuration with the Basic Configuration Method

Global Settings

The available options are the following:

- National standard that is used for network synchronization: this parameter determines only the MO settings, but does not affect MO instance names or references.
- Number of group synchronization members: if this parameter is set to a value that is greater than 0, a NodeGroupSyncMember MO is created with an instance name of 1.

Synchronization Reference

The MO structure that is created for each synchronization reference depends on the

chosen synchronization method.

Figure 11   MO Structure of Synchronization Settings

The RadioEquipmentClock and

RadioEquipmentClockReference MOs are always included, and are

independent of the configuration method. Some MOs are created with one instance for

each synchronization reference and some with one instance per node.

Table 4   Synchronization Instance Name

| MO Class                       | Instance Name                      | Number of Instances                                      |
|--------------------------------|------------------------------------|----------------------------------------------------------|
| Synchronization                | 1                                  | 1 for each node                                          |
| RadioEquipmentClock            | 1                                  | 1 for each node                                          |
| RadioEquipmentClockReference   | Synchronization reference identity | 1 for each synchronization reference                     |
| AssistingReference             | Synchronization reference identity | 1 for each synchronization reference                     |
| FronthaulReference             | Synchronization reference identity | 1 for each node                                          |
| Ntp                            | 1                                  | 1 for each node                                          |
| NtpFrequencySync               | Synchronization reference identity | 1 for each synchronization reference                     |
| Ptp                            | 1                                  | 1 for each node                                          |
| BoundaryOrdinaryClock          | Synchronization reference identity | 1 for each synchronization reference                     |
| PtpBcOcPort                    | 1                                  | 1 for each synchronization reference                     |
| SyncEthInput                   | Synchronization reference identity | 1 for each synchronization reference                     |
| TimeSyncIO                     | Synchronization reference identity | 1 for each synchronization reference                     |
| SyncPort                       | SYNC                               | 1 for each node                                          |
| OverTheAirSync                 | Synchronization reference identity | 1 for each node                                          |
| FronthaulBoundaryOrdinaryClock | Synchronization reference identity | 1 for each node                                          |
| FronthaulPtpBcOcPort           | 1                                  | 1–N where N represents the number of eCPRI capable ports |

## 3.2 Configure Basic Network Synchronization Options

These steps are performed before configuring any network synchronization references.

The root MO for configuring network synchronization is Synchronization.

This MO is automatically created by the system.

To create a RadioEquipmentClock MO instance and configure the

Synchronization MO, do the following:

Steps

If the node is located in a site that moves, for example a cruise ship, in the

Synchronization MO instance, do the following:

1. Set the fixedPosition attribute to false. Note: If the node is placed in a fixed geographic location, leave this attribute at its default value of true.

If necessary, in the telecomStandard attribute of the

Synchronization MO instance, do the following:

2. Change the value of telecomStandard attribute to the desired option. The possible options are: OPTION\_I for ETSI (this is the default value) OPTION\_II for ANSI OPTION\_III for TTC
3. Under the Synchronization MO instance, create a RadioEquipmentClock MO instance.
4. Set the selectionProcessMode attribute of the RadioEquipmentClock MO to QL\_ENABLED to activate Quality Level processing. Note: Enabling Quality Level enables Quality Level transmission regardless of synchronization reference configuration.

If Quality Level processing is activated, do the following:

5. Set the value in the minQualityLevel attribute of the RadioEquipmentClock MO. The following values are recommended under common circumstances: SSU\_A for the European standard STU for the United States standard UNK for the Japanese standard

## 3.3 Configure GNSS Receiver Functionality

This procedure configures the GNSS receiver. It includes setting delay compensation.

Prerequisites

Basic network synchronization options are configured.

The supported GNSS receiver unit is directly connected to the sync

port of the RAN Compute unit.

The GNSS receiver is configured to use the primary wanted satellite system combinations.

The list of supported satellite system combinations is found in GNSS Receiver Unit as Synchronization Reference.

A GNSS antenna that supports the appropriate frequency bands is needed to receive signals

from each configured satellite system in the configured satellite system combination.

Steps

1. Create a SyncPort MO instance under the FieldReplaceableUnit MO. For Baseband Radio Nodes, set the value of the SyncPort.syncPortId attribute to SYNC.
2. Create a TimeSyncIO MO instance under the Synchronization MO.
3. Set the value of the TimeSyncIO.compensationDelay attribute to the one-way delay of the connection between the GNSS receiver unit and the sync port of the Baseband Radio Node. The compensation delay value is calculated by adding together the delays of the following GNSS receiver unit elements: Active antenna RF feeder cable RF jumper cable Digital cable For more information on how to calculate compensation delay, see GNSS Receiver System User Guide.
4. Set the value of the TimeSyncIO.encapsulation attribute to refer to the SyncPort MO instance created earlier in this procedure.
5. Create a GnssInfo MO instance under the TimeSyncIO MO instance.
6. Use the GnssInfo.multipleGnssWanted attribute to set the primary wanted satellite system combination. For more information on the required licenses to set a primary wanted satellite system combination, see Multiple GNSS Support.
7. Optional: Set the GnssInfo.multipleGnssBackup attribute to a value other than NONE to set the backup satellite system combination. The possible configuration values for the GnssInfo.multipleGnssBackup attribute are the same as for the GnssInfo.multipleGnssWanted attribute. For more information on the required licenses to set a backup satellite system combination, see Multiple GNSS Support.

## 3.4 Configure a GNSS Time Synchronization Reference

Prerequisites

Basic network synchronization options are configured.

Steps

1. Under the RadioEquipmentClock MO, create a RadioEquipmentClockReference MO instance.

If the selectionProcessMode attribute in the

RadioEquipmentClock MO is set to QL\_ENABLED, the

QL value of the Ethernet signal can be overwritten. Make sure that the Ethernet signal

supports SyncE before overwriting the QL value, since supporting SyncE without support for

ESMC/SSM/QL is uncommon.

To change the QL value of the synchronization reference, do the following:

2. Set the useQLFrom attribute of the RadioEquipmentClockReference MO instance to ADMIN\_QL. Note: If the selectionProcessMode attribute of RadioEquipmentClock MO is set to QL\_DISABLED, the values of the useQLFrom and adminQualityLevel attributes are ignored. If the useQLFrom attribute of RadioEquipmentClockReference MO is set to its default value of RECEIVED\_QL, the value of the adminQualityLevel attribute of RadioEquipmentClockReference MO is ignored. If the adminQualityLevel attribute of the RadioEquipmentClockReference MO is set to a value lower than minQualityLevel, the reference is never selected.
3. Set the encapsulation attribute of the RadioEquipmentClockReference MO instance to the TimeSyncIO MO instance created in a previous step.
4. If necessary, change the value of the holdOffTime attribute of the RadioEquipmentClockReference MO instance.
5. Set the value of the priority attribute of the RadioEquipmentClockReference MO instance to a unique priority for the present reference instance. Note: A Frequency Synchronization Reference must have a lower priority than any Time Synchronization References. To do this, assign a higher value to the RadioEquipmentClockReference.priority attribute for the Frequency Synchronization Reference.
6. If necessary, change the value of the waitToRestoreTime attribute of the RadioEquipmentClockReference MO instance.
7. Set the value of the administrativeState attribute of the RadioEquipmentClockReference MO instance to UNLOCKED.

## 3.5 Configure a 1PPS Frequency Synchronization Reference

Prerequisites

Basic network synchronization options are configured.

Steps

1. Under the FieldReplaceableUnit MO, create a SyncPort MO instance.
2. Under the Synchronization MO, create a FrequencySyncIO MO instance.
3. Set the value of the encapsulation attribute of the FrequencySyncIO MO instance to the SyncPort MO instance created earlier in this procedure.
4. Under the RadioEquipmentClock MO, create a RadioEquipmentClockReference MO instance.

If the selectionProcessMode attribute in

RadioEquipmentClock is set to QL\_ENABLED, do the

following:

5. Set the useQLFrom attribute of the RadioEquipmentClockReference MO instance to ADMIN\_QL. Note: If the selectionProcessMode attribute of RadioEquipmentClock MO is set to QL\_DISABLED, the values of the useQLFrom and adminQualityLevel attributes are ignored. If the useQLFrom attribute of RadioEquipmentClockReference MO is set to its default value of RECEIVED\_QL, the value of the adminQualityLevel attribute of RadioEquipmentClockReference MO is ignored. If the adminQualityLevel attribute of the RadioEquipmentClockReference MO is set to a value lower than minQualityLevel, the reference is never selected.
6. Set the value of the adminQualityLevel attribute of the RadioEquipmentClockReference MO instance.
7. Set the value of the encapsulation attribute of the RadioEquipmentClockReference MO instance to the FrequencySyncIO MO instance created earlier in this procedure.
8. If necessary, change the value of the holdOffTime attribute.
9. Set the value of the priority attribute to a unique priority for the present reference instance. Note: A Frequency Synchronization Reference must have a lower priority than any Time Synchronization References. To do this, assign a higher value to the RadioEquipmentClockReference.priority attribute for the Frequency Synchronization Reference.
10. If necessary, change the waitToRestoreTime attribute of the RadioEquipmentClockReference MO instance to a different value than the default.
11. Set the value of the administrativeState attribute of the RadioEquipmentClockReference MO instance to UNLOCKED.

## 3.6 Configure Synchronous Ethernet

Prerequisites

A SyncEthInput MO instance that represents the desired Synchronous

Ethernet reference is available.

Steps

1. Make sure that a suitable EthernetPort MO instance exists, and that the physical port referred to by this instance is connected to the network.
2. Set the admOperatingMode attribute to 1G\_FULL\_SLAVE to enable Synchronous Ethernet reference over 1000BASE-T, so that the EthernetPortMO MO instance is in slave state. Using default configuration of the attributes admOperatingMode and autoNegEnable (1G\_FULL and true respectively) can raise the alarm SyncE Reference failed with the additional text 1000BASE-T is not slave. In this case, the other side of the link must not be set to 1G\_FULL\_SLAVE at the same time.
3. Under the Synchronization MO, create a SyncEthInput MO instance, and set its encapsulation attribute to refer to an EthernetPort MO instance.
4. Under the RadioEquipmentClock MO, create a RadioEquipmentClockReference MO instance.

If the selectionProcessMode attribute of the

RadioEquipmentClock MO is set to QL\_ENABLED, if

desired, do the following:

5. Set the useQLFrom attribute of the RadioEquipmentClockReference MO instance to ADMIN\_QL. Note: If the selectionProcessMode attribute of RadioEquipmentClock MO is set to QL\_DISABLED, the values of the useQLFrom and adminQualityLevel attributes are ignored. If the useQLFrom attribute of RadioEquipmentClockReference MO is set to its default value of RECEIVED\_QL, the value of the adminQualityLevel attribute of RadioEquipmentClockReference MO is ignored. If the adminQualityLevel attribute of the RadioEquipmentClockReference MO is set to a value lower than minQualityLevel, the reference is never selected.
6. Set the value of the encapsulation attribute of the RadioEquipmentClockReference MO instance to the SyncEthInput MO instance that represents the desired Synchronous Ethernet reference.
7. If necessary, change the value of the holdOffTime attribute.
8. Set the value of the priority attribute to a unique priority for the present reference instance. Note: A Frequency Synchronization Reference must have a lower priority than any Time Synchronization References. To do this, assign a higher value to the RadioEquipmentClockReference.priority attribute for the Frequency Synchronization Reference.
9. If necessary, change the waitToRestoreTime attribute to a different value than the default.
10. Set the value of the administrativeState attribute of the RadioEquipmentClockReference MO instance to UNLOCKED.

## 3.7 Configure NTP

Prerequisites

Basic network synchronization options are configured.

An AddressIPv4 MO instance and a corresponding transport network

configuration are available.

Steps

1. Create one Ntp MO instance.
2. Create one NtpFrequencySync MO instance.
3. Set the value of the syncServerNtpIpAddress attribute to be either the NTP Server IP address or its domain name.
4. Set the value of the addressIpv4Reference attribute to the configured AddressIPv4 MO instance. This address must be on the outer network.
5. If desired, set the value of the dscp attribute if a different value than the default to be used.
6. Under RadioEquipmentClock, create a RadioEquipmentClockReference MO instance.
7. If the selectionProcessMode attribute in RadioEquipmentClock is set to QL\_ENABLED, if desired, set the useQLFrom attribute of the RadioEquipmentClockReference MO instance to ADMIN\_QL. Note: If the selectionProcessMode attribute of RadioEquipmentClock MO is set to QL\_DISABLED, the values of the useQLFrom and adminQualityLevel attributes are ignored. If the useQLFrom attribute of RadioEquipmentClockReference MO is set to its default value of RECEIVED\_QL, the value of the adminQualityLevel attribute of RadioEquipmentClockReference MO is ignored. If the adminQualityLevel attribute of the RadioEquipmentClockReference MO is set to a value lower than minQualityLevel, the reference is never selected.
8. Set the value of the encapsulation attribute of the RadioEquipmentClockReference MO instance to the NtpFrequencySync MO instance created earlier in this procedure.
9. If necessary, change the value of the holdOffTime attribute.
10. Set the value of the priority attribute to a unique priority for the present reference instance. Note: A Frequency Synchronization Reference must have a lower priority than any Time Synchronization References. To do this, assign a higher value to the RadioEquipmentClockReference.priority attribute for the Frequency Synchronization Reference.
11. If necessary, change the waitToRestoreTime attribute of the RadioEquipmentClockReference MO instance to a different value than the default.
12. Set the value of the administrativeState attribute of the RadioEquipmentClockReference MO instance to UNLOCKED.

## 3.8 Configure a PTP Frequency Synchronization Reference

Prerequisites

Basic network synchronization options are configured.

An AddressIPv4 or an AddressIPv6 MO instance and a

corresponding transport network configuration are available.

Steps

1. Create one Ptp MO instance.
2. Create one BoundaryOrdinaryClock MO instance. Note: The value of the boundaryOrdinaryClockId attribute is automatically set at MO instance creation, and cannot be manually changed.
3. Set the value of the clockType attribute to SLAVE\_ONLY\_ORDINARY\_CLOCK.
4. Set the value of the domainNumber attribute to a PTP domain
5. Set the value of the ptpProfile attribute to G\_8265\_1.
6. Create one PtpBcOcPort MO instance.
7. Set the value of the associatedGrandmaster attribute to be either the PTP Grandmaster IP address or its domain name.
8. Set the value of the transportInterface attribute to the AddressIPv4 or AddressIPv6 MO representing the IP transport on which PTP messages are carried. The address must be on the outer network.
9. If desired, set the value of the dscp attribute if a different value than the default to be used.
10. Set the value of the administrativeState attribute of the PtpBcOcPort MO instance to UNLOCKED.
11. Under RadioEquipmentClock, create a RadioEquipmentClockReference MO instance.
12. If the selectionProcessMode attribute in RadioEquipmentClock is set to QL\_ENABLED, if desired, set the useQLFrom attribute of the RadioEquipmentClockReference MO instance to ADMIN\_QL. Note: If the selectionProcessMode attribute of RadioEquipmentClock MO is set to QL\_DISABLED, the values of the useQLFrom and adminQualityLevel attributes are ignored. If the useQLFrom attribute of RadioEquipmentClockReference MO is set to its default value of RECEIVED\_QL, the value of the adminQualityLevel attribute of RadioEquipmentClockReference MO is ignored. If the adminQualityLevel attribute of the RadioEquipmentClockReference MO is set to a value lower than minQualityLevel, the reference is never selected.
13. Set the value of the encapsulation attribute to the BoundaryOrdinaryClock MO instance created earlier in this procedure.
14. If necessary, change the value of the holdOffTime attribute.
15. Set the value of the priority attribute to a unique priority for the present reference instance. Note: A Frequency Synchronization Reference must have a lower priority than any Time Synchronization References. To do this, assign a higher value to the RadioEquipmentClockReference.priority attribute for the Frequency Synchronization Reference.
16. If necessary, change the waitToRestoreTime attribute of the RadioEquipmentClockReference MO instance to a different value than the default.
17. Set the value of the administrativeState attribute of the RadioEquipmentClockReference MO instance to UNLOCKED. Note: If the referenceStatusattribute in the RadioEquipmentClockReference MO is PTP\_FAULT, the corresponding BoundaryOrdinaryClock MO (and PtpBcOcPort) is faulty. In this case, check the status attribute on these MOs to identify the specific fault

## 3.9 Configure a PTP Time Synchronization Reference

Prerequisites

Basic network synchronization options are configured.

An EthernetPort or Bridge MO instance, and the

corresponding transport network configuration are available.

If none of them are available, a new EthernetPort or

Bridge MO has to be created.

Steps

1. Create the Ptp MO instance.
2. Create the BoundaryOrdinaryClock MO instance. Note: The value of the BoundaryOrdinaryClock.boundaryOrdinaryClockId attribute is automatically set at MO instance creation, and it cannot be changed manually.
3. Set the value of the BoundaryOrdinaryClock.clockType attribute to SLAVE\_ONLY\_ORDINARY\_CLOCK.
4. Set the value of the BoundaryOrdinaryClock.domainNumber attribute to a PTP domain.
5. Set the value of the BoundaryOrdinaryClock.ptpProfile attribute to one of the following values: G\_8275\_1 G\_8275\_2 IEEE\_1588\_TIME\_DEFAULT IEEE\_1588\_TIME\_SLOW IEEE\_1588\_CUSTOM
6. Create the PtpBcOcPort MO instance under the BoundaryOrdinaryClock MO.
7. Set the value of the PtpBcOcPort.administrativeState attribute to UNLOCKED.

If the value of the BoundaryOrdinaryClock.ptpProfile attribute

is

set to

G\_8275\_2

or IEEE\_1588\_CUSTOM

, go to Step 9.

If the value of the BoundaryOrdinaryClock.ptpProfile attribute

is

set to G\_8275\_1

,

do the following:

8. Configure the following attributes of the PtpBcOcPort MO instance:
    1. Set the value of the transportInterface attribute to the chosen EthernetPort MO instance.
    2. In case the link asymmetry is known, set the value of the asymmetryCompensation attribute to the desired value.
    3. Set the value of the ptpMulticastAddress attribute to FORWARDABLE or NON-FORWARDABLE, as appropriate.
    4. If the PTP packets are sent over VLAN, set the value of the transportVlan attribute of the PtpBcOcPort MO to the VlanPort MO instance. Note: The tnPortId attribute of the TnPort MO indicates that a TN or an IDLe port is used for the VLAN. If a TN port is used, check that a Bridge, an InterfaceIPv4, or an InterfaceIPv6 MO refers to the VlanPort MO. To determine if a Bridge, an InterfaceIPv4, or an InterfaceIPv6 MO has to be used, refer to the transport network or the IP address plan. If the transport network or the IP address plan does not have any Bridge, InterfaceIPv4, or InterfaceIPv6 MO recommendations, create a Bridge MO. If an IDLe port is used, check that an ENodeBFunction MO instance is available, and the eranVlanPortRef attribute refers to the same VlanPort MO instance as the PtpBcOcPort MO does. The operState attribute of the EranInterMeLink MO must be set to ENABLED before configuring the PtpBcOcPort MO that points to the same VlanPort MO instance.
    5. Go to Step 11.
9. Configure the following attributes of the PtpBcOcPort MO instance:
    1. Set the PtpBcOcPort.associatedGrandmaster attribute to either the IP address or the domain name of the PTP Grandmaster.
    2. Set the PtpBcOcPort.transportInterface attribute to the value of the AddressIpv4 or the AddressIpv6 MO that represents the IP transport on which PTP messages are carried.
    3. Set the value of the PtpBcOcPort.asymmetryCompensation attribute to the desired value if link asymmetry is known. Note: If the operation mode of G.8275.2 profile is PTS with relaxed network limits and the node uses LTE FDD with the Basic Intelligent Connectivity feature activated, the ENodeBFunction.timeAndPhaseSynchAlignment atribute must be set to true and no other LTE synchronization attributes must be set. For NR FDD, other configuration is not required when the operation mode of G.8275.2 profile is PTS with relaxed network limits.
10. If the value of the BoundaryOrdinaryClock.ptpProfile attribute is set to IEEE\_1588\_CUSTOM, configure the PtpBcOcPort.syncMessageInterval and PtpBcOcPort.announceMessageInterval attributes.
11. If the path time error is known and different from the default value, set the PtpBcOcPort.ptpPathTimeError attribute to the value of the path time error.
12. Create a RadioEquipmentClock MO instance under the Synchronization MO.
13. Create a RadioEquipmentClockReference MO instance under the RadioEquipmentClock MO.
14. If the RadioEquipmentClock.selectionProcessMode attribute is set to QL\_ENABLED, if desired, set the RadioEquipmentClockReference.useQLFrom attribute to ADMIN\_QL. Note: If the RadioEquipmentClock.selectionProcessMode attribute is set to QL\_DISABLED, the values of the RadioEquipmentClockReference.useQLFrom and RadioEquipmentClockReference.adminQualityLevel attributes are ignored. If the RadioEquipmentClockReference.useQLFrom attribute is set to its default value of RECEIVED\_QL, the value of the RadioEquipmentClockReference.adminQualityLevel attribute is ignored. If the RadioEquipmentClockReference.adminQualityLevel attribute is set to a value lower than that of the RadioEquipmentClock.minQualityLevel attribute, the reference is never selected.
15. Set the RadioEquipmentClock.timeSyncModeConfig attribute to AUTO\_SELECT, REGULAR, or RELAXED for manual configuration of PTS with relaxed network limits. Note: If the RadioEquipmentClock.timeSyncModeConfig attribute is set to AUTO\_SELECT, PTS with relaxed network limits activation is automatic.
16. Set the value of the BoundaryOrdinaryClock.encapsulation attribute on the MO instance created earlier in this procedure.
17. If necessary, change the value of the RadioEquipmentClockReference.holdOffTime attribute.
18. Set the value of the RadioEquipmentClockReference.priority attribute to a unique priority for the present reference instance. Note: A Frequency Synchronization Reference must have a lower priority than any Time Synchronization References. To do this, assign a higher value to the RadioEquipmentClockReference.priority attribute for the Frequency Synchronization Reference.
19. If necessary, change the RadioEquipmentClockReference.waitToRestoreTime attribute of the MO instance to a different value than the default.
20. Set the RadioEquipmentClockReference.administrativeState attribute of the MO instance to UNLOCKED. Note: If the value of the RadioEquipmentClockReference.referenceStatus attribute is PTP\_FAULT, the corresponding BoundaryOrdinaryClock and PtpBcOcPort MOs are faulty. In this case, check the following attributes of the MOs to identify the specific fault: BoundaryOrdinaryClock.clockStatus PtpBcOcPort.ptpPortStatus

## 3.10 Configure PTP over IP G.8275.2 as an Assisting Time Reference (APTS)

Prerequisites

- A valid license key is installed for the Assisted Time Holdover feature, and the feature is activated.
- A PTP grandmaster supporting PTP over IP unicast is available in the network.
- The IEEE 1588 Time and Phase Synchronization feature is activated.

Steps

1. Verify that the RadioEquipmentClock.selectionProcessMode attribute is set to QL\_ENABLED.
2. Configure a GNSS time synchronization reference with the TimeSyncIO MO.
3. Configure a BoundaryOrdinaryClock MO instance.
    1. Set the clockType attribute to SLAVE\_ONLY\_ORDINARY\_CLOCK.
    2. Set the domainNumber attribute to the value of the domainNumber attribute of the PTP grandmaster.
    3. Set the ptpProfile attribute to G\_8275\_2.
4. Configure a PtpBcOcPort MO instance.
    1. Set the administrativeState attribute to UNLOCKED.
    2. Set the associatedGrandmaster attribute to either the IP address or the domain name of the PTP grandmaster.
    3. Set the transportInterface attribute to refer to the AddressIpv4 or AddressIpv6 MO representing the IP transport on which PTP messages are carried.
5. Configure an AssistingReference MO instance.
    1. Set the administrativeState attribute to UNLOCKED.
    2. Set the encapsulation attribute to refer to the previously configured BoundaryOrdinaryClock MO.

Results

Partial Timing Support is configured as assisting time reference.

After This Task

The GNSS time reference must be active for at least an hour for Assisted Time

Holdover to be functional after the reference is lost. For more information, see

Feature Operation of Assisted Time Holdover.

## 3.11 Configure SyncE as Assisting Time Reference

Prerequisites

- The RadioEquipmentClockReference MO instance is configured. The RadioEquipmentClockReference.encapsulation attribute is set to refer to a newly created TimeSyncIO or BoundaryOrdinaryClock MO instance. If the RadioEquipmentClockReference.encapsulation attribute refers to the BoundaryOrdinaryClock MO instance, do the following: Set the BoundaryOrdinaryClock.ptpProfile attribute to G\_8275\_1. Set the BoundaryOrdinaryClock.clockType attribute to SLAVE\_ONLY\_ORDINARY\_CLOCK or BOUNDARY\_CLOCK.Note: To set the BoundaryOrdinaryClock.clockType attribute to BOUNDARY\_CLOCK, the IEEE 1588 Boundary Clock feature must be activated. The IEEE 1588 Time and Phase Synchronization feature is activated. The RadioEquipmentClockReference.administrativeState attribute is set to UNLOCKED.
- The RadioEquipmentClock.radioClockState attribute reports RNT\_TIME\_LOCKED or TIME\_OFFSET\_LOCKED.
- The Synchronous Ethernet feature is activated.
- The Assisted Time Holdover feature is activated.
- The RadioEquipmentClock.selectionProcessMode attribute is set to QL\_ENABLED.
- The EthPortOperatingMode.admOperatingMode attribute is set to 1G\_FULL when the external interface is electrical. The EthernetPort.autoNegEnable attribute is set to FALSE.

Steps

1. Configure the EthernetPort MO instance.
    1. Set the EthernetPort.encapsulation attribute to refer to a TnPort MO instance. Make sure that the physical port referred to by the TnPort MO instance is connected to the network.
    2. Set the EthernetPort.administrativeState attribute to UNLOCKED.
2. Configure the SyncEthInput MO instance, by setting the SyncEthInput.encapsulation attribute to an EthernetPort MO instance.
3. Configure the AssistingReference MO instance.
    1. Set the AssistingReference.encapsulation attribute to refer to a SyncEthInput MO instance.
    2. Set the AssistingReference.administrativeState attribute to UNLOCKED.

Results

SyncE is configured as assisting time reference.

After This Task

The GNSS or PTP time synchronization reference must be active for at least 1 hour for

the assisting SyncE reference to be functional after the primary reference is

lost.

If the actual quality level is better than the received quality level, the received

quality level can be remapped to the configured quality level by setting the

following attributes：

- Setting the AssistingReference.assistingQLFrom attribute to REMAPPED\_QL.
- Setting the AssistingReference.remappedQualityLevel attribute to a better quality level.

## 3.12 Configure PTP over Ethernet G.8275.1 as an Assisting Time Reference (AFTS)

PTP Over Ethernet G.8275.1 can be configured as an assisting reference for the GNSS

time reference.

Assisted Time Holdover enables the node to use PTP over Ethernet G.8275.1 as an

assisting reference for the GNSS time reference.

It is possible that the GNSS time reference does not work properly. In such cases,

the RadioEquipmentClock MO selects a suitable

AssistingReference MO instance and continues the time

synchronization service.

Prerequisites

- The Assisted Time Holdover feature is active.
- A PTP grandmaster supporting PTP over Ethernet G.8275.1 is available in the network.
- The IEEE 1588 Time and Phase Synchronization feature is active.
- The RadioEquipmentClockReference MO instance is configured with the following characteristics: The RadioEquipmentClockReference.encapsulation attribute is set to refer to a newly created TimeSyncIO MO instance. The RadioEquipmentClockReference.administrativeState attribute is set to UNLOCKED.
- The RadioEquipmentClock.radioClockState attribute reports RNT\_TIME\_LOCKED or TIME\_OFFSET\_LOCKED.
- The RadioEquipmentClock.selectionProcessMode attribute is set to QL\_ENABLED.

Steps

1. Configure a BoundaryOrdinaryClock MO instance. Attribute Value BoundaryOrdinaryClock.clockType SLAVE\_ONLY\_ORDINARY\_CLOCK BoundaryOrdinaryClock.domainNumber The value of the domainNumber attribute of the PTP grandmaster. BoundaryOrdinaryClock.ptpProfile G\_8275\_1
2. Configure a PtpBcOcPort MO instance. Attribute Value PtpBcOcPort.transportInterface Reference to the EthernetPort MO representing the Ethernet transport in which PTP messages are carried. PtpBcOcPort.administrativeState UNLOCKED
3. Configure an AssistingReference MO instance. Attribute Value AssistingReference.encapsulation Reference to the previously configured BoundaryOrdinaryClock MO. AssistingReference.administrativeState UNLOCKED

Results

The PTP over Ethernet G.8275.1 reference is configured as an assisting time

reference.

After This Task

The GNSS time reference must be active for at least an hour for the Assisted Time

Holdover feature with PTP over Ethernet G.8275.1 to be functional after the

reference is lost.

## 3.13 Configure Over-the-Air as an Assisting Time Reference

Prerequisites

- The Over-the-Air Assisted Time Holdover feature license is installed and activated (FeatureState=CXC4012518 is ACTIVATED).
- The RadioEquipmentClock MO is created with the following attribute settings: The RadioEquipmentClock.selectionProcessMode attribute is set to QL\_ENABLED. The RadioEquipmentClock.currentRadioClockReference attribute refers to GNSS or PTP over Ethernet G.8275.1.
- The RadioEquipmentClock.radioClockState attribute shows RNT\_TIME\_LOCKED.
- The node is configured with the Radio Interface-Based Time Monitoring feature as an assisting node or as a monitoring node.

Steps

1. Create an OverTheAirSync MO instance under the Synchronization MO.
2. Create an AssistingReference MO instance under the RadioEquipmentClock MO and configure the following attributes:
    1. Set the AssistingReference.encapsulation attribute to point to the OverTheAirSync MO instance created earlier.
    2. Set the AssistingReference.priority attribute to a unique value to be used for this assisting reference instance.
    3. Set the AssistingReference.administrativeState to UNLOCKED.
3. Close the configuration session. A consistence check is automatically done by the managed element after closing the configuration session. The session is closed if the consistency check passes. The configuration session remains open if the consistency check does not pass. If the configuration session remains open, the transaction needs to be closed manually.

Results

One

OverTheAirSync MO and one AssistingReference

MO are created and configured. The created AssistingReference MO

represents the over-the-air assisting reference.

## 3.14 Configure a PTP Grandmaster

Prerequisites

Basic network synchronization options are configured.

MO instances of the following classes are available and suitable to use with the PTP

Grandmaster:

- A SyncPort MO instance
- A TnPort MO instance
- An EthernetPort MO instanceNote: The value of the EthernetPort.encapsulation attribute must be set to the chosen TnPort MO instance.
- A Bridge
- A RadioEquipmentClockReference MO instance Note: The value of the RadioEquipmentClockReference.encapsulation attribute must be set to the chosen TimeSyncIO MO instance and the value of the RadioEquipmentClockReference.priority must be set to 1.

If a VlanPort MO is already associated with the

EthernetPort MO, to use PTP it is necessary to create the

following additional MO instances:

- AddressIPv4
- InterfaceIPv4
- Router
- VlanPort

If the PTP Grandmaster uses multiple ports, each of them must have a

VlanPort, an InterfaceIPv4 and an

AddressIPv4 MO instance, and all

InterfaceIPv4 interfaces must be created under the same

Router MO instance.

Steps

1. Set the TimeSyncIO.encapsulation attribute to the chosen SyncPort MO instance.
2. Create a Ptp MO instance if necessary under the Transport MO.
3. Create a BoundaryOrdinaryClock MO instance under the Ptp MO and configure this MO instance.
    1. Assign a suitable value to the BoundaryOrdinaryClock.domainNumber attribute.
    2. Set the value of the BoundaryOrdinaryClock.clockType attribute to GRAND\_MASTER\_ORDINARY\_CLOCK.
    3. Set the value of the BoundaryOrdinaryClock.ptpProfile attribute to IEEE\_1588\_TIME\_DEFAULT or to IEEE\_1588\_TIME\_SLOW for a J3 profile, to G\_8275\_1 for a telecom profile, or to LOCAL\_GRANDMASTER for a custom profile.
4. Create a PtpBcOcPort MO instance under the BoundaryOrdinaryClock MO, and set the PtpBcOcPort.transportInterface attribute to the chosen EthernetPort MO.
    1. Set the value of the PtpBcOcPort.announceMessageInterval attribute to -3 for the G\_8275\_1 profile.
    2. Set the value of the PtpBcOcPort.syncMessageInterval attribute to one of the following values depending on the profile selected in Step Step 3: -4, to represent 16 packets for each second for G\_8275\_1 -3, to represent 8 packets for each second for IEEE\_1588\_TIME\_DEFAULT -4, to represent 16 packets for each second for IEEE\_1588\_TIME\_DEFAULT -5, to represent 32 packets for each second for IEEE\_1588\_TIME\_DEFAULT -6, to represent 64 packets for each second for IEEE\_1588\_TIME\_SLOW

If the PTP packets are sent over VLAN, do the following:

5. Set the value of the PtpBcOcPort.transportVlan attribute to the VlanPort MO instance. Note: The tnPortId attribute of the TnPort MO indicates that a TN or an IDLe port is used for the VLAN. If a TN port is used, check that a Bridge, an InterfaceIPv4, or an InterfaceIPv6 MO refers to the VlanPort MO. To determine if a Bridge, an InterfaceIPv4, or an InterfaceIPv6 MO has to be used, refer to the transport network or the IP address plan. If the transport network or the IP address plan does not have any Bridge, InterfaceIPv4, or InterfaceIPv6 MO recommendations, create a Bridge MO. If an IDLe port is used, check that an ENodeBFunction MO instance is available, and the eranVlanPortRef attribute refers to the same VlanPort MO instance as the PtpBcOcPort MO does. The operState attribute of the EranInterMeLink MO must be set to ENABLED before configuring the PtpBcOcPort MO that points to the same VlanPort MO instance.

## 3.15 Configure a PTP Boundary Clock

Prerequisites

Basic network synchronization options are configured.

Before the PTP Boundary Clock feature can be configured, at least one

EthernetPort or Bridge MO instance has

to be available. To configure an EthernetPort or

Bridge MO instance, see

Manage Transport Network.

Steps

1. Create a Ptp MO instance if necessary, under the Transport MO.
2. Create a BoundaryOrdinaryClock MO instance under the Ptp MO.
    1. Assign a value to the domainNumber attribute.
    2. Set the clockType attribute to BOUNDARY\_CLOCK.
    3. Set the ptpProfile attribute to either IEEE\_1588\_TIME\_DEFAULT, IEEE\_1588\_TIME\_SLOW or G\_8275\_1.
3. Commit the changes.
4. Create a PtpBcOcPort MO instance under the BoundaryOrdinaryClock MO.
    1. Set the administrativeState attribute to UNLOCKED.
    2. Set the transportInterface attribute to one of the EthernetPort MO instances.
    3. If the PTP packets are sent over VLAN, set the value of the transportVlan attribute of the PtpBcOcPort MO to the VlanPort MO instance. Note: The tnPortId attribute of the TnPort MO indicates that a TN or an IDLe port is used for the VLAN. If a TN port is used, check that a Bridge, an InterfaceIPv4, or an InterfaceIPv6 MO refers to the VlanPort MO. To determine if a Bridge, an InterfaceIPv4, or an InterfaceIPv6 MO has to be used, refer to the transport network or the IP address plan. If the transport network or the IP address plan does not have any Bridge, InterfaceIPv4, or InterfaceIPv6 MO recommendations, create a Bridge MO. If an IDLe port is used, check that an ENodeBFunction MO instance is available, and the eranVlanPortRef attribute refers to the same VlanPort MO instance as the PtpBcOcPort MO does. The operState attribute of the EranInterMeLink MO must be set to ENABLED before configuring the PtpBcOcPort MO that points to the same VlanPort MO instance.
    4. For the G\_8275\_1 profile, set the announceMessageInterval attribute to -3.
    5. Depending on the profile selected in Step Step 2, set the syncMessageInterval attribute to one of the following values: -4, to represent 16 packets per second for G\_8275\_1 -3, to represent 8 packets per second, -4, to represent 16 packets per second, or -5, to represent 32 packets per second for IEEE\_1588\_TIME\_DEFAULT -6, to represent 64 packets per second for IEEE\_1588\_TIME\_SLOW
5. Commit the changes.
6. Repeat steps 4 and 5 to configure another PtpBcOcPort MO instance.
7. Create a RadioEquipmentClock MO instance if necessary, under the Synchronization MO.
8. Commit the changes.
9. Create a RadioEquipmentClockReference MO instance under the RadioEquipmentClock MO. Set the priority attribute to 8.Note: The boundary clock can coexist with other sync references, typically with timeSyncIO. If any other references than the BoundaryOrdinaryClock is selected as active sync reference, the boundary clock acts as a master on all its PtpBcOcPorts. To ensure a stable selection of references it is important to set lower priority on the BoundaryOrdinaryClock compared to the other references, which is ensured by setting priority attribute to 8. Set the administrativeState attribute to UNLOCKED. Set encapsulation to the BoundaryOrdinaryClock MO instance created previously.
10. Commit the changes.

## 3.16 Manage Quality Level

Quality Level configuration is a part of the Synchronization Reference configuration.

Attributes that manage the Quality Level are contained in the following MO classes:

- RadioEquipmentClock
- RadioEquipmentClockReference

By default, Quality Level is signaled by default on the Transport Network ports if the

attribute RadioEquipmentClock.selectionProcessMode is set to its default

value QL\_ENABLED.

For more information, see Managed Object Model (MOM).

## 3.17 Configure Test Signals for Sync Test Interface

Prerequisites

Basic network synchronization options are configured.

Steps

1. Under the FieldReplaceableUnit MO, representing the Baseband unit on which a Sync test interface is wanted, create a SyncTestInterface MO instance.
2. Enable a test signal by using the outputSyncTestInterfaceSignal action. For information about the test signals to enable, see the MOM description of the outputSyncTestInterfaceSignal action.
3. Show signal output on the Sync test interface by using attribute syncTestInterfaceSignalOutput. The attribute value SPECIAL means that an output signal was enabled by Ericsson personnel. The attribute value NOT\_SUPPORTED indicates that the MO SyncTestInterface has been created on a FRU that does not support the interface.
4. Disable the test signal by using the outputSyncTestInterfaceSignal action with value NO\_SIGNAL. Note: Deleting the SyncTestInterface MO causes any test signals enabled by an action to be disabled. But a test signal enabled by Ericsson personnel, represented by the value SPECIAL in the syncTestInterfaceSignalOutput attribute, is not be disabled by deleting the SyncTestInterface MO.

## 3.18 Configure Time Offset

Configuring time offset allows adjusting BFN start time to be delayed or advanced.

The time offset configuration functionality is available for the following time

references:

- GNSS
- PTP over Ethernet
- PTP over IP

In PTP network, it is not recommended to configure

RadioEquipmentClock.bfnOffset on Baseband that is configured

as PTP grandmaster or PTP boundary clock. PTP grandmaster or boundary clock can be

configured when BoundaryOrdinaryClock.clockType is

GRAND\_MASTER\_ORDINARY\_CLOCK or BOUNDARY\_CLOCK.

Otherwise subsequent PTP slaves connected to this PTP grandmaster or PTP boundary

clock can have offset twice or more. This can cause traffic disturbance and KPI

degrade.

Using BFN offset together with EUtranCellFDD.frameStartOffset or

EUtranCellTDD.frameStartOffset can have a combining effect

when using a positive RadioEquipmentClock.bfnOffset value, or

canceling effect when using a negative

RadioEquipmentClock.bfnOffset value.

The value of BFN offset must be zero for the following features to function:

- Enhanced CS Fallback to CDMA 1X (FAJ 121 3056)
- LTE Broadcast (FAJ 121 3021)

Inconsistent time offset values between different eNBs can negatively impact the

performance and services of the following features:

- OTDOA Control Plane Location Support (FAJ 121 1793)
- OTDOA User Plane Location Support (FAJ 121 0862)
- OTDOA PRS Management (FAJ 121 3086)
- Inter-Frequency OTDOA (FAJ 121 3090)
- Elastic RAN (FAJ 121 4608)
- Inter-eNodeB Carrier Aggregation (FAJ 121 4469)
- Uplink Coordinated Multi-Point Reception (FAJ 121 3043)

Prerequisites

- An ACTIVE time reference is selected.
- The RadioEquipmentClock.radioClockState attribute is RNT\_TIME\_LOCKED.
- Configured offset in the GNSS Receiver Unit must be removed.
- To configure time offset in Node Group Synchronization, the NodeGroupSyncMember.selectionMode attribute must be set to NODE\_PRIORITY.

Steps

1. Set the RadioEquipmentClock.bfnOffset attribute to a desired value between -5000000 and 5000000. Note: In the node group, all nodes that have a time reference must be configured with the same BFN offset. If the Synchronization Provider has time reference, and the Synchronization Receiver (SR) has frequency reference, the RadioEquipmentClock.bfnOffset does not need to be set on the SR node. The value of the offset must be aligned between operators to avoid interference. The effect of non-zero time offset to other features must be considered to avoid negative impacts.
2. Restart the node for the change to take effect. Note: The restart must be cold restart or power off and on. Result: All cells in the node have the same offset.

## 3.19 Configure Node Group Synchronization

Prerequisites

Over-the-air assistance and radio interface-based time monitoring are not supported

within a node group for a radio unit that is shared between two node group

synchronization members.

Steps

1. Create the NodeGroupSyncMember MO instance.
    1. Configure the NodeGroupSyncMember.syncNodePriority attribute.
    2. Configure the NodeGroupSyncMember.syncRiPortCandidate attribute.
2. Set the NodeGroupSyncMember.selectionMode.
3. Repeat the preceding steps for other nodes of the node group.
4. Set the FieldReplaceableUnit.isSharedWithExternalMe.
5. Activate the function.
    1. Lock the cells and TRXs handled by the nodes for which Node Group Synchronization is to be activated. Locking TRXs is only applicable for GSM nodes.
    2. Check if the GpsOutSyncLink MO is enabled on any of the radio nodes and if it is, lock it.
    3. Unlock the NodeGroupSyncMember MO by setting the NodeGroupSyncMember.administrativeState attribute to UNLOCKED. This enables the functionality.
    4. Wait at least 5 minutes for the configuration to take effect.

## 3.20 Configure a Fronthaul Reference

Prerequisites

Basic network synchronization options are configured.

Steps

1. Create a Ptp MO instance.
2. Create a FronthaulBoundaryOrdinaryClock MO instance. Note: The value of the FronthaulBoundaryOrdinaryClock.frounthaulBoundaryOrdinaryClockId attribute is automatically set at MO instance creation, and it cannot be changed manually.
3. Set the value of the FronthaulBoundaryOrdinaryClock.clockType attribute to BOUNDARY\_CLOCK.
4. Set the value of the FronthaulBoundaryOrdinaryClock.ptpProfile attribute to ECPRI\_CUSTOM.
5. Create a FronthaulPtpBcOcPort MO instance under the FronthaulBoundaryOrdinaryClock MO.
6. Set the value of the FronthaulPtpBcOcPort.administrativeState attribute to UNLOCKED.
7. Set the value of the FronthaulPtpBcOcPort.transportInterface attribute to the chosen RiPort MO instance. Note: All FronthaulPtpBcOcPort MOs must have unique transport interface. If FronthaulPtpBcOcPort MO encapsulates RiPort MO, the NodeGroupSyncMember.syncRiPortCandidate attribute cannot refer to the same RiPort MO. Every port leading to shared eCPRI radio unit must be encapsulated within FronthaulPtpBcOcPort MO.
8. Create a RadioEquipmentClock MO instance under the Synchronization MO.
9. Create a FronthaulReference MO instance under the RadioEquipmentClock MO.
10. Set the value of the FronthaulReference.encapsulation attribute to the FronthaulBoundaryOrdinaryClock MO instance created earlier in this procedure.
11. Set the value of the FronthaulReference.nodePriority attribute to a unique priority for the present reference instance. Note: Lower value has higher priority. The value of the RadioEquipmentClock.currentRadioClockReference attribute indicates whether the fronthaul reference is selected or not.
12. Set the FronthaulReference.administrativeState attribute to UNLOCKED.
13. Repeat the preceding steps for other nodes.
14. Set the FieldReplaceableUnit.isSharedWithExternalMe to true on the shared AAS radio units and shared Radio Gateway units.

After This Task

If the value of the FronthaulReference.fronthaulReferenceStatus

attribute is PTP\_FAULT, the corresponding

FronthaulBoundaryOrdinaryClock and

FronthaulPtpBcOcPort MOs are faulty. In this case, check the

following attributes of the MOs to identify the specific fault:

- FronthaulBoundaryOrdinaryClock.clockStatus
- FronthaulPtpBcOcPort.ptpPortStatus

### 3.20.1 Migrate from a PTP Time Synchronization Reference or GNSS to a Fronthaul Reference

To migrate from a PTP time synchronization reference or GNSS to a fronthaul

reference, the following actions are necessary on all nodes that shares radios:

Steps

1. Create and configure a FronthaulBoundaryOrdinaryClock MO.
    1. Set FronthaulBoundaryOrdinaryClock.clockType to BOUNDARY\_CLOCK.
    2. Set FronthaulBoundaryOrdinaryClock.ptpProfile to ECPRI\_CUSTOM.
2. Configure the chosen RiPort MO as transport interface of the FronthaulPtpBcOcPort MO.
3. Unlock the FronthaulPtpBcOcPort MO.
4. Encapsulate the FronthaulBoundaryOrdinaryClock MO within the FronthaulReference MO.
5. Define the node priority with a unique value in range 1-15 through the FronthaulReference.nodePriority attribute. The lower value takes precedence.
6. Unlock the FronthaulReference MO. Note: There is a possibility of traffic disturbance when unlocking the FronthaulReference MO.

## 3.21 Configure SLA Monitoring of the BoundaryOrdinaryClock MO

To perform the measurement process, a PtpProfileMeasurement MO

instance must be configured. To start the process, the

PtpProfileMeasurement.startMeasurement action must be

executed. To stop the measurement process even before finished, the

PtpProfileMeasurement.stopMeasurement action must be

executed.

Prerequisites

- The RadioEquipmentClock.currentRadioClockReference attribute has to refer to the LDN of the RadioEquipmentClockReference MO that encapsulates the TimeSyncIO MO.
- If the Baseband node is synchronized to the GNSS after restart, the RadioEquipmentClock.radioClockState attribute must be set to RNT\_TIME\_LOCKED for at least 10 minutes before activating SLA monitoring.
- The BoundaryOrdinaryClock.ptpProfile attribute must be set to G\_8275\_1 or G\_8275\_2.
- The PtpBcOcPort MO instance is configured and the PtpBcOcPort.operationalState is ENABLED.
- The PTP slave for Time and Phase Synchronization license is installed and the FeatureState.featureState attribute is set to ACTIVATED in the FeatureState=CXC4040008 MO instance.

Steps

1. Create the PtpProfileMeasurement MO instance. The PtpProfileMeasurement.operationalState attribute is ENABLED if the following conditions apply: The parent BoundaryOrdinaryClock.ptpProfile attribute is set to G\_8275\_1 or G\_8275\_2. The PTP message rate requirement is fulfilled, for example, PTP message rate is 64 packets for each second. If the PtpProfileMeasurement.operationalState attribute is DISABLED, the BoundaryOrdinaryClock.clockStatus attribute provides more information about this state.
2. Configure the value for the PtpProfileMeasurement.measurementDuration attribute if needed. The default value is 10000 seconds.
3. Execute the PtpProfileMeasurement.startMeasurements action. To monitor the characteristics of the primary PTS reference, the PtpProfileMeasurement MO instance needs to be configured before switching to GNSS. The RadioEqiopmentClock.radioClockState attribute must be set to RNT\_TIME\_LOCKED for at least 25 minutes after the reference switch. The user can start the measurements when the PtpProfileMeasurement MO is created and the PtpProfileMeasurement.operationalState attribute is set to ENABLED. Also, the user can stop the measurements if previously started. To do this, the PtpProfileMeasurement.stopMeasurements action has to be executed before the time specified in the PtpProfileMeasurement.measurementDuration attribute elapses.

Results

When measurements are started or stopped, the date and the time are shown with the

PtpProfileMeasurement.measurementStart and the

PtpProfileMeasurement.measurementEnd attributes.

The metrics results are shown with the following attributes:

- For the G.8275.1 profile: PtpProfileMeasurement.maxAbsLowPassFilterTE PtpProfileMeasurement.p2pHighPassFilterTE PtpProfileMeasurement.maskMaxTimeIntervalError
- For the G.8275.2 profile: PtpProfileMeasurement.p2pPktSelected2WayTE PtpProfileMeasurement.maxAbsPktSelected2WayTE