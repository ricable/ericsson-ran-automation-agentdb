---
complexity_score: 11.5
converted_at: '2025-08-13T06:59:20.459917Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 2
images_saved: 3
original_path: 143_22104-LZA7016014_1Uen.CJ.html
pictures_extracted: 2
processing_method: docling_multimodal
quality_score: 9.0
source_file: 143_22104-LZA7016014_1Uen.CJ.html
source_zip: en_lzn7931040_r50f.zip
tables_extracted: 9
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 1893
---

# 

X2 Configuration

Contents

![Image](../images/143_22104-LZA7016014_1Uen.CJ/additional_3_CP.png)

![Image](../images/143_22104-LZA7016014_1Uen.CJ/additional_3_CP.png)

- Overview
- Dependencies
- Feature Operation
    - X2 Setup
    - Automatic X2 Setup Reattempt
    - Automatic Update of X2 Connection
    - Removal of X2 Connection by Locking
    - Removal of X2 Connection Using X2 Excludelist
    - Exceptions
        - No IP Address Obtained
        - External ENodeBFunction MO Not Created
        - Java Virtual Machine Down
        - Source eNodeB Configured in Excludelist
        - Target eNodeB Configured in Excludelist
        - Cell Relations Barred by ANR Whitelist PLMN ids
        - TermPointToEnb Already Exists
        - Frequency Not Updated During X2 Setup
    - Supported X2-C and EN-DC X2-C Configurations for eNodeBs Configured as MORAN on Single Baseband
- Network Impact
- Parameters
- Performance
- Activate
- Engineering Guidelines
    - SCTP Endpoint Setup for X2 Configuration
    - Configure X2-C Connections for MORAN on Single Baseband
    - Configuring PLMN-Level Excludelist Using ENM Bulk Configuration

# 1 X2 Configuration Overview

X2 Configuration supports operators by automating the management of X2 connections

between eNodeBs, reducing the need for manual configuration and optimization.

| Access Type:            | LTE                                    |
|-------------------------|----------------------------------------|
| Feature Identity:       | FAJ 121 0484                           |
| Value Package Name:     | LTE Base Package                       |
| Value Package Identity: | FAJ 801 0400                           |
| Node Type:              | Baseband Radio Node                    |
| Licensing:              | Basic feature. No license is required. |

Summary

Pairs of eNodeBs use the X2 interface for direct peer-to-peer communication, for handover and

for configuration updates.

The X2 Configuration feature supports operators in the management of neighbor relations. X2

Configuration automates the management of X2 connections, data about external RBSs

and data about external cells. Automated behavior reduces the need for manual

configuration and optimization, supporting the concepts of the self-organizing

network.

X2 Configuration combined with the Automated Neighbor Relations feature and the PCI Conflict

Reporting feature is a powerful support in managing neighbor relations in a

network.

Figure 1   X2 Link between RBS Nodes

X2 Configuration manages the X2 links to remote eNodeBs and the data about the remote

eNodeBs.

Data about remote eNodeB includes the following:

- Cell identities, physical and global
- Frequency bands
- Channel bandwidth
- Tracking Area Code
- Group Identities of connected Mobility Management Entities

X2 Configuration is part of LTE Basic and cannot be turned off if X2 connections are used in

the network.

The feature can be stopped if no X2 connections are manually created and the Automated

Neighbor Relations feature is either deactivated or by policy stopped from

initiating X2 setup processes.

In MOCNs, a separate X2-C address can be configured in shared nodes. This allows for

complete traffic separation between different operator networks of the PLMN even if

one operator is sharing parts of its network with other operators.

Additional Information

More information about X2 Configuration and related topics can be found in the following

documentation:

- 3GPP TS 36.423
- Automated Neighbor Relations
- Manage Radio Network, Services and Bearers
- PCI Conflict Reporting
- Direct X2 IPsec VPN Connections
- Multiple IP Addresses for S1 and X2
- IPv4 and IPv6 Dual-Stack for X2

# 2 Dependencies of X2 Configuration

The feature is related to X2 handover, optimization of handover thresholds and load

balancing between RBSs.

Table 1   Feature Dependencies

| Feature                                                                                | Relationship   | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|----------------------------------------------------------------------------------------|----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Automated Mobility Optimization (FAJ 121                                 3035)         | Related        | Without X2 connections, no optimization of handover thresholds can be                                 performed.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Intra-LTE Handover (FAJ 121 0489)                                                      | Related        | Without X2 connections, no X2 handover can be performed.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Inter-frequency Load Balancing (FAJ 121                                 3009)          | Related        | Without X2 connections, no load balancing between RBSs can be                                 performed.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| PCI Conflict Reporting (FAJ 121                                 1898)                  | Related        | Without X2 connections, no reporting of PCI conflicts between RBSs                                 can be performed.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Automated Neighbor Relations (FAJ 121                                 0497)            | Related        | The Automated Neighbor Relations feature can trigger the setup and removal of X2             connections and, together with the X2 Configuration feature, serve as a good basis for             the Self-Organizing Network handling of neighbor relations. ANR limits the management             options of X2 Configuration.  PCI conflicts can be resolved if the frequency or the PCI of a neighbor cell             changes. The preferred cell relation in a PCI conflict case can be changed because of a             cell configuration update through the X2 connection.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Multiple IP Addresses for S1 and                                     X2 (FAJ 121 4697) | Related        | Multiple IP Addresses for S1 and X2 makes it possible to separate X2                                 traffic for each operator sharing the node.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Shared LTE RAN (FAJ 121                                 0860)                          | Related        | In a MORAN on single Baseband configuration, up to three                 TermPointToENB MO instances can be created under the same                 ExternalENodeBFunction MO instance representing a shared external             eNodeB.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Load-Based Distribution at                                 Release (FAJ 121 4338)      | Related        | If the external cell frequency changes during the X2 Setup process                                 upon receiving                                 the                                     X2 SETUP REQUEST, the                                     X2 SETUP RESPONSE, or the AUTOMATIC                                     UPDATE of the X2                                 connection                                 process upon receiving                                     ENB                                     CONFIGURATION                                 UPDATE,                                 the ExternalEUtranCellFDD.changeFrequency or the                                     ExternalEUtranCellTDD.changeFrequency action                                 is triggered. If any neighbor local cells have relations with the                                 changed external cell, and the old frequency is present in the LBDAR                                 configuration MO instance referenced by the neighbor local cells,                                 one of the following scenarios occur:    The new                                         frequency                                         is added to the distribution information if the number of                                         configured frequencies are less than the maximum, the old                                         frequency is not a CBRS frequency or if it is a CBRS                                         frequency and it is used by other neighbor cells. The old                                         and new frequencies form a frequency group.     The old                                         frequency                                         is removed from the distribution information if it is a CBRS                                         frequency and it is not used by other cells, and the new                                         frequency is present in the distribution information.     The old                                         frequency                                         is replaced by the new frequency in the distribution                                         information if it is a CBRS frequency, it is not used by                                         other cells, and the new frequency is not present in the                                         distribution information. |
| Cell Sleep Mode (FAJ 121 4390)                                                         | Related        | If the external cell frequency changes during the X2 Setup process                                 upon                                 receiving                                 the                                     X2 SETUP REQUEST, the                                     X2 SETUP RESPONSE, or the AUTOMATIC                                     UPDATE of the X2                                 connection                                 process upon receiving                                     ENB                                     CONFIGURATION                                 UPDATE, the                                     ExternalEUtranCellFDD.changeFrequency or the                                     ExternalEUtranCellTDD.changeFrequency action                                 is triggered.  If the WakeUpFreqPriority MO instance with                                 reference to the old frequency is configured, the new                                     WakeUpFreqPriority MO instance can also be                                 created with the same value for the                                     wakeUpPriority attribute by the                                     changeFrequency MO                                 action                                 referring to the new frequency after the                                     EUtranFrequency MO creation if                                 the following                                 requirements are met:    The                                         previous                                         value of the                                             EUtranFrequency.freqBand                                         attribute is set to                                         48.     The number of WakeUpFreqPriority MO                                         instances under the current                                             SleepModeCovProfile is set to a value                                         less than the allowed maximum, 24.     There is no WakeUpFreqPriority pointing at                                         the new frequency, under the current                                             SleepModeCovProfileMO                                         instance.                                                                                                                         |

Hardware

No special hardware requirement is expected for this feature.

Limitations

No limitations for this feature.

Network Requirements

One of the following must be fulfilled at feature activation:

- MMEs support transfer of X2 IP addresses through the SON Configuration Transfer IE and related functionality is activated in the eNodeB through ENodeBFunction.x2IpAddrViaS1Active.
- A Domain Name System server is available in the network and configured with DN resolutions for involved RBSs.

# 3 Feature Operation of X2 Configuration

The X2 interface connects pairs of eNodeBs and delivers configuration update messages to

eNodeBs with an X2 connection. In case of X2 connection failure or the removal of the X2

connection, automatic re-establishment is also managed by the X2 Configuration

feature.

The X2 interface connects pairs of eNodeBs. The target eNodeB receives X2 setup requests,

responds with information, and configures itself based on the information from the

source eNodeB. The source eNodeB configures itself based on the information from the

target eNodeB.

When any relevant cell data is changed on either side, an eNodeB configuration update

message is sent to all external eNodeBs to which the X2 connection is established. Then

each external eNodeB reconfigures resources according to the contents of the received

message.

The feature also manages automatic re-establishment in case of X2 connection failure and

the removal of the X2 connection.

Operational Process

The X2 Configuration feature includes the following processes:

1. X2 setup including external eNodeB definition, either triggered by the Automated Neighbor Relation feature or manually on one side.
2. Update of X2 connection including external eNodeB configuration.
3. Automatic X2 setup.
4. Manual removal of X2.

An X2 setup or removal is initiated in one of the following ways:

- Manually, by unlocking or locking the MO representing the interface.
- Automatically, by the Automated Neighbor Relations feature.
- Configuration update from Operations Support System.

## 3.1 X2 Setup

The X2 Setup process is preceded by the creation of the TermPointToENB

MO in the source RBS.

The TermPointToENB MO is created either manually, by the

Automated Neighbor Relation feature, or by the OSS when activating a planned area. To create

the TermPointToENB MO and the parent MOs manually, see S1, M3, and X2 Control Plane Connections or S1 and X2 Control Plane Connections.

Figure 2   X2 Setup Process

Steps

1. The X2 setup is initiated by unlocking the TermPointToENB MO in the source RBS. The MO is unlocked either manually, by the Automated Neighbor Relation feature, or by the OSS when activating a planned area.
2. The source RBS uses a Stream Control Transmission Protocol (SCTP) to set up a connection to the target RBS. The IP address of the target RBS is supplied in one of the following ways: The TermPointToENB.ipAddress attribute is defined when the MO is created. The TermPointToENB.domainName attribute is defined when the MO is created. A DNS lookup supplies the IP address. The IP address is received from the target RBS through an MME if ENodeBFunction.x2IpAddrViaS1Active attribute is true on ENodeBFunction. For exceptions, see No IP Address Obtained. The IP address of the source RBS can be different depending on the configuration. For details on multiple configurations, check Multiple IP Addresses for S1 and X2.
3. The source RBS sends an X2 setup request with a served cell information block (Served Cell Information).
4. The target RBS configures resources according to the content of the X2 setup request as follows: Creates an ExternalENodeBFunction MO if it does not already exist. Creates an EUtranFrequency MO if it does not already exist to any of the cells included in Served Cell Information. Creates a candidate ExternalEUtranCellFDD or candidate ExternalEUtranCellTDD, if the cellRelHoAttRateThreshold attribute is set to higher than zero. If not, creates one instance of the ExternalEUtranCellFDD or the ExternalEUtranCellTDD MO for each unknown cell in the ServedCellinfo MO from which a cell relation exists to any of the internal cells, if the ENodeBFunction.x2SetupTwoWayRelations attribute is set to true. Modifies existing instances of the ExternalEUtranCellFDD or the ExternalEUtranCellTDD MO if the existing instances deviate from the ServedCellinfo MO. If the external cell frequency changes, the ExternalEUtranCellFDD.changeFrequency or the ExternalEUtranCellTDD.changeFrequency action is triggered. Removes existing instances of the ExternalEUtranCellFDD or the ExternalEUtranCellTDD MO if they are not included in the ServedCellinfo MO. Creates a TermPointToENB MO and sets it to ENABLED. Creates a candidate EUtranCellRelations MO if the cellRelHoAttRateThreshold attribute is set to higher than zero. If not, the target RBS creates instances of the EUtranCellRelation MO for all cell relations where a relation exists from the internal cells to external cells. This requires the following conditions to be fulfilled: A cell relation to the internal cell exists in the external cell. The ENodeBFunction.x2SetupTwoWayRelations attribute is set to true. The EUtranCellRelation MO does not already exist. The parent EutranFreqRelation MO is needed to create the CellRelation MO. Exceptions to this step are the following: The source eNodeB ID or the associated PLMN ID is configured in the ENodeBFunction.x2BlackList attribute. For more information, see Source eNodeB Configured in Excludelist. A Java Virtual Machine is down, see Java Virtual Machine Down. The enabled or locked TermPointToENB related to the source RBS already exists in the target RBS, see TermPointToEnb Already Exists. An ExternalENodeBFunction MO instance cannot be created on the target side , see External ENodeBFunction MO Not Created. A new MO cannot be created by the RBS in case of frequency change of existing external cell, see Frequency Not Updated During X2 Setup.
5. The target RBS sends an X2 setup response to the source RBS, indicating that TermPointToENB is ENABLED.
6. The source RBS configures resources according to the content of the X2 setup response as follows: Creates the EUtranFrequency MO if not already existing to any of the cells included in Served Cell Information. Creates candidate ExternalEUtranCellFDD or candidate ExternalEUtranCellTDD, if the cellRelHoAttRateThreshold attribute is set to higher than zero. If not, creates one instance of the ExternalEUtranCellFDD or the ExternalEUtranCellTDD MO for each unknown cell in the ServedCellinfo MO, from which a cell relation exists to any of the internal cells, if the ENodeBFunction.x2SetupTwoWayRelations attribute is set to true. Modifies existing instances of the ExternalEUtranCellFDD or the ExternalEUtranCellTDD MO if deviating from the ServedCellinfo MO. If the external cell frequency changes, the ExternalEUtranCellFDD.changeFrequency or the ExternalEUtranCellTDD.changeFrequency action is triggered. Removes existing instances of the ExternalEUtranCellFDD or the ExternalEUtranCellTDD MO if they are not included in the ServedCellinfo MO. Creates candidate EUtranCellRelations if cellRelHoAttRateThreshold is set to higher than zero. If not, it creates instances of the the EUtranCellRelation MO for all cell relations where a relation exists from the internal cells to external cells. This requires the following conditions to be fulfilled: A cell relation to the internal cell exists in the external cell. The ENodeBFunction.x2SetupTwoWayRelations attribute is set to true. The EUtranCellRelation MO does not already exist. The parent EutranFreqRelation MO is needed to create the CellRelation MO. If a new MO cannot be created by the RBS in case of frequency change of existing external cell, see Frequency Not Updated During X2 Setup.
7. The source RBS sets TermPointToENB to ENABLED.

After This Task

If Direct X2 IPsec VPN Connection feature is enabled and

x2lpAddrViaS1Active is set to true, eNodeB exchanges outer (IPsec) and

inner (GTP) IP address with the neighbor using MME.

## 3.2 Automatic X2 Setup Reattempt

Automatic

X2 setup reattempt occurs when an existing connection was broken or when previous X2 setup

failed.

Steps

1. The underlying SCTP association is terminated.
2. The RBS sets TermPointToENB.operationalState to DISABLED.
3. The RBS continues with Step 2 in X2 Setup after a random time period (see attribute ENodeBFunction.x2retryTimerStart). However, if all of the following conditions are true the procedure is interrupted and the TermPointToENB is removed automatically: The TermPointToENB has attribute TermPointToENB.createdBy set to X2 or ANR. There is no EUtranCellRelation MO referring to any cell in the remote RBS (not considering candidate cell relations). The remote RBS is not on the white list (see x2WhiteList).

## 3.3 Automatic Update of X2 Connection

Steps

1. A configuration change in EUtranCellFDD or EUtranCellTDD on either side initiates an eNodeB configuration update message. The remote RBS receives the message with new cell information (Served Cells To Add, Served Cells To Modify, and Served Cells To Delete). An eNodeB configuration update message is also sent in the following cases: EUtranCellRelation which points to the external cell is created or removed on either side. The set of group identities of the connected MMEs is changed.
2. The remote RBS updates configuration of resources according to the received contents: New instances of MO EUtranFrequency are created if cells with new frequencies are included in the Served Cells To Add and Served Cells To Modify lists. New instances of MO ExternalEUtranCellFDD or ExternalEUtranCellTDD are created according to the Served Cells To Add list, if a cell relation exists from the external cell to any of the internal cells and the ENodeBFunction.x2SetupTwoWayRelations is true. Parent MO EutranFreqRelation is needed. The existing instances of MO ExternalEUtranCellFDD or ExternalEUtranCellTDD are deleted or updated according to Served Cells To Modify and Served Cells To Delete lists. If the external cell frequency changes, the ExternalEUtranCellFDD.changeFrequency or the ExternalEUtranCellTDD.changeFrequency action is triggered. The existing instances of MO EUtranFreqRelation are deleted and created again for external cells in the Served Cells To Modify list with a modified frequency, if a cell relation exists from an internal cell to the modified cell. Any instance of MO EUtranCellRelation for cell relation to the external cell that has changed frequency, is deleted and created again below the newly created EUtranFreqRelation . New instances of MO EUtranCellRelation are created for cell relations from internal cells to external cells, where a cell relation is added in the opposite direction, if the ENodeBFunction.x2SetupTwoWayRelations is true. Parent MO EUtranFreqRelation is needed. The existing instance of MO ExternalENodeBFunction is updated with any changes in the gUGroupIdList according to GU Group Id To Add List and GU Group Id To Delete List.

## 3.4 Removal of X2 Connection by Locking

The removal of the X2 connection is initiated by locking MO

TermPointToENB in the RBS.

The MO can be locked in one of the

following ways:

- Manually by the operator
- By the feature Automated Neighbor Relations
- By the OSS when a planned area is activated, see Figure 3

Locking TermPointToENB in the RBS can result in new X2 setup

requests coming from other RBSs. These new X2 setup requests fail because of locked

TermPointToENB, see TermPointToEnb Already Exists.

The MO

TermPointToENB is always immediately removed when it is locked by the

feature Automated Neighbor Relations.

Figure 3   X2 Removal Process by Locking

Steps

1. X2 removal is initiated when MO TermPointToENB is locked in the RBS.
2. X2 reset is sent to the target RBS.
3. The RBS shuts down or aborts the SCTP connection.
4. The target RBS proceeds according to Automatic X2 Setup Reattempt.

## 3.5 Removal of X2 Connection Using X2 Excludelist

Existing X2 connections can be removed by configuring an excludelist with PLMN IDs

and eNodeB IDs.

X2 connections can be removed by using PLMN-level X2 excludelists and eNodeB IDs. The

ENodeBFunction.x2BlackList attribute can be configured with a

list of PLMN IDs and eNodeB IDs that are to be excluded. If the

GlobalEnbId.enbId attribute is set to -1,

existing X2 connections to eNodeBs associated with the PLMNs on the excludelist are

removed automatically, and new X2 connection creation attempts are forbidden.

The removal of X2 connections consists of the following steps:

1. X2 removal is initiated by configuring the ENodeBFunction.x2BlackList attribute with a list of PLMN IDs and eNodeB IDs that are to be excluded.
2. X2 reset is sent to the remote eNodeB.
3. The eNodeB shuts down or terminates the SCTP connection.
4. The eNodeB removes TermPointToENB MO for the excluded remote eNodeB.
5. The remote eNodeB acts as described in Step 3 of Automatic X2 Setup Reattempt.

## 3.6 Exceptions

This section describes exceptions to the processes in Feature Operation of X2 Configuration.

### 3.6.1 No IP Address Obtained

If no IP address can be obtained, the RBS uses a Stream Control Transmission Protocol

to set up a connection to the target RBS.

This sections describes the situation when no IP address is obtained for the target

RBS.

If TermPointToENB.ipAddress is not defined, the X2 Configuration

feature performs an IP address lookup. If the IP address is not obtained from DNS or

through MME, the RBS continues with Step Step 2 in the X2 setup process after a random time period (see attribute

ENodeBFunction.x2retryTimerStart).

### 3.6.2 External ENodeBFunction MO Not Created

An ExternalENodeBFunction MO instance cannot be created on the target side

if one of the following conditions apply:

- The maximum number of ExternalENodeBFunction MO instances is reached.
- The MO name is already reserved by an existing ExternalENodeBFunction MO instance related to another neighbor. Instances created during X2 setup have a strict naming convention. For more information, see Automated Neighbor Relations MO Naming Conventions in Automated Neighbor Relations.

In this case, the target side sends an X2 setup failure to the source side which proceeds

according to Automatic X2 Setup Reattempt.

If the problem is not solved, the MO instances are removed automatically by Automated Neighbor Relations feature or manually by an operator. In

this case an External Link Failure alarm is raised.

A probability of reaching maximum number of  MO instances is higher when a network

is built on nodes handling different limits for this MO class, for example Baseband Radio

Nodes.

### 3.6.3 Java Virtual Machine Down

When the Java virtual machine is down and no MOs can be automatically created, the

solutions differ on the target side and the source side.

Steps

The behavior differs on the target and the source side in the following way:

1. When the target side in Step Step 4 is not able to create MOs from the X2 setup request, an X2 setup failure is sent to the source side.
2. When the source side in Step Step 6 is not able to create MOs from the X2 setup response, the source side sends an X2 reset and proceeds according to Automatic X2 Setup Reattempt.

### 3.6.4 Source eNodeB Configured in Excludelist

After receiving an X2 setup request, the target eNodeB verifies if the source eNodeB ID

or an associated PLMN ID is configured in the

ENodeBFunction.x2BlackList excludelist. If the source eNodeB is

found, then the target eNodeB responds with X2 setup failure and the source eNodeB

proceeds according to Automatic X2 Setup Reattempt.

For more information on X2 setup, see X2

Setup.

### 3.6.5 Target eNodeB Configured in Excludelist

If the target eNodeB is excluded by eNodeB ID or PLMN ID in the source eNodeB, the source

eNodeB does not send any X2 setup requests to the target eNodeB.

If the Automatic Neighbor Relations feature detects a new neighbor cell which belongs to the

target eNodeB, the Automatic Neighbor Relations feature does not create the

TermPointToENB attribute.

### 3.6.6 Cell Relations Barred by ANR Whitelist PLMN ids

When all cell relations for target RBS are barred for mobility by ANR Whitelist PLMN ids,

the source RBS does not send any X2 setup requests to this RBS.

### 3.6.7 TermPointToEnb Already Exists

When the MO TermPointToENB related to the source RBS already exists in

the target RBS and it is either enabled or locked, the target RBS detects this

situation, it sends an X2 setup failure to the source RBS. The source RBS proceeds

according to Automatic X2 Setup Reattempt.

### 3.6.8 Frequency Not Updated During X2 Setup

In case of frequency change of existing external cell, new MO instances can be created by

the RBS (see action change frequency on external cell). Creating MO instances can fail

due to MO cardinality problems or MO name collision with existing MOs. Instances created

during X2 setup follow strict naming convention, see Automated Neighbor Relations

MO Naming Conventions in Automated Neighbor Relations.

In case of a problem on the target side while handling X2 setup request, an X2 setup

failure is sent to the source side that proceeds according to Automatic X2 Setup Reattempt.

In case of a problem on the source side while handling X2 setup response, it proceeds

according to Automatic X2 Setup Reattemptt.

If the problem is not solved, the MO instances are removed either automatically by Automated Neighbor Relations feature or manually by an

operator. In this case an External Link Failure alarm is raised.

## 3.7 Supported X2-C and EN-DC X2-C Configurations for eNodeBs Configured as MORAN on Single Baseband

If the eNodeB is configured with MORAN on single Baseband in the Shared LTE RAN

feature, X2-C links can be established for each primary PLMN.

Supported X2 configurations are based on X2-C separation. Up to three

child TermPointToENB MO instances can represent up to three potential

X2-C connections towards the same remote shared eNodeB.

One potential XC-2 connection is created for each

of the following local eNodeB primary PLMN IDs that match the active PLMN IDs on the

remote shared eNodeB:

- ENodeBFunction.eNodeBPlmnId
- EUtranCellFDD.cellDefinedPrimaryPlmnId
- EUtranCellTDD.cellDefinedPrimaryPlmnId

Table 2 shows the scenarios in which X2-C

links can be established between an eNodeB configured with MORAN on single Baseband and

neighbor eNodeBs and gNodeBs.

Table 2   Supported X2-C Configurations

In case of a shared neighbor eNodeB, up to three

TermPointToENB MOs can be used in the eNodeB, instead of one, if

the following conditions are fulfilled:

- The Shared LTE RAN feature is activated.
- The Multiple IP Addresses for S1 and X2 feature is activated.
- The ENodeBFunction.moranOnSingleBbEnabled is set to TRUE.

In an EN-DC deployment with a

MORAN on single Baseband configuration, X2-C links can be configured for each Master

Node based on the system-defined primary PLMN  towards

the  shared or dedicated Secondary Node with matching

primary PLMNs. In this case, the TermPointToGNB.additionalCnRef MO

attribute is used to differentiate the local SCTP endpoints based on the primary PLMN

ID.

In case of a shared neighbor gNodeB, up to three potential child

TermPointToGNB MOs can be created under the same parent

ExternalGNodeBFunction MO. Each child

TermPointToGNB MO represents the potential EN-DC X2 connections

towards the same remote shared Secondary Node. There is one potential EN-DC X2

connection for each of the following Master Node primary PLMN IDs, which are equal to or

the equivalent of the active PLMN IDs in the remote shared Secondary Node:

- ENodeBFunction.eNodeBPlmnId
- EUtranCellFDD.cellDefinedPrimaryPlmnId
- EUtranCellTDD.cellDefinedPrimaryPlmnId

# 4 Network Impact of X2 Configuration

The feature enables X2 handover optimization, reporting of conflicts, and load

balancing.

Capacity and Performance

No impact.

Interfaces

No impact.

Other Network Elements

Without X2 connections, the following processes are affected:

- No X2 handover can be performed.
- No optimization of handover thresholds can be performed.
- No reporting of PCI conflicts between RBSs can be performed.
- No load balancing between RBSs can be performed.

It is recommended to use ENM version 24.1 or

later for this feature.

It is recommended to use ENM Bulk Configuration to configure the list

of excluded PLMNs in the ENodeBFunction.x2BlackList attribute.

For more information on ENM Bulk Configuration, see Configuring PLMN-Level Excludelist Using ENM Bulk

Configuration.

# 5 Parameters of X2 Configuration

Table 3   Parameters

| Parameter                             | Type       | Description          |
|---------------------------------------|------------|----------------------|
| ENodeBFunction.x2retryTimerMaxAuto    | Introduced | See MOM description. |
| ENodeBFunction.x2retryTimerStart      | Introduced | See MOM description. |
| ENodeBFunction.x2IpAddrViaS1Active    | Introduced | See MOM description. |
| ENodeBFunction.x2SetupTwoWayRelations | Introduced | See MOM description. |
| ExternalEUtranCellFDD.localCellId     | Affected   | See MOM description. |
| ENodeBFunction.x2BlackList            | Introduced | See MOM description. |
| GlobalEnbId.enbId                     | Introduced | See MOM description. |

# 6 Performance of X2 Configuration

KPIs

This feature has no associated Key Performance Indicators.

Counters

This feature has no directly associated counters.

Events

For EN-DC events on the eNodeB, see X2 Configuration, NR in the NR

RAN library.

Table 4   Events

| Event                                   | Event Parameter   | Description                                                                                                                                                                                                                                                                       |
|-----------------------------------------|-------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| INTERNAL_EVENT_X2_CONN_RELEASE          | N/A               | Event triggered when the X2 connection is released.                                                                                                                                                                                                                               |
| INTERNAL_EVENT_X2AP_PROTOCOL_ERROR      | N/A               | Event triggered when an X2 signal with protocol error is                                     received.                                                                                                                                                                            |
| X2_RESET_REQUEST                        | N/A               | Event triggered:    in the source RBS, when an X2 reset request is sent.     in the target RBS, when an X2 reset request is                                             received.                                                                                                 |
| X2_RESET_RESPONSE                       | N/A               | Event triggered:    in the target RBS, when an X2 reset response is sent.     in the source RBS, when an X2 reset response is                                             received.                                                                                               |
| X2_X2_SETUP_REQUEST                     | N/A               | Event triggered:    in the source RBS, when an X2 setup request is sent.     in the target RBS, when an X2 setup request is                                             received.                                                                                                 |
| X2_X2_SETUP_RESPONSE                    | N/A               | Event triggered:    in the target RBS, when an X2 setup response is sent.     in the source RBS, when an X2 setup response is                                             received.                                                                                               |
| X2_ENB_CONFIGURATION_UPDATE             | N/A               | Event triggered:    in the source RBS, when an eNodeB configuration update is                                             sent.     in the target RBS, when an eNodeB configuration update is                                             received.                               |
| X2_ENB_CONFIGURATION_UPDATE_ACKNOWLEDGE | N/A               | Event triggered:    in the target RBS, when an eNodeB configuration update                                             acknowledgment is sent.     in the source RBS, when an eNodeB configuration update                                             acknowledgment is received. |
| X2_ENB_CONFIGURATION_UPDATE_FAILURE     | N/A               | Event triggered:    in the target RBS, when an eNodeB configuration update                                             failure is sent.     in the source RBS, when an eNodeB configuration update                                             failure is received.               |
| X2_X2_SETUP_FAILURE                     | N/A               | Event triggered:    in the target RBS, when an X2 setup failure is sent.     in the source RBS, when an X2 setup failure is                                             received.                                                                                                 |
| INTERNAL_PROC_X2_SETUP                  | N/A               | Event, procedure event, covering the entire X2 setup process.                                                                                                                                                                                                                     |
| INTERNAL_PROC_DNS_LOOKUP                | N/A               | Event triggered when the source RBS performs a DNS IP address                                     lookup to get the target RBS IP address.                                                                                                                                        |
| X2_ERROR_INDICATION                     | N/A               | Event triggered when any side sends an X2 error indication after                                     detecting an error.                                                                                                                                                          |
| INTERNAL_EVENT_NEIGHBREL_ADD            | N/A               | Event triggered when a neighbor cell is automatically added.                                                                                                                                                                                                                      |
| INTERNAL_EVENT_NEIGHBCELL_CHANGE        | N/A               | Event triggered when a neighbor cell is automatically added,                                     removed, or updated.                                                                                                                                                             |
| INTERNAL_EVENT_NEIGHBENB_CHANGE         | N/A               | Event triggered when a neighbor RBS is automatically added,                                     removed, or updated.                                                                                                                                                              |

# 7 Activate Non-License-Controlled Features

Non-license-controlled features do not require manual activation and cannot be

deactivated.

While license-controlled features need to be activated, non-license-controlled features

are activated automatically during node integration. They also do not

have

a software license key associated, which means that they have no

entries in the LKF that is installed on the node.

In some cases, non-license-controlled features need to be configured

manually or have some of

their

subfunctions enabled to work properly.

# 8 Engineering Guidelines for X2 Configuration

TermPointToENB and other MOs created by X2 Configuration can be

manually managed.

S1, M3, and X2 Control Plane Connections provides instructions for manually managing MO

TermPointToENB with parent MO structure.

For manually managing other MOs created by the X2 Configuration feature, see Manage Radio Network.

There is limited management of the X2 Configuration feature when the Automated Neighbor

Relation feature is active in the system. For managing the Automated Neighbor Relations

feature, see Manage Radio Network.

## 8.1 SCTP Endpoint Setup for X2 Configuration

X2 communication uses SCTP to set up connection between the nodes. An SCTP endpoint

reference can be set up for EN-DC X2 control messaging in the

LocalSctpEndpoint MO under the

EndpointResource MO which is the child of the

GNBCUCPFunction MO.

To set up an SCTP endpoint for X2 communication, the

LocalSctpEndpoint.interfaceUsed attribute must be set to

X2.

If the Shared LTE RAN feature is activated and cell-defined primary PLMN

ID is configured, X2 links can be established for each primary PLMN. The

TermPointToENB.additionalCnRef attribute is used to differentiate

the local SCTP endpoint based on primary PLMN ID.

In case cell-defined primary PLMN ID is configured, the handling of

EN-DC X2 connections is different. For more information, see Shared LTE

RAN.

## 8.2 Configure X2-C Connections for MORAN on Single Baseband

If MORAN on single Baseband is configured on the source eNodeB in the Shared LTE RAN

feature, a TermPointToENB MO instance can be created for each primary

PLMN.

Figure 4   X2-C Connections for MORAN on Single Baseband

Prerequisites

- The Multiple IP Addresses for S1 and X2 feature is activated.
- The Shared LTE RAN feature is activated.
- The source eNodeB is configured as MORAN on single Baseband.

Steps

Perform the following steps to configure X2-C connections towards a dedicated

eNodeB or an eNodeB configured as MORAN on single Baseband:

1. Create a TermPointToENB MO instance under the ExternalENodeBFunction MO to represent the eNodeB that broadcasts PLMN0. Ensure that the TermPointToENB.additionalCnRef attribute is set to the default value.
2. Create a TermPointToENB MO instance under the ExternalENodeBFunction MO representing the eNodeB that broadcasts PLMN1. To avoid MO naming collision, the TermPointToENB MO instance has to follow the following naming convention if the Shared LTE RAN feature with cell-defined primary PLMN ID is activated: TermPointToENB\_&lt;PLMN-ENBID&gt; TermPointToENB\_&lt;PLMN-ENBID&gt;-&lt;1st cellprimaryPlmnId&gt; TermPointToENB\_&lt;PLMN-ENBID&gt;-&lt;2nd cellprimaryPlmnId&gt; The &lt;PLMN-ENBID&gt; variable has to match the attributes defined on the node level, with the &lt;PLMN&gt; variable matching the ENodeBFunction.eNodeBPlmnId attribute and the &lt;&lt;&gt; variable matching the ENodeBFunction.eNBId attribute. In case of MO naming collision, the creation of new TermPointToENB MO instances is rejected. Ensure that the TermPointToENB.additionalCnRef attribute references the AdditionalCoreNetwork MO that has an AdditionalCoreNetwork.plmnList attribute matching the EUtranCellFDD.cellDefinedPrimaryPlmnId or the EUtranCellTDD.cellDefinedPrimaryPlmnId attributes of the cell configured with cell-defined primary PLMN ID.
3. Unlock the TermPointToENB MO instance.

Perform the following steps to configure X2-C connections towards a shared

eNodeB:

4. Create a TermPointToENB MO instance for PLMN0 under the ExternalEnodeBFunction MO. Ensure that the TermPointToENB.additionalCnRef attribute is set to the default value.
5. Create a TermPointToENB MO instance for PLMN1 under the ExternalEnodeBFunction MO. To avoid MO naming collision, the TermPointToENB MO instance has to follow the naming conventions described in Step 2. Ensure that the TermPointToENB.additionalCnRef attribute references the AdditionalCoreNetwork MO that has an AdditionalCoreNetwork.plmnList attribute matching the EUtranCellFDD.cellDefinedPrimaryPlmnId or the EUtranCellTDD.cellDefinedPrimaryPlmnId attributes of the cell configured with cell-defined primary PLMN ID.
6. Unlock the TermPointToENB MO instance.

## 8.3 Configuring PLMN-Level Excludelist Using ENM Bulk Configuration

It is recommended to use ENM Bulk Configuration to configure PLMN-level X2

excludelists.

It is recommended to use ENM Bulk Configuration to configure the list of excluded PLMNs

and eNodeBs in the ENodeBFunction.x2BlackList attribute. It is

recommended to conduct only one bulk configuration job at a time with sequential

execution to reduce the number of deletion notifications from the eNodeBs to the

ENM.

Removing a large number of X2 connections at the same time can lead to a high volume of

deletion notifications in the ENM, which can result in a full configuration management

resynchronization of some eNodeBs in the ENM.