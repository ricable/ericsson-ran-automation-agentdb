---
complexity_score: 18.0
converted_at: '2025-08-13T06:59:19.484664Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 3
images_saved: 3
original_path: 17_10056-HCS10550_1-V1Uen.AD.html
pictures_extracted: 3
processing_method: docling_multimodal
quality_score: 9.0
source_file: 17_10056-HCS10550_1-V1Uen.AD.html
source_zip: en_lzn7931040_r50f.zip
tables_extracted: 21
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 1893
---

# 

Engineering Guideline for PUCCH Capacity in FDD

Contents

![Image](../images/17_10056-HCS10550_1-V1Uen.AD/additional_3_CP.png)

![Image](../images/17_10056-HCS10550_1-V1Uen.AD/additional_3_CP.png)

- Introduction
- Parameter Limitations
    - Maximum Allowed Value of noOfPucchCqiUsers and noOfPucchSrUsers per Cell
    - Maximum Number of RB Pairs Used for PUCCH per Capacity Module and per Sector Carrier
- Calculation of the Number of PUCCH RB-Pairs
    - PUCCH Format 1
    - PUCCH Format 2
- Calculation of Parameter Settings

# 1 Introduction

This is an engineering guideline for PUCCH calculation and PUCCH-related parameter

limitations. Not all possible scenarios are described in this guideline and there can be

cases that hit internal limitations that are not shown in this document. Basics about

PUCCH are found in Control Channel Dimensioning.

This engineering guideline goes through the limitations and how to adjust them to

different scenarios. It guides through calculations for how to get number of PUCCH RBs

based on the settings of noOfPucchSrUsers and

noOfPucchCqiUsers. It also guides how to set

noOfPucchSrUsers and noOfPucchCqiUsers based

on the number of PUCCH RBs. This document is valid for when Flexible Uplink Processing is disabled by parameter

ulPhyProcResTradingEnabled = OFF. When Flexible Uplink Processing is enabled, the limitations are

less restrictive and there are other parameters to set for PUCCH configuration than in

this guideline.

# 2 Parameter Limitations

The parameters noOfPucchCqiUsers and

noOfPucchSrUsers determine the number of resources for CQI and SR

per cell.

When setting the two parameters,

noOfPucchCqiUsers and

noOfPucchSrUsers,

three limitations need to be considered. These limitations are:

- Maximum allowed value of noOfPucchCqiUsers and noOfPucchSrUsers per cell.
- Maximum number of RB pairs used for PUCCH per DU.
- Maximum number of RB pairs used for PUCCH per sector carrier.

## 2.1 Maximum Allowed Value of noOfPucchCqiUsers and noOfPucchSrUsers per Cell

Table 1 shows the maximum allowed values of

the EUtranCellFDD.noOfPucchCqiUsers and

EUtranCellFDD.noOfPucchSrUsers attributes for the default setting

of the EUtranCellFDD.commonSrPeriodicity and

EUtranCellFDD.commonCqiPeriodicity attributes. It is also assumed

that no impacting features or the Maximum Cell Range beyond 100 km feature are

enabled.

The column Maximum Balanced Number of SR and CQI Users in Table 1 shows the maximum number of SR users

and CQI users per cell with the SR and CQI users set as equal as possible. All connected

users in sync must have an SR resource but it can be connected without a CQI resource.

That gives that there is no point of having more CQI users than SR users. If a UE does

not get a CQI resource on PUCCH, all CQI reports are transmitted on PUSCH.

For more information on DU and Baseband configurations, see the DU and Baseband Configurations and Capacity.

Table 1   Maximum Allowed Number of SR and CQI Users per Cell

| DU Type                                                                                                   | Number of RX Antennas   | Bandwidth            | Variable SR and CQI Users Deactivated       | Variable SR and CQI Users Deactivated       | Variable SR and CQI Users Deactivated   | Variable SR and CQI Users Activated         | Variable SR and CQI Users Activated         | Variable SR and CQI Users Activated   |
|-----------------------------------------------------------------------------------------------------------|-------------------------|----------------------|---------------------------------------------|---------------------------------------------|-----------------------------------------|---------------------------------------------|---------------------------------------------|---------------------------------------|
| DU Type                                                                                                   | Number of RX Antennas   | Bandwidth            | Maximum Balanced Number of SR and CQI Users | Maximum Balanced Number of SR and CQI Users | Maximum noOfPucchSrUsers                | Maximum Balanced Number of SR and CQI Users | Maximum Balanced Number of SR and CQI Users | Maximum noOfPucchSrUsers              |
| DU Type                                                                                                   | Number of RX Antennas   | Bandwidth            | noOfPucchSrUsers                            | noOfPucchCqiUsers                           | Maximum noOfPucchSrUsers                | noOfPucchSrUsers                            | noOfPucchCqiUsers                           | Maximum noOfPucchSrUsers              |
| Module B  RAN Compute group 4  Module C  RAN Compute group 5                                              | 2, 4                    | 1.4 MHz              | 2178                                        | 1800                                        | 2367                                    | 4296                                        | 2620                                        | 4674                                  |
| Module B  RAN Compute group 4  Module C  RAN Compute group 5                                              | 2, 4                    | All other Bandwidths | 2340                                        | 2000                                        | 2550                                    | 4620                                        | 2920                                        | 5040                                  |
| Module A  RAN Compute group 4b, RAN Compute group 5c, RAN Compute group 5d  Module B  RAN Compute group 5 | 2, 4                    | 1.4 MHz              | 2142                                        | 2088                                        | 2403                                    | 4224                                        | 3052                                        | 4746                                  |
| Module A  RAN Compute group 4b, RAN Compute group 5c, RAN Compute group 5d  Module B  RAN Compute group 5 | 2, 4                    | All other Bandwidths | 2310                                        | 2240                                        | 2590                                    | 4560                                        | 3280                                        | 5120                                  |

The numbers of SR and CQI users relation in Maximum Balanced Number of SR and CQI Users

can be changed in steps of x, Equation 1,

EUtranCellFDD.noOfPucchSrUsers cannot exceed Maximum

EUtranCellFDD.noOfPucchSrUsers in Table 1.

Equation 1   Adjustment of the Relation between Maximum SR and CQI Users

| nSR,cell,max   |    | is the maximum balanced number of SR users in Table 1.                                                              |
|----------------|----|---------------------------------------------------------------------------------------------------------------------|
|                |    |                                                                                                                     |
| nCQI,cell,max  |    | is the maximum balanced number of CQI users in Table 1.                                                             |
|                |    |                                                                                                                     |
| nSF,PUCCH      |    | is the number of subframes with PUCCH, equal to 9 for BW = 1.4 MHz and 10 for                         all other BW. |

In case the commonSrPeriodicityor

commonCqiPeriodicity parameters are set to values other than

default, the EUtranCellFDD.noOfPucchSrUsers and

EUtranCellFDD.noOfPucchCqiUsers attribute values in Table 1 are adjusted as shown in Equation 2 and in Equation 3.

Equation 2   Adjustment of Maximum Allowed SR Users per Cell for Configured Periodicity

Where

| nSR,cell,max   |    | is the maximum balanced number of SR users in Table 1 or the adjusted value from                             Equation 1.                                                           |
|----------------|----|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                |    |                                                                                                                                                                                    |
| TSR            |    | is the periodicity of SR in milliseconds, specified by the operator parameter                             commonSrPeriodicity. The default value is 10                         ms. |

Equation 3   Adjustment of Maximum Allowed Value of CQI Users per Cell for Configured

Periodicity

Where

| nCQI,cell,max   |    | is the maximum number of CQI users in Table 1 or the adjusted value from                             Equation 1.                                                                 |
|-----------------|----|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                 |    |                                                                                                                                                                                  |
| TCQI            |    | is the periodicity of CQI in milliseconds, specified by the operator                         parameter commonCQIPeriodicity. The default value is 80                         ms. |

### 2.1.1 Features Impacts on Maximum noOfPucchCqiUsers and noOfPucchSrUsers

#### 2.1.1.1 Carrier Aggregation

From PUCCH dimensioning perspective, a cell is considered as a primary cell in Carrier

Aggregation if the parameters noOfChannelSelectionSets &gt; 0 and

dlChannelBandwidth &gt;= 5000 and if any of the following is

true:

- Carrier Aggregation featureState = ON on the eNodeB and if the cell has a relation with sCellCandidate set to ALLOWED.
- Dynamic SCell Selection featureState = ON on the eNodeB regardless of the cell's sCellCandidate status.

If a cell will be used as a primary cell for Carrier Aggregation with 2CC, resources on

Format 1 will be allocated for the HARQ feedback for sCell. If a cell will not be used

as a primary cell, the parameter noOfChannelSelectionSets has to be

set to 0 to avoid a reduction of SR resources when Dynamic SCell Selection feature is

activated. When DL Carrier Aggregation with more than 2CC is

activated,

a separate RB-pair is used for PUCCH Format 3. Each RB-pair assigns enough HARQ ACK/NACK

resources to simultaneously support up to 4 UEs capable of DL Carrier Aggregation with

more than 2CC.

The adjustment of maximum noOfPucchSrUsers and

noOfPucchCqiUsers for when Carrier Aggregation is enabled

according

to the system of equations in Equation 4.

Equation 4   Adjustment of

Maximum

Values

for SR and CQI

Users

per

Cell

when

Carrier

Aggregation

Is

Enabled

Where

| nSR,cell,max     |    | is the maximum number of SR users in Table 1 or the adjusted value from                             Equation 1                         and Equation 2.                                                                                                                                                                                                                                                                             |
|------------------|----|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                  |    |                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| nCQI,cell,max    |    | is the maximum number of CQI users in Table 1 or the adjusted value from                             Equation 1                         and Equation 3.                                                                                                                                                                                                                                                                            |
|                  |    |                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| nSR,cell,max,CA  |    | is the maximum number of SR users when feature carrier aggregation is                         enabled.                                                                                                                                                                                                                                                                                                                             |
|                  |    |                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| nCQI,cell,max,CA |    | is the maximum number of CQI users when feature carrier aggregation is                         enabled.                                                                                                                                                                                                                                                                                                                            |
|                  |    |                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| TSR              |    | is the periodicity for SR in milliseconds, specified by the operator                         parameter commonSrPeriodicity. Default value is 10                         ms.                                                                                                                                                                                                                                                        |
|                  |    |                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| TCQI             |    | is the periodicity for CQI in milliseconds, specified by the operator                         parameter commonCQIPeriodicity. The default value is 80 ms.                                                                                                                                                                                                                                                                          |
|                  |    |                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| nCA2CC,res       |    | is the number of HARQ resources reserved for 2CC DL Carrier Aggregation. It                         is the product of: noOfChannelSelectionSets ×                             channelSelectionSetSize. Using default parameters the                         product is 8 if a cell is considered as a primary cell in 2CC DL Carrier                         Aggregation.                                                          |
|                  |    |                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| nCAPF3,res       |    | is the number of HARQ resources reserved when PUCCH Format 3 is used for                         DL                         Carrier Aggregation with more than 2CC. It is equal to 4 when the operator                         parameter noOfPucchFormat3PrbPairs is set to 1 if a cell                         is considered as a primary cell in DL Carrier Aggregation with more than                         2CC, otherwise 0. |

#### 2.1.1.2 Combined Cell

Maximum values of noOfPucchSrUsers and

noOfPucchCqiUsers in a combined cell should fulfill the system of

equations in Equation 5.

Equation 5   Adjustment of

Maximum

Values

for SR and CQI

Users

per

Cell

When

Combined

Cell

Is

Enabled

Where

| nsectors            |    | is the number of sectors in a Combined Cell.                                                                                                                                                    |
|---------------------|----|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                     |    |                                                                                                                                                                                                 |
| nSR,cell,max,combC  |    | is the maximum number of SR users in a Combined Cell.                                                                                                                                           |
|                     |    |                                                                                                                                                                                                 |
| nCQI,cell,max,combC |    | is the maximum number of CQI users in a Combined Cell.                                                                                                                                          |
|                     |    |                                                                                                                                                                                                 |
| nSR,cell,max        |    | is the maximum number of SR users in Table 1 or the adjusted value from                             Equation 1,                             Equation 2,                         and Equation 4. |
|                     |    |                                                                                                                                                                                                 |
| nCQI,cell,max       |    | is the maximum number of CQI users in Table 1 or the adjusted value from                             Equation 1,                         Equation 3,                         and Equation 4.    |
|                     |    |                                                                                                                                                                                                 |
| TSR                 |    | is the periodicity for SR in milliseconds, specified by the operator                         parameter commonSrPeriodicity. Default value is 10                         ms.                     |
|                     |    |                                                                                                                                                                                                 |
| TCQI                |    | is the periodicity for CQI in milliseconds, specified by the operator                         parameter commonCQIPeriodicity. The default value is 80 ms.                                       |

#### 2.1.1.3 Variable SR and CQI Periodicity

When Variable SR and CQI Periodicity

are

enabled,

some UEs will get SR and CQI resources with longer periodicity. In

return,

more UEs can get SR and CQI resources. When this feature is

enabled,

the numbers in Table 1 is adjusted according

to Equation 6 neither

noOfPucchSrUsers nor noOfPucchCqiUsers should

exceed 4000. The adjustmentFactors in the equations compensate for

possible rounding errors.

Equation 6   Adjustment of Maximum Values for SR and CQI Users per Cell

When

Variable SR and CQI Periodicity Is Enabled

Where

| nSR,cell,max        |    | is the maximum number of SR users in Table 1 or the adjusted value from                             Equation 1                         and Equation 4.   |
|---------------------|----|----------------------------------------------------------------------------------------------------------------------------------------------------------|
|                     |    |                                                                                                                                                          |
| nCQI,cell,max       |    | is the maximum number of CQI users in Table 1 and or the adjusted value                         from Equation 1                         and Equation 4.  |
|                     |    |                                                                                                                                                          |
| nSF,PUCCH           |    | is the number of subframes with PUCCH, equal to 9 for BW = 1.4                         MHz and 10 for all other BW.                                      |
|                     |    |                                                                                                                                                          |
| adjustmentFactorSr  |    | is a factor to adjust SR resources for rounding errors and is equal to 6.                                                                                |
|                     |    |                                                                                                                                                          |
| adjustmentFactorCqi |    | is a factor to adjust CQI resources for rounding errors and is equal to                         8.                                                       |

PRB Pairs are allocated, but are not fully used unless the value set for the

noOfPucchSrUsers or noOfPucchCqiUsers

attributes is not set to the maximum that PUCCH Format 1 or PUCCH Format can support.

#### 2.1.1.4 Other Related Features

| Admission Control                |    | When resourceReservationForPAState is                                 ACTIVATED, SR resources are pre-allocated for PA                             users according to the value of                                 nrOfPaConnReservationsPerCell. The amount of SR                             resources accessible to non-PA users in the cell is therefore reduced by                                 nrOfPaConnReservationsPerCell. The calculation                             of noOfPucchSrUsers needs to account for the                             pre-allocation for PA users to allocate sufficient SR resources for                             non-PA users. Especially when Dynamic PUCCH is not enabled or not                             supported in the cell (such as TDD cell).   |
|----------------------------------|----|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                                  |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Dynamic PUCCH                    |    | When Dynamic PUCCH is enabled, the MOM parameter                                 EUtranCellFDD.noOfPucchSrUsers is not used since                             the SR resources are configured dynamically. PUCCH Format1 RB-pairs                             calculation when setting up cell refers to Equation 10. When                             Dynamic PUCCH is enabled, the number of CQI resources per PB-pair is                             equal to eight for FDD cells.                                                                                                                                                                                                                                                                                                                 |
|                                  |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Maximum Cell Range beyond 100 km |    | When Maximum Cell Range beyond 100 km is enabled, the                                 EUtranCellFDD.noOfPucchSrUsers and                                 EUtranCellFDD.noOfPucchCqiUsers attributes are                             applicable only for UEs in zone 0.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |

## 2.2 Maximum Number of RB Pairs Used for PUCCH per Capacity Module and per Sector Carrier

The maximum allowed number of RB pairs per cell used for PUCCH is 22. Table 2 shows the available maximum allowed

number of RB pairs used for PUCCH per Capacity Module for different DUs.

The available maximum allowed number of RB pairs for AAS per capacity module can be found

in Supported Capacity and Configurations for LTE RAN and

Massive IoT RAN.

Table 2   Maximum Allowed Number of RB Pairs Used for PUCCH

| DU Type                                                                                                                           | Number of RB Pairs per Capacity Module   | Number of RB Pairs per Capacity Module   |
|-----------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|------------------------------------------|
| DU Type                                                                                                                           | 2RX/4RX                                  | 8RX                                      |
| Module B:  RAN Compute Group 4  Module C:  RAN Compute Group 5  RAN Compute Group 4a, RAN Compute Group 4b                        | 90                                       | 60                                       |
| Module A:  RAN Compute Group 4b, RAN Compute Group 4c  RAN Compute Group 5c, RAN Compute Group 5d  Module B:  RAN Compute Group 5 | 180                                      | 120                                      |

For some configurations, the following special considerations must be taken when

calculating resource consumption:

| Combined Cell                    |    | The noOfPucchSrUsers and                         noOfPucchCqiUsers attributes are set on cell level,                     that is, the PUCCH configuration is the same for all sector carriers in a                     combined cell. As each sector carrier requires its own PUCCH RB pairs, a                     combined cell with n sector carriers uses n times more PUCCH RB pairs than a                     single sector carrier cell. This happens if the same values are set for the                         noOfPucchSrUsers attribute, the                         noOfPucchCqiUsers attribute, and other parameters.                     Therefore, a Capacity Module configured with three combined cells each with two                     sector carriers and a Capacity Module configured with six single sector carrier                     cells use the same number of RB pairs assuming the same parameter setting and                     bandwidth.   |
|----------------------------------|----|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                                  |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| Different bandwidths             |    | In a Capacity Module configured with cells using different bandwidths, the                         noOfPucchSrUsers and                         noOfPucchCqiUsers attributes can be set differently for                     each bandwidth. The settings of the noOfPucchSrUsers and                         noOfPucchCqiUsers attributes must be chosen so that the                     total number of RB pairs used for PUCCH in the Capacity Module does not exceed                     the maximum number of RB pairs per Capacity Module.                                                                                                                                                                                                                                                                                                                                                                                                                                |
|                                  |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| FDD and TDD cells on same DU     |    | In case both FDD and TDD cells are configured on same Capacity Module, the TDD                     and FDD cells can be dimensioned separately. However, the sum of RB pair used                     for PUCCH in both FDD and TDD cells cannot exceed the highest of FDD and TDD                     maximum number of RB pairs used for PUCCH per Capacity Module.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|                                  |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| Different number of Rx antennas  |    | If cells with different number of Rx antennas are configured in a Capacity                     Module, the highest number of Rx antennas used in a cell is chosen for the                     maximum number of RB pairs.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|                                  |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| Category M Access                |    | If EUtranCellFDD.catm1SupportEnabled attribute is set to                             true, the Category M Access feature is enabled and                         allocates two RB pairs used for PUCCH. Those PUCCH RB pairs are included in                         the RB pairs for PUCCH limitations.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|                                  |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| Maximum Cell Range beyond 100 km |    | If cell range >100 km, SR resources are reserved to outer zones by the                             EUtranCellFDD.noOfOuterZoneSrPrbPairs attribute. This                         can reduce maximum number of RB pairs for zone 0.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |

# 3 Calculation of the Number of PUCCH RB-Pairs

The total capacity allocated for PUCCH in terms of RB-pairs or RBs for each slot,

nRB,PUCCH is given by:

Equation 7   RB-Pairs for PUCCH

Where

| nRB,Format1        |    | see PUCCH Format 1.                                                                                                                                                                                                                                                                                                      |
|--------------------|----|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                    |    |                                                                                                                                                                                                                                                                                                                          |
| nRB,Format2        |    | see PUCCH Format 2.                                                                                                                                                                                                                                                                                                      |
|                    |    |                                                                                                                                                                                                                                                                                                                          |
| nRB,Format3        |    | is the number of PUCCH Format 3 RB-pair, given by the                             EUtranCellFDD.noOfPucchFormat3PrbPairs attribute. The                         PUCCH Format 3 RB-pair must be allocated when the DL Carrier Aggregation                         features with more than 2CC are activated, otherwise 0. |
|                    |    |                                                                                                                                                                                                                                                                                                                          |
| nRB,outerZones     |    | is the number of RB-pairs reserved for outer zones if the cell range is                         greater than 100 km. Otherwise, the                                 nRB,outerZones is                         equal to 0.                                                                                                |
|                    |    |                                                                                                                                                                                                                                                                                                                          |
| nRB,catm           |    | is the number of Category M RB-pairs. If the                             EUtranCellFDD.catm1SupportEnabled attribute is set to                             true, the                             nRB,catm is equal to 2,                         otherwise 0.                                                            |
|                    |    |                                                                                                                                                                                                                                                                                                                          |
| nRB,outerZonesHARQ |    | is the number of RB-pairs reserved for HARQ feedback resources for UEs in                         zone 0 and the outer zones. The                                 nRB,outerZonesHARQ is                         equal to 4.                                                                                              |
|                    |    |                                                                                                                                                                                                                                                                                                                          |
| nRB,outerZonesSR   |    | is the number of RB-pairs reserved for SR resources for UEs in the outer                         zones given by the EUtranCellFDD.noOfOuterZoneSrPrbPairs                         attribute, that must be set to 2.                                                                                                      |

It must be verified that the total number of RB-pairs per DU does not exceed the number

in Table 2.

## 3.1 PUCCH Format 1

The number of RB-pairs for format 1 is shared between SR and HARQ resources. In the

current release of LTE, up to 36 scheduling requests and HARQ resources can be used per

RB-pair. The number of RB-pairs for these resources must be calculated together by:

Equation 8   RB-Pairs for SR and HARQ Resources

When the Maximum Cell Range beyond 100 km feature is enabled, the number

of RB-pairs is decided by the following formula:

Equation 9   RB-Pairs When Maximum Cell Range beyond 100 km Is Enabled

The initial number of PUCCH format 1 RB-pairs is decided by the following formulas:

- When the Dynamic PUCCH feature is enabled: Equation 10 Initial RB for PUCCH Format 1
- When the Dynamic PUCCH feature is enabled together with the Maximum Cell Range beyond 100 km feature: Equation 11 Initial RB for PUCCH Format 1 If Maximum Cell Range beyond 100 km Is Enabled

Where

| ninitRB,Format1   |    | is the initial allocated number of PUCCH format 1 RB-pairs with Dynamic PUCCH                         feature active.                                                                                                                                                                                                                                                   |
|-------------------|----|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                   |    |                                                                                                                                                                                                                                                                                                                                                                         |
| nPUCCH,SR         |    | is the number of resources for SR per subframe, see SR Resources.                                                                                                                                                                                                                                                                                                       |
|                   |    |                                                                                                                                                                                                                                                                                                                                                                         |
| nPUCCH,HARQ       |    | is the number of HARQ feedback resources per subframe, see HARQ Feedback Resources.                                                                                                                                                                                                                                                                                     |
|                   |    |                                                                                                                                                                                                                                                                                                                                                                         |
| nCA2CC,res        |    | is the number of HARQ resources reserved in the primary cell for 2CC DL                         Carrier Aggregation. It is the product of                             EUtranCellFDD.noOfChannelSelectionSets ×                             EUtranCellFDD.channelSelectionSetSize and is 8 when                         default values, 4 and 2, respectively, are used. |
|                   |    |                                                                                                                                                                                                                                                                                                                                                                         |
| ┌ ┐               |    | indicates round up to next higher integer.                                                                                                                                                                                                                                                                                                                              |

### 3.1.1 SR Resources

The number of SR resources per subframe,

nPUCCH,SR is calculated through the

following equation:

Equation 12   Scheduling Request Resources per Subframe

Where:

| nSR,res   |    | is the desired number of SR resources on the PUCCH channel, specified by the                             noOfPucchSrUsers operator parameter if Variable SR                         and CQI Periodicity are disabled. If Variable SR and CQI Periodicity are                         enabled, the SR gain and the SR adjustment factor also need to be                         considered, resulting in a lower                             nSR,res value.                                                                                                                                      |
|-----------|----|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|           |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| TSR       |    | is the periodicity for SR in milliseconds, specified by the                             commonSrPeriodicity operator parameter. The default                         value is 10 ms.  Increasing SR periodicity by setting the                             commonSrPeriodicity parameter decreases the number                         of PUCCH RB-pairs or increases SR capacity and leads to higher latency. By                         decreasing SR periodicity, latency is decreased, but at the cost of an                         increased number of PUCCH RB-pairs or lower SR capacity. |
|           |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| nSF,PUCCH |    | is the number of subframes with PUCCH, equal to 9 for 1.4 MHz, otherwise                         10.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |

Equation 13   Calculating nSR,res if Variable

SR and CQI Periodicity Are Enabled

Where:

| nSF,PUCCH          |    | is the number of subframes with PUCCH, equal to 9 for BW = 1.4 MHz and 10 for                         all other BW.   |
|--------------------|----|-----------------------------------------------------------------------------------------------------------------------|
|                    |    |                                                                                                                       |
| adjustmentFactorSr |    | is a factor to adjust SR resources for rounding errors and is equal to 6.                                             |

### 3.1.2 HARQ Feedback Resources

The required number of resources for HARQ feedback per subframe,

nPUCCH,HARQ, depends on the number

of CCE indexes nCCE,maxin PDCCH in

downlink, see Control Channel Dimensioning, that, in turn, depends on the

allocated bandwidth and CFI, see Table 3.

Table 3   Resources

Allocated

for HARQ

Feedback

| nPUCCH,HARQ     | pdcchCfiMode     | pdcchCfiMode   | pdcchCfiMode                     | pdcchCfiMode                     |
|-----------------|------------------|----------------|----------------------------------|----------------------------------|
| Bandwidth [Mhz] | CFI_STATIC_BY_BW | CFI_STATIC_1   | CFI_AUTO_MAXIMUM_2  CFI_STATIC_2 | CFI_AUTO_MAXIMUM_3  CFI_STATIC_3 |
| 1.4             | 5                | N/A            | 5                                | 7                                |
| 3               | 8                | N/A            | 8                                | 13                               |
| 5               | 13               | N/A            | 13                               | 22                               |
| 10              | 27               | 11             | 27                               | 44                               |
| 15              | 16               | 16             | 41                               | 66                               |
| 20              | 22               | 22             | 55                               | 88                               |

## 3.2 PUCCH Format 2

The number of RB-pairs allocated for format 2 is calculated through the following

formula:

Equation 14   RB-Pairs for CQI Resources

Where:

| nCQI,res   |    | is the desired number of CQI resources on the PUCCH, specified by the                         operator parameter noOfPucchCqiUsers if Variable SR and                         CQI Periodicity are disabled. If Variable SR and CQI Periodicity are                         enabled, the SR gain and the SR adjustment factor also need to be                         considered, resulting in a lower                             nCQI,res value.   |
|------------|----|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|            |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| ncap       |    | is the number of CQI resources per RB-pair, equal to 4, but if the Dynamic                         PUCCH is enabled, then equal to 8.                                                                                                                                                                                                                                                                                                               |
|            |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| TCQI       |    | is the periodicity for CQI in milliseconds, specified by the operator                         parameter commonCQIPeriodicity. The default value is 80                         ms.                                                                                                                                                                                                                                                                   |
|            |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| nSF,PUCCH  |    | is the number of subframes with PUCCH, equal to 9 for 1.4 MHz otherwise                         10.                                                                                                                                                                                                                                                                                                                                                 |

Equation 15   Calculating nCQI,res if

Variable SR and CQI Periodicity Are Enabled

Where:

| nSF,PUCCH           |    | is the number of subframes with PUCCH, equal to 9 for BW = 1.4 MHz and 10 for                         all other BW.   |
|---------------------|----|-----------------------------------------------------------------------------------------------------------------------|
|                     |    |                                                                                                                       |
| adjustmentFactorCqi |    | is a factor to adjust CQI resources for rounding errors and is equal to                         8.                    |

# 4 Calculation of Parameter Settings

The EUtranCellFDD.noOfPucchSrUsers attribute has no effect if the

Flexible Uplink Processing feature is activated and

ulPhyProcResTradingEnabled is set to 1 or for

FDD cells only if the Dynamic PUCCH feature is activated, because SR resources are

allocated automatically.

With other configurations, EUtranCellFDD.noOfPucchSrUsers attribute

defines the maximum number of PUCCH SR users and the number of PUCCH format 1 PRB pairs

is configured to provide sufficient capacity.

If the Flexible Uplink Processing feature is activated and the

EUtranCellFDD.ulPhyProcResTradingEnabled attribute is set to

1, the EUtranCellFDD.noOfPucchCqiUsersCalc

attribute is calculated as the maximum number of PUCCH CQI users that can be supported

with the number of PUCCH format 2 PRB pairs set with the

EUtranCellFDD.noOfPucchFormat2PrbPairsPerFrameConf attribute and

the EUtranCellFDD.noOfPucchCqiUsers attribute has no effect.

With all other configurations, the EUtranCellFDD.noOfPucchCqiUsers

attribute defines the maximum number of PUCCH CQI users and the number of PUCCH format 2

PRB pairs is configured to provide sufficient capacity. It is recommended to set the

EUtranCellFDD.noOfPucchCqiUsers attribute to the maximum value

that can be supported with the desired number of PUCCH format 2 PRB pairs and current

configuration.

If the Variable SR and CQI Periodicity feature is activated, the default user ratios

between short, medium, and long CQI pools apply only when that recommendation is

followed. If the EUtranCellFDD.noOfPucchCqiUsers attribute is set to

a lower value, a higher share of users is allocated to the short pool. Users are only

allocated to the long pool if the short pool is smaller than the

EUtranCellFDD.noOfPucchCqiUsers attribute. The same applies to SR

pools if the EUtranCellFDD.noOfPucchSrUsers attribute has effect and

is set lower than what the configured PUCCH format 1 PRB pairs can support.

Given a desired number of RB-pairs for format 1, the setting of the

EUtranCellFDD.noOfPucchSrUsers attribute, if the Variable SR and

CQI Periodicity feature is deactivated is calculated as:

Equation 16

Given a desired number of RB-pairs for format 1, the setting of the

EUtranCellFDD.noOfPucchSrUsers attribute, if the Variable SR and

CQI Periodicity feature is activated is calculated as:

Equation 17

Where:

| nSR, res           |    | is the desired number of SR resources on the PUCCH channel, specified by                             the EUtranCellFDD.noOfPucchSrUsers attribute if the                             Variable SR and CQI Periodicity feature is disabled. If the Variable SR                             and CQI Periodicity feature is enabled, the SR gain and the SR                             adjustment factor also need to be considered, resulting in a lower                                 nSR, res value.                                                                                                                                                                 |
|--------------------|----|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                    |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| TSR                |    | is the periodicity for SR in milliseconds, specified by the                                 EUtranCellFDD.commonSrPeriodicity attribute. The                             default value is 10 ms.  Increasing SR periodicity by setting the                                 EUtranCellFDD.commonSrPeriodicity attribute                             decreases the number of PUCCH RB-pairs or increases SR capacity and                             leads to higher latency. By decreasing SR periodicity, latency is                             decreased, but at the cost of an increased number of PUCCH RB-pairs or                             lower SR capacity. |
|                    |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| nSF,PUCCH          |    | is the number of subframes with PUCCH, equal to 9 for 1.4 MHz, otherwise                             10.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                    |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| nPUCCH, HARQ       |    | is the number of HARQ feedback resources per subframe, see HARQ Feedback Resources.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|                    |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| nCA2CC, res        |    | is the number of HARQ resources reserved in the primary cell for 2CC DL                             Carrier Aggregation. It is the product of                                 EUtranCellFDD.noOfChannelSelectionSets ×                                 EUtranCellFDD.channelSelectionSetSize and is                                 8 when default values, 4 and                                 2, respectively, are used.                                                                                                                                                                                                                                            |
|                    |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| adjustmentFactorSr |    | is a factor to adjust SR resources for rounding errors and is equal to                                 6.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |

Given a desired number of RB-pairs for format 2, the setting of the

EUtranCellFDD.noOfPucchCqiUsersis attribute, if the Variable SR

and CQI Periodicity feature is deactivated is calculated as:

Equation 18

Given a desired number of RB-pairs for format 2, the setting of the

EUtranCellFDD.noOfPucchCqiUsers attribute if the Variable SR and

CQI Periodicity feature is activated is calculated as:

Equation 19

Where:

| nCQI, res           |    | is the desired number of CQI resources on the PUCCH, specified by the                                 EUtranCellFDD.noOfPucchCqiUsers attribute if the                             Variable SR and CQI Periodicity feature is disabled. If Variable SR and                             CQI Periodicity feature is enabled, the SR gain and the SR adjustment                             factor also need to be considered, resulting in a lower nCQI,                             res value.   |
|---------------------|----|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                     |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| nRB, format2        |    | is the desired number of PUCCH format 2 PRB pairs.                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|                     |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| ncap                |    | is the number of CQI resources per RB-pair, equal to 4,                             but if the Dynamic PUCCH feature is enabled, then equal to                                 8.                                                                                                                                                                                                                                                                                                               |
|                     |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| TCQI                |    | is the periodicity for CQI in milliseconds, specified by the                                 commonCQIPeriodicity parameter. The default value                             is 80 ms.                                                                                                                                                                                                                                                                                                            |
|                     |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| nSF, PUCCH          |    | is the number of subframes with PUCCH, equal to 9 for 1.4 MHz, otherwise                             10.                                                                                                                                                                                                                                                                                                                                                                                        |
|                     |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| adjustmentFactorCqi |    | is a factor to adjust CQI resources for rounding errors and is equal to                                 8.                                                                                                                                                                                                                                                                                                                                                                                      |

It must be verified that the number of SR resources and CQI resources does not exceed the

maximum values described in Parameter Limitations.

Table 4 shows the maximum (and recommended)

setting of the EUtranCellFDD.noOfPucchCqiUsers attribute depending on

the desired number of PUCCH format 2 PRB pairs for FDD cells.

Table 4   Number of PUCCH Format 2 PRB Pairs

| Mapping of the Number of PUCCH Format 2 PRB Pairs and the Maximum                                 Value of noOfPucchCqiUsers   | Mapping of the Number of PUCCH Format 2 PRB Pairs and the Maximum                                 Value of noOfPucchCqiUsers   | Mapping of the Number of PUCCH Format 2 PRB Pairs and the Maximum                                 Value of noOfPucchCqiUsers   | Mapping of the Number of PUCCH Format 2 PRB Pairs and the Maximum                                 Value of noOfPucchCqiUsers   | Mapping of the Number of PUCCH Format 2 PRB Pairs and the Maximum                                 Value of noOfPucchCqiUsers   |
|--------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------|
| Number of PUCCH Format 2 PRB Pairs                                                                                             | Variable SR and CQI Periodicity OFF                                                                                            | Variable SR and CQI Periodicity OFF                                                                                            | Variable SR and CQI Periodicity ON                                                                                             | Variable SR and CQI Periodicity ON                                                                                             |
| Number of PUCCH Format 2 PRB Pairs                                                                                             | Dynamic PUCCH OFF                                                                                                              | Dynamic PUCCH ON                                                                                                               | Dynamic PUCCH OFF                                                                                                              | Dynamic PUCCH ON                                                                                                               |
| 1                                                                                                                              | 320                                                                                                                            | 640                                                                                                                            | 400                                                                                                                            | 880                                                                                                                            |
| 2                                                                                                                              | 640                                                                                                                            | 1280                                                                                                                           | 880                                                                                                                            | 1840                                                                                                                           |
| 3                                                                                                                              | 960                                                                                                                            | 1920(1)                                                                                                                        | 1360                                                                                                                           | 2800(1)                                                                                                                        |
| 4                                                                                                                              | 1280                                                                                                                           | 2560(1)                                                                                                                        | 1840                                                                                                                           | 3760(1)                                                                                                                        |

(1)

The value might be too high for certain or all Baseband

types.