---
complexity_score: 13.0
converted_at: '2025-08-13T06:58:25.620195Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 6
images_saved: 3
original_path: 161_22104-LZA7016014_1Uen.AC.html
pictures_extracted: 6
processing_method: docling_multimodal
quality_score: 9.0
source_file: 161_22104-LZA7016014_1Uen.AC.html
source_zip: en_lzn7931040_r50f.zip
tables_extracted: 8
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 1893
---

# 

UE Throughput-Based Mobility to Wi-Fi

Contents

![Image](../images/161_22104-LZA7016014_1Uen.AC/additional_3_CP.png)

![Image](../images/161_22104-LZA7016014_1Uen.AC/additional_3_CP.png)

- UE Throughput-Based Mobility to Wi-Fi Overview
- Dependencies of UE Throughput-Based Mobility to Wi-Fi
- Feature Operation of UE Throughput-Based Mobility to Wi-Fi
    - UE Connected Mode
    - UE Idle Mode
    - Throughput Estimation
    - Re-estimation of UE Connected in Wi-Fi
    - Locator Updates
- Network Impact of UE Throughput-Based Mobility to Wi-Fi
- Parameters for UE Throughput-Based Mobility to Wi-Fi
- Performance of UE Throughput-Based Mobility to Wi-Fi
- Activate UE Throughput-Based Mobility to Wi-Fi
- Deactivate UE Throughput-Based Mobility to Wi-Fi

# 1 UE Throughput-Based Mobility to Wi-Fi Overview

The UE Throughput-Based Mobility to Wi-Fi feature controls mobility between Wi-Fi and

LTE based on end-user throughput.

| Feature Name           | UE Throughput-Based Mobility to Wi-Fi                                      |
|------------------------|----------------------------------------------------------------------------|
| Feature Identity       | FAJ 121 3064                                                               |
| Value Package Name     | LTE Base Package                                                           |
| Value Package Identity | FAJ 801 0400                                                               |
| Node Type              | Baseband Radio Node                                                        |
| Access Type            | LTE                                                                        |
| Licensing              | License-controlled feature. One license is required for each 								node. |

Summary

The user is steered to the network (Wi-Fi or LTE) that currently offers the best throughput.

The throughput evaluation is performed in real time for the individual user.

The feature offers the following benefits:

- Real-time evaluation of individual user throughput in Wi-Fi and LTE as a base for network selection
- Improved end-user experience
- Increased Wi-Fi AP throughput and Wi-Fi capacity
- Minimized fast movements of UEs between Wi-Fi and LTE

# 2 Dependencies of UE Throughput-Based Mobility to Wi-Fi

The UE Throughput-Based Mobility to Wi-Fi feature is not compatible with

partitions.

Table 1   Feature Dependencies

| Feature                                                                        | Relationship   | Description                                                                                                                                                                                                                                                                          |
|--------------------------------------------------------------------------------|----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Radio Resource                                     Partitioning (FAJ 121 4571) | Conflicting    | The UE Throughput-Based Mobility to Wi-Fi feature is                         agnostic to partitions. Therefore, UE throughput calculation can be over- or                         under-estimated, depending on the partition configuration and                         utilization. |

Hardware

No specific hardware requirements.

Limitations

No known limitations.

Network Requirements

No specific network requirements.

# 3 Feature Operation of UE Throughput-Based Mobility to Wi-Fi

This feature grants the UE access to Wi-Fi according to the average

throughput.

Figure 1   Network Architecture and Involved Nodes

The feature has the following use cases:

- The MME retrieves the weighted UE average throughput for connected UEs from the eNodeB, and sends a Wi-Fi access decision to the WIC.
- The MME retrieves the UE average throughput per cell for idle UEs from the eNodeB, and sends the list of throughput values to the WIC. The WIC decides whether to grant access for the UE.

Figure 2   UE Throughput-Based Mobility to Wi-Fi, Traffic Steering Example

The

following cases are illustrated in Figure 2:

| UE in Zone A   |    | Only the LTE cell has coverage, so the UE is connected to LTE.                                                                                                                                                                                                                                                              |
|----------------|----|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                |    |                                                                                                                                                                                                                                                                                                                             |
| UE in Zone B   |    | Both Wi-Fi and LTE provide coverage. When a UE attempts to connect to Wi-Fi, the             feature estimates and compares the throughput that the UE is offered in Wi-Fi and in             LTE. In Zone B, Wi-Fi offers lower throughput than LTE, so the UE is not admitted to             Wi-Fi and it remains in LTE. |
|                |    |                                                                                                                                                                                                                                                                                                                             |
| UE in Zone C   |    | Wi-Fi offers higher throughput than LTE and the feature admits the UE to Wi-Fi.                                                                                                                                                                                                                                             |

The actual throughputs offered are individually evaluated in real time for each user. The

evaluation considers the following characteristics:

- Coverage
- Load
- Number of users
- Others that influence the current throughput a user is offered in a specific position

The feature handles UEs when they are connected to Wi-Fi. A UE connected to Wi-Fi is

periodically re-estimated. When LTE is estimated to provide higher throughput than Wi-Fi, the

UE is disconnected from Wi-Fi and connected to

LTE.

When implementing Wi-Fi in a network without the UE Throughput-Based Mobility to Wi-Fi

feature, UEs are admitted into Wi-Fi if Wi-Fi coverage is available. This is the case even if

the user experience is inferior in Wi-Fi compared to LTE and can cause severe disturbances for

the user. The feature ensures that the UE only resides in Wi-Fi if the user throughput is

higher than it is in LTE.

## 3.1 UE Connected Mode

The MME sends a Wi-Fi access decision to the WIC according to the weighted UE average

throughput.

Figure 3   Access Request - Message Flow for UE Connected Mode

The message flow for UE connected mode contains the following steps:

1. The UE requests access to the AP. Wi-Fi performs 802.11 System Acquisition and Authentication with Extensible Authentication Protocol.
2. RADIUS authentication is performed (Network Interface Controller identity).
3. RADIUS authentication is accepted (IMSI).
4. The WIC requests the address of the node handling the UE from the Locator by sending UELocationRequest with hashed IMSI.
5. The Locator responds with the latest stored address to an MME node by sending UELocationResponse with MME address.
6. Wi-Fi estimates the throughput that can be offered to the UE. Covering cells table example:
    - ECGI1 = 12345
    - ECGI2 = 626543
    - ECGI3 = 8723642
    - ECGI4 = ab78234
7. The WIC sends an AccessRequest to the MME with IMSI, Wi-Fi throughput, and AP ID.
8. IMSI is looked up and found to be connected in eNodeB1.
9. The MME requests the current eNodeB to estimate the possible LTE throughput for the UE.
    - If the UE is active: the weighted average throughput is computed, compared with Wi-Fi throughput, and an access decision is made.
    - If the UE is inactive: the average throughput is computed for the cell where the UE is connected (as done for UE in idle mode), and it is compared to Wi-Fi throughput.
11. The eNodeB informs the MME whether the UE must remain in LTE or access Wi-Fi.
12. The MME responds to the WIC with an AccessResponse message including a decision to admit or reject the UE. Wi-Fi admits or rejects the UE according to the response from the MME.

## 3.2 UE Idle Mode

The WIC decides whether to grant access for the UE according to a list of throughput

values.

Figure 4   Access Request - Message Flow for UE Idle Mode

The message flow for UE connected mode contains the following steps:

1. The UE requests access to the AP. Wi-Fi performs 802.11 System Acquisition and Authentication with Extensible Authentication Protocol.
2. RADIUS authentication is performed (Network Interface Controller identity).
3. RADIUS authentication is accepted (IMSI).
4. The WIC requests the address of the node handling the UE from the Locator by sending UELocationRequest with hashed IMSI.
5. The Locator responds with the latest stored address to an MME node by sending UELocationResponse with MME address.
6. Wi-Fi estimates the throughput that can be offered to the UE. Covering cells table is checked, for example:
    - ECGI1 = 12345
    - ECGI2 = 626543
    - ECGI3 = 8723642
    - ECGI4 = ab78234
7. The WIC sends an AccessRequest to the MME with IMSI, Wi-Fi throughput, and AP ID.
8. IMSI is checked and found to be idle. The MME must contact eNodeB for control of covering cells.
    - The MME sends an EstimateRequest for ECGI1 and ECGI2 to the eNodeB1.
    - The MME sends an EstimateRequest for ECGI3 and ECGI4 to the eNodeB3.
10. The requested eNodeBs compute the average throughput for the requested cells.
    - The eNodeB1 sends an EstimateResponse including the calculated throughputs for the requested cells, ECGI1 and ECGI2.
    - The eNodeB3 sends an EstimateResponse including the calculated throughputs for the requested cells, ECGI3 and ECGI4.
12. The MME sends an AccessResponse to the WIC including calculated throughputs for all requested cells. The WIC compares the throughput between LTE and Wi-Fi and decides if the UE can be disconnected from Wi-Fi.

## 3.3 Throughput Estimation

The estimated total LTE UE throughput is calculated by adding the PCell throughput to

the local FDD or TDD SCell throughput.

The method used for the LTE UE throughput estimations depends on

the UE connection state and the capabilities of the current cell.

Only downlink throughput is considered.

For a UE in connected mode, the eNodeB bases its decision on the Wi-Fi throughput estimated

by the WIC and the LTE throughput computed in the eNodeB.

If the UE is active in the eNodeB, the eNodeB computes an average throughput value that is

unique to the given UE. The throughput value is a weighted average cell throughput, where the

weight is based on the following:

- UE-specific data rate
- Combined data rates of all UEs in the cell with the PRB use of the cell
- Average number of UEs scheduled in each TTI
- Average number of UEs that has data to send in each TTI

The PRB available in PDSCH is also considered. The data rate values used in the

computation are obtained analytically. This is done by mapping the combination of the reported

CQI values, outer-loop adjustment based on HARQ feedback, and the reported rank. The CQI

values are mapped to SINR. The reference resource is the full bandwidth.

If the UE is inactive in the eNodeB, the eNodeB computes a cell average throughput for the

cell where the UE is connected in.

For eNodeBs configured with multiple DUs or Basebands and the Cross-DU Carrier Aggregation Support feature enabled, the throughput

calculation for UEs with active SCells on extension DUs or Basebands does not include bit rate

for those SCells. Because of this, the UE is allowed to Wi-Fi when the bit rate in LTE can be

better.

For a UE in idle mode, the WIC bases its decision on the lowest non-zero value in the LTE

throughput information collected from 3GPP cells that cover the Wi-Fi cell.

## 3.4 Re-estimation of UE Connected in Wi-Fi

For a UE connected to a Wi-Fi AP, the offered throughput is tracked in Wi-Fi. If the Wi-Fi

throughput is below the Wi-Fi discard evaluation threshold, the following occurs:

- The WIC sends an EstimateRequest message to the MME. This message does not contain a Wi-Fi throughput value.
- If the UE is in connected mode in LTE, the MME sends a WiFiAccessDecisionRequest message to the eNodeB to which the UE is connected. The Wi-Fi throughput value in the message is set to zero by the MME. The eNodeB answers with the WiFiAccessDecisionResponse message, that contains estimated UE throughput in LTE, and the Decision\_by\_WIC field, which indicates that the WIC makes the throughput comparison.
- If the UE is in idle mode in LTE, the MME sends ThroughputEstimationRequest messages to the eNodeBs that control the LTE cells covering the Wi-Fi cell. The eNodeBs answer with ThroughputEstimationResponse messages that include the cell average throughput values for the requested cells.
- The WIC compares the throughput between LTE and Wi-Fi and decides whether the UE can be disconnected from Wi-Fi.

## 3.5 Locator Updates

The MME updates the Locator with information on the MME that is handling a UE.

At a Locator start or restart, the Locator database is empty. To ensure that the Locator

database is updated quickly, active IMSIs are synchronized when a Locator discovers a new

MME.

For integrity protection, an IMSI is hashed before it is sent to

the Locator.

# 4 Network Impact of UE Throughput-Based Mobility to Wi-Fi

The feature can increase network capacity and throughput.

Capacity and Performance

With this feature in an existing Wi-Fi network, the overall throughput is expected to

increase for a cluster of LTE cells and Wi-Fi APs. There is less traffic on Wi-Fi and the

average modulation rate on Wi-Fi is expected to be higher.

When new Wi-Fi is added in LTE cells, parts of the traffic move to Wi-Fi. Traffic decreases

in LTE and the total network capacity increases.

With this feature activated, the average number of users in an existing Wi-Fi network can

decrease. The reason is that the feature denies some of the user attempts to access Wi-Fi. A

UE stays in LTE until Wi-Fi throughput is equal or better.

Interfaces

No impact.

Other Network Elements

Transport Network is affected when the UE Throughput-Based Mobility to Wi-Fi feature is

activated. The Transport Network traffic changes according to the traffic change in LTE and

Wi-Fi.

# 5 Parameters for UE Throughput-Based Mobility to Wi-Fi

This feature introduces a parameter related to admitting UEs to Wi-Fi.

Table 2   Parameters of UE Throughput-Based Mobility to Wi-Fi

| Parameter                          | Type       | Description          |
|------------------------------------|------------|----------------------|
| ENodeBFunction.biasThpWifiMobility | Introduced | See MOM description. |

# 6 Performance of UE Throughput-Based Mobility to Wi-Fi

The performance of this feature can be observed by counters and events related to Wi-Fi

access and throughput.

KPIs

This feature has no directly associated Key Performance Indicators (KPIs).

Depending on the topology and the traffic model, minor variances in throughput KPIs can

occur in LTE. The reason is that the feature stops some of the user attempts from accessing

Wi-Fi.

Because of mobility to Wi-Fi, the KPI for retainability can be affected.

This feature cannot be evaluated separately and the network performance is evaluated by

existing LTE KPIs.

Counters

The following counters are introduced by the UE Throughput-Based Mobility to Wi-Fi

feature:

- pmWifiAccessEval
- pmWifiAccessAllowed
- pmWifiAccessRej
- pmWifiAccessDecisionByWic
- pmWifiAccessEvalFailLic

Events

Table 3   Events

| Event                                       | Event Parameter                                      |
|---------------------------------------------|------------------------------------------------------|
| S1_WIFI_ACCESS_DECISION_REQUEST             | N/A                                                  |
| S1_WIFI_ACCESS_DECISION_RESPONSE            | N/A                                                  |
| S1_THROUGHPUT_ESTIMATION_REQUEST            | N/A                                                  |
| S1_THROUGHPUT_ESTIMATION_RESPONSE           | N/A                                                  |
| INTERNAL_EVENT_WIFI_MOBILITY_EVAL_CONNECTED | EVENT_PARAM_WIFI_ACCESS_DECISION                     |
| INTERNAL_EVENT_WIFI_MOBILITY_EVAL_CONNECTED | EVENT_PARAM_WIFI_THROUGHPUT_ESTIMATE_EUTRA_CONNECTED |
| INTERNAL_EVENT_WIFI_MOBILITY_EVAL_CONNECTED | EVENT_PARAM_WIFI_THROUGHPUT_ESTIMATE_WIFI            |
| INTERNAL_EVENT_WIFI_MOBILITY_EVAL_IDLE      | EVENT_ARRAY_GLOBAL_CELL_ID_ESTIMATE_SUCC             |
| INTERNAL_EVENT_WIFI_MOBILITY_EVAL_IDLE      | EVENT_ARRAY_THROUGHPUT_ESTIMATE                      |
| INTERNAL_EVENT_WIFI_MOBILITY_EVAL_IDLE      | EVENT_ARRAY_GLOBAL_CELL_ID_ESTIMATE_FAIL             |
| INTERNAL_EVENT_WIFI_MOBILITY_EVAL_IDLE      | EVENT_ARRAY_ESTIMATE_FAIL_CAUSE                      |
| INTERNAL_EVENT_WIFI_MOBILITY_EVAL_IDLE      | EVENT_PARAM_ESTIMATE_FAIL_STATUS                     |

For more information about events, see Lists and Delta Lists

# 7 Activate UE Throughput-Based Mobility to Wi-Fi

To use the feature, it must be activated following the usual feature activation

procedure.

Prerequisites

- The license key is installed in the node.
- CCTR is active for at least one week before this procedure to collect enough troubleshooting data.

Steps

1. Set the attribute featureState to ACTIVATED in the FeatureState=CXC4010511 MO instance.

After This Task

Keep CCTR active for at least one week after this procedure for continued collection of troubleshooting data.

# 8 Deactivate UE Throughput-Based Mobility to Wi-Fi

If the feature is no longer needed, it can be deactivated following the usual

feature deactivation procedure. It must also be deactivated before the activation of any

conflicting feature.

Prerequisites

CCTR is active for at least one week before this procedure to collect enough troubleshooting data.

Steps

1. Set the attribute featureState to DEACTIVATED in the FeatureState=CXC4010511 MO instance.

After This Task

Keep CCTR active for at least one week after this procedure for continued collection of troubleshooting data.