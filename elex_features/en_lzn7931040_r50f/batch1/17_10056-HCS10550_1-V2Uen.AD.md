---
complexity_score: 20.5
converted_at: '2025-08-13T06:56:41.098996Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 3
images_saved: 3
original_path: 17_10056-HCS10550_1-V2Uen.AD.html
pictures_extracted: 3
processing_method: docling_multimodal
quality_score: 9.0
source_file: 17_10056-HCS10550_1-V2Uen.AD.html
source_zip: en_lzn7931040_r50f.zip
tables_extracted: 26
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 1893
---

# 

Engineering Guideline for PUCCH Capacity in TDD

Contents

![Image](../images/17_10056-HCS10550_1-V2Uen.AD/additional_3_CP.png)

![Image](../images/17_10056-HCS10550_1-V2Uen.AD/additional_3_CP.png)

- Introduction
- Parameter Limitations
    - Maximum Allowed Value of noOfPucchCqiUsers and noOfPucchSrUsers per Cell
    - Maximum Number of RB Pairs Used for PUCCH per Capacity Module and per Sector Carrier
- Calculation of the Number of PUCCH RB-Pairs
    - PUCCH Format 1
    - PUCCH Format 2
- Calculation of Parameter Settings

# 1 Introduction

This is an engineering guideline for PUCCH calculation and PUCCH-related parameter

limitations. Not all possible scenarios are described in this guideline and there can be

cases that hit internal limitations that are not shown in this document. Basics about

PUCCH are found in Control Channel Dimensioning.

This engineering guideline goes through the limitations and how to adjust them to

different scenarios. It guides through calculations for how to get number of PUCCH RBs

based on the settings of noOfPucchSrUsers and

noOfPucchCqiUsers. It also guides how to set

noOfPucchSrUsers and noOfPucchCqiUsers based

on the number of PUCCH RBs. This document is valid for when Flexible Uplink Processing is disabled by parameter

ulPhyProcResTradingEnabled = OFF. When Flexible Uplink Processing is enabled, the limitations are

less restrictive and there are other parameters to set for PUCCH configuration than in

this guideline.

# 2 Parameter Limitations

The parameters noOfPucchCqiUsers and

noOfPucchSrUsers determine the number of resources for CQI and SR

per cell.

When setting the two parameters,

noOfPucchCqiUsers and

noOfPucchSrUsers,

three limitations need to be considered. These limitations are:

- Maximum allowed value of noOfPucchCqiUsers and noOfPucchSrUsers per cell.
- Maximum number of RB pairs used for PUCCH per DU.
- Maximum number of RB pairs used for PUCCH per sector carrier.

## 2.1 Maximum Allowed Value of noOfPucchCqiUsers and noOfPucchSrUsers per Cell

Table 1 and Table 2 shows the maximum allowed values of

noOfPucchCqiUsers and noOfPucchSrUsers for

default setting of commonSrPeriodicity and

commonCqiPeriodicity, it is also assumed that no impacting

features are enabled.

The column Maximum balanced number of SR and CQI users in Table 1 and Table 2 shows the maximum number of SR users

and CQI users per cell with the SR and CQI users set as equal as possible. All connected

users in sync must have an SR resource but it can be connected without a CQI resource.

That gives that there is no point of having more CQI users than SR users. If a UE does

not get any CQI resources on PUCCH, all CQI reports are transmitted on PUSCH.

For more information on DU and Baseband configurations, see the DU and Baseband Configurations and Capacity.

Table 1   Maximum Allowed Number of SR and CQI Users per Cell for Uplink/Downlink

Configuration 1

| DU Type                                                                                                                                         | CFI     | Number of RX Antennas   | Maximum Balanced Number of SR and CQI Users   | Maximum Balanced Number of SR and CQI Users   | Maximum noOfPucchSrUsers   |
|-------------------------------------------------------------------------------------------------------------------------------------------------|---------|-------------------------|-----------------------------------------------|-----------------------------------------------|----------------------------|
| DU Type                                                                                                                                         | CFI     | Number of RX Antennas   | Maximum noOfPucchSrUsers                      | Maximum noOfPucchCqiUsers                     | Maximum noOfPucchSrUsers   |
| Module B:  RAN Compute group 4  Module C:  RAN Compute group 5                                                                                  | 1, 2, 3 | 2, 4                    | 1760                                          | 1248                                          | 2040                       |
| Module B:  RAN Compute group 4  Module C:  RAN Compute group 5                                                                                  | 1, 2, 3 | 8                       | 832                                           | 480                                           | 832                        |
| Module A:  RAN Compute group 4b, RAN Compute group 5c, RAN Compute group                                     5d  Module B:  RAN Compute group 5 | 1, 2, 3 | 2, 4                    | 1760                                          | 1248                                          | 2072                       |
| Module A:  RAN Compute group 4b, RAN Compute group 5c, RAN Compute group                                     5d  Module B:  RAN Compute group 5 | 1, 2, 3 | 8                       | 1952                                          | 480                                           | 2072                       |

The numbers of SR and CQI users relation in Maximum balanced number of SR and CQI users

for Configuration 1 can be changed in steps of x, Equation 1,

noOfPucchSrUsers cannot exceed Maximum

noOfPucchSrUsers in Table 1.

Equation 1   Adjustment of Relation between Maximum SR and CQI Users for Configuration

1

| nSR,cell,max,TDD1   |    | is the maximum balanced number of SR users in Table 1   |
|---------------------|----|---------------------------------------------------------|
|                     |    |                                                         |
| nCQI,cell,max,TDD1  |    | is the maximum balanced number of CQI users in Table 1  |

Table 2   Maximum Allowed Number of SR and CQI Users per Cell for Uplink/Downlink

Configuration 2

| DU Type                                                                                                                                         |   CFI | Number of RX Antennas   |   Maximum noOfPucchSrUsers |   Maximum noOfPucchCqiUsers |   Maximum noOfPucchSrUsers |
|-------------------------------------------------------------------------------------------------------------------------------------------------|-------|-------------------------|----------------------------|-----------------------------|----------------------------|
| Module B:   RAN Compute group 4  Module C:  RAN Compute group 5                                                                                 |     1 | 2, 4, 8                 |                        676 |                         672 |                        844 |
| Module B:   RAN Compute group 4  Module C:  RAN Compute group 5                                                                                 |     2 | 2, 4, 8                 |                        676 |                         672 |                        844 |
| Module B:   RAN Compute group 4  Module C:  RAN Compute group 5                                                                                 |     3 | 2, 4, 8                 |                        596 |                         576 |                        844 |
| Module A:  RAN Compute group 4b, RAN Compute group 5c, RAN Compute group                                     5d  Module B:  RAN Compute group 5 |     1 | 2, 4, 8                 |                        676 |                         672 |                        844 |
| Module A:  RAN Compute group 4b, RAN Compute group 5c, RAN Compute group                                     5d  Module B:  RAN Compute group 5 |     2 | 2, 4, 8                 |                        676 |                         672 |                        844 |
| Module A:  RAN Compute group 4b, RAN Compute group 5c, RAN Compute group                                     5d  Module B:  RAN Compute group 5 |     3 | 2, 4, 8                 |                        596 |                         576 |                        844 |

The numbers of SR and CQI users relation in Maximum balanced number of SR and CQI users

for Configuration 2 can be changed in steps of x, Equation 2,

noOfPucchSrUsers cannot exceed Maximum

noOfPucchSrUsers in Table 2.

Equation 2   Adjustment of Relation between Maximum SR and CQI Users for Configuration

2

| nSR,cell,max,TDD2   |    | is the maximum balanced number of SR resources in Table 2   |
|---------------------|----|-------------------------------------------------------------|
|                     |    |                                                             |
| nCQI,cell,max,TDD2  |    | is the maximum balanced number of CQI resources in Table 2  |

In case commonSrPeriodicity or commonCqiPeriodicity

are set to other than default, noOfPucchSrUsers and

noOfPucchCqiUsers in Table 1 and Table 2 are adjusted for TDD as in Equation 3 and Equation 4.

Equation 3   Adjustment of Maximum Allowed Value of SR Resources per Cell for Configured

Periodicity for TDD

Where

| nSR,cell,max,TDD   |    | is the maximum number of SR users in Table 1 and Table 2 or the value for                             adjusted relation, Equation 1 and Equation 2,                                     |
|--------------------|----|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                    |    |                                                                                                                                                                                         |
| TSR                |    | is the periodicity for SR in milliseconds, specified by the operator                             parameter commonSrPeriodicity. The default value is                             20 ms. |

Equation 4   Adjustment of Maximum Allowed Value of CQI Users per Cell for Configured

Periodicity for TDD

Where

| nCQI,cell,max,TDD   |    | is the maximum number of CQI users in Table 1 and Table 2 or the value for                             adjusted relation, Equation 1 and Equation 2,                                      |
|---------------------|----|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                     |    |                                                                                                                                                                                           |
| TCQI                |    | is the periodicity for CQI in milliseconds, specified by the operator                             parameter commonCQIPeriodicity. The default value is                             80 ms. |

### 2.1.1 Features Impacts on Maximum noOfPucchCqiUsers and noOfPucchSrUsers

#### 2.1.1.1 Carrier Aggregation

From PUCCH dimensioning perspective, a cell is considered as a primary cell in Carrier

Aggregation if the parameters noOfChannelSelectionSets &gt; 0 and

dlChannelBandwidth &gt;= 5000 and if any of the following is

true:

- Carrier Aggregation featureState = ON on the eNodeB and if the cell has a relation with sCellCandidate set to ALLOWED.
- Dynamic SCell Selection featureState = ON on the eNodeB regardless of the cell's sCellCandidate status.

If a cell will be used as a primary cell for Carrier Aggregation with 2CC, resources on

Format 1 will be allocated for the HARQ feedback for sCell. If a cell will not be used

as a primary cell, the parameter noOfChannelSelectionSets has to be

set to 0 to avoid a reduction of SR resources when Dynamic SCell Selection feature is

activated. When DL Carrier Aggregation with more than 2CC is

activated,

a separate RB-pair is used for PUCCH Format 3. Each RB-pair assigns enough HARQ ACK/NACK

resources to simultaneously support up to 4 UEs capable of DL Carrier Aggregation with

more than 2CC.

The adjustment of maximum noOfPucchSrUsers and

noOfPucchCqiUsers when Carrier Aggregation is enabled is

according to the system of equations in Equation 5

Equation 5   Adjustment of Maximum Values for SR and CQI Users per Cell When Carrier

Aggregation Is Enabled

Where

#### 2.1.1.2 Combined Cell

Maximum values of noOfPucchSrUsers and

noOfPucchCqiUsers in a combined cell should fulfill the system of

equations in Equation 6.

Equation 6   Adjustment of Maximum Values for SR and CQI Users per Cell When Combined Cell

Is Enabled

Where

| nsectors            |    | is the number of sectors in a Combined Cell.                                                                                                                                                                             |
|---------------------|----|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                     |    |                                                                                                                                                                                                                          |
| nSF,PUCCH           |    | number of subframes with PUCCH, equal to 4 and 2 for uplink-downlink                             configuration 1 and 2, respectively.                                                                                    |
|                     |    |                                                                                                                                                                                                                          |
| nSR,cell,max,combC  |    | is the maximum number of SR users in a Combined Cell.                                                                                                                                                                    |
|                     |    |                                                                                                                                                                                                                          |
| nCQI,cell,max,combC |    | is the maximum number of CQI users in a Combined Cell.                                                                                                                                                                   |
|                     |    |                                                                                                                                                                                                                          |
| nSR,cell,max        |    | is the maximum number of SR users in Table 1 and Table 2 or the adjusted value                             from Equation 1,                                 Equation 2, Equation 3, and Equation 5.                      |
|                     |    |                                                                                                                                                                                                                          |
| nCQI,cell,max       |    | is the maximum number of CQI users in Table 1 and Table 2 or the adjusted value                             from Equation 1,                                 Equation 2, and                                 Equation 5. |
|                     |    |                                                                                                                                                                                                                          |
| TSR                 |    | is the periodicity for SR in milliseconds, specified by the operator                             parameter commonSrPeriodicity. Default value is 20                             ms.                                      |
|                     |    |                                                                                                                                                                                                                          |
| TCQI                |    | is the periodicity for CQI in milliseconds, specified by the operator                             parameter commonCQIPeriodicity. The default value is                             80 ms.                                |

#### 2.1.1.3 Variable SR and CQI Periodicity

When Variable SR and CQI Periodicity are enabled, some UEs will get SR and CQI resources

with longer periodicity. In return, more UEs can get SR and CQI resources. When this

feature is enabled the numbers in Table 1 and Table 2 is adjusted according to Equation

6, neither noOfPucchSrUsers nor noOfPucchCqiUsers

should exceed 4000. The adjustmentFactors in the equations compensate for possible

rounding errors.

Equation 7   Adjustment of Maximum Values for SR and CQI Users per Cell When Variable SR

and CQI Periodicity Is Enabled

Where

| nSR,cell,max        |    | is the maximum number of SR users in Table 1 and Table 2 or the adjusted value                             from Equation 1,                                 Equation 2, and                                 Equation 5.   |
|---------------------|----|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                     |    |                                                                                                                                                                                                                           |
| nCQI,cell,max       |    | is the maximum number of CQI users in Table 1 and Table 2 or the adjusted value                             from Equation 1,                             Equation 2, and                                 Equation 5.      |
|                     |    |                                                                                                                                                                                                                           |
| nSF,PUCCH           |    | number of subframes with PUCCH, equal to 4 and 2 for uplink-downlink                             configuration 1 and 2, respectively.                                                                                     |
|                     |    |                                                                                                                                                                                                                           |
| adjustmentFactorSr  |    | is a factor to adjust SR resources for rounding errors and is equal to                             12.                                                                                                                    |
|                     |    |                                                                                                                                                                                                                           |
| adjustmentFactorCqi |    | is a factor to adjust CQI resources for rounding errors and is equal to                             8.                                                                                                                    |

When Variable SR and CQI Periodicity feature is enabled (and Dynamic PUCCH feature is

disabled), over-provisioning of the parameter noOfPucchSrUsers in

cells can lead to too large size of the Short Periodicity SR pools and prevent the

baseband unit from reaching its maximum capacity, thus should be avoided.

#### 2.1.1.4 Other Related Features

## 2.2 Maximum Number of RB Pairs Used for PUCCH per Capacity Module and per Sector Carrier

The maximum allowed number of RB pairs per cell used for PUCCH is 22. Table 3 shows the available maximum allowed

number of RB pairs used for PUCCH per Capacity Module for different DUs.

The available maximum allowed number of RB pairs for AAS per capacity module can be found

in Supported Capacity and Configurations for LTE RAN and Massive IoT

RAN.

Table 3   Maximum Allowed Number of RB Pairs Used for PUCCH

| DU Type                                                                                                                                                | TDD Configuration 1   | TDD Configuration 1   | TDD Configuration 2   | TDD Configuration 2   |
|--------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|-----------------------|-----------------------|-----------------------|
| DU Type                                                                                                                                                | 2RX/4RX               | 8RX                   | 2RX/4RX               | 8RX                   |
| Module B:  RAN Compute Group 4  Module C:  RAN Compute Group 4a, RAN Compute Group 4b  RAN Compute Group 5  RAN Compute Group 6                        | 90                    | 60                    | 132                   | 60                    |
| Module A:  RAN Compute Group 4b, RAN Compute Group 4c  RAN Compute Group 5c, RAN Compute Group 5d  Module B:  RAN Compute Group 5  RAN Compute Group 6 | 180                   | 120                   | 180                   | 120                   |

For some configurations, the following special considerations must be taken when

calculating resource consumption:

| Combined Cell                   |    | The noOfPucchSrUsers and                         noOfPucchCqiUsers attributes are set on cell level,                     that is, the PUCCH configuration is the same for all sector carriers in a                     combined cell. As each sector carrier requires its own PUCCH RB pairs, a                     combined cell with n sector carriers uses n times more PUCCH RB pairs than a                     single sector carrier cell. This happens if the same values are set for the                         noOfPucchSrUsers attribute, the                         noOfPucchCqiUsers attribute, and other parameters.                     Therefore, a Capacity Module configured with three combined cells each with two                     sector carriers and a Capacity Module configured with six single sector carrier                     cells use the same number of RB pairs assuming the same parameter setting and                     bandwidth.   |
|---------------------------------|----|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                                 |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| Different bandwidths            |    | In a Capacity Module configured with cells using different bandwidths, the                         noOfPucchSrUsers and                         noOfPucchCqiUsers attributes can be set differently for                     each bandwidth. The settings of the noOfPucchSrUsers and                         noOfPucchCqiUsers attributes must be chosen so that the                     total number of RB pairs used for PUCCH in the Capacity Module does not exceed                     the maximum number of RB pairs per Capacity Module.                                                                                                                                                                                                                                                                                                                                                                                                                                |
|                                 |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| FDD and TDD cells on same DU    |    | In case both FDD and TDD cells are configured on same Capacity Module, the TDD                     and FDD cells can be dimensioned separately. However, the sum of RB pair used                     for PUCCH in both FDD and TDD cells cannot exceed the highest of FDD and TDD                     maximum number of RB pairs used for PUCCH per Capacity Module.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|                                 |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| Different number of Rx antennas |    | If cells with different number of Rx antennas are configured in a Capacity                     Module, the highest number of Rx antennas used in a cell is chosen for the                     maximum number of RB pairs.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |

# 3 Calculation of the Number of PUCCH RB-Pairs

The total capacity allocated for PUCCH in terms of RB-pairs or RBs per slot,

nRB,PUCCHis given by:

Equation 8   RB-Pairs for PUCCH

Where

| nRB,Format1   |    | see PUCCH Format 1                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|---------------|----|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|               |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| nRB,Format2   |    | see PUCCH Format 2                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|               |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| nRB,Format3   |    | is the number of PUCCH Format 3 RB-pair, given by the parameter                                 noOfPucchFormat3PrbPairs. The PUCCH Format 3                             RB-pair should be allocated when the DL Carrier Aggregation features                             with more than 2CC are activated and for non-Carrier Aggregation UEs                             when the parameter nonCaAnModeF3Enable is set to                                 TRUE, otherwise 0. |

It must be verified that the total number of RB-pairs per DU does not exceed the number

in Table 3.

## 3.1 PUCCH Format 1

The number of RB-pairs for format 1 is shared between SR and HARQ resources. In the

current release of LTE, up to 36 scheduling requests and HARQ resources can be used per

RB-pair. The number of RB-pairs for these resources must be calculated together by:

Equation 9   RB-Pairs for SR and HARQ Resources

Where

### 3.1.1 SR Resources

The number of SR resources per subframe,

nPUCCH,SR is calculated through the

following equation:

Equation 10   Scheduling Request Resources per Subframe

Where:

| nSR,res   |    | is the desired number of SR resources on the PUCCH channel, specified by the                             noOfPucchSrUsers operator parameter if Variable SR                         and CQI Periodicity are disabled. If Variable SR and CQI Periodicity are                         enabled, the SR gain and the SR adjustment factor also need to be                         considered, resulting in a lower                             nSR,res value.                                                                                                                                 |
|-----------|----|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|           |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| TSR       |    | is the periodicity for SR in milliseconds, specified by the                             commonSrPeriodicityoperator parameter. Default                         value is 20 ms.  Increasing SR periodicity by setting the                             commonSrPeriodicity parameter decreases the number                         of PUCCH RB-pairs or increases SR capacity and leads to higher latency. By                         decreasing SR periodicity, latency is decreased, but at the cost of an                         increased number of PUCCH RB-pairs or lower SR capacity. |
|           |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| nSF,PUCCH |    | is the number of subframes with PUCCH, equal to 4 and 2 for uplink-downlink                         configuration 1 and 2, respectively.                                                                                                                                                                                                                                                                                                                                                                                                                                                   |

Equation 11   Calculating nSR,res if Variable

SR and CQI Periodicity Are Enabled

| nSF,PUCCH          |    | number of subframes with PUCCH, equal to 4 and 2 for uplink-downlink                         configuration 1 and 2, respectively.   |
|--------------------|----|-------------------------------------------------------------------------------------------------------------------------------------|
|                    |    |                                                                                                                                     |
| adjustmentFactorSr |    | is a factor to adjust SR resources for rounding errors and is equal to                         12.                                  |

### 3.1.2 HARQ Feedback Resources

The required number of resources for HARQ feedback per subframe,

nPUCCH,HARQ depends on the number

of CCE indexes nCCE,max in PDCCH in

downlink, see Control Channel Dimensioning, that, in turn, depends on the

allocated bandwidth and CFI, see Table 4.

Table 4   Maximum Number of CCEs

| nCCE,max        | pdcchCfiMode     | pdcchCfiMode   | pdcchCfiMode                     | pdcchCfiMode                     |
|-----------------|------------------|----------------|----------------------------------|----------------------------------|
| Bandwidth [MHz] | CFI_STATIC_BY_BW | CFI_STATIC_1   | CFI_AUTO_MAXIMUM_2  CFI_STATIC_2 | CFI_AUTO_MAXIMUM_3  CFI_STATIC_3 |
| 5               | 13               | N/A            | 13                               | 22                               |
| 10              | 11               | 11             | 27                               | 44                               |
| 15              | 16               | 16             | 41                               | 66                               |
| 20              | 22               | 22             | 55                               | 88                               |

nPUCCH,HARQ is also affected by the

selected uplink-downlink configuration. If more downlink than uplink subframes are

allocated, an uplink subframe needs to provide for ACK or

NACK messages associated to more than one downlink subframe. The

maximum number of downlink subframes that can be ACK/NACKed in one uplink subframe, is

shown in Table 5.

Table 5   Maximum Bundling Window Size

|   Uplink-downlink Configuration |   nmax,bundling |
|---------------------------------|-----------------|
|                               1 |               2 |
|                               2 |               4 |

The number of resources needed for HARQ-ACK

nPUCCH,HARQ is defined by the

following equations:

- If the value of the EUtranCellTDD.pdcchCfiMode attribute is set to CFI\_AUTO\_MAXIMUM\_3 or CFI\_STATIC\_3 then nPUCCH, HARQ = nCCE,max × (nmax,bundling - 1) + nCCE,CFI\_STATIC\_2
- else nPUCCH, HARQ = nCCE,max × nmax,bundling

## 3.2 PUCCH Format 2

The number of RB-pairs allocated for format 2 is calculated through the following

formula:

Equation 12   RB-Pairs for CQI Resources

Where:

| nCQI,res   |    | is the desired number of CQI resources on the PUCCH, specified by the                         operator parameter noOfPucchCqiUsers if Variable SR and                         CQI Periodicity are disabled. If Variable SR and CQI Periodicity are                         enabled, the SR gain and the SR adjustment factor also need to be                         considered, resulting in a lower                             nCQI,res value.   |
|------------|----|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|            |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| ncap       |    | is the number of CQI resources per RB-pair, equal to 4.                                                                                                                                                                                                                                                                                                                                                                                             |
|            |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| TCQI       |    | is the periodicity for CQI in milliseconds, specified by the operator                         parameter commonCQIPeriodicity. The default value is 80                         ms.                                                                                                                                                                                                                                                                   |
|            |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| nSF,PUCCH  |    | is the number of subframes with PUCCH, equal to 4 and 2 for uplink-downlink                         configuration 1 and 2, respectively.                                                                                                                                                                                                                                                                                                            |

Equation 13   Calculating nCQI,res if

Variable SR and CQI Periodicity Are Enabled

Where:

| nSF,PUCCH           |    | number of subframes with PUCCH, equal to 4 and 2 for uplink-downlink                         configuration 1 and 2, respectively.   |
|---------------------|----|-------------------------------------------------------------------------------------------------------------------------------------|
|                     |    |                                                                                                                                     |
| adjustmentFactorCqi |    | is a factor to adjust CQI resources for rounding errors and is equal to                         8.                                  |

# 4 Calculation of Parameter Settings

The EUtranCellTDD.noOfPucchSrUsers attribute has no effect if the

Flexible Uplink Processing feature is activated and the

EUtranCellTDD.ulPhyProcResTradingEnabled attribute is set to

1 because SR resources are allocated automatically.

With other configurations, the EUtranCellTDD.noOfPucchSrUsers

attribute defines the maximum number of PUCCH SR users and the number of PUCCH format 1

PRB pairs is configured to provide sufficient capacity.

If the Flexible Uplink Processing feature is activated and the

EUtranCellTDD.ulPhyProcResTradingEnabled attribute is set to

1, the EUtranCellTDD.noOfPucchCqiUsersCalc

attribute is calculated as the maximum number of PUCCH CQI users that can be supported

with the number of PUCCH format 2 PRB pairs set with the

EUtranCellTDD.noOfPucchFormat2PrbPairsPerFrameConf attribute and

the EUtranCellTDD.noOfPucchCqiUsers attribute has no effect.

With all other configurations, the EUtranCellTDD.noOfPucchCqiUsers

attribute defines the maximum number of PUCCH CQI users and the number of PUCCH format 2

PRB pairs is configured to provide sufficient capacity. It is recommended to set the

EUtranCellTDD.noOfPucchCqiUsers attribute to the maximum value

that can be supported with the desired number of PUCCH format 2 PRB pairs and current

configuration.

If the Variable SR and CQI Periodicity feature is activated, the default user ratios

between short, medium, and long CQI pools apply only when that recommendation is

followed. If the EUtranCellTDD.noOfPucchCqiUsers attribute is set to

a lower value, a higher share of users is allocated to the short pool. Users are only

allocated to the long pool if the short pool is smaller than the

EUtranCellTDD.noOfPucchCqiUsers parameter. The same applies to SR

pools if the EUtranCellTDD.noOfPucchSrUsers attribute has effect and

is set lower than what the configured PUCCH format 1 PRB pairs can support.

Given a desired number of RB-pairs for format 1, the setting of the

EUtranCellTDD.noOfPucchSrUsers attribute, if the Variable SR and

CQI Periodicity feature is deactivated is calculated as:

Equation 14

Given a desired number of RB-pairs for format 1, the setting of the

EUtranCellTDD.noOfPucchSrUsers attribute, if the Variable SR and

CQI Periodicity feature is activated is calculated as:

Equation 15

Where:

| nSR, res           |    | is the desired number of SR resources on the PUCCH channel, specified by the                                 EUtranCellTDD.noOfPucchSrUsers attribute if the                             Variable SR and CQI Periodicity feature is disabled. If the Variable SR                             and CQI Periodicity feature is enabled, the SR gain and the SR                             adjustment factor also need to be considered, resulting in a lower                                 nSR, res value.                                                                                                                                                            |
|--------------------|----|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                    |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| TSR                |    | is the periodicity for SR in milliseconds, specified by the                                 EUtranCellTDD.commonSrPeriodicity attribute. The                             default value is 20ms.  Increasing SR periodicity by setting the                                 EUtranCellTDD.commonSrPeriodicity attribute                             decreases the number of PUCCH RB-pairs or increases SR capacity and                             leads to higher latency. By decreasing SR periodicity, latency is                             decreased, but at the cost of an increased number of PUCCH RB-pairs or                             lower SR capacity. |
|                    |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| nSF,PUCCH          |    | is the number of subframes with PUCCH, equal to 2 for TDD2 and equal to 4 for                             TDD1.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|                    |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| nPUCCH, HARQ       |    | is the number of HARQ feedback resources per subframe, see HARQ Feedback                         Resources.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|                    |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| nCA2CC, res        |    | is the number of HARQ resources reserved in the primary cell for 2CC DL                             Carrier Aggregation. It is the product of                                 EUtranCellTDD.noOfChannelSelectionSets ×                                 EUtranCellTDD.channelSelectionSetSize and is                                 8 when default values, 4 and                                 2, respectively, are used.                                                                                                                                                                                                                                           |
|                    |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| adjustmentFactorSr |    | is a factor to adjust SR resources for rounding errors and is equal to                                 12.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |

Given a desired number of RB-pairs for format 2, the setting of the

EUtranCellTDD.noOfPucchCqiUsers attribute, if the Variable SR and

CQI Periodicity feature is deactivated is calculated as:

Equation 16

Given a desired number of RB-pairs for format 2, the setting of the

EUtranCellTDD.noOfPucchCqiUsers attributes if the Variable SR and

CQI Periodicity feature is activated is calculated as:

Equation 17

Where:

| nCQI, res           |    | is the desired number of CQI resources on the PUCCH, specified by the                                 EUtranCellTDD.noOfPucchCqiUsers attribute if the                             Variable SR and CQI Periodicity feature is disabled. If the Variable SR                             and CQI Periodicity feature is enabled, the SR gain and the SR                             adjustment factor also need to be considered, resulting in a lower                                 nCQI, res value.   |
|---------------------|----|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                     |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| nRB, format2        |    | is the desired number of PUCCH format 2 PRB pairs.                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|                     |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| ncap                |    | is the number of CQI resources per RB-pair, equal to 4.                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|                     |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| TCQI                |    | is the periodicity for CQI in milliseconds, specified by the                                 EUtranCellTDD.commonCQIPeriodicity attribute. The                             default value is 80 ms.                                                                                                                                                                                                                                                                                                      |
|                     |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| nSF, PUCCH          |    | is the number of subframes with PUCCH, equal to 2 for TDD2 and equal to 4 for                             TDD1.                                                                                                                                                                                                                                                                                                                                                                                         |
|                     |    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| adjustmentFactorCqi |    | is a factor to adjust CQI resources for rounding errors and is equal to                         8.                                                                                                                                                                                                                                                                                                                                                                                                      |

It must be verified that the number of SR resources and CQI resources does not exceed the

maximum values described in Parameter Limitations.

Table 6 shows the maximum (and recommended)

setting of the EUtranCellTDD.noOfPucchCqiUsers attribute depending on

the desired number of PUCCH format 2 PRB pairs for TDD cells.

Table 6   Number of PUCCH Format 2 PRB Pairs

| Mapping of the Number of PUCCH Format 2 PRB Pairs and the Maximum                                 Value of noOfPucchCqiUsers   | Mapping of the Number of PUCCH Format 2 PRB Pairs and the Maximum                                 Value of noOfPucchCqiUsers   | Mapping of the Number of PUCCH Format 2 PRB Pairs and the Maximum                                 Value of noOfPucchCqiUsers   | Mapping of the Number of PUCCH Format 2 PRB Pairs and the Maximum                                 Value of noOfPucchCqiUsers   | Mapping of the Number of PUCCH Format 2 PRB Pairs and the Maximum                                 Value of noOfPucchCqiUsers   |
|--------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------|
| Number of PUCCH Format 2 PRB Pairs                                                                                             | Variable SR and CQI Periodicity OFF                                                                                            | Variable SR and CQI Periodicity OFF                                                                                            | Variable SR and CQI Periodicity ON                                                                                             | Variable SR and CQI Periodicity ON                                                                                             |
| Number of PUCCH Format 2 PRB Pairs                                                                                             | TDD1 (or uplink-downlink configuration 1)                                                                                      | TDD2 (or uplink-downlink configuration 2)                                                                                      | TDD1                                                                                                                           | TDD2                                                                                                                           |
| 1                                                                                                                              | 128                                                                                                                            | 64                                                                                                                             | 160                                                                                                                            | 80                                                                                                                             |
| 2                                                                                                                              | 256                                                                                                                            | 128                                                                                                                            | 352                                                                                                                            | 176                                                                                                                            |
| 3                                                                                                                              | 384                                                                                                                            | 192                                                                                                                            | 544                                                                                                                            | 272                                                                                                                            |
| 4                                                                                                                              | 512                                                                                                                            | 256                                                                                                                            | 736                                                                                                                            | 368                                                                                                                            |
| 5                                                                                                                              | 640                                                                                                                            | 320                                                                                                                            | 928                                                                                                                            | 464                                                                                                                            |
| 6                                                                                                                              | 768                                                                                                                            | 384                                                                                                                            | 1120                                                                                                                           | 560                                                                                                                            |
| 7                                                                                                                              | 896                                                                                                                            | 448                                                                                                                            | 1312                                                                                                                           | 656                                                                                                                            |
| 8                                                                                                                              | 1024                                                                                                                           | 512                                                                                                                            | 1504                                                                                                                           | 752                                                                                                                            |