---
complexity_score: 17.5
converted_at: '2025-08-13T06:57:47.113155Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 2
images_saved: 3
original_path: 291_22104-LZA7016014_1Uen.CU.html
pictures_extracted: 2
processing_method: docling_multimodal
quality_score: 9.0
source_file: 291_22104-LZA7016014_1Uen.CU.html
source_zip: en_lzn7931040_r50f.zip
tables_extracted: 21
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 1893
---

# 

Multiple IP Addresses for S1 and X2

Contents

![Image](../images/291_22104-LZA7016014_1Uen.CU/additional_3_CP.png)

![Image](../images/291_22104-LZA7016014_1Uen.CU/additional_3_CP.png)

- Overview
- Dependencies
- Operation
    - PLMN Selection for X2 Connections
    - SCTP Reference for S1 and X2
    - GTP-U IP Reference for S1 and X2
    - References for Direct X2 IPsec
    - DnsResolver for S1
- Parameters
- Network Impact
- Performance
- Activate Non-License-Controlled Features
- Appendix: Feature Change History
    - Appendix: 24.Q2.0: License Removal for Multiple IP Addresses for S1 and X2
    - Appendix: 20.Q2: X2-C Traffic Separation for MOCN
    - Appendix: 21.Q2: EN-DC Traffic Separation for MOCN
    - Appendix: 22.Q1: Inter-eNodeB Carrier Aggregation and IPsec Traffic Separation for MOCN

# 1 Multiple IP Addresses for S1 and X2 Overview

The feature provides support for separated network configuration setup for

different PLMNs.

| Feature Name           | Multiple IP Addresses for S1 and X2                     |
|------------------------|---------------------------------------------------------|
| Feature Identity       | FAJ 121 4697                                            |
| Value Package Name     | LTE Base Package                                        |
| Value Package Identity | FAJ 801 0400                                            |
| Node Type              | Baseband Radio Node                                     |
| Access Type            | LTE                                                     |
| Licensing              | Non-license-controlled feature. No license is required. |

Summary

The Multiple IP Addresses for S1 and X2 feature allows a separated transport layer address

configuration for up to six PLMNs. This network configuration includes:

- SCTP endpoints for S1AP
- SCTP endpoints for X2AP
- DNS client for S1
- IP addresses for S1-U
- IP addresses for X2-U

The configuration requires independent maintenance and different network policy based on

MOCN shared network RAN.

Additional Information

More information about the application protocols used in this feature can be found in the

following documents:

- 3GPP TS 36.413, S1 Application Protocol (S1AP)
- 3GPP TS 36.423, X2 Application Protocol (X2AP)

# 2 Dependencies of Multiple IP Addresses for S1 and X2

Table 1   Feature Dependencies

| Feature                                                                         | Relationship   | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|---------------------------------------------------------------------------------|----------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| IPsec (FAJ 121 0804)                                                            | Related        | Between two shared nodes, the direct IPsec VPN connection for X2                                     is established for the primary PLMN.  If the two shared nodes have different primary PLMNs, the direct                                     IPsec VPN connection is established for the primary PLMN of one                                     of the nodes. Only traffic between the selected inner IP                                     addresses is sent through the direct IPsec VPN connection.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| Automated Neighbor                                     Relations (FAJ 121 0497) | Related        | The automatic EN-DC X2 setup procedure, triggered by the Automated Neighbor Relations             feature, supports multiple IP address configuration by selecting local SCTP endpoint on             both the eNodeB and gNodeB in the same IP network.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Inter-eNodeB Carrier Aggregation (FAJ                                 121 4469) | Related        | There is one set of Inter-eNodeB Carrier Aggregation GTP-U tunnels between two                 eNodeBs.  If separate local X2-U IP addresses are configured for different PLMNs, then Carrier                 Aggregation traffic for all PLMNs is sent through the same GTP-U tunnel.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| IPv4 and IPv6 Dual-Stack for X2(FAJ 121                                 5148)   | Related        | The IPv4 and IPv6 dual stack can be configured for LTE X2-C and X2-U local endpoints for             primary PLMN by configuring ENodeBFunction MO. It is not possible to             configure IPv4 and IPv6 dual stack for additional PLMNs.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| GTP-U Supervision  (FAJ 121 2024)                                               | Related        | If the GTP-U Supervision feature is active, the GTP-U monitoring is                                 limited to only one X2 GTP-U path for each neighbor node.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Shared LTE RAN (FAJ 121 0860)                                                   | Related        | The enhancement uses separated S1-C and X2-C configuration but for                                 selecting local SCTP endpoints uses different automatic processes                                 than the ones described in the Multiple IP Addresses for S1 and X2                                 feature description.  The following configuration for the MORAN on single Baseband             configuration is required:  The AdditionalCoreNetwork.plmnList attribute must match                         the configured EUtranCellFDD.cellDefinedPrimaryPlmnId or                         EUtranCellTDD.cellDefinedPrimaryPlmnId attributes.     The AdditionalCoreNetwork.sctpS1Ref attribute must be                         configured and must be different from the                             ENodeBFunction.sctpRef attribute.     For X2-C connections, the local SCTP endpoints are separated                         by the local eNodeB.(1)    For EN-DC X2-C connections, the local SCTP endpoints are                         separated by the Master Node.(2)    The AdditionalCoreNetwork.ipsecEpAddressRef and                             AdditionalCoreNetwork.ipsecEndcEpAddressRef                         attributes must be empty. |

(1)

For more information, see Processes for Selecting Local SCTP

Endpoints for MORAN on Single Baseband in Shared LTE RAN.

(2)

For more information, see Processes for Selecting Local SCTP

Endpoints for MORAN on Single Baseband in Shared LTE RAN.

Hardware

No specific hardware requirements.

Limitations

X2-C traffic separation has the following limitations on the LTE RAN

configuration:

- Limitations for the switched PLMN configuration: LTE X2 connections are supported when the node works with Ericsson neighbor nodes. EN-DC X2 connections are not supported. Switched PLMN is a configuration when two shared nodes have different primary PLMNs, and the primary PLMN of each of the nodes is configured as an additional PLMN on the other node. Table 2 shows an example of the switched PLMN configuration: Table 2 Swiched PLMN Configuration eNB1 eNB2 owned by PLMN A owned by PLMN B primary PLMN A primary PLMN B additional PLMN B further PLMNs are possible additional PLMN A further PLMNs are possible X2-C or X2-U traffic separation is configured X2-C or X2-U traffic separation is configured IP network A IP network B
- Limitation on separated DNS client: Separated DNS client is supported only for S1.

X2-U traffic separation has the following limitation at inter-operator handovers:

- If X2-U traffic separation is used, the inter-operator handover functionality can be limited. If the IP networks of both operators are completely separated and there is no routing between these networks, direct packet forwarding for inter-operator handover is not possible.

S1-C traffic separation has the following limitations:

- A unique IP address is required for each MME. This also applies when MMEs are in different routing domains and use separate SCTP endpoints, which are configured for different operators.
- DNS lookup on TAI is only supported if all MMEs have unique IP addresses.

Network Requirements

The following must be fulfilled at feature activation:

- Separated IP network configuration for S1AP/S1UP/X2UP/X2AP/DnsResolver

Affected System Functions

For more information on shared operator configurations, see Shared LTE RAN.

# 3 Multiple IP Addresses for S1 and X2 Operation

The Multiple IP Addresses for S1 and X2 feature allows a separated transport layer

address  configuration for up to six PLMNs. Transport layer configuration can be separated

independently for each interface type.

Configuration

The following configuration methods can be used for multiple IP addresses:

- SCTP reference for S1 and X2
- GTP-U IP reference for S1 and X2
- References for Direct X2 IPsec
- DnsResolver for S1

Figure 1   Multiple IP Addresses Support for Shared LTE RAN

Multiple IP addresses can be set up and the reference can be configured as a different

value per each PLMN for the following:

- S1-C
- S1-U
- LTE X2-C
- LTE X2-U
- EN-DC X2-C
- EN-DC X2-U
- IPsec endpoint for LTE direct IPsec
- IPsec endpoint for EN-DC direct IPsec
- DnsResolver for S1

The feature configuration uses the following references:

All referencing use the following logic:

- An example S1AP reference of ENodeBFunction is commonly referred if there is no S1AP reference defined in AdditionalCoreNetwork.
- If an example S1AP reference is defined in AdditionalCoreNetwork, then it refers to a separate S1AP reference of a PLMN defined in AdditionalCoreNetwork.plmnList attribute.

Figure 2   Managed Object Model for Multiple IP Addresses for S1 and X2

After the initial reference configuration, the eNodeB selects the correct local endpoints

based on the interface, connection type and the PLMN that is used for given connection.

## 3.1 PLMN Selection for X2 Connections

This section describes the principle of PLMN selection for X2

connections.

When two neighbor nodes use separate IP configuration for each PLMN, then one of the

PLMNs is automatically selected for the X2 connection between these two nodes. Both

nodes must select the same IP network.

For UE-associated connections, for example, the temporary packet forwarding tunnels and

EN-DC split bearers, the IP configuration selection is based on the UE serving PLMN. The

UE serving PLMN is assumed to be the same on both nodes.

For non UE-associated connections, for example, the control plane signaling, Inter-eNodeB

Carrier Aggregation tunnels, and direct X2 IPsec VPN connections, the IP configuration

selection is based on the primary PLMN of both nodes.

PLMN selection for X2-C connections

The following rules apply for selecting the PLMN for X2-C connections:

- If both nodes have the same primary PLMN, this primary PLMN is used for the X2-C connection.
- If both nodes have different primary PLMNs, the primary PLMN that is supported by both nodes is used for the X2-C connection.
- If both nodes are in switched PLMN configuration, the node initiating the X2-C connection uses the peer primary PLMN for the connection and peer node follows this selection. The selected PLMN is signaled to the peer node using the S1AP Configuration Transfer procedure. Different IP configuration can be used if the other node initiates the connection re-establishment.

PLMN selection for X2-U connections

For packet forwarding and EN-DC split bearers, IP configuration is selected based on

the UE serving PLMN.

For permanent connections, for example, the Inter-eNodeB Carrier Aggregation GTP-U

tunnels and direct X2 IPsec VPN connections, the following rules apply for selecting

the correct IP configuration:

- If both nodes have the same primary PLMN, this primary PLMN is used for the X2-U connection.
- If both nodes have different primary PLMN, the primary PLMN that is supported by both nodes is used for the X2-U connection.
- If both nodes are in switched PLMN configuration, the node with lower alphanumeric eNodeB ID selects the peer primary PLMN for the X2-U connection. If both nodes have the same eNodeB ID, then the node with lower alphanumeric PLMN value selects the peer primary PLMN for the X2-U connection.

Examples for the PLMN Selection for X2 Connections

Example 1: Both nodes, which can be two eNodeBs or an eNodeB and a gNodeB, have the

same primary PLMN:

Figure 3   Both nodes with the Same Primary PLMN

When both nodes have the same primary PLMN, the following PLMNs are automatically

selected for different connections:

- For the X2-C connection, PLMN A is used.
- For the packet forwarding and EN-DC split bearers, the UE serving PLMN is used. It can be PLMN A, PLMN B, or PLMN C.
- For the Inter-eNodeB Carrier Aggregation and direct X2 IPsec VPN connections, PLMN A is used.

Example 2: Both nodes, which can be two eNodeBs or an eNodeB and a gNodeB, have

different primary PLMNs:

Figure 4   Both nodes with Different Primary PLMN configuration

When both nodes have different primary PLMN, the following PLMNs are automatically

selected for different connections:

- For the X2-C connection, PLMN B is used.
- For the packet forwarding and EN-DC split bearers, the UE serving PLMN is used. It can be PLMN B or PLMN C.
- For the Inter-eNodeB Carrier Aggregation and direct X2 IPsec VPN connections, PLMN B is used.

Example 3: Switched PLMN configuration:

Figure 5   Switched PLMN Configuration

When both nodes are in switched PLMN configuration, the following PLMNs are

automatically selected for different connections:

- For the X2-C connection, If the connection is initiated by eNodeB A, then PLMN B is used. If the connection is initiated by eNodeB B, then PLMN A is used.
- For the packet forwarding, the UE serving PLMN is used. It can be PLMN A, PLMN B, or PLMN C.
- For the Inter-eNodeB Carrier Aggregation and LTE direct X2 IPsec VPN connections, PLMN B is used since eNodeB A has lower alphanumeric eNodeB ID and it selects the peer primary PLMN for the X2-U connection. Different PLMNs can be used respectively for control plane and user plane IP configuration in the switched configuration.

## 3.2 SCTP Reference for S1 and X2

The following control plane interfaces can be configured on the node:

- S1-C
- LTE X2-C
- EN-DC X2-C

Each of these interfaces can be configured independently for up to six different PLMNs. This

makes it possible to configure up to 18 separate SctpEndpoint MOs on the

node.

SCTP references for additional PLMNs are checked on node restart. The SCTP endpoint creation

procedure is started following a common SCTP endpoint creation. Once SCTP references are

separated, they are maintained independently.

If the SCTP endpoint creation fails, the result is the following:

- The initialization procedure is repeated.
- An alarm is raised if the initialization procedure is rejected.
- Manual recovery action is required by an operator to cease the alarm.

For more information, see SCTP Endpoint Inconsistent Configuration.

There can be only one SCTP association established between two eNodeBs or between an eNodeB

and a gNodeB. If the nodes are shared between different operators, control plane signaling for

all operators uses single X2-C connection.

The eNodeB automatically selects the local SctpEndpoint MO in the

following cases:

- A new SCTP association is established.
- The X2-C IP configuration is exchanged with neighbor nodes using the MME Configuration Transfer procedure.

### 3.2.1 LTE X2-C Reference Selection

The LTE X2-C interface is used to setup the X2AP signaling connection with neighbor

eNodeBs.

The SctpEndpoint reference for LTE X2-C interface can be configured

using one of the following attributes:

- ENodeBFunction.sctpX2Ref
- ENodeBFunction.sctpRef
- AdditionalCoreNetwork.sctpX2Ref

The eNodeB automatically selects the correct SctpEndpoint reference

for the LTE X2 signaling connection with neighbor node, based on the PLMN selected for

the X2-C connection.

For the PLMN selection for X2-C connection, see PLMN Selection for X2 Connections.

The selection process for local SCTP endpoints is different when the

Cell-Defined Primary PLMN ID enhancement is active. For more information, see

Processes for Selecting Local SCTP Endpoints for MORAN on Single

Baseband in Shared LTE RAN.

Figure 6 shows the automatic process for

selecting a local SCTP endpoint for LTE X2-C.

Figure 6   Local SCTP Endpoint Selection for X2-C Connection

The remote IP address for LTE X2-C connection is configured manually if the

TermPointToENB.ipAddress attribute or the

TermPointToENB.ipv6Address attribute is set. In this case, the

remote IP address must have the same IP network with the local LTE X2-C reference that

is selected by the eNodeB. If the local IP address and the remote IP address are from

different IP networks, the LTE X2-C connection setup fails.

### 3.2.2 EN-DC X2-C Reference Selection

The EN-DC X2-C interface is used to setup the X2AP signaling connection with a

neighbor gNodeB.

The SctpEndpoint reference for EN-DC X2-C interface can be configured

using one of the following attributes:

- ENodeBFunction.sctpEndcX2Ref
- ENodeBFunction.sctpX2Ref
- ENodeBFunction.sctpRef
- AdditionalCoreNetwork.sctpEndcX2Ref

The eNodeB automatically selects the correct SctpEndpoint reference

for the X2 EN-DC signaling connection with a gNodeB, based on the PLMN selected for the

EN-DC X2-C connection.

The eNodeB and the gNodeB use the PLMN from the Selected TAI IE in

the Source eNB-ID IE sent during the X2 TNL address discovery

procedure to indicate the selected the IP network under multiple IP address

configuration.

The eNodeB selects the local SCTP endpoints based on the PLMN from the

externalGNodeBfunction MO instance. The eNodeB sends the selected

SCTP endpoints to the gNodeB during the X2 TNL Address discovery procedure. The gNodeB

selects the local SCTP endpoints based on the PLMN from the Selected

TAI IR from the Source eNB-ID IE sent by the eNodeB.

The PLMN selection for EN-DC X2-C connection is the same as for LTE X2-C connection. For

details, see PLMN Selection for X2 Connections.

The selection process for local SCTP endpoints is different when the

Cell-Defined Primary PLMN ID enhancement is active. For more information, see

Processes for Selecting Local SCTP Endpoints for MORAN on Single

Baseband in Shared LTE RAN.

Figure 7 shows the automatic process of X2-C

reference selection for EN-DC.

Figure 7   X2-C Reference Selection for EN-DC

The remote IP address for EN-DC X2-C connection is configured manually if the

TermPointToGNB.ipAddress or the

TermPointToGNB.ipv6Address attribute is set. In this case, the

remote IP address must have the same IP network with the local EN-DC X2-C reference

selected by the eNodeB. If the local IP address and the remote IP address are from

different IP networks, the EN-DC X2-C connection setup fails.

### 3.2.3 S1-C Reference Selection

The S1-C interface is used to setup the S1AP signaling connection with the

MME.

The SctpEndpoint reference for the S1-C can be configured using the

ENodeBFunction.sctpRef orAdditionalCoreNetwork.sctpS1Ref attribute.

The TermPointToMme.additionalCnRef attribute determines which SCTP

reference is used for the S1-MME connection.

Figure 8 shows the automatic process of S1-C

reference selection.

Figure 8   Local SctpEndpoint selection for S1-C connection

## 3.3 GTP-U IP Reference for S1 and X2

GTP is used to tunnel traffic for the following user plane interfaces:

- S1-U
- LTE X2-U
- EN-DC X2-U

Each of these interfaces can be configured independently for up to six different PLMNs. This

makes it possible to configure up to 18 separate user plane IP addresses on the node. If the

IPv4 and IPv6 dual stack and the S1-U redundancy are also configured, the node can be

configured with up to 20 user plane IP addresses.

The eNodeB automatically selects the local IP endpoint in the following cases:

- A new GTP-U connection is established.
- The X2-U IP configuration is exchanged with neighbor nodes using the MME Configuration Transfer procedure.

### 3.3.1 LTE X2-U reference selection

On eNodeBs, the LTE X2-U interface is used for:

- Inter-eNodeB Carrier Aggregation GTP-U tunnels between two eNodeBs
- Packet forwarding temporary GTP-U tunnels

The local IP reference for LTE X2-U interface can be configured using one of the

following attributes:

- ENodeBFunction.upX2IpAddressRef
- ENodeBFunction.upX2IpAddress2Ref
- ENodeBFunction.upIpAddressRef
- AdditionalCoreNetwork.upX2IpAddressRef

The eNodeB automatically selects the correct IP endpoint reference for the GTP-U tunnel,

based on the PLMN selected for the X2-U connection.

Figure 9 shows the automatic process for

selecting a local IP address for LTE X2-U connections.

Figure 9   Local IP Address Selection for LTE X2-U connection

### 3.3.2 EN-DC X2-U Reference selection

On eNodeBs, the EN-DC X2-U interface is used for:

- EN-DC user data traffic between the master node and secondary node for LTE-NR Dual Connectivity
- EN-DC packet forwarding

The local IP reference for EN-DC X2-U interface can be configured using one of the

following attributes:

- ENodeBFunction.upEndcX2IpAddressRef
- ENodeBFunction.upX2IpAddressRef
- ENodeBFunction.upIpAddressRef
- AdditionalCoreNetwork.upX2EndcIpAddressRef

The eNodeB automatically selects the correct IP endpoint reference for the GTP-U tunnels,

based on the PLMN selected for the EN-DC X2-U connection.

Figure 11 shows the automatic process of X2-U reference selection for EN-DC.

Figure 10   X2-U reference selection for EN-DC

### 3.3.3 S1-U reference selection

On eNodeBs, the S1-U interface is used to setup the GTP-U tunnels for S1 bearers between

the eNodeB and the SGW.

The Local IP endpoint for S1-U interface can be configured using one of the following

attributes:

- ENodeBFunction.upIpAddressRef
- ENodeBFunction.upIpAddress2Ref
- AdditionalCoreNetwork.upS1IpAddressRef

The eNodeB automatically selects the correct IP endpoint reference for the GTP-U tunnels,

based on the UE serving PLMN.

Figure 11 shows the automatic process of S1-U

reference selection.

Figure 11   Local IP Address Selection for S1-U Connection

## 3.4 References for Direct X2 IPsec

Multiple IP Addresses for S1 and X2 allows separated transport layer address

configuration for direct X2 IPsec VPN connections for up to six PLMNs, including both inner

and outer IP addresses.

This chapter describes the reference configuration for inner and outer IP addresses for

direct X2 IPsec. For more information about direct X2 IPsec VPN connection setup, see

manage IPsec.

### 3.4.1 LTE Direct X2 IPsec VPN Connection

The inner IP address for LTE direct X2 IPsec VPN connections is the same as for X2-U

interface and can be configured using one of the following attributes:

- ENodeBFunction.upX2IpAddressRef
- ENodeBFunction.upX2IpAddress2Ref
- ENodeBFunction.upIpAddressRef
- AdditionalCoreNetwork.upX2IpAddressRef

The outer IP address for LTE direct X2 IPsec VPN connections can be configured using one

of the following attributes:

- ENodeBFunction.ipsecEpAddressRef
- ENodeBFunction.ipsecEpAddress2Ref
- AdditionalCoreNetwork.ipsecEpAddressRef

The eNodeB automatically selects the correct IP endpoint references for the LTE direct X2

IPsec VPN connection, based on the PLMN selected for permanent LTE X2-U connections.

Figure 12 shows the automatic process for

selecting local inner and outer IP references for LTE direct X2 IPsec VPN

connections.

Figure 12   Local Inner and Outer IP References for LTE Direct X2 IPsec VPN

Connections

### 3.4.2 EN-DC Direct X2 IPsec VPN Connection

The inner IP address for the EN-DC direct X2 IPsec VPN connections is the same as for

EN-DC X2-U interface and can be configured using one of the following attributes:

- ENodeBFunction.upEndcX2IpAddressRef
- ENodeBFunction.upX2IpAddressRef
- ENodeBFunction.upIpAddressRef
- AdditionalCoreNetwork.upX2EndcIpAddressRef

The outer IP address for the EN-DC direct X2 IPsec VPN connections can be configured

using one of the following attributes:

- ENodeBFunction.ipsecEndcEpAddressRef
- ENodeBFunction.ipsecEpAddressRef
- AdditionalCoreNetwork.ipsecEndcEpAddressRef

The eNodeB automatically selects the correct IP endpoint references for the EN-DC direct

X2 IPsec VPN connection, based on the PLMN selected for permanent X2-U connections.

Figure 13 shows the automatic process for

selecting local inner and outer IP references for EN-DC direct X2 IPsec VPN

connections.

Figure 13   Local Inner and Outer IP References for EN-DC Direct X2 IPsec VPN

Connections

## 3.5 DnsResolver for S1

DNS is supported for address resolution. If

ENodeBFunction.dnsSelectionS1X2Ref attribute is configured,

DnsClient and DNS server can be used in the transport network as well.

DNS lookup on TAI is supported, but all MMEs must have unique IP addresses. Naming Authority

Pointer (NAPTR) queries are not supported.

This feature provides different selection way for separated additional PLMNs. If

AdditionalCoreNetwork.dnsSelectsionS1Ref attribute is configured with a

different reference, DNS lookup for MME IP addresses is performed through another

DnsClient and DNS server.

ENodeBFunction.dnsSelectionS1X2Ref is used for common DNS selection unless

DNS selection is intended for a certain PLMN.

DNS lookup for neighbor eNodeB IP addresses is supported only when common DNS client is

used.

If traffic separation for X2-C is configured by setting the

AdditionalCoreNetwork.sctpX2Ref attribute, X2 DNS lookup is not performed

for PLMNs matching the AdditionalCoreNetwork.plmnList.

If the AdditionalCoreNetwork.sctpX2Ref attribute is not set, the common

DNS client ENodeBFunction.dnsSelectionS1X2Ref attribute is used for X2 DNS

lookup.

# 4 Parameters of Multiple IP Adresses for S1 and X2

Multiple IP Addresses for S1 and X2 feature introduces new

AdditionalCoreNetwork MO class.

Feature Configuration Parameters

Table 3   Feature Configuration Parameters

| Parameter                                   | Type       | Description                                    |
|---------------------------------------------|------------|------------------------------------------------|
| AdditionalCoreNetwork.plmnList              | Introduced | For the description, see Managed Object Model. |
| AdditionalCoreNetwork.dnsSelectionS1Ref     | Introduced | For the description, see Managed Object Model. |
| AdditionalCoreNetwork.sctpS1Ref             | Introduced | For the description, see Managed Object Model. |
| AdditionalCoreNetwork.sctpX2Ref             | Introduced | For the description, see Managed Object Model. |
| AdditionalCoreNetwork.sctpEndcX2Ref         | Introduced | For the description, see Managed Object Model. |
| AdditionalCoreNetwork.upS1IpAddressRef      | Introduced | For the description, see Managed Object Model. |
| AdditionalCoreNetwork.upX2IpAddressRef      | Introduced | For the description, see Managed Object Model. |
| AdditionalCoreNetwork.upX2EndcIpAddressRef  | Introduced | For the description, see Managed Object Model. |
| AdditionalCoreNetwork.ipsecEpAddressRef     | Introduced | For the description, see Managed Object Model. |
| AdditionalCoreNetwork.ipsecEndcEpAddressRef | Introduced | For the description, see Managed Object Model. |
| AdditionalCoreNetwork.reservedBy            | Introduced | For the description, see Managed Object Model. |
| TermPointToMme.additionalCnRef              | Introduced | For the description, see Managed Object Model. |

All AdditionalCoreNetwork attributes refer to additional PLMNs

defined in the AdditionalCoreNetwork.plmnList attribute.

Affected Parameters

Table 4   Affected Parameters

| Parameter                           | Type     | Description                                                                                                                                                                    |
|-------------------------------------|----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ENodeBFunction.upIpAddressRef       | Affected | The attribute is overridden by the attributes of                                             AdditionalCoreNetwork for specific                                         PLMNs. |
| ENodeBFunction.upX2IpAddressRef     | Affected | The attribute is overridden by the attributes of                                             AdditionalCoreNetwork for specific                                         PLMNs. |
| ENodeBFunction.sctpRef              | Affected | The attribute is overridden by the attributes of                                             AdditionalCoreNetwork for specific                                         PLMNs. |
| ENodeBFunction.sctpX2Ref            | Affected | The attribute is overridden by the attributes of                                             AdditionalCoreNetwork for specific                                         PLMNs. |
| ENodeBFunction.dnsSelectionS1X2Ref  | Affected | The attribute is overridden by the attributes of                                             AdditionalCoreNetwork for specific                                         PLMNs. |
| ENodeBFunction.upEndcX2IpAddressRef | Affected | The attribute is overridden by the attributes of                                             AdditionalCoreNetwork for specific                                         PLMNs. |
| ENodeBFunction.sctpEndcX2Ref        | Affected | The attribute is overridden by the attributes of                                             AdditionalCoreNetwork for specific                                         PLMNs. |

# 5 Network Impact of Multiple IP Addresses for S1 and X2

Capacity and Performance

No impact.

Interfaces

No impact.

Other Network Elements

No impact.

# 6 Performance of Multiple IP Addresses for S1 and X2

Key Performance Indicators

This feature has no associated KPIs.

Counters

This feature has no associated counters.

Events

Table 5   Events

| Event                       | Event Parameter               |
|-----------------------------|-------------------------------|
| INTERNAL_PROC_SCTP_SETUP    | EVENT_PARAM_SOURCE_IP_ADDRESS |
| INTERNAL_PROC_SCTP_SHUTDOWN | EVENT_PARAM_SOURCE_IP_ADDRESS |

For a full list with detailed information about PM events, see the list files in the

List Files library folder.

# 7 Activate Non-License-Controlled Features

Non-license-controlled features do not require manual activation and cannot be

deactivated.

While license-controlled features need to be activated, non-license-controlled features

are activated automatically during node integration. They also do not

have

a software license key associated, which means that they have no

entries in the LKF that is installed on the node.

In some cases, non-license-controlled features need to be configured

manually or have some of

their

subfunctions enabled to work properly.

# Appendix A: Feature Change History

This section lists changes that affected this feature and the impact it had on the

network.

## Appendix A.a: 24.Q2.0: License Removal for Multiple IP Addresses for S1 and X2

The Multiple IP

Addresses for S1 and X2 feature does not require license

anymore.

| Feature Name           | Multiple IP Addresses for S1 and X2              |
|------------------------|--------------------------------------------------|
| Feature Identity       | FAJ 121 4697                                     |
| Value Package Name     | LTE                                 Base Package |
| Value Package Identity | FAJ                                 801 0400     |
| Node Type              | Baseband Radio Node                              |
| Access Type            | LTE                                              |
| Impact at Upgrade      | Mandatory                                        |

Summary and Benefits

This feature

enhancement removes the license for the Multiple IP Addresses for S1 and X2 feature.

The feature is moved from the Shared Networks FAJ 801 0434 value package to the LTE

Base Package FAJ 801 0400 value package.

Capacity and Performance

No impact.

Operation

No impact.

Interfaces

No impact.

Hardware

No special hardware requirements.

Other Network Elements

No impact.

## Appendix A.b: 20.Q2: X2-C Traffic Separation for MOCN

A separate X2-C address can be configured in shared Baseband nodes. This allows for complete

traffic separation between different operator networks even if one operator is sharing parts

of its network with other operators.

| Feature Name:           | Multiple IP Addresses for S1 and X2   | Shared LTE RAN      |
|-------------------------|---------------------------------------|---------------------|
| Feature Identity:       | FAJ 121 4697                          | FAJ 121 0860        |
| Value Package Name:     | Shared Networks                       | Shared Networks     |
| Value Package Identity: | FAJ 801 0434                          | FAJ 801 0434        |
| Node Type:              | Baseband Radio Node                   | Baseband Radio Node |
| Access Type:            | LTE                                   | LTE                 |

Benefits

It is cost-effective to share Baseband nodes with other operators of the Radio Access

Network without communicating the IP address plan for the border areas.

The risk of leaking unwanted packets between the different networks is

eliminated.

Capacity and Performance

No impact.

Operation

Each operator of a shared eNodeB can configure separate SCTP endpoints for X2-C

connections with the neighbor nodes owned by the operator. This way the networks of

different operators can be separated.

The enhancement introduces the AdditionalCoreNetwork.sctpX2Ref

attribute. To enable traffic separation for X2-C, this attribute must be set.

License for the Multiple IP Addresses for S1 and X2 feature is also required. After

the initial configuration of this feature, X2-C connections are managed

automatically by the eNodeB.

Interfaces

This enhancement affects the following interface:

- X2-C It is now possible to configure multiple local SCTP endpoints for different PLMN IDs for this interface.

Hardware

No special hardware requirements.

Other Network Elements

ENM version 19.3 or later is required for this enhancement.

## Appendix A.c: 21.Q2: EN-DC Traffic Separation for MOCN

The enhancement introduces the configuration of a separate EN-DC X2 IP address in

shared Baseband nodes for each operator.

| Feature Name:           | Multiple IP Addresses for S1 and X2   |
|-------------------------|---------------------------------------|
| Feature Identity:       | FAJ 121 4697                          |
| Value Package Name:     | Shared Networks                       |
| Value Package Identity: | FAJ 801 0434                          |
| Node Type:              | Baseband Radio Node                   |
| Access Type:            | LTE                                   |

Benefits

The enhancement allows for complete traffic separation between different operator

networks even if parts of the network are shared with other operators.

Each operator of a shared LTE node can configure separate local IP addresses for X2

connections with remote NR nodes owned by this operator. After the initial

configuration of the feature, X2 connections are managed automatically by the

eNodeB.

Capacity and Performance

No impact.

Operation

The enhancement introduces the AdditionalCoreNetwork.sctpEndcX2Ref

and the AdditionalCoreNetwork.upX2EndcIPAddressRef attributes.

These attributes must be configured to enable traffic separation over the EN-DC X2-C

and the EN-DC X2-U interfaces. The enhancement also requires the license for the

Multiple IP Addresses for S1 and X2 feature to be activated. After the initial

configuration of the feature, EN-DC X2 connections are managed automatically by the

eNodeB.

Interfaces

This enhancement affects the following interfaces:

- X2-C The enhancement enables the configuration of dedicated EN-DC SCTP endpoints for different PLMN IDs for this interface.
- X2-U The enhancement enables the configuration of dedicated EN-DC local IP addresses for different PLMN IDs for this interface.

Hardware

No special hardware requirements.

Other Network Elements

ENM version 20.4 or later is required for this

enhancement.

## Appendix A.d: 22.Q1: Inter-eNodeB Carrier Aggregation and IPsec Traffic Separation for MOCN

This enhancement provides the possibility to use inter-eNodeB Carrier Aggregation and

Direct X2 IPsec VPN Connections on shared nodes with separated transport layer address

configuration.

| Feature Name:           | Multiple IP Addresses for S1 and X2   |
|-------------------------|---------------------------------------|
| Feature Identity:       | FAJ 121 4697                          |
| Value Package Name:     | Shared Networks                       |
| Value Package Identity: | FAJ 801 0434                          |
| Node Type:              | Baseband Radio Node                   |
| Access Type:            | LTE                                   |

Operators in a shared network are able to configure independent VPNs with their own IP

addresses for S1 and X2, including X2-C. These IP addresses are independent from each

other. Thus, the OPEX is reduced since no routing of X2-U or X2-C packets exists between

different operator networks.

Benefits

This enhancement reduces the OPEX by removing the IP address coordination between

operators in a shared network.

Capacity and Performance

No impact.

Operation

After initial configuration of the IP reference for different interfaces of different

operators, the eNodeB automatically uses these IP interfaces for connecting with

remote nodes.

New attribute AdditionalCoreNetwork.ipsecEpAddressRef is

introduced. When AdditionalCoreNetwork.upX2IpAddressRef is not

set, AdditionalCoreNetwork.ipsecEpAddressRef attribute is

ignored. When the AdditionalCoreNetwork.upX2IpAddressRef and

AdditionalCoreNetwork.ipsecEpAddressRef attributes are

configured, the direct X2 IPsec tunnel setup can be automatically established for

additional operators.

New attribute AdditionalCoreNetwork.ipsecEndcEpAddressRef is

introduced. When the AdditionalCoreNetwork.upX2EndcIpAddressRef

and AdditionalCoreNetwork.ipsecEndcEpAddressRef attributes are

configured, the EN-DC direct X2 IPsec tunnel setup is automatically established for

additional operators.

Interfaces

No impact.

Hardware

No special hardware requirements.

Other Network Elements

It is recommended to use ENM version 21.4 or later to support the MOM changes introduced by this feature enhancement. If the Release Independence Manager application is used, the MOM changes are supported on earlier ENM versions also.