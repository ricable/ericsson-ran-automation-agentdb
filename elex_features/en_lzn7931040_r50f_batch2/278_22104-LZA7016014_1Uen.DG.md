---
complexity_score: 24.5
converted_at: '2025-08-13T06:58:50.436467Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 6
images_saved: 3
original_path: 278_22104-LZA7016014_1Uen.DG.html
pictures_extracted: 6
processing_method: docling_multimodal
quality_score: 9.0
source_file: 278_22104-LZA7016014_1Uen.DG.html
source_zip: en_lzn7931040_r50f.zip
tables_extracted: 31
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 1893
---

# 

Configurable SCell Priority

Contents

![Image](../images/278_22104-LZA7016014_1Uen.DG/additional_3_CP.png)

![Image](../images/278_22104-LZA7016014_1Uen.DG/additional_3_CP.png)

- Configurable SCell Priority Overview
- Dependencies
- Configurable SCell Priority Feature Operation
    - Load Distribution between Carrier Frequencies and SCell Candidates
    - Uplink SCell Prioritization for UEs in Uplink-Heavy State
- Configurable SCell Priority Network Impact
- Parameters for Configurable SCell Priority
- Configurable SCell Priority Performance
- Activate Configurable SCell Priority
- Deactivate Configurable SCell Priority
- Appendix: Feature Change History
    - Appendix: 19.Q2: SCell Credit Handling Enhancement
    - Appendix: 19.Q2: Observability Enhancement for SCell Configuration and Deconfiguration
    - Appendix: 19.Q3: Enhancement for A6 triggered SCell Deconfiguration
    - Appendix: 19.Q3: Improved Carrier Aggregation SCell Selection Process

# 1 Configurable SCell Priority Overview

The feature provides an enhanced method for dynamic SCell selection in carrier

aggregation.

| Feature Name           | Configurable SCell Priority                                        |
|------------------------|--------------------------------------------------------------------|
| Feature Identity       | FAJ 121 4701                                                       |
| Value Package Name     | Advanced Carrier Aggregation                                       |
| Value Package Identity | FAJ 801 0564                                                       |
| Node Type              | Baseband Radio Node                                                |
| Access Type            | LTE                                                                |
| Licensing              | License-controlled feature. One license is required for each node. |

Summary

The Configurable SCell Priority feature provides an enhanced method for dynamic SCell

selection in carrier aggregation. The feature introduces the following functions:

- Prioritization of carrier frequencies eligible for SCell selection
- Prioritization of SCells to be selected for carrier aggregation within a carrier frequency
- Distribution of the SCell utilization among the carrier frequencies

Additional Information

For information on the preferred state and parameter settings

of this feature, see RAN Parameter Recommendations Lists.

For more information about this feature and related topics, see the following

documentation:

- 3GPP TS 36.101, User Equipment (UE) radio transmission and reception
- 3GPP TS 36.133, Requirements for support of radio resource management
- 3GPP TS 36.306, User Equipment (UE) radio access capabilities
- 3GPP TS 36.331, Radio Resource Control (RRC); Protocol specification
- Carrier Aggregation
- Dynamic SCell Selection for Carrier Aggregation
- Global SCell Evaluation
- Uplink Carrier Aggregation

# 2 Dependencies of Configurable SCell Priority

The Carrier Aggregation and the Dynamic SCell Selection for Carrier Aggregation

features are required for the operation of this feature.

Feature Dependencies

Table 1   Feature Dependencies

![Image](../images/278_22104-LZA7016014_1Uen.DG/additional_3_CP.png)

![Image](../images/278_22104-LZA7016014_1Uen.DG/additional_3_CP.png)

Hardware

No specific hardware requirements.

Limitations

No known limitations.

Network Requirements

No specific network requirements.

# 3 Configurable SCell Priority Feature Operation

The feature provides prioritized SCell selection.

SCell selection is enhanced by the possibility to configure the priorities at frequency and

SCell level. It is enabled by setting the

CarrierAggregationFunction.dynamicSCellSelectionMethod attribute to

PRIORITIZED.

This prioritized selection is supported on any of the SCell selection modes. The

CarrierAggregationFunction.sCellSelectionMode attribute can be set to the

following selection modes:

- ACK\_SEQUENTIAL\_SCELL\_SELECTION
- UN\_ACK\_SIMULTANEOUS\_SCELL\_SELECTION
- ACK\_SIMULTANEOUS\_SCELL\_SELECTION

Figure 1   Configurable

SCell Priority Feature Operation Sequence Diagram

Process Steps

1. Capabilities and any supported Carrier Aggregation band and bandwidth combinations are reported in recently connected UEs and those handed over from other cells. Only UEs capable of Carrier Aggregation are considered for SCell selection for Carrier Aggregation.
2. Initial SCell blind selection is handled. If the CarrierAggregationFunction.dynamicSCellSelectionMethod attribute is set to ROUND\_ROBIN, continue with substep 2i. In this case, initial SCell selection is executed as it is done with the Dynamic SCell Selection for Carrier Aggregation feature. If the CarrierAggregationFunction.dynamicSCellSelectionMethod attribute is set to PRIORITIZED, continue with substep 2a. Note: If initial SCell blind selection runs after any of the CarrierAggregationFunction.waitForCaOpportunity or CarrierAggregationFunction.waitForAdditionalSCellOpportunity timers is expired, it functions as if CarrierAggregationFunction.sCellSelectionMode is set to ACK\_SEQUENTIAL\_SCELL\_SELECTION. No other setting of CarrierAggregationFunction.sCellSelectionMode takes effect in that case. In case all SCells candidates are removed by the VoLTE Optimized Carrier Aggregation feature during an active voice bearer service, the SCell blind selection to configure SCell is triggered again when the voice bearer is released.
    1. The configured values of EUtranFreqRelation.CaFreqPriority per carrier frequency are considered by the node to prioritize E-UTRAN carrier frequencies from which to pick SCells for Carrier Aggregation. The first SCell for a UE is selected from the configured carrier frequency with highest priority, and consecutive SCells for the same UE (when applicable) are selected from the carrier frequency with the next highest priority. Note: The priority order considers 7 as the highest priority and 0 as the lowest. The value -1 means that the carrier frequency is not considered for initial SCell selection. Setting same priority values are allowed. When carrier frequencies have the same priority, SCells are first selected on the carrier frequency with the lowest SCell utilization.
    2. If more than one SCell is available on the selected carrier, the configured values of EUtranCellRelation.sCellPriority are used to determine which SCell within a selected prioritized frequency is preferred when selecting an SCell to be configured. The selection is done according to the highest priority to create a list of SCell candidates. Note: The priority order considers 7 as the highest priority and 0 as the lowest. The value -1 means that the carrier frequency is not considered for initial SCell selection, but it is considered during reselection when reported by an A6 measurement. Setting same priority values are allowed. Note: The setting of the EUtranCellRelation.coverageIndicator attribute has no relevance for SCell selection when the Configurable SCell Priority feature is enabled. It is possible to effectively prioritize SCell candidate within a carrier frequency while having blind handover enabled.
    3. To avoid over-utilizing a carrier with high priority, a load threshold for each carrier frequency is applied. The node considers and normalizes the configured values of each EUtranFreqRelation.caFreqProportion attribute to distribute per each carrier frequency the configured number of SCells configured for UEs connected in the respective PCell as per EUtranCellFDD.caPrioThreshold and EUtranCellTDD.caPrioThreshold attributes. For a carrier frequency that has reached the configured SCell utilization, the node selects for SCell selection the carrier frequency with next highest priority that still has not reached its configured SCell utilization.
    4. If not built previously, an initial UE specific SCell candidate list is built. The list contains the intersection of the node prioritized cells configured as SCell candidates and the UE supported Carrier Aggregation band and bandwidth combinations. If the list is empty, no Carrier Aggregation is attempted for this UE until the next connection occurs. Note: If the Shared LTE RAN feature is enabled, the following attributes are checked before considering the addition of SCell candidates to the frequency relation: EUtranFreqRelation.allowedPlmnList EUtranCellFDD.activePlmnList or EUtranCellTDD.activePlmnList SCell configuration is only available to UEs that have PLMN IDs in both of the following lists: Allowed PLMN list of the corresponding frequency Active PLMN list of the SCell If the relevant EUtranFreqRelation.allowedPlmnList is empty, the frequency relation and its respective cell relations are all allowed, and therefore considered as possible SCell candidates for UEs belonging to any PLMN. If the EUtranFreqRelation.allowedPlmnList contains at least one PLMN, the frequency relation and its respective cell relations are allowed and considered as possible SCell candidates only for UEs that have at least one of the listed PLMN Ids, if HRL is available. In this case the node also checks the UE equivalent PLMN Ids. When HRL is not present, there are no restrictions on the SCell selection. If the PCell uses TM7, SCell candidate list is empty.
    5. If the High Power UE feature is enabled, and attribute EUtranCellTDD.prioHpueCapability is set to PRIORITIZE\_IN\_CA, the SCell candidate list for high power UEs is modified in the following way: If attribute EUtranCellTDD.prioHpueCapability is set to NO\_PRIORITIZATION, the node dynamically switches between carrier aggregation and high power UE support. Dynamic switching is based on time normalized filtered uplink SINR measurements for DMRS, and controlled by the following MOs: EUtranCellTDD.hpueCaSwitchThres EUtranCellTDD.hpueCaSwitchHyst EUtranCellTDD.hpueCaSwitchTimeToTrigger In bad radio conditions-when the uplink SINR is lower than EUtranCellTDD.hpueCaSwitchThres - EUtranCellTDD.hpueCaSwitchHyst for at least a time of EUtranCellTDD.hpueCaSwitchTimeToTrigger-the node switches to support high power UE capability. The process is the same as when attribute EUtranCellTDD.prioHpueCapability is set to PRIORITIZE\_IN\_CA. In good radio conditions-when the uplink SINR is higher than EUtranCellTDD.hpueCaSwitchThres + EUtranCellTDD.hpueCaSwitchHyst + the power value determined by the power class of the UE for at least a time of EUtranCellTDD.hpueCaSwitchTimeToTrigger-the node switches to uplink carrier aggregation mode. All component carriers are deconfigured and the SCell selection process is started without supporting high power UE capabilities.
        - If the UE is not capable of simultaneous high power and uplink carrier aggregation, the uplink component carrier is removed from SCell candidates.
        - Only such Downlink SCell combinations are selected that allow the preservation of high-power capability.
        - When the UE operates on band 41 in the PCell, inter-band SCells are excluded from the initial UE-specific SCell candidate list, to preserve high power UE capability while providing sufficient Downlink throughput for the UE on band 41.
    6. If the VoLTE Optimized Carrier Aggregation feature is enabled and a voice bearer request is received over the S1 or X2 interface at Initial Context Setup, Incoming Handover, or RRC Connection Re-establishment with serviceType set to VOIP, the SCell candidate list for the UE is removed or modified depending on the following values of the attributeEUtranCellFDD.sCellHandlingAtVolteCall or TDD.sCellHandlingAtVolteCall:
        - If the attribute EUtranCellFDD.sCellHandlingAtVolteCall or TDD.sCellHandlingAtVolteCall is set to DECONF\_SCELLS, all SCell candidates are removed during a VoLTE call.
        - If the attribute EUtranCellFDD.sCellHandlingAtVolteCall or TDD.sCellHandlingAtVolteCall is set to DECONF\_UL\_SUPPRESS\_DL\_SCELLS, the following apply during a VoLTE call: SCell selection does not start at VoIP bearer setup. Measurements of SCell are deleted to avoid later SCell configuration or deconfiguration. UL component carriers are deconfigured.
        - If the attribute EUtranCellFDD.sCellHandlingAtVolteCall or TDD.sCellHandlingAtVolteCall is set to DECONF\_UL\_SCELLS, UL SCell candidate is changed to DL SCell and the SCells with DL only and no UL for the UE are configured.
    7. The MFBI additional bands are considered at every step of the SCell candidate selection algorithm if the CarrierAggregationFunction.sCellSelectionMode attribute is set to the following values: UN\_ACK\_SIMUTANEOUS\_SCELL\_SELECTION ACK\_SIMULTANEOUS\_SCELL\_SELECTION This means that SCell evaluation continues until the most preferable SCell candidate is found using all possible band combinations including MFBI additional bands. This provides more opportunity to configure higher order Carrier Aggregation component carrier.
    8. One SCell candidate enabled from the SCell candidate list is selected in a sequence. If the node receives a frequency in the MBMSInterestIndication message from an MBMS on SCell capable UE (mbms-SCell-r11 = 1, 3GPP 36.331) and no SCell has already been configured with that frequency, SCells with the MBMSInterestIndication frequency (if any) are prioritized when selecting from the candidate list. While the selection is done, the node does not consider if lower subsets of carrier band combinations is supported by the UE. For example, when the UE is capable of 3CC Carrier Aggregation with P as PCell, S1 and S2 as SCells, but it does not support the combination P and S1, or P and S2, the UE is still configured for 3CC Carrier Aggregation with P, S1 and S2. If there are no enabled SCell candidates in the list, go to Step 9.
    9. The potential effective bandwidth evaluation is triggered if the CarrierAggregationFunction.enhancedSelectionOfMimoAndCa attribute is set to true and the CarrierAggregationFunction.sCellSelectionMode attribute is set to one of the following values: UN\_ACK\_SIMUTANEOUS\_SCELL\_SELECTION ACK\_SIMULTANEOUS\_SCELL\_SELECTION
    10. Before the set of SCells that are selected during the Dynamic SCell Selection is configured on the UE, the node checks the following: Subsequently, the node matches the bandwidth to the bandwidth combinations supported by the UE. Matching the bandwidths gets the best combination of the SCells (either all or a subset of the selected set) that provides with the best potential effective bandwidth.
        - Bandwidth
        - MIMO capability
        - The setup of CarrierAggregationFunction.caPreference which controls if uplink CA can be removed or not.
        - In the scenario where the number of configured SCells is less than the number of selected SCells, the SCells chosen for configuration are the ones that result in the highest value of effective bandwidth.
        - When the evaluation results in two or more subsets with the same effective bandwidth, the subset selection preference is controlled by the value of the CarrierAggregationFunction.fourLayerMimoPreferred attribute.
3. The selected SCells and the following event measurements are configured. Whether configure A1 or not depends on the CarrierAggregationFunction.sCellSelectionMode attribute. A1 is configured for each SCell if the CarrierAggregationFunction.sCellSelectionMode attribute is set to one of the following values: ACK\_SEQUENTIAL\_SCELL\_SELECTION ACK\_SIMULTANEOUS\_SCELL\_SELECTION A1 is not configured if the CarrierAggregationFunction.sCellSelectionMode attribute is set to the following value: UN\_ACK\_SIMUTANEOUS\_SCELL\_SELECTION Since this mode assumes that SCells are in good coverage, avoiding the configuration of A1 helps to reduce RRC overhead. A2 is always configured for each downlink SCell. The configuration of A2 for the uplink SCells depends on the CarrierAggregationFunction.sCellSelectionMode attribute. Table 2 Downlink and uplink SCell Handling Based on Selection Mode sCellSelectionMode Measurement Downlink and uplink Handling UN\_ACK\_SIMULTANEOUS\_SCELL\_SELECTION A1Bidir and A2Bidir not configured Downlink and uplink parts can only be deconfigured together. ACK\_SEQUENTIAL\_SCELL\_SELECTION ACK\_SIMULTANEOUS\_SCELL\_SELECTION A1Bidir and A2Bidir configured Downlink and uplink parts can be deconfigured both separately and together. If there is more than one SCell candidate on the same frequency for this UE, A6 is configured for each SCell. SCells are allowed to be configured only if the number of connected users does not exceed a predetermined threshold based on the EUtranCellRelation.caPreemptionThreshold attribute. Otherwise Carrier Aggregation for this UE is terminated until the next connection occurs.
4. UE coverage is checked in the configured SCells. If coverage is good, go to Step 5. If coverage is poor, go to Step 7. An SCell is considered to have good coverage if any of the following conditions apply: If the timer CarrierAggregationFunction.waitForBlindSelSCellRep expires without reception of a message indicating good coverage (A1 or A6), the SCell is considered to be out of coverage. Go to Step 7. Note: The timer CarrierAggregationFunction.waitForBlindSelSCellRep that is the timer value while waiting for a confirmation of a blind SCell selection is calculated by the following formula: CarrierAggregationFunction.waitForBlindSelSCellRep = CarrierAggregationFunction.waitForBlindSelSCellRepLessTtt + timeToTrigger where: timeToTrigger = max (timeToTriggerA1, timeToTriggerA6) The CarrierAggregationFunction.waitForBlindSelSCellRepLessTtt attribute is used to determine the value of timer CarrierAggregationFunction.waitForBlindSelSCellRep.
    - The CarrierAggregationFunction.sCellSelectionMode attribute is set to UN\_ACK\_SIMULTANEOUS\_SCELL\_SELECTION. If the UE supports more component carriers than configured and the SCell candidate list is not empty, go to Step 9.
    - The UE reports A1 measurement on the SCell if the CarrierAggregationFunction.sCellSelectionMode attribute is set to the following values: ACK\_SEQUENTIAL\_SCELL\_SELECTION ACK\_SIMULTANEOUS\_SCELL\_SELECTION
    - The UE reports A6 measurement on the SCell, where the reported L3 measurements meet the A1 trigger parameter condition. Note: During the handling of the A2 measurement, the A6 timer is not triggered if either of the following cases is true: The UE does not support handling an A6 measurement. It is not possible to get A6 measurement based on the node configuration.
5. For each configured SCell, it is checked whether the SCell is good. It is checked how the SCell entered this state. The node handles the SCell depending on what type of event triggered its state. Table 3 Triggering Condition Description A1 triggered The current SCell is kept and the A1 measurement is removed. If the UE supports more component carriers an additional SCell is selected. Go to Step 8. A6 triggered Go to Step 6. A1 from ReportConfigSCellA1A2.a1a2ThresholdRsrpBidir is triggered The SCell is deconfigured, and configured again with uplink Carrier Aggregation added, return to Step 5. A2 from ReportConfigSCellA1A2.a1a2ThresholdRsrpBidir is triggered The SCell is deconfigured, and configured again without uplink Carrier Aggregation, return to Step 5. Note: The uplink component carrier can be deconfigured without the possibility of unsupported Carrier Aggregation band combinations. Because the maximum component carriers in uplink are two, so any deconfiguration of one component carrier cannot lead to unsupported or non-standard Carrier Aggregation band combination.
6. A6 measurement is handled.
    1. If A6 is triggered by its reported L3 measurements that meet the trigger condition of A1 and the reported cell is an SCell candidate, the current SCell is deconfigured, and the SCell reported by the A6 measurement is configured. As a result, both A2 and A6 are configured.
    2. If A6 is triggered by its reported L3 measurements, which are below the threshold to trigger A1, and the reported cell is an SCell candidate, then go to Step 7.
    3. If A6 is triggered, but the reported cell is not an SCell candidate:
        - If the CarrierAggerationFunction.a6TriggerSCellDeconfig is set to true, then go to Step 7.
        - If the CarrierAggerationFunction.a6TriggerSCellDeconfig is set to false, then the current SCell is not deconfigured, and the A6 report is ignored.
7. The current SCell is deconfigured if any of the following applies: In case the SCell is configured with missing subset of band combinations that leads to unsupported UE capability or non-standard Carrier Aggregation band combination, the SCell has an opportunity to be deconfigured in the following cases:
    - The SCell is not good from Step 4.
    - The SCell is A2 triggered while in Step 5, and the deconfiguration of the SCell does not lead to unsupported UE capability or non-standard Carrier Aggregation band combination.
    - The SCell is A6 triggered without replacement of new SCell, so considered not good in Step 6, and the deconfiguration of the SCell does not lead to unsupported UE capability or non-standard Carrier Aggregation band combination.
    - The SCell is disabled while in Step 5. No measurement report (A2 or A6) is received. (LAA SCell is not applicable.)
    - If the VoLTE Optimized Carrier Aggregation feature is enabled and a voice bearer request is received at E-RAB Setup with serviceType=VOIP, the SCell is deconfigured depending on the following values of the attribute EUtranCellFDD.sCellHandlingAtVolteCall or EUtranCellTDD.sCellHandlingAtVolteCall: If the attribute EUtranCellFDD.sCellHandlingAtVolteCall or EUtranCellTDD.sCellHandlingAtVolteCall is set to DECONF\_SCELLS, all SCells which have been configured for the UE and measurements related to CA and SCells are deconfigured during a VoLTE call. If the attribute EUtranCellFDD.sCellHandlingAtVolteCall or EUtranCellTDD.sCellHandlingAtVolteCall is set to DECONF\_UL\_SUPPRESS\_DL\_SCELLS, SCell selection does not start at VoIP bearer setup, measurements of SCell are deleted to avoid later SCell configuration or deconfiguration, UL component carriers are deconfigured. If the attribute EUtranCellFDD.sCellHandlingAtVolteCall or EUtranCellTDD.sCellHandlingAtVolteCall is set to DECONF\_UL\_SCELLS, UL SCell which has been configured for the UE and measurement related to UL CA and SCell are deconfigured. In this case, DL in the SCell is kept.
    - When the UE connection is released.
    - When the node receives a repeated A2 or A6 message, if deconfiguring the SCell does not lead to unsupported UE capability or non-standard Carrier Aggregation band combination any more, the SCell can be deconfigured. This happens, for example, when another SCell has been normally deconfigured before this repeated A2 or A6 event. Note: If the timer CarrierAggregationFunction.waitForBlindSelSCellRep is running, it is not stopped for the SCell when the node receives the A2 or A6 message.
    - When the SCell is considered to be out of coverage because the timer CarrierAggregationFunction.waitForBlindSelSCellRep expires without reception of a message indicating good coverage (A1 or A6), and deconfiguring the SCell is prevented to avoid unsupported UE capability or non-standard Carrier Aggregation band combination, the timer is started again. At the next timer expiration, if deconfiguring the SCell does not lead to an unsupported UE capability or non-standard Carrier Aggregation band combination any more, the SCell can be deconfigured. This happens, for example, when another SCell has been normally deconfigured before this next timer expiration.
8. SCell re-selection during normal operation. The SCell candidate list built in Step 2 is used. If the list is empty, no Carrier Aggregation is attempted for this UE until next connection. Otherwise it is checked if all the SCell candidates on the list have been configured once in the current iteration of SCell selection.
    1. If not, the next SCell candidate that has not been configured is selected. If CarrierAggregationFunction.enhancedSelectionOfMimoAndCa is set to true before an SCell is configured, the node determines if adding any of the SCells in the list improves the peak throughput potential for the UE. An SCell candidate from the list is selected for SCell configuration only if adding that SCell improves the peak throughput potential for the UE. No evaluation is done on existing configured SCells if no SCell candidate is found to increase peak throughput potential; even if deconfiguration of one configured SCell or reconfiguration of its layers allows for an improvement of peak throughput potential from the existing SCell configuration on the UE after the UE reported event. Go to Step 2i.
    2. If yes, and if the CarrierAggregationFunction.enhancedSelectionOfMimoAndCa attribute is set to true, the node does not evaluate effective bandwidth for the set and subset of already configured SCells. The node keeps the remaining configured SCell set as it is. No reconfiguration of MIMO layers from the already configured SCells, or deconfiguration of any SCell and reconfiguration of the MIMO layers of the remaining configured SCells to provide a better potential effective bandwidth is done. Go to Step 9.
9. Timer for the next Carrier Aggregation opportunity. The CarrierAggregationFunction.waitForAdditionalSCellOpportunity timer is started to wait for the next Carrier Aggregation opportunity, or the CarrierAggregationFunction.waitForCaOpportunity timer if there are no configured SCells. Note: The timer is restarted as long as highest supported number of component carriers is not configured for the UE and the SCell candidate list is not empty.

## 3.1 Load Distribution between Carrier Frequencies and SCell Candidates

The load distribution is used to avoid overloading high prioritized frequencies and

SCells. The load balancing uses a credit handling algorithm.

Credits are calculated as shown in Figure 2 and

Figure 3. When credits are used up on a high

priority frequency, the next lower prioritized frequency with credits left is used. If

all credits are used up, then priorities do not apply anymore and frequencies and SCells

with less overload are used instead. Credits can become negative.

Figure 2   Calculation of Frequency Credits

Figure 3   Calculation of SCell Credits

SCell credits are recalculated without locking and unlocking the PCell. The existing

credits for each SCell relation for each frequency are considered during recalculation.

The following operations trigger credit recalculation:

- Changing any of the following parameters: EUtranCellRelation.sCellPriority EUtranCellFDD.caPrioThreshold or EUtranCellTDD.caPrioThreshold EUtranFreqRelation.caFreqProportion
- Setting the EUtranFreqRelation.caFreqPriority parameter to -1, or changing it from -1
- Adding or removing the EUtranFreqRelation MO with SCell candidate
- Adding or removing a SCell candidate on the existing EUtranFreqRelation MO instance

The total number of SCell configurations due to SCell credit usage can be observed with

the

pmCaConfigCspCreditThreshUsage

PM counter.

## 3.2 Uplink SCell Prioritization for UEs in Uplink-Heavy State

If the uplink carrier aggregation configuration or reconfiguration is triggered when

the UE enters the uplink-heavy state, uplink SCell priority can be considered to improve the

uplink performance.

The operator can configure the prioritization of specific uplink SCells and uplink SCell

carriers that might provide the best uplink performance when the UE enters the

uplink-heavy state.

For the uplink priority configuration, both the Configurable SCell Priority and the

Data-Aware Carrier Aggregation Configuration features must be enabled.

To enable the prioritization of specific SCells and SCell carriers when the UE enters the

uplink-heavy state, the ENodeBFunction.ulHeavyCaReconfMode attribute

must be set to ULPRIORITY and the following attributes must be

configured:

- EUtranCellFDD.ulCaPrioThreshold or EUtranCellTDD.ulCaPrioThreshold
- EUtranCellFDD.ulSCellPriority or EUtranCellTDD.ulSCellPriority
- EUtranFreqRelation.ulCaFreqPriority
- EUtranFreqRelation.ulCaFreqProportion

If the Global SCell Evaluation feature is also enabled with the Configurable SCell

Priority and the Data-Aware Carrier Aggregation Configuration features, the

CarrierAggregationFunction.useAbsolutePrioForCspEffBw attribute

is automatically set to false, regardless

of the value set by the operator. The prioritization of specific

uplink SCells and SCell carriers can still be configured.

### 3.2.1 Load Distribution between Uplink Carrier Frequencies and Uplink SCell Candidates

The load distribution considers the current and the maximum number of uplink SCell

configurations to balance the UE load on the uplink SCells. This could optimize the uplink

performance of SCells and SCell carriers.

The load balancing uses a credit handling algorithm.

If both the Configurable SCell Priority and the Data-Aware Carrier Aggregation features

are activated,

the

priority of uplink SCell or SCell carriers can be configured. The

maximum

number of credits can be set by the operator.

Each uplink SCell

configuration uses

up

one uplink credit. The uplink SCell with

the

highest priority is selected.

First, the value of the EUtranFreqRelation.ulCaFreqPriority attribute

is

checked.

Then, if the value is the same for more than one

SCell

candidates, the value of the EUtranCellFDD.ulSCellPriority or the

EUtranCellTDD.ulSCellPriority attribute is also

checked.

When the uplink credits are used up on a high priority frequency, the next lower

prioritized frequency with uplink credits

left

is used.

An

uplink SCell is excluded from the evaluation when all uplink credits for an uplink SCell

are used up.

If the Configurable SCell Priority feature is not enabled, the uplink credit for

frequency and the uplink credit for uplink SCell are considered as an average.

The maximum uplink credit can be greater than or equal to zero, and can be calculated as

shown in the following equations:

Figure 4   Maximum Uplink Credit for One Frequency

Figure 5   Maximum Uplink Credit for One Uplink SCell

where the values are defined according to the following equations:

Figure 6   Normalized ulCaFreqProportion(fx)

Figure 7   Normalized ulScellPriority(ulScellY)

The uplink SCell credits are recalculated without locking and unlocking the PCell. The

existing credits for each uplink SCell relation for each frequency are considered during

recalculation. The following operations trigger credit recalculation:

- Changing any of the following parameters: EUtranCellFDD.ulCaPrioThreshold or EUtranCellTDD.ulCaPrioThreshold EUtranCellFDD.ulSCellPriority or EUtranCellTDD.ulSCellPriority EUtranFreqRelation.ulCaFreqPriority EUtranFreqRelation.ulCaFreqProportion
- Adding or removing the EUtranFreqRelation MO with an uplink SCell candidate
- Adding or removing an uplink SCell candidate on the existing EUtranFreqRelation MO instance
- Configured or changed prioritization of SCells or SCells carriers

# 4 Configurable SCell Priority Network Impact

Capacity and Performance

The Configurable SCell Priority feature enables to influence the carrier aggregation

SCell selection. Influencing is achieved according to the characteristics of the

network based on configurable attributes that must reflect the following:

- Bandwidth potential.
- Coverage overlap.
- Expected relative load.

When this is made possible, a gain on average aggregated bandwidth can be

observed.

The feature provides a way to distribute the SCell traffic between available

resources. This provides an opportunity to achieve higher average throughput and

improve the gain from utilizing carrier aggregation.

The feature additionally offers the ability of configuring UEs with better CA

combinations. This enables more effective bandwidth potential based on better use of

UE and eNodeB capabilities.

Interfaces

No impact is expected from this feature.

Other Network Elements

No impact is expected from this feature.

# 5 Parameters for Configurable SCell Priority

This feature introduces attributes for SCell priority configuration.

Table 4   Parameters

# 6 Configurable SCell Priority Performance

KPIs

The following KPIs are associated with the feature:

- Average DL UE Latency per QCI
- Average DL PDCP UE Throughput for Carrier Aggregation
- Average UL PDCP UE Throughput for Carrier Aggregation
- DL PDCP UE Throughput Distribution
- UL PDCP UE Throughput Distribution
- Mean DL PDCP UE Throughput
- Mean UL PDCP UE Throughput

Counters

The following RBS counters in the EUtranCellFDD and

EUtranCellTDD MO classes are applicable to Baseband Radio

Node:

- pmCaConfiguredNoMeasAtt
- pmCaConfiguredMeasAtt
- pmCaDeconfigured
- pmCaDeconfiguredSCellChange
- pmCaWaitGoodCov

The following EBS counters on cell relation level are

applicable to Baseband Radio Node:

- EUtranCellRelation.pmCaConfigAtt
- EUtranCellRelation.pmCaConfigSucc
- EUtranCellRelation.pmCaConfigAttBidirNoMeas
- EUtranCellRelation.pmCaConfigSuccBidirNoMeas
- EUtranCellRelation.pmCaConfigFailPreemp
- EUtranCellRelation.pmCaConfigAttMeas
- EUtranCellRelation.pmCaConfigSuccMeas
- EUtranCellRelation.pmCaConfigAttNoMeas
- EUtranCellRelation.pmCaConfigSuccNoMeas
- EUtranCellRelation.pmCaDeconfig
- EUtranCellRelation.pmCaDeconfigAddUl
- EUtranCellRelation.pmCaDeconfigRemovedUl
- EUtranCellRelation.pmCaDeconfigHo
- EUtranCellRelation.pmCaDeconfigConnReest
- EUtranCellRelation.pmCaDeconfigOoc
- EUtranCellRelation.pmCaDeconfigSCellChange
- EUtranCellRelation.pmCaConfigCspCreditThreshUsage

For more information about counters, see Lists and Delta Lists.

Events

Table 5   Events

| Event                                      | Event Parameter                                                                                                                                                                                                     | Description                                                                                                                                                                                                                                                                                                                                             |
|--------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| INTERNAL_EVENT_UETR_RRC_SCELL_CONFIGURED   | EVENT_PARAM_GLOBAL_SCELL_ID       EVENT_PARAM_SCELL_SELECTION_METHOD       EVENT_PARAM_SERVING_RSRP       EVENT_PARAM_SERVING_RSRQ       EVENT_PARAM_SCELL_CONFIG_RESULT      EVENT_PARAM_UE_SCELL_CONFIG_SCELL_DIR | Identity of the cell used as SCell, defined in MOM.  It                                             contains eNodeB ID (20 bits) + Cell ID (8 bits).     Method used to select SCell.     Reported RSRP of the serving cell.     Reported RSRQ of the serving cell.     Result code for SCell configuration attempt.     Direction of configured SCell. |
| INTERNAL_EVENT_UETR_RRC_SCELL_DECONFIGURED | EVENT_PARAM_GLOBAL_SCELL_ID       EVENT_PARAM_DESELECTION_REASON       EVENT_PARAM_SERVING_RSRP       EVENT_PARAM_SERVING_RSRQ      EVENT_PARAM_UE_SCELL_CONFIG_SCELL_DIR                                           | Identity of the cell used as SCell, defined in MOM.  It                                             contains eNodeB ID (20 bits) + Cell ID (8 bits).     Reason for deconfiguring SCell.     Reported RSRP of the serving cell.     Reported RSRQ of the serving cell.     Direction of deconfigured SCell.                                             |
| INTERNAL_EVENT_RRC_SCELL_CONFIG            | EVENT_PARAM_UE_SCELL_CONFIG_SCELL_DIR     EVENT_PARAM_SCELL_CONFIG_RESULT     EVENT_PARAM_SCELL_SELECTION_METHOD                                                                                                    | Direction of configured SCell.     Result code for SCell configuration attempt.     Method used to select SCell.                                                                                                                                                                                                                                        |
| INTERNAL_EVENT_RRC_SCELL_DECONFIGURED      | EVENT_PARAM_UE_SCELL_CONFIG_SCELL_DIR     EVENT_PARAM_DESELECTION_REASON                                                                                                                                            | Direction of deconfigured SCell.     Reason for SCell deconfiguration.                                                                                                                                                                                                                                                                                  |
| INTERNAL_EVENT_CA_WAITING_FOR_COVERAGE     | EVENT_PARAM_WAITING_WITH_CONFIGURED_SCELLS_0     EVENT_PARAM_WAITING_WITH_CONFIGURED_SCELLS_1     EVENT_PARAM_WAITING_WITH_CONFIGURED_SCELLS_2     EVENT_PARAM_WAITING_WITH_CONFIGURED_SCELLS_3                     | The waitForCaOpportunity or the                                         waitForAdditionalScellOpportunity timer                                     with n cells configured triggered by a UE.                                                                                                                                                          |

# 7 Activate Configurable SCell Priority

Prerequisites

- The license key for feature Carrier Aggregation and one or more of the Downlink Carrier Aggregation Extension features must be activated.
- A license key for feature Dynamic SCell Selection for Carrier Aggregation must be activated.
- The EUtranFreqRelation.caFreqPriority, EUtranCellRelation.sCellPriority, and EUtranFreqRelation.caFreqProportion attributes must be configured to values that reflect bandwidth potential, coverage overlap and desired relative load.
- The CarrierAggregationFunction.sCellSelectionMode attribute must be set to a value that corresponds to the desired SCell selection mode.
- The CarrierAggregationFunction.dynamicSCellSelectionMethod attribute must be set to the desired dynamic SCell selection method.
- Carrier Aggregation capable UEs must support one or more of the configured SCell bands on the eNodeB in its supported band combinations to be configured with Carrier Aggregation.
- The license key is installed in the node.
- CCTR is active for at least one week before this procedure to collect enough troubleshooting data.

Steps

1. Set the FeatureState.featureState attribute to ACTIVATED in the FeatureState=CXC4012097 MO instance.

After This Task

Keep CCTR active for at least one week after this procedure for continued collection of troubleshooting data.

# 8 Deactivate Configurable SCell Priority

Prerequisites

CCTR is active for at least one week before this procedure to collect enough troubleshooting data.

Steps

1. Set the FeatureState.featureState attribute to DEACTIVATED in the FeatureState=CXC4012097 MO instance.

After This Task

Keep CCTR active for at least one week after this procedure for continued collection of troubleshooting data.

# Appendix A: Feature Change History

This section lists changes that affected this feature and the impact it had on the

network.

## Appendix A.a: 19.Q2: SCell Credit Handling Enhancement

This enhancement improves the handling of SCell credits for balancing SCell load

distribution for the Configurable SCell Priority

feature.

| Feature Name:           | Configurable SCell Priority        |
|-------------------------|------------------------------------|
| Feature Identity:       | FAJ 121 4701                       |
| Value Package Name:     | Advanced Carrier Aggregation       |
| Value Package Identity: | FAJ 801 0415                       |
| Node Type:              | Baseband Radio Node  DU Radio Node |
| Access Type:            | LTE                                |

The load distribution is using a credit handling algorithm to avoid overloading high

prioritized frequencies and SCells. This facilitates the initial SCell selection process

if the CarrierAggregationFunction.dynamicSCellSelectionMethod

parameter is set to PRIORITIZED.

SCell credits are recalculated without locking and unlocking the PCell. The existing

SCell credits for each SCell relation and for each frequency are considered during

recalculation. SCell credits are recalculated when the related parameter settings are

changed.

A new PM counter and new PM Event parameters are introduced to observe the successful

SCell configurations caused by credit usage.

Capacity and Performance

No impact.

Operation

The following counter in the EUtranCellRelation MO class is

introduced:

Table 6   New OSS PM counter

| PM counter              | Description                                                                                                                                                                                                      |
|-------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| pmCaCspCreditThresUsage | The total number of SCell configuration successes where the                                         SCell Credit usage has exceeded its threshold on this cell                                         relation. |

The following PM events are updated:

Table 7   Updated PM events

| PM Event                                | Added Parameters               | Description                                   |
|-----------------------------------------|--------------------------------|-----------------------------------------------|
| INTERNAL_PROC_UETR_RRC_SCELL_CONFIGURED | EVENT_PARAM_SCELL_CREDIT_USAGE | Indicates if credit usage exceeded threshold. |
| INTERNAL_PROC_RRC_SCELL_CONFIGURED      | EVENT_PARAM_SCELL_CREDIT_USAGE | Indicates if credit usage exceeded threshold. |

Interfaces

No impact.

Hardware

No special hardware requirements.

Other Network Elements

The new PM counter is supported from ENM 19.02.

## Appendix A.b: 19.Q2: Observability Enhancement for SCell Configuration and Deconfiguration

This

enhancement improves the observability for the cause of SCell configuration and

deconfiguration.

| Feature Name:           | Configurable SCell Priority        | Dynamic SCell Selection for Carrier Aggregation   | Uplink Carrier Aggregation         |
|-------------------------|------------------------------------|---------------------------------------------------|------------------------------------|
| Feature Identity:       | FAJ 121 4701                       | FAJ 121 3063                                      | FAJ 121 4425                       |
| Value Package Name:     | Advanced Carrier Aggregation       | Carrier Aggregation                               | Carrier Aggregation                |
| Value Package Identity: | FAJ 801 0415                       | FAJ 801 0405                                      | FAJ 801 0405                       |
| Node Type:              | Baseband Radio Node  DU Radio Node | Baseband Radio Node  DU Radio Node                | Baseband Radio Node  DU Radio Node |
| Access Type:            | LTE                                | LTE                                               | LTE                                |

This enhancement introduces PM counters and updates PM events to measure the causes of

SCell configuration and deconfiguration. For enhanced observability, these new counters

are on cell relation level instead of cell level, and therefore provided as OSS

counters.

A new RBS PM counter is added to measure how many times a UE triggers the additional CA

opportunity timer. This new counter is accumulated on the PCell.

Capacity and Performance

No impact.

Operation

The following counters in the EUtranCellRelation MO class are

introduced:

Table 8   New OSS pmCounters

| pmCounter                     | Description                                                                                                                                                                                                                                                 |
|-------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| pmCaConfiguredAttBidirNoMeas  | The total number of SCell configuration attempts where both                                         uplink and downlink are configured without using any                                         coverage measurements.                                     |
| pmCaConfiguredSuccBidirNoMeas | The total number of SCell configuration successes where both                                         uplink and downlink are configured without using any                                         coverage measurements.                                    |
| pmCaDeconfiguredAddUl         | The number of SCell deconfigurations to add uplink to the                                         SCell.                                                                                                                                                    |
| pmCaDeconfiguredRemoveUl      | The number of SCell deconfigurations to remove uplink from                                         the SCell.                                                                                                                                               |
| pmCaDeconfiguredHo            | The number of SCell deconfigurations due to PCell                                         handover.                                                                                                                                                         |
| pmCaDeconfiguredConnReest     | The number of SCell deconfigurations due to                                         reestablishment.                                                                                                                                                        |
| pmCaConfiguredFailPreemp      | The number of SCell configurations that failed due to                                         exceeding the                                             CarrierAggregationFunction.caPreemptionThreshold                                         parameter. |

The following RBS PM counter in MO classes EUtranCellFDD and

EUtranCellTDD is introduced:

Table 9   New RBS PM counter

| pmCounter       | Description                                                                                                                                                                                                                                                                                                           |
|-----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| pmCaWaitGoodCov | The total number of times a UE triggered the                                         waitForCaOpportunity timer, or the                                         waitForAdditionalSCellOpportunity timer with the indicated                                         number of SCells configured. Accumulated on PCell. |

The following PM events are updated:

Table 10   Updated PM Events

| PM Events                                  | Parameters                                                                                                                                                                                                        | Description                                                                                                                                                                                                                                                |
|--------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| INTERNAL_PROC_UETR_RRC_SCELL_CONFIGURED    | Added parameter  EVENT_PARAM_UE_SCELL_CONFIG_SCELL_DIR                                                                                                                                                            | Direction of configured SCell.                                                                                                                                                                                                                             |
| INTERNAL_PROC_UETR_RRC_SCELL_CONFIGURED    | Modified parameters  EVENT_PARAM_SCELL_CONFIG_RESULT     EVENT_PARAM_SCELL_SELECTION_METHOD                                                                                                                       | Result code for SCell configuration attempt.     Method used to select SCell.                                                                                                                                                                              |
| INTERNAL_EVENT_UETR_RRC_SCELL_DECONFIGURED | Added parameter  EVENT_PARAM_UE_SCELL_CONFIG_SCELL_DIR                                                                                                                                                            | Direction of deconfigured SCell.                                                                                                                                                                                                                           |
| INTERNAL_EVENT_UETR_RRC_SCELL_DECONFIGURED | Modified parameter  EVENT_PARAM_DESELECTION_REASON                                                                                                                                                                | Reason for SCell deconfiguration.                                                                                                                                                                                                                          |
| INTERNAL_PROC_RRC_SCELL_CONFIGURED         | Added parameter  EVENT_PARAM_UE_SCELL_CONFIG_SCELL_DIR                                                                                                                                                            | Direction of configured SCell.                                                                                                                                                                                                                             |
| INTERNAL_PROC_RRC_SCELL_CONFIGURED         | Modified parameters  EVENT_PARAM_SCELL_CONFIG_RESULT     EVENT_PARAM_SCELL_SELECTION_METHOD                                                                                                                       | Result code for SCell configuration attempt.     Method used to select SCell.                                                                                                                                                                              |
| INTERNAL_EVENT_RRC_SCELL_DECONFIGURED      | Added parameter  EVENT_PARAM_UE_SCELL_CONFIG_SCELL_DIR                                                                                                                                                            | Direction of deconfigured SCell.                                                                                                                                                                                                                           |
| INTERNAL_EVENT_RRC_SCELL_DECONFIGURED      | Modified parameter  EVENT_PARAM_DESELECTION_REASON                                                                                                                                                                | Reason for SCell deconfiguration.                                                                                                                                                                                                                          |
| INTERNAL_EVENT_CA_WAITING_FOR_COVERAGE     | Added parameters  EVENT_PARAM_WAITING_WITH_CONFIGURED_SCELLS_0     EVENT_PARAM_WAITING_WITH_CONFIGURED_SCELLS_1     EVENT_PARAM_WAITING_WITH_CONFIGURED_SCELLS_2     EVENT_PARAM_WAITING_WITH_CONFIGURED_SCELLS_3 | The CarrierAggregationFunction.waitForCaOpportunity, or the                                         CarrierAggregationFunction.waitForAdditionalSCellOpportunity                                         timers with n cells configured triggered by a UE. |

Interfaces

No impact.

Hardware

No special hardware requirements.

Other Network Elements

The new PM counters are supported from ENM 19.02.

## Appendix A.c: 19.Q3: Enhancement for A6 triggered SCell Deconfiguration

The enhancement improves the carrier aggregation SCell selection and reselection

process to handle Event A6 UE measurement based SCell deconfiguration in a more optimal way.

| Feature Name:           | Dynamic SCell Selection for Carrier Aggregation   |
|-------------------------|---------------------------------------------------|
| Feature Identity:       | FAJ 121 3063                                      |
| Value Package Name:     | Carrier Aggregation                               |
| Value Package Identity: | FAJ 801 0405                                      |
| Node Type:              | Baseband Radio Node, DU Radio Node                |
| Access Type:            | LTE                                               |

The enhancement permits the operators to enable or disable A6 triggered SCell

deconfiguration in intra-eNodeB and inter-eNodeB when reported cell in the received A6

measurement report is not a valid Carrier Aggregation candidate. As a result, the

throughput of the downlink and the end user service in carrier aggregation deployments

are improved.

When it is set to true, SCell deconfiguration reduces load between

eNodeBs in inter-eNodeB scene, but UE throughput decreases. When it is set to

false, SCell deconfiguration helps to avoid unnecessary SCell

deconfiguration which improves UE throughput and reduces RRC signaling.

Capacity and Performance

No impact.

Operation

This enhancement introduces the

CarrierAggregationFunction.a6TriggerSCellDeconfig

attribute.

Interfaces

No impact.

Hardware

No special hardware requirements.

Other Network Elements

ENM 19.1 or later is required.

## Appendix A.d: 19.Q3: Improved Carrier Aggregation SCell Selection Process

This enhancement improves the carrier aggregation SCell selection process and speeds

it up.

| Feature Name:           | Dynamic SCell Selection for Carrier Aggregation  Configurable SCell Priority   |
|-------------------------|--------------------------------------------------------------------------------|
| Feature Identity:       | FAJ 121 3063  FAJ 121 4701                                                     |
| Value Package Name:     | Carrier Aggregation  Advanced Carrier Aggregation                              |
| Value Package Identity: | FAJ 801 0405  FAJ 801 0564                                                     |
| Node Type:              | Baseband Radio Node  DU Radio Node                                             |
| Access Type:            | LTE                                                                            |

The enhancement has the following benefits:

- Higher uplink and downlink UE throughput
- Decreased CPU load
- Improved accessibility and retainability

Capacity and Performance

The improved carrier aggregation SCell selection allows the UE to connect to the most

suitable set of available SCells. This results in higher uplink and downlink UE

throughput.

Improved carrier aggregation SCell selection also decreases the CPU load. Since the

exact benefit depends on multiple factors, it cannot be predicted in general. The

benefit depends on the following factors:

- Site configuration
- Traffic load
- Capabilities of the connected UEs

LTE UE event report handling is improved, resulting in simpler and faster

reconfiguration.

During A2 event handling, A6 is sent if the UE supports it (UE Capability Information

is checked) and if there is possible sCell candidate on the same frequency. As there

is not wait time for the A6 event, sCell reconfiguration is faster.

The eNodeB reacts to changes in the radio conditions quicker and more accurately.

This improves accessibility and retainability by securing that the UEs use the best

radio resources.

Operation

No impact.

Interfaces

No impact.

Hardware

No special hardware requirements.

Other Network Elements

No impact.