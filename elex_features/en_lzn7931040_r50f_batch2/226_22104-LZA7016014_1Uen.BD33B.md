---
complexity_score: 16.5
converted_at: '2025-08-13T06:57:20.741222Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 6
images_saved: 3
original_path: 226_22104-LZA7016014_1Uen.BD33B.html
pictures_extracted: 6
processing_method: docling_multimodal
quality_score: 9.0
source_file: 226_22104-LZA7016014_1Uen.BD33B.html
source_zip: en_lzn7931040_r50f.zip
tables_extracted: 15
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 1893
---

# 

Non-planned PCI Range

Contents

![Image](../images/226_22104-LZA7016014_1Uen.BD33B/additional_3_CP.png)

![Image](../images/226_22104-LZA7016014_1Uen.BD33B/additional_3_CP.png)

- Overview
- Dependencies
- Feature Operation
    - Configuring the Non-planned PCI Range
    - S1 Handover to the HeNodeB with a Non-planned PCI
    - Support for Non-planned PCI Range When EN-DC Is Configured for the UE
- Network Impact
- Parameters
- Performance
- Activate the Feature
- Deactivate the Feature
- Engineering Guidelines
    - Configuring Handover Offset
    - Configuring the CGI Reading
    - Configuring Supported PLMNs in Shared Networks
- Appendix: Feature Change History
    - Appendix: 23.Q1: Non-planned PCI Range Handling in Shared Networks
    - Appendix: 23.Q2: Improved LTE Mobility to HeNodeB for UEs Configured with EN-DC

# 1 Non-planned PCI Range Overview

This feature enables multiple open HeNodeBs to be allocated with the same

PCI in the same macro cell.

| Access Type:            | LTE                                          |
|-------------------------|----------------------------------------------|
| Feature Identity:       | FAJ 121 3096                                 |
| Value Package Name:     | Non-planned PCI Range                        |
| Value Package Identity: | FAJ 801 0428                                 |
| Node Type:              | Baseband Radio Node                          |
| Licensing:              | Licensed feature. One license for each node. |

Summary

The feature supports handovers with the target eNodeB using the E-UTRAN CGI and S1 handover

procedures.

This feature is intended for femtocells. Femtocells are limited to HeNodeBs.

This feature is not intended for use on cells from the following units:

- mRBS units
- RDS

This feature enables the operator to deploy multiple HeNodeBs with the same

PCI in a single macro cell. Also, the feature can only support an S1 handover after reading

the CGI.

The HeNodeBs can be deployed without being subject to changes in PCI

planning.

Additional Information

More information about the Non-planned PCI Range feature and related topics can be found in

the following documentation:

- 3GPP TS 36.331
- 3GPP TS 36.413
- 3GPP TS 36.423
- Automated Neighbor Relations

# 2 Dependencies of Non-planned PCI Range

The feature requires LTE handover-related features, and affects features related to

ANR and DRX handling.

Table 1   Feature Dependencies

| Feature                                                                                        | Relationship   | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|------------------------------------------------------------------------------------------------|----------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Intra-LTE Handover (FAJ 121 0489)                                                              | Prerequisite   | One or both of these features must be activated before introducing                                 the Non-planned PCI Range feature.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| Coverage-Triggered Inter-Frequency                                     Handover (FAJ 121 0877) | Prerequisite   | One or both of these features must be activated before introducing                                 the Non-planned PCI Range feature.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| Automated Neighbor Relations (FAJ 121                                 0497)                    | Related        | This feature changes the operation of the ANR feature.  If the reported PCI from the UE is within the non-planned PCI             range, the ANR feature does not add it into the neighbor cell list. These PCIs are in             the measurement report message or the X2 Setup Request message. If the X2                 Setup Request message contains the HeNodeB ID, this request             is rejected without checking the feature license.  The External Link Failure alarm can be raised in eNodeB and an             X2 connection cannot be set up if the following applies:  EUtranCellFDD or EUtranCellTDD, or both                         is in the non-planned PCI range.     The eNodeB is configured for TermPointToEnb. |
| Basic Intelligent Connectivity (FAJ 121                                 4843)                  | Related        | When S1 handover is required to a cell that belongs in a             non-planned PCI range while the UE is configured with EN-DC and has at least one             Secondary Node terminated split DRB, the EN-DC connection is released to enable ECGI             measurement regardless of whether the UE is capable of ECGI measurements when it is             configured with EN-DC.                                                                                                                                                                                                                                                                                                                                                       |
| Ericsson Lean Carrier (FAJ 121 4471)                                                           | Related        | This feature configures a UE with ELC-specific DRX parameters when                                 ELC conditions are fulfilled. For UEs not supporting autonomous                                 gaps, the DRX parameters are temporarily reconfigured from the                                 ELC-specific DRX parameters to CGI measurement-specific DRX                                 parameters. This is during ongoing CGI measurements. Then, ELC can                                 be deactivated because of the reconfiguration of non-ELC DRX                                 parameters.                                                                                                                                       |
| LTE Delayed Mobility for Robust Call                                     Setup(FAJ 121 5850)   | Related        | If the LTE Delayed Mobility for Robust Call Setup feature is enabled and the                                 RobustCallSetup.intraLteMobilityDelayEnabled                         attribute is set to true, A3 measurement reports that                         trigger intra-frequency or inter-frequency mobility procedures and A5                         measurement reports that trigger inter-frequency mobility procedures are                         discarded during VoLTE call setup.                                                                                                                                                                                                                                               |
| Service Specific DRX (FAJ 121 3011)                                                            | Related        | When the Non-planned PCI Range feature configures DRX, the             Disabling DRX in Poor Radio Frequency and the Disabling DRX at Voice Call Setup             functions of the Service Specific DRX feature do not take effect.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| UE Level Oscillating Handover                                     Minimization (FAJ 121 1885)  | Related        | If both of the features are enabled, the UE Level Oscillating                                 Handover Minimization feature is not activated when a measurement                                 report is triggered by the Non-planned PCI Range feature.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |

Hardware

No specific hardware requirements.

Limitations

No known limitations.

Network Requirements

- The UE has the following CGI reading capabilities: FGI bit 17 for the Intra-Frequency Handover FGI bit 18 for the Inter-Frequency Handover
- In the HANDOVER REQUIRED message, the MME supports the following IEs for the target eNodeB: 28-bit HeNodeB ID IE 20-bit macro eNodeB ID IE

# 3 Feature Operation for Non-planned PCI Range

This feature supports the configuration of a list of non-planned PCIs for each

E-UTRAN frequency relation.

Before the S1 handover is triggered, the CGI is measured and it is not added to the

neighbor cell list by the ANR feature. The specific DRX parameter or autonomous gap

configuration is supported during the CGI measurement. Observability of the handover

success rate to the HeNodeBs is also supported.

Operational Process

Figure 1   Operational Sequence Diagram for the Non-planned PCI Range Feature

1. In the source eNodeB, the following parameters for the Non-planned PCI Range feature are configured: Non-planned PCI range for each frequency relation. EUtranFreqRelation.nonPlannedPciCIO attribute for each needed frequency relation, if needed. DRX profile for the eNodeB that is used for UEs not capable of autonomous gap to read CGI for a non-planned PCI. Attribute ENodeBFunction.measuringEcgiWithAgActive for autonomous gap-capable UEs to read CGI for a non-planned PCI Note: Before configuring the non-planned PCI range in the eNodeB, the operator must configure the non-planned PCI range first in the OSS.
2. The measurement configuration for mobility is triggered. During the configuration procedure, the source eNodeB configures the cellIndividualOffset RRC parameter with a value of the EUtranFreqRelation.nonPlannedPciCIO attribute for all non-planned PCIs.
3. After the UE measurement and evaluation procedure are complete, the UE sends the measurement report to the source eNodeB.
4. When the source eNodeB receives the measurement report from the UE, it checks whether the reported PCI exceeds the non-planned PCI range limit.
5. If the reported PCI belongs to the non-planned PCI range, the source eNodeB triggers the measurement reconfiguration to request a CGI reading with DRX parameters or an autonomous gap configured depending on the UE capability.
    - For UEs not capable of autonomous gap, DRX parameters are reconfigured as well.
    - For an autonomous gap-capable UE, autonomous gap is configured to the UE without reconfiguring the DRX parameter.
6. The UE tries to acquire the CGI information of the requested PCI during its DRX period or autonomous gap period.
7. If the UE successfully acquires the CGI information, it sends the measurement report including the CGI information to the source eNodeB.
8. If the source eNodeB receives the CGI report from the UE, it triggers the measurement reconfiguration to restore the DRX configuration to its previous state.
    - For UEs not capable of autonomous gap, DRX parameters are restored to previous configuration as well.
    - For an autonomous gap-capable UE, DRX restoring is not needed.
9. The source eNodeB uses the CGI information to trigger the S1 handover to the target eNodeB with non-planned PCI.Note: The source eNodeB does not create the neighbor cell relation.
10. The source eNodeB encodes the HANDOVER REQUIRED message with the target eNodeB ID. At the same time, the source eNodeB checks the configured target eNodeB ID type in the EUtranFreqRelation MO.
11. The MME sends the HANDOVER REQUEST message to the target HeNodeB.
12. The target HeNodeB sends the HANDOVER REQUEST ACKNOWLEDGE message to the MME.
13. The MME sends the HANDOVER COMMAND message to the source eNodeB.
14. The source eNodeB informs the UE with the mobilityControlInformation RRC connection reconfiguration message.
15. The UE completes the RRC connection reconfiguration with the target HeNodeB.

Related Information

Configuring the Non-planned PCI Range

## 3.1 Configuring the Non-planned PCI Range

The non-planned PCI range must be configured in the OSS before configuring the non-planned

PCI range in the eNodeB. Ensure that the non-planned PCIs in each eNodeB are configured within

the defined range.

Figure 2 shows an example of the

non-planned PCI range configuration in the OSS and the eNodeBs.

Figure 2   Configuration of Non-planned PCI Range

In the OSS, the non-planned PCI range is configured for each frequency on the LTE network

level. Also, the range is the maximum non-planned PCI range for each frequency used in the

network. In the eNodeB, the non-planned PCI range for the frequency relation #1 is the same as

for the OSS. However, the range is set lower for the frequency relation #2 for the OSS.

## 3.2 S1 Handover to the HeNodeB with a Non-planned PCI

In this feature, the non-planned PCIs are reserved for allocating the

HeNodeB and are not planned for the macro cells. The PCIs must not be added

to the neighbor cell relation.

Figure 3   S1 Handover to the HeNodeB with a Non-planned PCI

For the handover to the HeNodeB with a non-planned PCI, the eNodeB must

check the following conditions when receiving the measurement report from the UE:

- The eNodeB checks if the reported PCI belongs to the non-planned PCI range. If the reported PCI belongs to the non-planned PCI range, the eNodeB checks if the PLMN used by the UE is on the list of allowed PLMNs. Note: If the list of allowed PLMNs is empty, CGI measurements and handover are always triggered. If the PLMN used by the UE is on the list of allowed PLMNs, the eNodeB triggers the CGI measurement with DRX or autonomous gap for S1 handover to the HeNodeB. If the PLMN used by the UE is not on the list of allowed PLMNs, CGI measurements and handover are not triggered. If the reported PCI does not belong to the non-planned PCI range, and the cell relation exists, the eNodeB triggers the X2 or S1 handover. If the reported PCI does not belong to the non-planned PCI range, and the ANR feature is operable, the eNodeB triggers the ANR procedure.

For emergency users, checking the list of allowed PLMNs in the

EUtranFreqRelation.nonPlannedPciAllowedPlmnList attribute is

skipped for handover attempts.

Related Information

Emergency Call Prioritization

## 3.3 Support for Non-planned PCI Range When EN-DC Is Configured for the UE

Regardless of whether the UE is capable of ECGI measurements when it is configured with

EN-DC and having at least one Secondary Node terminated split DRB, the EN-DC connection

is always released before initiating an ECGI measurement.

If the UE supports ECGI measurements in LTE, the Master Node initiates the ECGI

measurement based on the UE capabilities and the related FGI bits before initiating the

S1 handover.

# 4 Network Impact for Non-planned PCI Range

The Non-planned PCI Range feature improves cell throughput based on UE capability and

cell coverage, but increases handover interruption time.

Capacity and Performance

This feature enables the operator to deploy more open access mode

HeNodeBs. Therefore, service quality and network capacity are

improved.

This feature enables deployment of open access mode HeNodeBs within a

macro cell. Therefore, coverage extension is achieved and coverage holes are

filled.

The handover interruption time is increased, because of the following:

- The CGI reading and report procedures are completed before triggering the S1 handover to the HeNodeB with a non-planned PCI.
- The UE obtains the CGI information by decoding the Master Information Block (MIB) (40 ms), and the SIB1 (80 ms).

This feature has impacts on throughput according to UE capability.

For UEs not supporting autonomous gaps, the following DRX configuration is

recommended to read CGI information of target cell with non-planned PCI:

- Longer NonPlannedPciDrxProfile.LongDrxCycle
- Shorter NonPlannedPciDrxProfile.OnDurationTimer and NonPlannedPciDrxProfile.DrxInactivityTimer

As a result, the downlink throughput of UE is decreased before S1 handover to the

HeNodeB.

By an autonomous gap capable UE, DRX configuration to read CGI information is not

needed. Therefore, the downlink throughput of the UE is not decreased during the S1

handover to the HeNodeB.

Interfaces

No impact.

Other Network Elements

No impact.

# 5 Parameters for Non-planned PCI Range

The feature introduces new MOM attributes for the configuration of

femtocells.

Table 2   Parameters

| Parameter                                               | Type       | Description          |
|---------------------------------------------------------|------------|----------------------|
| ENodeBFunction.measuringEcgiWithAgActive                | Introduced | See MOM description. |
| EUtranFreqRelation.nonPlannedPhysCellId                 | Introduced | See MOM description. |
| EUtranFreqRelation.nonPlannedPhysCellIdRange            | Introduced | See MOM description. |
| EUtranFreqRelation.nonPlannedPciCIO                     | Introduced | See MOM description. |
| EUtranFreqRelation.nonPlannedPciTargetIdType            | Introduced | See MOM description. |
| EUtranFreqRelation.nonPlannedPciAllowedPlmnList         | Introduced | See MOM description. |
| NonPlannedPciDrxProfile.nonPlannedPciLongDrxCycle       | Introduced | See MOM description. |
| NonPlannedPciDrxProfile.nonPlannedPciDrxInactivityTimer | Introduced | See MOM description. |
| NonPlannedPciDrxProfile.nonPlannedPciOnDurationTimer    | Introduced | See MOM description. |

# 6 Performance of Non-planned PCI Range

The feature is associated with EBS counters measuring handover

attempts.

KPIs

This feature has no associated Key Performance Indicators (KPIs).

Table 3   Affected PIs

![Image](../images/226_22104-LZA7016014_1Uen.BD33B/additional_3_CP.png)

![Image](../images/226_22104-LZA7016014_1Uen.BD33B/additional_3_CP.png)

| PI                                                      | Formula   |
|---------------------------------------------------------|-----------|
| Mobility Cell Intra-Frequency Femto Success Rate [PCIx] |           |
| Mobility Cell Inter-Frequency Femto Success Rate [PCIx] |           |

Counters

The following counters for EUtranCellFDD and

EUtranCellTDD are associated with the Non-planned PCI Range

feature and only implemented in ENM:

- pmCellHoPrepAttLteIntraFNpPCI
- pmCellHoPrepAttLteInterFNpPCI
- pmCellHoPrepSuccLteIntraFNpPCI
- pmCellHoPrepSuccLteInterFNpPCI
- pmCellHoExeAttLteIntraFNpPCI
- pmCellHoExeAttLteInterFNpPCI
- pmCellHoExeSuccLteIntraFNpPCI
- pmCellHoExeSuccLteInterFNpPCI
- pmNonPlannedPciMeasFailEutranCgi
- pmNonPlannedPciMeasSuccEutranCgi
- pmHoExeAttMeasBasedInterFreqNpPCI
- pmHoExeAttMeasBasedIntraFreqNpPCI
- pmHoExeSuccMeasBasedInterFreqNpPCI
- pmHoExeSuccMeasBasedIntraFreqNpPCI
- pmRrcConnReconfDrxFail
- pmRrcConnReconfDrxSucc
- pmAgMeasSuccCgiMcPtt
- pmAgMeasSuccCgiNonMcPtt
- pmCellHoExeAttLteSmallCellMcPttAg
- pmCellHoExeAttLteSmallCellNonMcPttAg
- pmCellHoExeAttLteSmallCellMcPttDrx
- pmCellHoExeAttLteSmallCellNonMcPttDrx
- pmCellHoExeSuccLteSmallCellMcPttAg
- pmCellHoExeSuccLteSmallCellNonMcPttAg
- pmCellHoExeSuccLteSmallCellMcPttDrx
- pmCellHoExeSuccLteSmallCellNonMcPttDrx
- pmCellHoPrepAttLteSmallCellMcPttAg
- pmCellHoPrepAttLteSmallCellNonMcPttAg
- pmCellHoPrepAttLteSmallCellMcPttDrx
- pmCellHoPrepAttLteSmallCellNonMcPttDrx
- pmCellHoPrepSuccLteSmallCellMcPttAg
- pmCellHoPrepSuccLteSmallCellNonMcPttAg
- pmCellHoPrepSuccLteSmallCellMcPttDrx
- pmCellHoPrepSuccLteSmallCellNonMcPttDrx
- pmDrxMeasSuccCgiMcPtt
- pmDrxMeasSuccCgiNonMcPtt
- pmRrcConnReconfAgRestoreMcPtt
- pmRrcConnReconfAgRestoreNonMcPtt
- pmRrcConnReconfAgSuccMcPtt
- pmRrcConnReconfAgSuccNonMcPtt
- pmRrcConnReconfDrxRestoreMcPtt
- pmRrcConnReconfDrxRestoreNonMcPtt
- pmRrcConnReconfDrxSuccMcPtt
- pmRrcConnReconfDrxSuccNonMcPtt

For a full list with detailed information about counters, see the list files in the

List Files library folder.

Events

| Event                                    | Event Parameter                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| INTERNAL_PROC_NON_PLANNED_PCI_CGI_REPORT | EVENT_PARAM_REJECT_MEAS_CAUSE   EVENT_PARAM_AFFECTED_MEAS_TYPE   EVENT_PARAM_MEASUREMENT_ID   EVENT_PARAM_NEIGHBOR_PCI   EVENT_PARAM_NON_PLANNED_PCI_MEASURE_RESULT   EVENT_PARAM_NEIGHBOR_CGI    EVENT_PARAM_RAT    EVENT_PARAM_FREQ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| INTERNAL_PROC_HO_PREP_S1_OUT             | EVENT_PARAM_HO_SOURCE_OR_TARGET_TYPE   EVENT_PARAM_HO_TARGET_SELECTION_TYPE    EVENT_PARAM_NEIGHBOR_CGI   EVENT_PARAM_PROC_HO_PREP_OUT_ATTEMPT_CAUSE   EVENT_PARAM_PROC_HO_PREP_OUT_RESULT   EVENT_PARAM_HO_OUT_PREP_ERAB_REQ_BITMAP   EVENT_PARAM_HO_OUT_PREP_ERAB_FAIL_BITMAP   EVENT_PARAM_SRVCC_TYPE   EVENT_PARAM_3GPP_CAUSE_GROUP   EVENT_PARAM_3GPP_CAUSE    EVENT_ARRAY_HO_PREP_QCI    EVENT_PARAM_TIMESTAMP_START_HOUR   EVENT_PARAM_TIMESTAMP_START_MINUTE   EVENT_PARAM_TIMESTAMP_START_SECOND   EVENT_PARAM_TIMESTAMP_START_MILLISEC   EVENT_PARAM_TIMESTAMP_STOP_HOUR   EVENT_PARAM_TIMESTAMP_STOP_MINUTE   EVENT_PARAM_TIMESTAMP_STOP_SECOND   EVENT_PARAM_TIMESTAMP_STOP_MILLISEC   EVENT_PARAM_NEIGHBOR_PCI   EVENT_ARRAY_ERAB_HO_PREP_SERVICE_TYPE |
| INTERNAL_PROC_HO_EXEC_S1_OUT             | EVENT_PARAM_HO_SOURCE_OR_TARGET_TYPE   EVENT_PARAM_HO_TARGET_SELECTION_TYPE   EVENT_PARAM_NEIGHBOR_CGI    EVENT_PARAM_PROC_HO_EXEC_OUT_RESULT    EVENT_PARAM_DRX_CONFIG_INDEX   EVENT_PARAM_HO_OUT_EXEC_ERAB_REQ_BITMAP   EVENT_PARAM_HO_OUT_EXEC_ERAB_FAIL_BITMAP   EVENT_PARAM_PROC_HO_EXEC_OUT_ATTEMPT_CAUSE   EVENT_ARRAY_ERAB_HO_EXEC_OUT_QCI   EVENT_PARAM_TIMESTAMP_START_HOUR   EVENT_PARAM_TIMESTAMP_START_MINUTE   EVENT_PARAM_TIMESTAMP_START_SECOND   EVENT_PARAM_TIMESTAMP_START_MILLISEC    EVENT_PARAM_TIMESTAMP_STOP_HOUR   EVENT_PARAM_TIMESTAMP_STOP_MINUTE   EVENT_PARAM_TIMESTAMP_STOP_SECOND   EVENT_PARAM_TIMESTAMP_STOP_MILLISEC EVENT_PARAM_TA   EVENT_PARAM_NEIGHBOR_PCI   EVENT_ARRAY_ERAB_HO_EXEC_OUT_SERVICE_TYPE                       |
| INTERNAL_PROC_RRC_CONN_RECONF_NO_MOB     | EVENT_PARAM_RRC_RECONFIG_CAUSE   EVENT_PARAM_RRC_RECONFIG_RESULT   EVENT_ARRAY_ERAB_SERVICE_TYPE  EVENT_PARAM_START_CGI_MEAS                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| INTERNAL_PROC_X2_SETUP                   | EVENT_PARAM_TIMESTAMP_START_HOUR   EVENT_PARAM_TIMESTAMP_START_MINUTE   EVENT_PARAM_TIMESTAMP_START_SECOND   EVENT_PARAM_TIMESTAMP_START_MILLISEC   EVENT_PARAM_TIMESTAMP_STOP_HOUR   EVENT_PARAM_TIMESTAMP_STOP_MINUTE   EVENT_PARAM_TIMESTAMP_STOP_SECOND   EVENT_PARAM_TIMESTAMP_STOP_MILLISEC   EVENT_PARAM_ENB_IP_ADDRESS   EVENT_PARAM_X2_CAUSE   EVENT_PARAM_GENBID   EVENT_PARAM_X2_SETUP_RESULT   EVENT_PARAM_3GPP_CAUSE_GROUP   EVENT_PARAM_3GPP_CAUSE                                                                                                                                                                                                                                                                                                    |

For a full list with detailed information about PM events, see the list files in the

List Files library folder.

# 7 Activate Non-planned PCI Range

To use the feature, it must be activated following the usual feature activation

procedure.

Prerequisites

- The license key is installed in the node.
- CCTR is active for at least one week before this procedure to collect enough troubleshooting data.

Steps

1. Set the FeatureState.featureState attribute to ACTIVATED in the FeatureState=CXC4011810 MO instance.

After This Task

Keep CCTR active for at least one week after this procedure for continued collection of troubleshooting data.

# 8 Deactivate Non-planned PCI Range

If the feature is no longer needed, it can be deactivated following the usual

feature deactivation procedure. It must also be deactivated before the activation of any

conflicting feature.

Prerequisites

CCTR is active for at least one week before this procedure to collect enough troubleshooting data.

Steps

1. Set the FeatureState.featureState attribute to DEACTIVATED in the FeatureState=CXC4011810 MO instance.

After This Task

Keep CCTR active for at least one week after this procedure for continued collection of troubleshooting data.

# 9 Engineering Guidelines for Non-planned PCI Range

## 9.1 Configuring Handover Offset

This feature allows the UE to trigger earlier handover to HeNodeBs

before an increased HeNodeB interference.

A cell-specific handover offset can be defined with

EUtranFreqRelation.nonPlannedPciCIO and used for all non-planned

PCI range cells based on each feature license.

The configuration of a non-zero value of the

EUtranFreqRelation.nonPlannedPciCIO parameter on a given

frequency allows target HeNodeB cell PCI values to be added in ascending

order of the list in cellsToAddModList of

MeasObjectEUTRA with the same

cellIndividualOffset value.

Because of this limitation, all HeNodeB cells cannot be included for a given

frequency. For more information, see 3GPP TS 36.331.

For any non-zero EUtranCellRelation.cellIndividualOffsetEUtran values,

neighbor cell PCIs are added.

For any non-zero EUtranFreqRelation.nonPlannedPciCIO values, all valid

PCIs of non-planned PCI range cells PCIs are added based on the Non-planned PCI Range

feature license.

## 9.2 Configuring the CGI Reading

In this feature, the CGI reading must be modified to reduce the handover interruption

time.

The following parameters must be set shorter than the normal DRX configuration:

- NonPlannedPciDrxProfile.nonPlannedPciOnDurationTimer
- NonPlannedPciDrxProfile.nonPlannedPciDrxInactivityTimer

Also, the nonPlannedPciLongDrxCycle parameter must be set higher

than the normal DRX configuration. To reduce the handover interruption time, a specific

DRX configuration must be sent to the UE during the measurement reconfiguration to

request a CGI measurement.

To configure the DRX profile for the eNodeB with a non-planned PCI, use the following

parameters:

- NonPlannedPciDrxProfile.nonPlannedPciLongDrxCycle
- NonPlannedPciDrxProfile.nonPlannedPciOnDurationTimer
- NonPlannedPciDrxProfile.nonPlannedPciDrxInactivityTimer

To get the CGI information, the UE needs a sufficiently long idle period to decode the

Master Information Block (MIB) and the SIB1 of the neighbor cell. However, during CGI

measurement of non-planned PCI, the RRC message may not be reached by the HARQ failure

at poor coverage because of the short on-duration time. Therefore, if the UE is in

TTI-bundling mode or in Poor Coverage, the

nonPlannedPciOnDurationTimer and

nonPlannedPciDrxInactivityTimer parameters are overridden to

larger values, as shown in Table 4.

Table 4   DRX Profile for Non-planned PCI Range

| Attribute                                               | Default Value   | Override When UE in Bad Coverage   | Override when UE in TTI Bundling Mode   |
|---------------------------------------------------------|-----------------|------------------------------------|-----------------------------------------|
| NonPlannedPciDrxProfile.nonPlannedPciOnDurationTimer    | PSF1            | Max (MOM, PSF5)                    | Max (MOM, PSF5)                         |
| NonPlannedPciDrxProfile.nonPlannedPciDrxInactivityTimer | PSF2            | Max (MOM, PSF20)                   | -                                       |
| NonPlannedPciDrxProfile.nonPlannedPciLongDrxCycle       | PSF320          | -                                  | -                                       |

Autonomous gaps can be used as another configuration for CGI reading. CGI measurement is

initiated with an autonomous gap instead of the long DRX setting if the following

conditions are met:

- The ENodeBFunction.measuringEcgiWithAgActive parameter is set to TRUE.
- The UE supports autonomous gap for the target LTE cell.

Related reference

Parameters for Non-planned PCI Range

## 9.3 Configuring Supported PLMNs in Shared Networks

This feature allows the configuration of up to six PLMNs for femtocells on a given

frequency to avoid handover attempts to unsupported femtocells.

It is recommended to configure supported PLMNs for femtocells if a macro cell operates in

a shared network with femtocells.

To configure supported PLMNs on a given frequency, the

EutranFreqRelation.nonPlannedPciAllowedPlmnList attribute must be

configured with the IDs of the PLMNs that are to be supported by the femtocell.

Femtocells can support up to six PLMNs. All femtocells that belong to the same macro

cell and operate on the same frequency can only handle the same set of PLMNs.

# Appendix A: Feature Change History

This section lists changes that affected this feature and the impact it had on the

network.

## Appendix A.a: 23.Q1: Non-planned PCI Range Handling in Shared Networks

The feature enhancement prevents handover attempts from macro cells to unsupported

femtocells in a shared LTE network configuration.

| Feature Name:           | Non-planned                                 PCI Range   |
|-------------------------|---------------------------------------------------------|
| Feature Identity:       | FAJ 121 3096                                            |
| Value Package Name:     | Non-planned PCI Range                                   |
| Value Package Identity: | FAJ 801 0428                                            |
| Node Type:              | Baseband Radio Node                                     |
| Access Type:            | LTE                                                     |
| Impact at Upgrade:      | Optional                                                |

Summary and Benefits

The feature enhancement enables femtocells to operate in a shared LTE network

configuration. In this configuration, operators can specify a list of PLMNs on each

frequency relation to be supported by femtocells. Up to six PLMNs can be defined in

a list, and all femtocells that operate on the same frequency in a given macro cell

must handle the same set of PLMNs.

The

PLMNs on the list are compared with the PLMN supported by the UE.

If the PLMN supported by a UE is not present on the list, CGI measurements are not

triggered, and handover attempts to unsupported femtocells are avoided.

This feature enhancement has the following benefits:

- Handover success rate is increased.
- Unnecessary UE measurements are avoided.
- Unnecessary signaling between the UE and the eNodeB is reduced.

Capacity and Performance

The

feature enhancement prevents unnecessary CGI measurements if the

PLMN of the UE is not supported by the femtocell.

This

means that the downlink throughput is not decreased by

unnecessary measurements for UEs that belong to PLMNs that are not supported by the

femtocell.

This feature enhancement improves handover success rate, which can be observed with

the following PIs:

- Mobility Cell Intra-Frequency Femto Success Rate
- Mobility Cell Inter-Frequency Femto Success Rate

The following existing counters can be monitored to observe the improved handover

success rate:

- pmCellHoPrepAttLteIntraFNpPCI
- pmCellHoPrepAttLteInterFNpPCI
- pmCellHoPrepSuccLteIntraFNpPCI
- pmCellHoPrepSuccLteInterFNpPCI
- pmCellHoExeAttLteIntraFNpPCI
- pmCellHoExeAttLteInterFNpPCI
- pmCellHoExeSuccLteIntraFNpPCI
- pmCellHoExeSuccLteInterFNpPCI

Operation

The feature enhancement introduces the

EutranFreqRelation.nonPlannedPciAllowedPlmnList attribute.

This attribute is used to configure up to six supported PLMNs.

Interfaces

No impact.

Hardware

No specific hardware requirements.

Other Network Elements

It is recommended to use ENM version 22.4 or later to support the

MOM changes introduced by this feature enhancement. If the Release Independence

Manager application is used, the MOM changes are supported on earlier ENM versions

also.

Related Information

Non-planned PCI Range

## Appendix A.b: 23.Q2: Improved LTE Mobility to HeNodeB for UEs Configured with EN-DC

With this feature enhancement, LTE handover to an HeNodeB is improved for UEs

configured with EN-DC.

| Feature Name           | Basic Intelligent Connectivity   | Non-planned PCI Range   |
|------------------------|----------------------------------|-------------------------|
| Feature Identity       | FAJ 121 4843                     | FAJ 121 3096            |
| Value Package Name     | Intelligent Connectivity         | Non-Planned PCI Range   |
| Value Package Identity | FAJ 801 1013                     | FAJ 801 0428            |
| Node Type              | Baseband Radio Node              | Baseband Radio Node     |
| Access Type            | LTE                              | LTE                     |
| Impact at Upgrade      | Mandatory                        | Mandatory               |

Summary and Benefits

This feature enhancement improves the success rate of mobility procedures to an

HeNodeB after considering the UE capability of measuring ECGI while the UE is

connected with EN-DC.

Capacity and Performance

The following PM counters associated with the EUtranCellFDD and

EUtranCellTDD MOs and only implemented in ENM can be used to

observe the feature performance with this feature enhancement:

- pmCellHoPrepAttLteIntraFNpPCI
- pmCellHoPrepAttLteInterFNpPCI
- pmCellHoPrepSuccLteIntraFNpPCI
- pmCellHoPrepSuccLteInterFNpPCI
- pmCellHoExeAttLteIntraFNpPCI
- pmCellHoExeAttLteInterFNpPCI
- pmCellHoExeSuccLteIntraFNpPCI
- pmCellHoExeSuccLteInterFNpPCI
- pmNonPlannedPciMeasFailEutranCgi
- pmNonPlannedPciMeasSuccEutranCgi
- pmHoExeAttMeasBasedInterFreqNpPCI
- pmHoExeAttMeasBasedIntraFreqNpPCI
- pmHoExeSuccMeasBasedInterFreqNpPCI
- pmHoExeSuccMeasBasedIntraFreqNpPCI
- pmRrcConnReconfDrxFail
- pmRrcConnReconfDrxSucc
- pmAgMeasSuccCgiMcPtt
- pmAgMeasSuccCgiNonMcPtt
- pmCellHoExeAttLteSmallCellMcPttAg
- pmCellHoExeAttLteSmallCellNonMcPttAg
- pmCellHoExeAttLteSmallCellMcPttDrx
- pmCellHoExeAttLteSmallCellNonMcPttDrx
- pmCellHoExeSuccLteSmallCellMcPttAg
- pmCellHoExeSuccLteSmallCellNonMcPttAg
- pmCellHoExeSuccLteSmallCellMcPttDrx
- pmCellHoExeSuccLteSmallCellNonMcPttDrx
- pmCellHoPrepAttLteSmallCellMcPttAg
- pmCellHoPrepAttLteSmallCellNonMcPttAg
- pmCellHoPrepAttLteSmallCellMcPttDrx
- pmCellHoPrepAttLteSmallCellNonMcPttDrx
- pmCellHoPrepSuccLteSmallCellMcPttAg
- pmCellHoPrepSuccLteSmallCellNonMcPttAg
- pmCellHoPrepSuccLteSmallCellMcPttDrx
- pmCellHoPrepSuccLteSmallCellNonMcPttDrx
- pmDrxMeasSuccCgiMcPtt
- pmDrxMeasSuccCgiNonMcPtt
- pmRrcConnReconfAgRestoreMcPtt
- pmRrcConnReconfAgRestoreNonMcPtt
- pmRrcConnReconfAgSuccMcPtt
- pmRrcConnReconfAgSuccNonMcPtt
- pmRrcConnReconfDrxRestoreMcPtt
- pmRrcConnReconfDrxRestoreNonMcPtt
- pmRrcConnReconfDrxSuccMcPtt
- pmRrcConnReconfDrxSuccNonMcPtt

Operation

No impact.

Interfaces

No impact.

Hardware

No specific hardware requirements.

Other Network Elements

No impact.

Related Information

Basic Intelligent Connectivity

Non-planned PCI Range